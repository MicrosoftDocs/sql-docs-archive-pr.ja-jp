---
title: ログ配布テーブルとストアド プロシージャ | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- secondary servers [SQL Server]
- monitor servers [SQL Server]
- log shipping [SQL Server], system tables
- log shipping [SQL Server], stored procedures
- primary servers [SQL Server]
ms.assetid: 03420810-4c38-4c0c-adf0-913eb044c50a
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f10a6555ed3a0c27a72c3d097cc200f21d901274
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87713425"
---
# <a name="log-shipping-tables-and-stored-procedures"></a><span data-ttu-id="0334f-102">Log Shipping Tables and Stored Procedures</span><span class="sxs-lookup"><span data-stu-id="0334f-102">Log Shipping Tables and Stored Procedures</span></span>
  <span data-ttu-id="0334f-103">このトピックでは、ログ配布構成に関連付けられているすべてのテーブルおよびストアド プロシージャについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0334f-103">This topic describes all of the tables and stored procedures associated with a log shipping configuration.</span></span> <span data-ttu-id="0334f-104">すべてのログ配布テーブルは、各サーバーの **msdb** に保存されます。</span><span class="sxs-lookup"><span data-stu-id="0334f-104">All log shipping tables are stored in **msdb** on each server.</span></span> <span data-ttu-id="0334f-105">次の表は、ログ配布構成にあるどのサーバーで、どのテーブルおよびストアド プロシージャが使用されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="0334f-105">The tables below describe which tables and stored procedures are used on which servers in a log shipping configuration.</span></span>  
  
## <a name="primary-server-tables"></a><span data-ttu-id="0334f-106">プライマリ サーバーのテーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-106">Primary Server Tables</span></span>  
  
|<span data-ttu-id="0334f-107">テーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-107">Table</span></span>|<span data-ttu-id="0334f-108">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-108">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="0334f-109">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="0334f-109">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="0334f-110">警告ジョブ ID を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-110">Stores alert job ID.</span></span> <span data-ttu-id="0334f-111">リモート監視サーバーが構成されていない場合のみ、このテーブルがプライマリ サーバーで使用されます。</span><span class="sxs-lookup"><span data-stu-id="0334f-111">This table is only used on the primary server if a remote monitor server has not been configured.</span></span>|  
|[<span data-ttu-id="0334f-112">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-112">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="0334f-113">このプライマリ サーバーに関連付けられているログ配布ジョブのエラー詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-113">Stores error detail for log shipping jobs associated with this primary server.</span></span>|  
|[<span data-ttu-id="0334f-114">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-114">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="0334f-115">このプライマリ サーバーに関連付けられているログ配布ジョブの履歴詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-115">Stores history detail for log shipping jobs associated with this primary server.</span></span>|  
|[<span data-ttu-id="0334f-116">log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-116">log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="0334f-117">このプライマリ データベースの 1 つの監視レコードを格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-117">Stores one monitor record for this primary database.</span></span>|  
|[<span data-ttu-id="0334f-118">log_shipping_primary_databases</span><span class="sxs-lookup"><span data-stu-id="0334f-118">log_shipping_primary_databases</span></span>](/sql/relational-databases/system-tables/log-shipping-primary-databases-transact-sql)|<span data-ttu-id="0334f-119">特定のサーバー上にあるプライマリ データベースの構成情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-119">Contains configuration information for primary databases on a given server.</span></span> <span data-ttu-id="0334f-120">プライマリ データベースごとに 1 行ずつ格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-120">Stores one row per primary database.</span></span>|  
|[<span data-ttu-id="0334f-121">log_shipping_primary_secondaries</span><span class="sxs-lookup"><span data-stu-id="0334f-121">log_shipping_primary_secondaries</span></span>](/sql/relational-databases/system-tables/log-shipping-primary-secondaries-transact-sql)|<span data-ttu-id="0334f-122">プライマリ データベースをセカンダリ データベースにマッピングします。</span><span class="sxs-lookup"><span data-stu-id="0334f-122">Maps primary databases to secondary databases.</span></span>|  
  
## <a name="primary-server-stored-procedures"></a><span data-ttu-id="0334f-123">プライマリ サーバーのストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-123">Primary Server Stored Procedures</span></span>  
  
|<span data-ttu-id="0334f-124">ストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-124">Stored Procedure</span></span>|<span data-ttu-id="0334f-125">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-125">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="0334f-126">sp_add_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-126">sp_add_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-primary-database-transact-sql)|<span data-ttu-id="0334f-127">バックアップ ジョブ、ローカル監視レコード、リモート監視レコードを含め、ログ配布構成のプライマリ データベースを設定します。</span><span class="sxs-lookup"><span data-stu-id="0334f-127">Sets up the primary database for a log shipping configuration, including the backup job, local monitor record, and remote monitor record.</span></span>|  
|[<span data-ttu-id="0334f-128">sp_add_log_shipping_primary_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-128">sp_add_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="0334f-129">既存のプライマリ データベースにセカンダリ データベース名を追加します。</span><span class="sxs-lookup"><span data-stu-id="0334f-129">Adds a secondary database name to an existing primary database.</span></span>|  
|[<span data-ttu-id="0334f-130">sp_change_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-130">sp_change_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-primary-database-transact-sql)|<span data-ttu-id="0334f-131">ローカル監視レコードやリモート監視レコードなど、プライマリ データベースの設定を変更します。</span><span class="sxs-lookup"><span data-stu-id="0334f-131">Changes primary database settings including local and remote monitor record.</span></span>|  
|[<span data-ttu-id="0334f-132">sp_cleanup_log_shipping_history</span><span class="sxs-lookup"><span data-stu-id="0334f-132">sp_cleanup_log_shipping_history</span></span>](/sql/relational-databases/system-stored-procedures/sp-cleanup-log-shipping-history-transact-sql)|<span data-ttu-id="0334f-133">保持期間に基づいて、ローカルおよびモニター上の履歴をクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="0334f-133">Cleans up history locally and on the monitor based on retention period.</span></span>|  
|[<span data-ttu-id="0334f-134">sp_delete_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-134">sp_delete_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-primary-database-transact-sql)|<span data-ttu-id="0334f-135">バックアップ ジョブ、ローカル履歴、リモート履歴など、プライマリ データベースのログ配布を削除します。</span><span class="sxs-lookup"><span data-stu-id="0334f-135">Removes log shipping of primary database including backup job as well as local and remote history.</span></span>|  
|[<span data-ttu-id="0334f-136">sp_delete_log_shipping_primary_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-136">sp_delete_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="0334f-137">プライマリ データベースからセカンダリ データベース名を削除します。</span><span class="sxs-lookup"><span data-stu-id="0334f-137">Removes a secondary database name from a primary database.</span></span>|  
|[<span data-ttu-id="0334f-138">sp_help_log_shipping_primary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-138">sp_help_log_shipping_primary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-primary-database-transact-sql)|<span data-ttu-id="0334f-139">プライマリ データベースの設定を取得し、 **log_shipping_primary_databases** テーブルと **log_shipping_monitor_primary** テーブルの値を表示します。</span><span class="sxs-lookup"><span data-stu-id="0334f-139">Retrieves primary database settings and displays the values from the **log_shipping_primary_databases** and **log_shipping_monitor_primary** tables.</span></span>|  
|[<span data-ttu-id="0334f-140">sp_help_log_shipping_primary_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-140">sp_help_log_shipping_primary_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-primary-secondary-transact-sql)|<span data-ttu-id="0334f-141">プライマリ データベースのセカンダリ データベース名を取得します。</span><span class="sxs-lookup"><span data-stu-id="0334f-141">Retrieves secondary database names for a primary database.</span></span>|  
|[<span data-ttu-id="0334f-142">sp_refresh_log_shipping_monitor</span><span class="sxs-lookup"><span data-stu-id="0334f-142">sp_refresh_log_shipping_monitor</span></span>](/sql/relational-databases/system-stored-procedures/sp-refresh-log-shipping-monitor-transact-sql)|<span data-ttu-id="0334f-143">指定したログ配布エージェントの最新情報でモニターを更新します。</span><span class="sxs-lookup"><span data-stu-id="0334f-143">Refreshes the monitor with the latest information for the specified log shipping agent.</span></span>|  
  
## <a name="secondary-server-tables"></a><span data-ttu-id="0334f-144">セカンダリ サーバーのテーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-144">Secondary Server Tables</span></span>  
  
|<span data-ttu-id="0334f-145">テーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-145">Table</span></span>|<span data-ttu-id="0334f-146">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-146">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="0334f-147">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="0334f-147">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="0334f-148">警告ジョブ ID を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-148">Stores alert job ID.</span></span> <span data-ttu-id="0334f-149">リモート監視サーバーが構成されていない場合のみ、このテーブルがセカンダリ サーバーで使用されます。</span><span class="sxs-lookup"><span data-stu-id="0334f-149">This table is only used on the secondary server if a remote monitor server has not been configured.</span></span>|  
|[<span data-ttu-id="0334f-150">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-150">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="0334f-151">このセカンダリ サーバーに関連付けられているログ配布ジョブのエラー詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-151">Stores error detail for log shipping jobs associated with this secondary server.</span></span>|  
|[<span data-ttu-id="0334f-152">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-152">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="0334f-153">このセカンダリ サーバーに関連付けられているログ配布ジョブの履歴詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-153">Stores history detail for log shipping jobs associated with this secondary server.</span></span>|  
|[<span data-ttu-id="0334f-154">log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-154">log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="0334f-155">このセカンダリ サーバーに関連付けられているセカンダリ データベースごとに 1 つの監視レコードを格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-155">Stores one monitor record per secondary database associated with this secondary server.</span></span>|  
|[<span data-ttu-id="0334f-156">log_shipping_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-156">log_shipping_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-secondary-transact-sql)|<span data-ttu-id="0334f-157">特定のサーバー上にあるセカンダリ データベースの構成情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-157">Contains configuration information for the secondary databases on a given server.</span></span> <span data-ttu-id="0334f-158">セカンダリ ID ごとに 1 行ずつ格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-158">Stores one row per secondary ID.</span></span>|  
|[<span data-ttu-id="0334f-159">log_shipping_secondary_databases</span><span class="sxs-lookup"><span data-stu-id="0334f-159">log_shipping_secondary_databases</span></span>](/sql/relational-databases/system-tables/log-shipping-secondary-databases-transact-sql)|<span data-ttu-id="0334f-160">特定のセカンダリ データベースの構成情報を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-160">Stores configuration information for a given secondary database.</span></span> <span data-ttu-id="0334f-161">セカンダリ データベースごとに 1 行ずつ格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-161">Stores one row per secondary database.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="0334f-162">特定のプライマリ データベースと同じセカンダリ サーバー上にあるセカンダリ データベースでは、 **log_shipping_secondary** テーブルの設定が共有されます。</span><span class="sxs-lookup"><span data-stu-id="0334f-162">Secondary databases on the same secondary server for a given primary database share the settings in the **log_shipping_secondary** table.</span></span> <span data-ttu-id="0334f-163">1 つのセカンダリ データベースで共有設定が変更されると、すべてのセカンダリ データベースで設定が変更されます。</span><span class="sxs-lookup"><span data-stu-id="0334f-163">If a shared setting is altered for one secondary database, the setting is altered for all of them.</span></span>  
  
## <a name="secondary-server-stored-procedures"></a><span data-ttu-id="0334f-164">セカンダリ サーバーのストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-164">Secondary Server Stored Procedures</span></span>  
  
|<span data-ttu-id="0334f-165">ストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-165">Stored Procedure</span></span>|<span data-ttu-id="0334f-166">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-166">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="0334f-167">sp_add_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-167">sp_add_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="0334f-168">ログ配布についてセカンダリ データベースを設定します。</span><span class="sxs-lookup"><span data-stu-id="0334f-168">Sets up a secondary database for log shipping.</span></span>|  
|[<span data-ttu-id="0334f-169">sp_add_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-169">sp_add_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="0334f-170">指定したプライマリ データベースのセカンダリ サーバーに対して、プライマリ情報の設定、ローカルおよびリモート監視リンクの追加、コピー ジョブと復元ジョブの作成を行います。</span><span class="sxs-lookup"><span data-stu-id="0334f-170">Sets up the primary information, adds local and remote monitor links, and creates copy and restore jobs on the secondary server for the specified primary database.</span></span>|  
|[<span data-ttu-id="0334f-171">sp_change_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-171">sp_change_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="0334f-172">ローカル監視レコードやリモート監視レコードなど、セカンダリ データベースの設定を変更します。</span><span class="sxs-lookup"><span data-stu-id="0334f-172">Changes secondary database settings including local and remote monitor records.</span></span>|  
|[<span data-ttu-id="0334f-173">sp_change_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-173">sp_change_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-change-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="0334f-174">配布元ディレクトリ、配布先ディレクトリ、ファイル保持期間など、セカンダリ データベースの設定を変更します。</span><span class="sxs-lookup"><span data-stu-id="0334f-174">Changes secondary database settings such as source and destination directory, and file retention period.</span></span>|  
|[<span data-ttu-id="0334f-175">sp_cleanup_log_shipping_history</span><span class="sxs-lookup"><span data-stu-id="0334f-175">sp_cleanup_log_shipping_history</span></span>](/sql/relational-databases/system-stored-procedures/sp-cleanup-log-shipping-history-transact-sql)|<span data-ttu-id="0334f-176">保持期間に基づいて、ローカルおよびモニター上の履歴をクリーンアップします。</span><span class="sxs-lookup"><span data-stu-id="0334f-176">Cleans up history locally and on the monitor based on retention period.</span></span>|  
|[<span data-ttu-id="0334f-177">sp_delete_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-177">sp_delete_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="0334f-178">セカンダリ データベース、ローカル履歴、およびリモート履歴を削除します。</span><span class="sxs-lookup"><span data-stu-id="0334f-178">Removes a secondary database and the local history and remote history.</span></span>|  
|[<span data-ttu-id="0334f-179">sp_delete_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-179">sp_delete_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="0334f-180">指定したプライマリ サーバーについての情報をセカンダリ サーバーから削除します。</span><span class="sxs-lookup"><span data-stu-id="0334f-180">Removes the information about the specified primary server from the secondary server.</span></span>|  
|[<span data-ttu-id="0334f-181">sp_help_log_shipping_secondary_database</span><span class="sxs-lookup"><span data-stu-id="0334f-181">sp_help_log_shipping_secondary_database</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-secondary-database-transact-sql)|<span data-ttu-id="0334f-182">**log_shipping_secondary**、 **log_shipping_secondary_databases**、および **log_shipping_monitor_secondary** の各テーブルからセカンダリ データベースの設定を取得します。</span><span class="sxs-lookup"><span data-stu-id="0334f-182">Retrieves secondary database settings from the **log_shipping_secondary**, **log_shipping_secondary_databases**, and **log_shipping_monitor_secondary** tables.</span></span>|  
|[<span data-ttu-id="0334f-183">sp_help_log_shipping_secondary_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-183">sp_help_log_shipping_secondary_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-secondary-primary-transact-sql)|<span data-ttu-id="0334f-184">セカンダリ サーバーにある指定されたプライマリ データベースの設定を取得します。</span><span class="sxs-lookup"><span data-stu-id="0334f-184">This stored procedure retrieves the settings for a given primary database on the secondary server.</span></span>|  
|[<span data-ttu-id="0334f-185">sp_refresh_log_shipping_monitor</span><span class="sxs-lookup"><span data-stu-id="0334f-185">sp_refresh_log_shipping_monitor</span></span>](/sql/relational-databases/system-stored-procedures/sp-refresh-log-shipping-monitor-transact-sql)|<span data-ttu-id="0334f-186">指定したログ配布エージェントの最新情報でモニターを更新します。</span><span class="sxs-lookup"><span data-stu-id="0334f-186">Refreshes the monitor with the latest information for the specified log shipping agent.</span></span>|  
  
## <a name="monitor-server-tables"></a><span data-ttu-id="0334f-187">監視サーバーのテーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-187">Monitor Server Tables</span></span>  
  
|<span data-ttu-id="0334f-188">テーブル</span><span class="sxs-lookup"><span data-stu-id="0334f-188">Table</span></span>|<span data-ttu-id="0334f-189">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-189">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="0334f-190">log_shipping_monitor_alert</span><span class="sxs-lookup"><span data-stu-id="0334f-190">log_shipping_monitor_alert</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-alert-transact-sql)|<span data-ttu-id="0334f-191">警告ジョブ ID を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-191">Stores alert job ID.</span></span>|  
|[<span data-ttu-id="0334f-192">log_shipping_monitor_error_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-192">log_shipping_monitor_error_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-error-detail-transact-sql)|<span data-ttu-id="0334f-193">ログ配布ジョブのエラーの詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-193">Stores error detail for log shipping jobs.</span></span>|  
|[<span data-ttu-id="0334f-194">log_shipping_monitor_history_detail</span><span class="sxs-lookup"><span data-stu-id="0334f-194">log_shipping_monitor_history_detail</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-history-detail-transact-sql)|<span data-ttu-id="0334f-195">ログ配布ジョブの履歴詳細を格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-195">Stores history detail for log shipping jobs.</span></span>|  
|[<span data-ttu-id="0334f-196">log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-196">log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="0334f-197">この監視サーバーに関連付けられているプライマリ データベースごとに 1 つの監視レコードを格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-197">Stores one monitor record per primary database associated with this monitor server.</span></span>|  
|[<span data-ttu-id="0334f-198">log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-198">log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-tables/log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="0334f-199">この監視サーバーに関連付けられているセカンダリ データベースごとに 1 つの監視レコードを格納します。</span><span class="sxs-lookup"><span data-stu-id="0334f-199">Stores one monitor record per secondary database associated with this monitor server.</span></span>|  
  
## <a name="monitor-server-stored-procedures"></a><span data-ttu-id="0334f-200">監視サーバーのストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-200">Monitor Server Stored Procedures</span></span>  
  
|<span data-ttu-id="0334f-201">ストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="0334f-201">Stored Procedure</span></span>|<span data-ttu-id="0334f-202">説明</span><span class="sxs-lookup"><span data-stu-id="0334f-202">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="0334f-203">sp_add_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="0334f-203">sp_add_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-add-log-shipping-alert-job-transact-sql)|<span data-ttu-id="0334f-204">ログ配布警告ジョブがまだ作成されていない場合は、作成します。</span><span class="sxs-lookup"><span data-stu-id="0334f-204">Creates a log shipping alert job if one has not already been created.</span></span>|  
|[<span data-ttu-id="0334f-205">sp_delete_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="0334f-205">sp_delete_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-delete-log-shipping-alert-job-transact-sql)|<span data-ttu-id="0334f-206">プライマリ データベースが関連付けられていない場合は、ログ配布警告ジョブを削除します。</span><span class="sxs-lookup"><span data-stu-id="0334f-206">Removes a log shipping alert job if there are no associated primary databases.</span></span>|  
|[<span data-ttu-id="0334f-207">sp_help_log_shipping_alert_job</span><span class="sxs-lookup"><span data-stu-id="0334f-207">sp_help_log_shipping_alert_job</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-alert-job-transact-sql)|<span data-ttu-id="0334f-208">警告ジョブのジョブ ID を返します。</span><span class="sxs-lookup"><span data-stu-id="0334f-208">Returns the job ID of the alert job.</span></span>|  
|[<span data-ttu-id="0334f-209">sp_help_log_shipping_monitor_primary</span><span class="sxs-lookup"><span data-stu-id="0334f-209">sp_help_log_shipping_monitor_primary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-monitor-primary-transact-sql)|<span data-ttu-id="0334f-210">**log_shipping_monitor_primary** テーブルから、指定したプライマリ データベースの監視レコードを返します。</span><span class="sxs-lookup"><span data-stu-id="0334f-210">Returns monitor records for the specified primary database from the **log_shipping_monitor_primary** table.</span></span>|  
|[<span data-ttu-id="0334f-211">sp_help_log_shipping_monitor_secondary</span><span class="sxs-lookup"><span data-stu-id="0334f-211">sp_help_log_shipping_monitor_secondary</span></span>](/sql/relational-databases/system-stored-procedures/sp-help-log-shipping-monitor-secondary-transact-sql)|<span data-ttu-id="0334f-212">**log_shipping_monitor_secondary** テーブルから、指定したセカンダリ データベースの監視レコードを返します。</span><span class="sxs-lookup"><span data-stu-id="0334f-212">Returns monitor records for the specified secondary database from the **log_shipping_monitor_secondary** table.</span></span>|  
  
  
