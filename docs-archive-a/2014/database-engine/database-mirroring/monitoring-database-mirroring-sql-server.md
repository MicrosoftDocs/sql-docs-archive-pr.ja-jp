---
title: データベース ミラーリングの監視 (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- monitoring [SQL Server], database mirroring
- database mirroring [SQL Server], monitoring
ms.assetid: a7b1b9b0-7c19-4acc-9de3-3a7c5e70694d
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 92179abd47df2ee40b48be8eade7ea3e7b9267af
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716797"
---
# <a name="monitoring-database-mirroring-sql-server"></a><span data-ttu-id="8d567-102">データベース ミラーリングの監視 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="8d567-102">Monitoring Database Mirroring (SQL Server)</span></span>
  <span data-ttu-id="8d567-103">ここでは、データベース ミラーリング モニターと **sp_dbmmonitor** システム ストアド プロシージャ、およびデータベース ミラーリングの監視に伴う作業 ( **データベース ミラーリング モニターのジョブ**など) について説明し、データベース ミラーリング セッションについて監視できる情報の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="8d567-103">This section introduces Database Mirroring Monitor and the **sp_dbmmonitor** system stored procedures, explains how database mirroring monitoring works (including the **Database Mirroring Monitor Job)**, and summarizes the information that you can monitor about database mirroring sessions.</span></span> <span data-ttu-id="8d567-104">さらに、事前に定義された一連のデータベース ミラーリング イベントに対する警告しきい値を定義する方法、および任意のデータベース ミラーリング イベントでの警告の設定についても説明します。</span><span class="sxs-lookup"><span data-stu-id="8d567-104">Additionally, this section introduces how to define warning thresholds for a set of predefined database mirroring events and how to set up alerts on any database mirroring event.</span></span>  
  
 <span data-ttu-id="8d567-105">ミラーリング セッション中にミラー化されたデータベースを監視すると、データ フローが発生しているかどうかや、データ フローがどの程度適切に行われているかを確認することができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-105">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span> <span data-ttu-id="8d567-106">サーバー インスタンス上にある 1 つ以上のミラー化されたデータベースの監視を設定および管理するには、データベース ミラーリング モニターまたは **sp_dbmmonitor** システム ストアド プロシージャを使用します。</span><span class="sxs-lookup"><span data-stu-id="8d567-106">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **sp_dbmmonitor** system stored procedures.</span></span>  
  
 <span data-ttu-id="8d567-107">**データベース ミラーリング モニターのジョブ**は、データベース ミラーリング モニターから独立して、バックグラウンドで実行されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-107">A database mirroring monitoring job, **Database Mirroring Monitor Job**, operates in the background, independently of Database Mirroring Monitor.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="8d567-108">エージェントが **データベース ミラーリング モニターのジョブ** を定期的に (既定では 1 分間に 1 回) 呼び出し、このジョブは、ミラーリング状態を更新するストアド プロシージャを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="8d567-108">Agent calls **Database Mirroring Monitor Job** at regular intervals, the default is once a minute, and the job calls a stored procedure that updates mirroring status.</span></span> <span data-ttu-id="8d567-109">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] を使用してミラーリング セッションを開始した場合は、 **データベース ミラーリング モニターのジョブ** が自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-109">If you use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to start a mirroring session, **Database Mirroring Monitor Job** is created automatically.</span></span> <span data-ttu-id="8d567-110">ALTER DATABASE *<database_name>* SET PARTNER のみを使用してミラーリングを開始した場合は、ストアド プロシージャを実行してジョブを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8d567-110">However, if you only use ALTER DATABASE *<database_name>* SET PARTNER to start mirroring, you must create the job by running a stored procedure.</span></span>  
  
 <span data-ttu-id="8d567-111">**このトピックの内容**</span><span class="sxs-lookup"><span data-stu-id="8d567-111">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="8d567-112">ミラーリングの状態の監視</span><span class="sxs-lookup"><span data-stu-id="8d567-112">Monitoring Mirroring Status</span></span>](#MonitoringStatus)  
  
-   [<span data-ttu-id="8d567-113">ミラー化データベースに関する追加情報</span><span class="sxs-lookup"><span data-stu-id="8d567-113">Additional Sources of Information About a Mirrored Database</span></span>](#AdditionalSources)  
  
-   [<span data-ttu-id="8d567-114">関連タスク</span><span class="sxs-lookup"><span data-stu-id="8d567-114">Related Tasks</span></span>](#RelatedTasks)  
  
##  <a name="monitoring-mirroring-status"></a><a name="MonitoringStatus"></a> <span data-ttu-id="8d567-115">ミラーリングの状態の監視</span><span class="sxs-lookup"><span data-stu-id="8d567-115">Monitoring Mirroring Status</span></span>  
 <span data-ttu-id="8d567-116">サーバー インスタンス上の 1 つ以上のミラー化されたデータベースの監視を設定および管理するには、データベース ミラーリング モニターまたは **dbmmonitor** システム ストアド プロシージャを使用します。</span><span class="sxs-lookup"><span data-stu-id="8d567-116">To set up and manage monitoring for one or more of the mirrored databases on a server instance, you can use either Database Mirroring Monitor or the **dbmmonitor** system stored procedures.</span></span> <span data-ttu-id="8d567-117">ミラーリング セッション中にミラー化されたデータベースを監視すると、データ フローが発生しているかどうかや、データ フローがどの程度適切に行われているかを確認することができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-117">You can monitor a mirrored database during a mirroring session to verify whether and how well data is flowing.</span></span>  
  
 <span data-ttu-id="8d567-118">ミラー化されたデータベースを監視した場合、具体的には次のことを行えます。</span><span class="sxs-lookup"><span data-stu-id="8d567-118">Specifically, monitoring a mirrored database enables you to:</span></span>  
  
-   <span data-ttu-id="8d567-119">ミラーリングが機能していることを確認する。</span><span class="sxs-lookup"><span data-stu-id="8d567-119">Verify that mirroring is functioning.</span></span>  
  
     <span data-ttu-id="8d567-120">基本状態には、2 つのサーバー インスタンスが動作しているかどうかを判断するための情報や、それらのサーバーが接続されており、ログがプリンシパルからミラーへ移動中であることを示す情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="8d567-120">Basic status includes knowing if the two server instances are up, that the servers are connected, and that the log is being moved from the principal to the mirror.</span></span>  
  
-   <span data-ttu-id="8d567-121">ミラー データベースがプリンシパル データベースから遅延していないかどうかを特定する。</span><span class="sxs-lookup"><span data-stu-id="8d567-121">Determine whether the mirror database is keeping up with the principal database.</span></span>  
  
     <span data-ttu-id="8d567-122">高パフォーマンス モードでは、プリンシパル サーバーからミラー サーバーへ送信する必要がある未送信のログ レコードのバックログをプリンシパル サーバーで作成できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-122">During high-performance mode, a principal server can develop a backlog of unsent log records that still need to be sent from the principal server to the mirror server.</span></span> <span data-ttu-id="8d567-123">さらに、どの動作モードの場合も、ログ ファイルに書き込まれ、かつ、ミラー データベースに復元する必要がある、復元されていないログ レコードのバックログをミラー サーバーで作成できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-123">Furthermore, in any operating mode, the mirror server can develop a backlog of unrestored log records that have been written to the log file but still need to be restored on the mirror database.</span></span>  
  
-   <span data-ttu-id="8d567-124">高パフォーマンス モードにおいて、プリンシパル サーバー インスタンスが使用できなくなった場合に、損失したデータ量を特定する。</span><span class="sxs-lookup"><span data-stu-id="8d567-124">Determine how much data was lost when the principal server instance becomes unavailable during high-performance mode.</span></span>  
  
     <span data-ttu-id="8d567-125">未送信のトランザクション ログ (存在する場合) の量と、失われたトランザクションがプリンシパルでコミットされた期間を調べることによって、データ損失を特定できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-125">You can determine data loss by looking at the amount of unsent transaction log (if any) and the time interval in which the lost transactions were committed at the principal.</span></span>  
  
-   <span data-ttu-id="8d567-126">現在のパフォーマンスを過去のパフォーマンスと比較する。</span><span class="sxs-lookup"><span data-stu-id="8d567-126">Compare current performance with past performance.</span></span>  
  
     <span data-ttu-id="8d567-127">問題が発生した場合、データベース管理者は、ミラーリング パフォーマンスの履歴を表示することで、現在の状態の理解に役立てることができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-127">When problems are occurring, a database administrator can view a history of the mirroring performance to help in understanding the current state.</span></span> <span data-ttu-id="8d567-128">履歴を調べると、パフォーマンスの傾向を検出することや、パフォーマンス上の問題のパターン (ネットワークが低速な時間帯やログに入力されるコマンド数が非常に多い場合など) を特定することができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-128">Looking at the history can allow the user to detect trends in performance, identify patterns of performance problems (such as times of day when the network is slow or the number of commands entering the log is very large).</span></span>  
  
-   <span data-ttu-id="8d567-129">ミラーリング パートナー間のデータ フローが減少した原因のトラブルシューティングを行う。</span><span class="sxs-lookup"><span data-stu-id="8d567-129">Troubleshoot the cause of reduced data flow between mirroring partners.</span></span>  
  
-   <span data-ttu-id="8d567-130">主要なパフォーマンス基準に警告しきい値を設定する。</span><span class="sxs-lookup"><span data-stu-id="8d567-130">Set warning thresholds on key performance metrics.</span></span>  
  
     <span data-ttu-id="8d567-131">しきい値を超える値が新しい状態行に含まれている場合、情報イベントが Windows イベント ログに送信されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-131">If a new status row contains a value that exceeds a threshold, an informational event is sent to the Windows event log.</span></span> <span data-ttu-id="8d567-132">その場合、システム管理者は、それらのイベントに基づいて手動で警告を構成できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-132">A system administrator can then manually configure alerts based on these events.</span></span> <span data-ttu-id="8d567-133">詳細については、「 [ミラーリング パフォーマンス基準の警告しきい値および警告の使用 &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-133">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
###  <a name="tools-for-monitoring-database-mirroring-status"></a><a name="tools_for_monitoring_dbm_status"></a> <span data-ttu-id="8d567-134">データベース ミラーリングの状態を監視するためのツール</span><span class="sxs-lookup"><span data-stu-id="8d567-134">Tools for Monitoring Database Mirroring Status</span></span>  
 <span data-ttu-id="8d567-135">ミラーリングの状態は、データベース ミラーリング モニターまたは **sp_dbmmonitorresults** システム ストアド プロシージャを使用して監視できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-135">Mirroring status can be monitored using either Database Mirroring Monitor or the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="8d567-136">これらのツールを使用すると、どちらのシステム管理者も、ローカル サーバー インスタンス上でミラー化されたデータベースのデータベース ミラーリングを監視できます。この場合のシステム管理者は、 **sysadmin** 固定サーバー ロールのメンバー、およびシステム管理者によって **msdb** データベースの **dbm_monitor** 固定データベース ロールに追加されたユーザーです。</span><span class="sxs-lookup"><span data-stu-id="8d567-136">These tools can be used to monitor database mirroring on any mirrored database on the local server instance by both System administrators, that is, members of the **sysadmin** fixed server role, and user who have been added to the **dbm_monitor** fixed database role in the **msdb** database by a system administrator.</span></span> <span data-ttu-id="8d567-137">どちらのツールを使用した場合も、システム管理者はミラーリングの状態を手動で更新することもできます。</span><span class="sxs-lookup"><span data-stu-id="8d567-137">When using either tool, a system administrator can also manually refresh mirroring status.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8d567-138">システム管理者は主要なパフォーマンス基準の警告しきい値を構成および表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="8d567-138">System administrators can also configure and view warning thresholds for key performance metrics.</span></span> <span data-ttu-id="8d567-139">詳細については、「 [ミラーリング パフォーマンス基準の警告しきい値および警告の使用 &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-139">For more information, see [Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md).</span></span>  
  
-   <span data-ttu-id="8d567-140">データベース ミラーリング モニター (Database Mirroring Monitor)</span><span class="sxs-lookup"><span data-stu-id="8d567-140">Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="8d567-141">データベース ミラーリング モニターは、システム管理者が状態を表示および更新し、いくつかの主要なパフォーマンス基準の警告しきい値を構成できるグラフィカル ユーザー インターフェイス ツールです。</span><span class="sxs-lookup"><span data-stu-id="8d567-141">Database Mirroring Monitor is a graphical user interface tool that enables system administrators to view and update status and to configure warning thresholds on several key performance metrics.</span></span> <span data-ttu-id="8d567-142">また、 **dbm_monitor** 固定データベース ロールのメンバーは、状態テーブルを更新することはできませんが、データベース ミラーリング モニターを使用して、ミラーリング状態テーブルの最新の行を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-142">Database Mirroring Monitor can also be used by members of the **dbm_monitor** fixed database role to view the most recent row of the mirroring status table, though they cannot update the status table.</span></span>  
  
     <span data-ttu-id="8d567-143">データベース ミラーリング モニターでは、選択したデータベースの状態 (パフォーマンス基準を含む) が **[状態]** タブ ページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-143">The monitor displays the status, including performance metrics, for a selected database on the **Status** tabbed page.</span></span> <span data-ttu-id="8d567-144">このページには、プリンシパル サーバー インスタンスとミラー サーバー インスタンスの両方から取得された情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-144">The content of this page comes from both the principal and mirror server instances.</span></span> <span data-ttu-id="8d567-145">状態はプリンシパル サーバー インスタンスとミラー サーバー インスタンスへの別個の接続を使用して収集されるので、このページの値は非同期に設定されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-145">The page is filled asynchronously as status is gathered through separate connections to the principal and mirror server instances.</span></span> <span data-ttu-id="8d567-146">データベース ミラーリング モニターでは、30 秒間隔で状態テーブルの更新を試行します。</span><span class="sxs-lookup"><span data-stu-id="8d567-146">The monitor tries to update the status table at 30-second intervals.</span></span> <span data-ttu-id="8d567-147">更新が成功するのは、状態テーブルが 15 秒以内に更新されず、ユーザーが **sysadmin** 固定サーバー ロールのメンバーである場合だけです。</span><span class="sxs-lookup"><span data-stu-id="8d567-147">The update succeeds only if the table has not been updated within 15 seconds and the user is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="8d567-148">**[状態]** ページで報告される情報の概要については、後の「 [データベース ミラーリング モニターに表示される状態](#perf_metrics_of_dbm_monitor)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-148">For a summary of the information reported on the **Status** page, see [Status Displayed by the Database Mirroring Monitor](#perf_metrics_of_dbm_monitor), later in this topic.</span></span>  
  
     <span data-ttu-id="8d567-149">データベース ミラーリング モニターのインターフェイスの概要については、「 [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-149">For an introduction to the Database Mirroring Monitor interface, see [Database Mirroring Monitor Overview](database-mirroring-monitor-overview.md).</span></span> <span data-ttu-id="8d567-150">データベース ミラーリング モニターの起動方法については、「 [データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-150">For information on launching Database Mirroring Monitor, see [Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="8d567-151">システム ストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="8d567-151">System stored procedures</span></span>  
  
     <span data-ttu-id="8d567-152">**sp_dbmmonitorresults** システム ストアド プロシージャを実行することによって、現在の状態を取得または更新することもできます。</span><span class="sxs-lookup"><span data-stu-id="8d567-152">You can also retrieve or update the current status by running the **sp_dbmmonitorresults** system stored procedure.</span></span> <span data-ttu-id="8d567-153">他の dbmmonitor ストアド プロシージャを使用すると、監視の設定、監視パラメーターの変更、現在の更新期間の表示、およびサーバー インスタンスの監視の削除を行えます。</span><span class="sxs-lookup"><span data-stu-id="8d567-153">Other dbmmonitor stored procedures enable you to set up monitoring, change monitoring parameters, view the current update period, and drop monitoring on the server instance.</span></span>  
  
     <span data-ttu-id="8d567-154">次の表では、データベース ミラーリング モニターとは別にデータベース ミラーリングの監視を管理および使用するためのストアド プロシージャについて説明します。</span><span class="sxs-lookup"><span data-stu-id="8d567-154">The following table introduces the stored procedures for managing and using database mirroring monitoring independently of the Database Mirroring Monitor.</span></span>  
  
    |<span data-ttu-id="8d567-155">手順</span><span class="sxs-lookup"><span data-stu-id="8d567-155">Procedure</span></span>|<span data-ttu-id="8d567-156">説明</span><span class="sxs-lookup"><span data-stu-id="8d567-156">Description</span></span>|  
    |---------------|-----------------|  
    |[<span data-ttu-id="8d567-157">sp_dbmmonitoraddmonitoring</span><span class="sxs-lookup"><span data-stu-id="8d567-157">sp_dbmmonitoraddmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)|<span data-ttu-id="8d567-158">サーバー インスタンス上のミラー化されたデータベースごとに、定期的に状態情報を更新するジョブを作成します。</span><span class="sxs-lookup"><span data-stu-id="8d567-158">Creates a job that periodically updates the status information for every mirrored database on the server instance.</span></span>|  
    |[<span data-ttu-id="8d567-159">sp_dbmmonitorchangemonitoring</span><span class="sxs-lookup"><span data-stu-id="8d567-159">sp_dbmmonitorchangemonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)|<span data-ttu-id="8d567-160">データベース ミラーリング監視パラメーターの値を変更します。</span><span class="sxs-lookup"><span data-stu-id="8d567-160">Changes the value of a database mirroring monitoring parameter.</span></span>|  
    |[<span data-ttu-id="8d567-161">sp_dbmmonitorhelpmonitoring</span><span class="sxs-lookup"><span data-stu-id="8d567-161">sp_dbmmonitorhelpmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)|<span data-ttu-id="8d567-162">現在の更新間隔を返します。</span><span class="sxs-lookup"><span data-stu-id="8d567-162">Returns the current update period.</span></span>|  
    |[<span data-ttu-id="8d567-163">sp_dbmmonitorresults</span><span class="sxs-lookup"><span data-stu-id="8d567-163">sp_dbmmonitorresults</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)|<span data-ttu-id="8d567-164">監視対象のデータベースの状態行を返すので、このプロシージャで事前に最新の状態を取得するかどうかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-164">Returns status rows for a monitored database and allows you to choose whether the procedure obtains the latest status beforehand.</span></span>|  
    |[<span data-ttu-id="8d567-165">sp_dbmmonitordropmonitoring</span><span class="sxs-lookup"><span data-stu-id="8d567-165">sp_dbmmonitordropmonitoring</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)|<span data-ttu-id="8d567-166">サーバー インスタンスのすべてのデータベースに対し、ミラーリング監視ジョブを停止して削除します。</span><span class="sxs-lookup"><span data-stu-id="8d567-166">Stops and deletes the mirroring monitor job for all the databases on the server instance.</span></span>|  
  
     <span data-ttu-id="8d567-167">**dbmmonitor** システム ストアド プロシージャは、データベース ミラーリング モニターを補完するものとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-167">The **dbmmonitor** system stored procedures can be used as an adjunct to the Database Mirroring Monitor.</span></span> <span data-ttu-id="8d567-168">たとえば、 **sp_dbmmonitoraddmonitoring**を使用して監視が構成されていても、データベース ミラーリング モニターを使用して状態を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-168">For example, even if monitoring was configured using **sp_dbmmonitoraddmonitoring**, Database Mirroring Monitor can be used to view the status.</span></span>  
  
### <a name="how-monitoring-works"></a><span data-ttu-id="8d567-169">監視のしくみ</span><span class="sxs-lookup"><span data-stu-id="8d567-169">How Monitoring Works</span></span>  
 <span data-ttu-id="8d567-170">ここでは、データベース ミラーリングの状態テーブル、データベース ミラーリング モニターのジョブとモニター、データベース ミラーリングの状態の監視方法、および監視ジョブの削除方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8d567-170">This section introduces the database mirroring status table, database mirroring monitor job and the monitor, how users can monitor database mirroring status, and how the monitoring job can be dropped.</span></span>  
  
#### <a name="database-mirroring-status-table"></a><span data-ttu-id="8d567-171">データベース ミラーリング状態テーブル</span><span class="sxs-lookup"><span data-stu-id="8d567-171">Database Mirroring Status Table</span></span>  
 <span data-ttu-id="8d567-172">データベース ミラーリングの状態は、 **msdb** データベース内部の、文書化されていないデータベース ミラーリング状態テーブルに格納されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-172">Database mirroring status is stored in an internal, undocumented database mirroring status table in the **msdb** database.</span></span> <span data-ttu-id="8d567-173">この状態テーブルは、ミラーリングの状態がサーバー インスタンス上で最初に更新されたときに自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-173">This status table is automatically created the first time the mirroring status is updated on the server instance.</span></span>  
  
 <span data-ttu-id="8d567-174">状態テーブルは、システム管理者が自動または手動のいずれかの方法で更新でき、最小更新間隔は 15 秒です。</span><span class="sxs-lookup"><span data-stu-id="8d567-174">The status table may be updated either automatically or manually by a system administrator, with a minimum update interval of 15 seconds.</span></span> <span data-ttu-id="8d567-175">最小更新間隔である 15 秒を設定すると、状態の要求によってサーバー インスタンスが過負荷になるのを防ぐことができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-175">The 15 second minimum prevents server instances from being overloaded with status requests.</span></span>  
  
 <span data-ttu-id="8d567-176">状態テーブルは、データベース ミラーリング モニターと、実行されている場合にはデータベース ミラーリング モニターのジョブの両方によって自動的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-176">The status table is updated automatically by both Database Mirroring Monitor and the database mirroring monitor job, if running.</span></span> <span data-ttu-id="8d567-177">**[データベース ミラーリング モニターのジョブ]** では、既定により 1 分間に 1 回、状態テーブルを更新します (システム管理者は更新間隔として 1 ～ 120 分を指定できます)。</span><span class="sxs-lookup"><span data-stu-id="8d567-177">**Database Mirroring Monitor Job** updates the table once a minute by default (a system administrator can specify an update period of 1 to 120 minutes).</span></span> <span data-ttu-id="8d567-178">これに対しデータベース ミラーリング モニターでは、30 秒ごとに自動的に状態テーブルを更新します。</span><span class="sxs-lookup"><span data-stu-id="8d567-178">Database Mirroring Monitor, in contrast, updates the table automatically every 30 seconds.</span></span> <span data-ttu-id="8d567-179">これらの更新では、 **[データベース ミラーリング モニターのジョブ]** およびデータベース ミラーリング モニターによって **sp_dbmmonitorupdate**が呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-179">For these updates, **Database Mirroring Monitor Job** and Database Mirroring Monitor call **sp_dbmmonitorupdate**.</span></span>  
  
 <span data-ttu-id="8d567-180">**sp_dbmmonitorupdate** 初回実行時には、 **msdb** データベース内に **データベース ミラーリングの状態** テーブルと固定データベース ロール **dbm_monitor** が作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-180">The first time **sp_dbmmonitorupdate** runs, it creates the **database mirroring status** table and the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="8d567-181">**sp_dbmmonitorupdate** では、通常、サーバー インスタンス上のミラー化されたデータベースごとに、新しい行を状態テーブルに挿入することによってミラーリングの状態を更新します。詳細については、このトピックの「データベース ミラーリング状態テーブル」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-181">**sp_dbmmonitorupdate** usually updates the mirroring status by inserting a new row into the status table for every mirrored database on the server instance; for more information, see "Database Mirroring Status Table," later in this topic.</span></span> <span data-ttu-id="8d567-182">また、このプロシージャは、新しい行のパフォーマンス基準を評価して、現在の保有期間 (既定では 7 日) よりも古い行を切り捨てます。</span><span class="sxs-lookup"><span data-stu-id="8d567-182">This procedure also evaluates the performance metrics in the new rows and truncates rows older than the current retention period (the default is 7 days).</span></span> <span data-ttu-id="8d567-183">詳細については、「 [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-183">For more information, see [sp_dbmmonitorupdate &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8d567-184">状態テーブルは、 **[データベース ミラーリング モニターのジョブ]** が存在し、 **エージェントが実行されている場合にのみ、自動的に更新されます。ただし、データベース ミラーリング モニターが** sysadmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 固定サーバー ロールのメンバーによって使用中の場合は除きます。</span><span class="sxs-lookup"><span data-stu-id="8d567-184">Unless Database Mirroring Monitor is currently being used by a member of the **sysadmin** fixed server role, the status table is automatically updated only if the **Database Mirroring Monitor Job** exists and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
#### <a name="database-mirroring-monitor-job"></a><span data-ttu-id="8d567-185">データベース ミラーリング モニターのジョブ</span><span class="sxs-lookup"><span data-stu-id="8d567-185">Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="8d567-186">データベース ミラーリング モニターのジョブである **[データベース ミラーリング モニターのジョブ]** の動作は、データベース ミラーリング モニターとは独立した動作です。</span><span class="sxs-lookup"><span data-stu-id="8d567-186">The database mirroring monitoring job, **Database Mirroring Monitor Job**, operates independently of Database Mirroring Monitor.</span></span> <span data-ttu-id="8d567-187">**[データベース ミラーリング モニターのジョブ]** は、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] を使用してミラーリング セッションを開始した場合にのみ、自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-187">**Database Mirroring Monitor Job** is created automatically only if [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] is used to start a mirroring session.</span></span> <span data-ttu-id="8d567-188">常に ALTER DATABASE *database_name* SET PARTNER コマンドを使用してミラーリングを開始している場合、このジョブは、システム管理者が **sp_dbmmonitoraddmonitoring** ストアド プロシージャを実行した場合にのみ存在します。</span><span class="sxs-lookup"><span data-stu-id="8d567-188">If ALTER DATABASE *database_name* SET PARTNER commands are always used to start mirroring, the job exists only if the system administrator runs the **sp_dbmmonitoraddmonitoring** stored procedure.</span></span>  
  
 <span data-ttu-id="8d567-189">**[データベース ミラーリング モニターのジョブ]** が作成されると、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントが実行されている場合、このジョブは既定により 1 分間に 1 回呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-189">After **Database Mirroring Monitor Job** is created, assuming that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running, the job is called once a minute, by default.</span></span> <span data-ttu-id="8d567-190">次に、このジョブによって **sp_dbmmonitorupdate** システム ストアド プロシージャが呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-190">The job then calls the **sp_dbmmonitorupdate** system stored procedure.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="8d567-191">エージェントでは、既定により **[データベース ミラーリング モニターのジョブ]** を 1 分間に 1 回呼び出し、このジョブによって **sp_dbmmonitorupdate** が呼び出され、状態テーブルが更新されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-191">Agent calls **Database Mirroring Monitor Job** once a minute, by default, and the job calls **sp_dbmmonitorupdate** to update the status table.</span></span> <span data-ttu-id="8d567-192">システム管理者は、 **sp_dbmmonitorchangemonitoring** システム ストアド プロシージャを使用して更新間隔を変更し、 **sp_dbmmonitorchangemonitoring** システム ストアド プロシージャを使用して現在の更新間隔を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-192">System administrators can change the update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure, and they can view the current update period by using the **sp_dbmmonitorchangemonitoring** system stored procedure.</span></span> <span data-ttu-id="8d567-193">詳細については、「 [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) 」および「 [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-193">For more information, see [sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql) and [sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-system-administrators"></a><span data-ttu-id="8d567-194">データベース ミラーリングの状態の監視 (システム管理者の場合)</span><span class="sxs-lookup"><span data-stu-id="8d567-194">Monitoring Database Mirroring Status (by System Administrators)</span></span>  
 <span data-ttu-id="8d567-195">**sysadmin** 固定サーバー ロールのメンバーは、状態テーブルの表示と更新を行えます。</span><span class="sxs-lookup"><span data-stu-id="8d567-195">Members of the **sysadmin** fixed server role can view and update the status table</span></span>  
  
-   <span data-ttu-id="8d567-196">データベース ミラーリング モニターの使用</span><span class="sxs-lookup"><span data-stu-id="8d567-196">Using Database Mirroring Monitor</span></span>  
  
     <span data-ttu-id="8d567-197">データベース ミラーリング モニターを使用すると、システム管理者は **[状態]** ページ、ナビゲーション ツリー、または **[履歴]** ページを手動で更新できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-197">When using Database Mirroring Monitor, a system administrator can manually refresh the **Status** page, navigation tree, or **History** page.</span></span> <span data-ttu-id="8d567-198">手動で更新した場合も、前回の更新から 15 秒以内に更新されていない限り、状態テーブルが更新されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-198">This also updates the status table, unless it has already been updated within the previous 15 seconds.</span></span>  
  
     <span data-ttu-id="8d567-199">システム管理者は、サーバー インスタンスの **[状態]** ページにある **[履歴]** ボタンをクリックして、特定のサーバー インスタンスのミラーリングの状態の履歴を表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="8d567-199">To view the history of mirroring status on a given server instance, the system administrator can also click the **History** button for a server instance (on the **Status** page).</span></span> <span data-ttu-id="8d567-200">履歴は、 **[データベース ミラーリングの履歴]** ダイアログ ボックスに表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-200">The history is displayed in the **Database Mirroring History** dialog box.</span></span> <span data-ttu-id="8d567-201">システム管理者はこのダイアログ ボックスで、サーバー インスタンスの状態テーブルに含まれている一部またはすべての行を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-201">There, the system administrator can view some or all of the rows in the status table of the server instance.</span></span>  
  
     <span data-ttu-id="8d567-202">**[状態]** ページの基準に関する詳細については、後の「データベース ミラーリング モニターに表示されるパフォーマンス基準」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-202">For information about the **Status** page metrics, see Performance Metrics Displayed by the "Database Mirroring Monitor," later in this topic.</span></span>  
  
-   <span data-ttu-id="8d567-203">**sp_dbmmonitorresults**の使用</span><span class="sxs-lookup"><span data-stu-id="8d567-203">Using **sp_dbmmonitorresults**</span></span>  
  
     <span data-ttu-id="8d567-204">システム管理者は、 **sp_dbmmonitorresults** システム ストアド プロシージャを使用して状態テーブルを表示できます。また、前回の更新から 15 秒以内に更新が行われていない場合には、必要に応じて状態テーブルを更新できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-204">System administrators can use the **sp_dbmmonitorresults** system stored procedure to view and, optionally, to update the status table, if it has not been updated within the previous 15 seconds.</span></span> <span data-ttu-id="8d567-205">このプロシージャは、 **sp_dbmmonitorupdate** プロシージャを呼び出し、プロシージャ コールでの要求数に応じて 1 つ以上の履歴行を返します。</span><span class="sxs-lookup"><span data-stu-id="8d567-205">This procedure calls the **sp_dbmmonitorupdate** procedure and returns one or more history rows, depending on the amount requested in the procedure call.</span></span> <span data-ttu-id="8d567-206">返される結果セットの状態に関する詳細については、「 [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-206">For information about the status in its results set, see [sp_dbmmonitorresults &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql).</span></span>  
  
#### <a name="monitoring-database-mirroring-status-by-dbm_monitor-members"></a><span data-ttu-id="8d567-207">データベース ミラーリングの状態の監視 (dbm_monitor メンバーの場合)</span><span class="sxs-lookup"><span data-stu-id="8d567-207">Monitoring Database Mirroring Status (by dbm_monitor Members)</span></span>  
 <span data-ttu-id="8d567-208">既に説明したように、 **sp_dbmmonitorupdate** の初回実行時に、 **dbm_monitor** 固定データベース ロールが **msdb** データベースに作成されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-208">As mentioned, the first time **sp_dbmmonitorupdate** runs, it creates the **dbm_monitor** fixed database role in the **msdb** database.</span></span> <span data-ttu-id="8d567-209">**dbm_monitor** 固定データベース ロールのメンバーは、データベース ミラーリング モニターまたは **sp_dbmmonitorresults** ストアド プロシージャを使用して既存のミラーリングの状態を表示できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-209">Members of the **dbm_monitor** fixed database role can view the existing mirroring status by using either Database Mirroring Monitor or the **sp_dbmmonitorresults** stored procedure.</span></span> <span data-ttu-id="8d567-210">ただし、これらのユーザーは状態テーブルを更新できません。</span><span class="sxs-lookup"><span data-stu-id="8d567-210">But these users cannot update the status table.</span></span> <span data-ttu-id="8d567-211">表示されている状態の経過期間を確認するには、[**状態**] ページの [**プリンシパルログ ( ***\<time>*** )** ] ラベルと [**ミラーログ ( ***\<time>*** )** ] ラベルで時刻を確認します。</span><span class="sxs-lookup"><span data-stu-id="8d567-211">To learn the age of the displayed status a user can look at the times in the **Principal log (***\<time>***)** and **Mirror log (***\<time>***)** labels on the **Status** page.</span></span>  
  
 <span data-ttu-id="8d567-212">**dbm_monitor** 固定データベース ロールのメンバーは、 **[データベース ミラーリング モニターのジョブ]** を使用して定期的に状態テーブルを更新します。</span><span class="sxs-lookup"><span data-stu-id="8d567-212">Members of the **dbm_monitor** fixed database role depend on the **Database Mirroring Monitor Job** to update the status table at regular intervals.</span></span> <span data-ttu-id="8d567-213">ジョブが存在しない場合や [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントが停止している場合、状態が急速に古くなり、ミラーリング セッションの構成を反映しなくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="8d567-213">If the job does not exist or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is stopped, the status becomes increasingly stale and may no longer reflect the configuration of the mirroring session.</span></span> <span data-ttu-id="8d567-214">たとえば、フェールオーバー後、パートナーがプリンシパルまたはミラーなどの同じロールを共有しているように見えたり、現在のプリンシパル サーバーがミラー サーバーとして表示され、その一方で現在のミラー サーバーがプリンシパルとして表示されたりすることがあります。</span><span class="sxs-lookup"><span data-stu-id="8d567-214">For example, after a failover, the partners might appear to share the same role-principal or mirror, or the current principal server might be shown as the mirror, while the current mirror server is shown as the principal.</span></span>  
  
#### <a name="dropping-the-database-mirroring-monitor-job"></a><span data-ttu-id="8d567-215">データベース ミラーリング モニターのジョブの削除</span><span class="sxs-lookup"><span data-stu-id="8d567-215">Dropping the Database Mirroring Monitor Job</span></span>  
 <span data-ttu-id="8d567-216">データベース ミラーリング モニターのジョブである **[データベース ミラーリング モニターのジョブ]** は、削除するまでなくなりません。</span><span class="sxs-lookup"><span data-stu-id="8d567-216">The database mirroring monitor job, **Database Mirroring Monitor Job**, remains until it is dropped.</span></span> <span data-ttu-id="8d567-217">監視ジョブは、システム管理者が管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8d567-217">The monitoring job must be managed by the system administrator.</span></span> <span data-ttu-id="8d567-218">**[データベース ミラーリング モニターのジョブ]** を削除するには、 **sp_dbmmonitordropmonitoring**を使用します。</span><span class="sxs-lookup"><span data-stu-id="8d567-218">To drop **Database Mirroring Monitor Job**, use **sp_dbmmonitordropmonitoring**.</span></span> <span data-ttu-id="8d567-219">詳細については、「 [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-219">For more information, see [sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql).</span></span>  
  
###  <a name="status-displayed-by-the-database-mirroring-monitor"></a><a name="perf_metrics_of_dbm_monitor"></a> <span data-ttu-id="8d567-220">データベース ミラーリング モニターに表示される状態</span><span class="sxs-lookup"><span data-stu-id="8d567-220">Status Displayed by the Database Mirroring Monitor</span></span>  
 <span data-ttu-id="8d567-221">データベース ミラーリング モニターの **[状態]** ページには、パートナーと、ミラーリング セッションの状態が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-221">The **Status** page of the Database Mirroring Monitor describes the partners, and also the state of the mirroring session.</span></span> <span data-ttu-id="8d567-222">この情報には、トランザクション ログの状態、フェールオーバーを完了するために必要な時間を推測するのに役立つその他の情報、データ損失の可能性 (セッションが同期されていない場合) などのパフォーマンス基準が含まれます。</span><span class="sxs-lookup"><span data-stu-id="8d567-222">The status includes performance metrics such as the state of the transaction log and other information that is intended to help currently estimate the time required to complete a failover and the potential of data loss, if the session is not synchronized.</span></span> <span data-ttu-id="8d567-223">さらに、 **[状態]** ページには、ミラーリング セッションに関する一般的な状態と情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-223">In addition, the **Status** page displays status and information about the mirroring session in general.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8d567-224">データベース ミラーリング モニターと **[状態]** ページの概要については、前述の「 [データベース ミラーリングの状態を監視するためのツール](#tools_for_monitoring_dbm_status)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-224">For an introduction to the Database Mirroring Monitor and **Status** page, see [Tools for Monitoring Database Mirroring Status](#tools_for_monitoring_dbm_status), earlier in this topic.</span></span>  
  
 <span data-ttu-id="8d567-225">次のセクションでは、このページに表示される情報の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="8d567-225">The information provided for each of these is summarized in the following sections.</span></span>  
  
#### <a name="partners"></a><span data-ttu-id="8d567-226">パートナー</span><span class="sxs-lookup"><span data-stu-id="8d567-226">Partners</span></span>  
 <span data-ttu-id="8d567-227">**[状態]** ページには、次の情報がパートナーごとに表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-227">The **Status** page displays the following information for each of the partners:</span></span>  
  
-   <span data-ttu-id="8d567-228">サーバー インスタンス</span><span class="sxs-lookup"><span data-stu-id="8d567-228">Server instance</span></span>  
  
     <span data-ttu-id="8d567-229">**[状態]** 行に状態が表示されているサーバー インスタンス名。</span><span class="sxs-lookup"><span data-stu-id="8d567-229">Name of the server instance whose status is displayed in the **Status** row.</span></span>  
  
-   <span data-ttu-id="8d567-230">現在のロール</span><span class="sxs-lookup"><span data-stu-id="8d567-230">Current role</span></span>  
  
     <span data-ttu-id="8d567-231">サーバー インスタンスの現在のロール。</span><span class="sxs-lookup"><span data-stu-id="8d567-231">Current role of the server instance.</span></span> <span data-ttu-id="8d567-232">可能性のある状態は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8d567-232">The possible states are:</span></span>  
  
    -   <span data-ttu-id="8d567-233">プリンシパル</span><span class="sxs-lookup"><span data-stu-id="8d567-233">Principal</span></span>  
  
    -   <span data-ttu-id="8d567-234">ミラー</span><span class="sxs-lookup"><span data-stu-id="8d567-234">Mirror</span></span>  
  
-   <span data-ttu-id="8d567-235">ミラーリング状態</span><span class="sxs-lookup"><span data-stu-id="8d567-235">Mirroring state</span></span>  
  
     <span data-ttu-id="8d567-236">可能性のある状態は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8d567-236">The possible states are:</span></span>  
  
    -   <span data-ttu-id="8d567-237">Unknown</span><span class="sxs-lookup"><span data-stu-id="8d567-237">Unknown</span></span>  
  
    -   <span data-ttu-id="8d567-238">[同期中]</span><span class="sxs-lookup"><span data-stu-id="8d567-238">Synchronizing</span></span>  
  
    -   <span data-ttu-id="8d567-239">同期済み</span><span class="sxs-lookup"><span data-stu-id="8d567-239">Synchronized</span></span>  
  
    -   <span data-ttu-id="8d567-240">Suspended</span><span class="sxs-lookup"><span data-stu-id="8d567-240">Suspended</span></span>  
  
    -   <span data-ttu-id="8d567-241">[Disconnected]\(切断済み\)</span><span class="sxs-lookup"><span data-stu-id="8d567-241">Disconnected</span></span>  
  
-   <span data-ttu-id="8d567-242">ミラーリング監視サーバーの接続</span><span class="sxs-lookup"><span data-stu-id="8d567-242">Witness connection</span></span>  
  
     <span data-ttu-id="8d567-243">ミラーリング監視サーバーの接続状態。</span><span class="sxs-lookup"><span data-stu-id="8d567-243">Connection status of the witness.</span></span> <span data-ttu-id="8d567-244">可能性のある状態は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8d567-244">The possible states are:</span></span>  
  
    -   <span data-ttu-id="8d567-245">Unknown</span><span class="sxs-lookup"><span data-stu-id="8d567-245">Unknown</span></span>  
  
    -   <span data-ttu-id="8d567-246">接続中</span><span class="sxs-lookup"><span data-stu-id="8d567-246">Connected</span></span>  
  
    -   <span data-ttu-id="8d567-247">[接続解除されました。]</span><span class="sxs-lookup"><span data-stu-id="8d567-247">Disconnected.</span></span>  
  
#### <a name="log-on-the-principal-server"></a><span data-ttu-id="8d567-248">プリンパル サーバーへのログオン</span><span class="sxs-lookup"><span data-stu-id="8d567-248">Log on the Principal Server</span></span>  
 <span data-ttu-id="8d567-249">**[状態]** ページには、表示された時点での、プリンシパル サーバーへのログオンの状態に関する次の情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-249">The **Status** page displays the following information about the status of the log on the principal server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="8d567-250">未送信のログ</span><span class="sxs-lookup"><span data-stu-id="8d567-250">Unsent log</span></span>  
  
     <span data-ttu-id="8d567-251">送信キューで待機中のログの量 (KB 単位)。</span><span class="sxs-lookup"><span data-stu-id="8d567-251">The amount of log waiting in the send queue in kilobytes (KB).</span></span>  
  
-   <span data-ttu-id="8d567-252">最も古い未送信のトランザクション</span><span class="sxs-lookup"><span data-stu-id="8d567-252">Oldest unsent transaction</span></span>  
  
     <span data-ttu-id="8d567-253">送信キュー内で最も古い未送信トランザクションの経過期間。</span><span class="sxs-lookup"><span data-stu-id="8d567-253">Age of the oldest unsent transaction in the send queue.</span></span> <span data-ttu-id="8d567-254">トランザクションの経過期間は、トランザクションがミラー サーバー インスタンスに送信されないまま経過した時間を分単位で示します。</span><span class="sxs-lookup"><span data-stu-id="8d567-254">The age of this transaction indicates how many minutes of transactions have not yet been sent to the mirror server instance.</span></span> <span data-ttu-id="8d567-255">この値は、データ損失の可能性を時間の観点から測定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8d567-255">This value helps measure the potential for data loss in terms of time.</span></span>  
  
-   <span data-ttu-id="8d567-256">ログの送信時間 (推定)</span><span class="sxs-lookup"><span data-stu-id="8d567-256">Time to send log (estimated)</span></span>  
  
     <span data-ttu-id="8d567-257">プリンシパル サーバー インスタンスが、現在送信キューに格納されているログをミラー サーバー インスタンスに送信するのに必要な時間 (分)。現在の送信速度に基づく推定値です。</span><span class="sxs-lookup"><span data-stu-id="8d567-257">Estimated number of minutes the principal server instance requires to send the log that is currently in the send queue to the mirror server instance based on the current send rate.</span></span> <span data-ttu-id="8d567-258">ログの送信にかかる実際の時間は、受信トランザクションの速度の影響を受け、大きく異なることがあります。</span><span class="sxs-lookup"><span data-stu-id="8d567-258">The actual time to send the log will be affected by the rate of incoming transactions, which can vary significantly.</span></span> <span data-ttu-id="8d567-259">ただし、 **[ログの送信時間 (推定)]** の値は、手動フェールオーバーに必要な時間を大まかに推定する際に役立つことがあります。</span><span class="sxs-lookup"><span data-stu-id="8d567-259">However, the **Time to send log (estimated)** value can be useful for roughly estimating the time required for a manual failover.</span></span>  
  
-   <span data-ttu-id="8d567-260">[現在の送信率]</span><span class="sxs-lookup"><span data-stu-id="8d567-260">Current send rate</span></span>  
  
     <span data-ttu-id="8d567-261">トランザクションをミラー サーバー インスタンスに送信しているときの速度 (KB/秒)。</span><span class="sxs-lookup"><span data-stu-id="8d567-261">Rate at which transactions are being sent to the mirror server instance in KB per second.</span></span>  
  
-   <span data-ttu-id="8d567-262">新しいトランザクションの現在の比率</span><span class="sxs-lookup"><span data-stu-id="8d567-262">Current rate of new transactions</span></span>  
  
     <span data-ttu-id="8d567-263">受信トランザクションをプリンシパルのログに入力しているときの速度 (KB/秒)。</span><span class="sxs-lookup"><span data-stu-id="8d567-263">Rate at which incoming transactions are being entered into the principal's log in KB per second.</span></span> <span data-ttu-id="8d567-264">ミラーリングで遅延、待機、遅延の解消が発生しているかどうかを特定するには、この値を **[ログの送信時間 (推定)]** の値と比較します。</span><span class="sxs-lookup"><span data-stu-id="8d567-264">To determine whether mirroring is falling behind, staying up, or catching up, compare this value to the **Estimated time to send log** value.</span></span>  
  
#### <a name="log-on-the-mirror-server"></a><span data-ttu-id="8d567-265">ミラー サーバーへのログオン</span><span class="sxs-lookup"><span data-stu-id="8d567-265">Log on the Mirror Server</span></span>  
 <span data-ttu-id="8d567-266">**[状態]** ページには、表示された時点での、ミラー サーバーへのログオンの状態に関する次の情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-266">The **Status** page displays the following information about the status of the log on the mirror server as of the indicated time:</span></span>  
  
-   <span data-ttu-id="8d567-267">未復元のログ</span><span class="sxs-lookup"><span data-stu-id="8d567-267">Unrestored log</span></span>  
  
     <span data-ttu-id="8d567-268">再実行キューで待機中のログの量 (KB 単位)。</span><span class="sxs-lookup"><span data-stu-id="8d567-268">The amount of log waiting in the redo queue in KB.</span></span>  
  
-   <span data-ttu-id="8d567-269">ログの復元時間 (推定)</span><span class="sxs-lookup"><span data-stu-id="8d567-269">Time to restore log (estimated)</span></span>  
  
     <span data-ttu-id="8d567-270">現在再実行キューに格納されているログをミラー データベースに適用するために必要な時間の概算値 (分)。</span><span class="sxs-lookup"><span data-stu-id="8d567-270">Approximate number of minutes required for the log currently in the redo queue to be applied to the mirror database.</span></span>  
  
-   <span data-ttu-id="8d567-271">[現在の復元比率]</span><span class="sxs-lookup"><span data-stu-id="8d567-271">Current restore rate</span></span>  
  
     <span data-ttu-id="8d567-272">トランザクションをミラー データベースに復元するときの速度 (KB/秒)。</span><span class="sxs-lookup"><span data-stu-id="8d567-272">Rate at which transactions are being restored into the mirror database (in KB per second).</span></span>  
  
#### <a name="mirroring-session"></a><span data-ttu-id="8d567-273">ミラーリング セッション</span><span class="sxs-lookup"><span data-stu-id="8d567-273">Mirroring Session</span></span>  
 <span data-ttu-id="8d567-274">さらに、 **[状態]** ページには、ミラーリング セッションについて次の情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-274">In addition, the **Status** page displays the following information about the mirroring session:</span></span>  
  
-   <span data-ttu-id="8d567-275">ミラー コミットのオーバーヘッド</span><span class="sxs-lookup"><span data-stu-id="8d567-275">Mirroring commit overhead</span></span>  
  
     <span data-ttu-id="8d567-276">1 トランザクションあたりの平均遅延時間 (ミリ秒単位)。高い安全性モードのみに関連します。</span><span class="sxs-lookup"><span data-stu-id="8d567-276">Average delay per transaction in milliseconds (relevant only in high-safety mode).</span></span> <span data-ttu-id="8d567-277">この遅延時間は、ミラー サーバー インスタンスによってトランザクションのログ レコードが再実行キューに書き込まれるのをプリンシパル サーバー インスタンスが待機している間、発生したオーバーヘッドの量になります。</span><span class="sxs-lookup"><span data-stu-id="8d567-277">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span>  
  
-   <span data-ttu-id="8d567-278">現在のすべてのログを送信して復元する時間 (推定)</span><span class="sxs-lookup"><span data-stu-id="8d567-278">Time to send and restore all current log (estimated)</span></span>  
  
     <span data-ttu-id="8d567-279">プリンシパルでコミットされていないすべての未送信ログを送信して、現在再実行キューに格納されているすべてのログを復元するために必要な時間の推定値。</span><span class="sxs-lookup"><span data-stu-id="8d567-279">Estimated time needed to send all of the unsent log that has been committed at the principal and to restore all of the log currently in the redo queue.</span></span> <span data-ttu-id="8d567-280">送信と復元が並行して実行される可能性があるので、この推定値は、 **[ログの送信時間 (推定)]** フィールドの値と **[ログの復元時間 (推定)]** フィールドの値の和よりも小さい場合があります。</span><span class="sxs-lookup"><span data-stu-id="8d567-280">This estimate may be less than the sum of the values of the **Time to send log (estimated)** and **Time to restore log (estimated)** fields, because sending and restoring can operate in parallel.</span></span>  
  
-   <span data-ttu-id="8d567-281">ミラーリング監視アドレス</span><span class="sxs-lookup"><span data-stu-id="8d567-281">Witness address</span></span>  
  
     <span data-ttu-id="8d567-282">ミラーリング監視サーバー インスタンスのネットワーク アドレス。</span><span class="sxs-lookup"><span data-stu-id="8d567-282">Network address of the witness server instance.</span></span> <span data-ttu-id="8d567-283">このアドレスの形式の詳細については、「[サーバー ネットワーク アドレスの指定 &#40;データベース ミラーリング&#41;](specify-a-server-network-address-database-mirroring.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-283">For information about the format of this address, see [Specify a Server Network Address &#40;Database Mirroring&#41;](specify-a-server-network-address-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="8d567-284">動作モード</span><span class="sxs-lookup"><span data-stu-id="8d567-284">Operating mode</span></span>  
  
     <span data-ttu-id="8d567-285">データベース ミラーリング セッションには、次の動作モードがあります。</span><span class="sxs-lookup"><span data-stu-id="8d567-285">The operating mode of the database mirroring session:</span></span>  
  
    -   <span data-ttu-id="8d567-286">[高パフォーマンス (非同期)]</span><span class="sxs-lookup"><span data-stu-id="8d567-286">High performance (asynchronous)</span></span>  
  
    -   <span data-ttu-id="8d567-287">[自動フェールオーバーを伴わない高い安全性 (同期)]</span><span class="sxs-lookup"><span data-stu-id="8d567-287">High safety without automatic failover (synchronous)</span></span>  
  
    -   <span data-ttu-id="8d567-288">[自動フェールオーバーを伴う高い安全性 (同期)]</span><span class="sxs-lookup"><span data-stu-id="8d567-288">High safety with automatic failover (synchronous)</span></span>  
  
##  <a name="additional-sources-of-information-about-a-mirrored-database"></a><a name="AdditionalSources"></a> <span data-ttu-id="8d567-289">ミラー化データベースに関する追加情報</span><span class="sxs-lookup"><span data-stu-id="8d567-289">Additional Sources of Information About a Mirrored Database</span></span>  
 <span data-ttu-id="8d567-290">ミラー化されたデータベースの監視および監視対象のパフォーマンス変数に対する警告の設定を行う手段として、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] には、データベース ミラーリング モニターと dbmmonitor ストアド プロシージャ以外に、データベース ミラーリングに関するカタログ ビュー、パフォーマンス カウンター、およびイベント通知が用意されています。</span><span class="sxs-lookup"><span data-stu-id="8d567-290">In addition to using the Database Mirroring Monitor and dbmmonitor stored procedures to monitor a mirrored database and set up alerts on monitored performance variables, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] provides catalog views, performance counters, and event notifications for database mirroring.</span></span>  
  
 <span data-ttu-id="8d567-291">**このセクションの内容**</span><span class="sxs-lookup"><span data-stu-id="8d567-291">**In This Section:**</span></span>  
  
-   [<span data-ttu-id="8d567-292">データベース ミラーリング メタデータ</span><span class="sxs-lookup"><span data-stu-id="8d567-292">Database Mirroring Metadata</span></span>](#DbmMetadata)  
  
-   [<span data-ttu-id="8d567-293">データベース ミラーリングのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="8d567-293">Database Mirroring Performance Counters</span></span>](#DbmPerfCounters)  
  
-   [<span data-ttu-id="8d567-294">データベース ミラーリングのイベント通知</span><span class="sxs-lookup"><span data-stu-id="8d567-294">Database Mirroring Event Notifications</span></span>](#DbmEventNotif)  
  
###  <a name="database-mirroring-metadata"></a><a name="DbmMetadata"></a> <span data-ttu-id="8d567-295">データベース ミラーリング メタデータ</span><span class="sxs-lookup"><span data-stu-id="8d567-295">Database Mirroring Metadata</span></span>  
 <span data-ttu-id="8d567-296">次のカタログ ビューまたは動的管理ビューによって公開されるメタデータに、各データベース ミラーリング セッションに関する説明が記述されています。</span><span class="sxs-lookup"><span data-stu-id="8d567-296">Each database mirroring session is described in metadata that is exposed through the following catalog or dynamic management views:</span></span>  
  
-   <span data-ttu-id="8d567-297">**sys.database_mirroring**</span><span class="sxs-lookup"><span data-stu-id="8d567-297">**sys.database_mirroring**</span></span>  
  
     <span data-ttu-id="8d567-298">このビューには、サーバー インスタンス内のミラー化されたそれぞれのデータベースのデータベース ミラーリング メタデータが表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-298">This view displays the database mirroring metadata for each mirrored database in a server instance.</span></span> <span data-ttu-id="8d567-299">詳細については、「[sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-299">For more information, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
-   <span data-ttu-id="8d567-300">**sys.database_mirroring_endpoints**</span><span class="sxs-lookup"><span data-stu-id="8d567-300">**sys.database_mirroring_endpoints**</span></span>  
  
     <span data-ttu-id="8d567-301">**sys.database_mirroring_endpoints** カタログ ビューには、サーバー インスタンスのデータベース ミラーリング エンドポイントに関する情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-301">The **sys.database_mirroring_endpoints** catalog view displays information about the database mirroring endpoint of the server instance.</span></span> <span data-ttu-id="8d567-302">詳細については、「[sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-302">For more information, see [sys.database_mirroring_endpoints &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql).</span></span>  
  
-   <span data-ttu-id="8d567-303">**sys.database_mirroring_witnesses**</span><span class="sxs-lookup"><span data-stu-id="8d567-303">**sys.database_mirroring_witnesses**</span></span>  
  
     <span data-ttu-id="8d567-304">このカタログ ビューには、サーバー インスタンスがミラーリング監視サーバーである、各セッションのデータベース ミラーリング メタデータが表示されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-304">This catalog view displays the database mirroring metadata for each session in which a server instance is the witness.</span></span> <span data-ttu-id="8d567-305">詳細については、「[sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-305">For more information, see [sys.database_mirroring_witnesses &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/database-mirroring-witness-catalog-views-sys-database-mirroring-witnesses).</span></span>  
  
-   <span data-ttu-id="8d567-306">**sys.dm_db_mirroring_connections**</span><span class="sxs-lookup"><span data-stu-id="8d567-306">**sys.dm_db_mirroring_connections**</span></span>  
  
     <span data-ttu-id="8d567-307">この動的管理ビューにより、データベース ミラーリングのネットワーク接続ごとに 1 行が返されます。</span><span class="sxs-lookup"><span data-stu-id="8d567-307">This dynamic management view returns a row for each database mirroring network connection.</span></span>  
  
     <span data-ttu-id="8d567-308">詳細については、「[sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-308">For more information, see [sys.dm_db_mirroring_connections &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/database-mirroring-sys-dm-db-mirroring-connections).</span></span>  
  
###  <a name="database-mirroring-performance-counters"></a><a name="DbmPerfCounters"></a> <span data-ttu-id="8d567-309">データベース ミラーリングのパフォーマンス カウンター</span><span class="sxs-lookup"><span data-stu-id="8d567-309">Database Mirroring Performance Counters</span></span>  
 <span data-ttu-id="8d567-310">パフォーマンス カウンターを使用すると、データベース ミラーリングのパフォーマンスを監視できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-310">Performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="8d567-311">たとえば、データベース ミラーリングがプリンシパル サーバーのパフォーマンスに影響を及ぼしているかどうかを確認するには、 **Transaction Delay** カウンターを調べることができます。また、ミラー データベースとプリンシパル データベース間の遅延時間がいかに少ないかを確認するには、 **Redo Queue** カウンターと **Log Send Queue** カウンターを調べることができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-311">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="8d567-312">1 秒間に送信されたログの量を監視する場合は、 **Log Bytes Sent/sec** カウンターを調べることができます。</span><span class="sxs-lookup"><span data-stu-id="8d567-312">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
 <span data-ttu-id="8d567-313">パフォーマンス カウンターは、いずれかのパートナーのパフォーマンス モニターにあるデータベース ミラーリング パフォーマンス オブジェクト (**SQLServer:Database Mirroring**) で使用できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-313">In Performance Monitor on either partner, performance counters are available in the database mirroring performance object (**SQLServer:Database Mirroring**).</span></span> <span data-ttu-id="8d567-314">詳しくは、「 [SQL Server:Database Mirroring オブジェクト](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-314">For more information, see [SQL Server, Database Mirroring Object](../../relational-databases/performance-monitor/sql-server-database-mirroring-object.md).</span></span>  
  
 <span data-ttu-id="8d567-315">**パフォーマンス モニターを起動するには**</span><span class="sxs-lookup"><span data-stu-id="8d567-315">**To start the performance monitor**</span></span>  
  
-   [<span data-ttu-id="8d567-316">システム モニターの起動 &#40;Windows&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-316">Start System Monitor &#40;Windows&#41;</span></span>](../../relational-databases/performance/start-system-monitor-windows.md)  
  
###  <a name="database-mirroring-event-notifications"></a><a name="DbmEventNotif"></a> <span data-ttu-id="8d567-317">データベース ミラーリングのイベント通知</span><span class="sxs-lookup"><span data-stu-id="8d567-317">Database Mirroring Event Notifications</span></span>  
 <span data-ttu-id="8d567-318">イベント通知は、特殊なデータベース オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="8d567-318">Event notifications are a special kind of database object.</span></span> <span data-ttu-id="8d567-319">さまざまな Transact-SQL データ定義言語 (DDL) ステートメントや SQL トレースのイベントに応答してイベント通知が行われ、サーバー イベントとデータベース イベントに関する情報を [!INCLUDE[ssSB](../../includes/sssb-md.md)] サービスに送信します。</span><span class="sxs-lookup"><span data-stu-id="8d567-319">Event notifications execute in response to a variety of Transact-SQL data definition language (DDL) statements and SQL Trace events and send information about server and database events to a [!INCLUDE[ssSB](../../includes/sssb-md.md)] service.</span></span>  
  
 <span data-ttu-id="8d567-320">データベース ミラーリングでは、次のイベントを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8d567-320">The following events are available for database mirroring:</span></span>  
  
-   <span data-ttu-id="8d567-321">**Database Mirroring State Change** イベント クラス</span><span class="sxs-lookup"><span data-stu-id="8d567-321">**Database Mirroring State Change** event class</span></span>  
  
     <span data-ttu-id="8d567-322">ミラー化されたデータベースのミラーリングの状態が変更された時点を示します。</span><span class="sxs-lookup"><span data-stu-id="8d567-322">This indicates when the mirroring state of a mirrored database changes.</span></span> <span data-ttu-id="8d567-323">詳しくは、「 [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8d567-323">For more information, see [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span></span>  
  
-   <span data-ttu-id="8d567-324">**Audit Database Mirroring Login** イベント クラス</span><span class="sxs-lookup"><span data-stu-id="8d567-324">**Audit Database Mirroring Login** event class</span></span>  
  
     <span data-ttu-id="8d567-325">このクラスでは、データベース ミラーリングのトランスポート セキュリティに関連する監査メッセージを報告します。</span><span class="sxs-lookup"><span data-stu-id="8d567-325">This reports audit messages related to database mirroring transport security.</span></span> <span data-ttu-id="8d567-326">詳細については、「 [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8d567-326">For more information, see [Audit Database Mirroring Login Event Class](../../relational-databases/event-classes/audit-database-mirroring-login-event-class.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="8d567-327">関連タスク</span><span class="sxs-lookup"><span data-stu-id="8d567-327">Related Tasks</span></span>  
  
-   [<span data-ttu-id="8d567-328">ミラーリング パフォーマンス基準の警告しきい値および警告の使用 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-328">Use Warning Thresholds and Alerts on Mirroring Performance Metrics &#40;SQL Server&#41;</span></span>](use-warning-thresholds-and-alerts-on-mirroring-performance-metrics-sql-server.md)  
  
-   [<span data-ttu-id="8d567-329">データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-329">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="8d567-330">ミラー化されたデータベースの状態の確認 &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-330">View the State of a Mirrored Database &#40;SQL Server Management Studio&#41;</span></span>](view-the-state-of-a-mirrored-database-sql-server-management-studio.md)  
  
 <span data-ttu-id="8d567-331">**ストアド プロシージャ**</span><span class="sxs-lookup"><span data-stu-id="8d567-331">**Stored procedures**</span></span>  
  
-   [<span data-ttu-id="8d567-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-332">sp_dbmmonitoraddmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitoraddmonitoring-transact-sql)  
  
-   [<span data-ttu-id="8d567-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-333">sp_dbmmonitorchangealert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql)  
  
-   [<span data-ttu-id="8d567-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-334">sp_dbmmonitorchangemonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangemonitoring-transact-sql)  
  
-   [<span data-ttu-id="8d567-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-335">sp_dbmmonitordropalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropalert-transact-sql)  
  
-   [<span data-ttu-id="8d567-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-336">sp_dbmmonitordropmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitordropmonitoring-transact-sql)  
  
-   [<span data-ttu-id="8d567-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-337">sp_dbmmonitorhelpalert &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpalert-transact-sql)  
  
-   [<span data-ttu-id="8d567-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-338">sp_dbmmonitorhelpmonitoring &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorhelpmonitoring-transact-sql)  
  
-   [<span data-ttu-id="8d567-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-339">sp_dbmmonitorresults &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorresults-transact-sql)  
  
-   [<span data-ttu-id="8d567-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="8d567-340">sp_dbmmonitorupdate &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorupdate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="8d567-341">参照</span><span class="sxs-lookup"><span data-stu-id="8d567-341">See Also</span></span>  
 <span data-ttu-id="8d567-342">[データベース ミラーリング &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="8d567-342">[Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="8d567-343">WMI Provider for Server Events の概念</span><span class="sxs-lookup"><span data-stu-id="8d567-343">WMI Provider for Server Events Concepts</span></span>](../../relational-databases/wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)  
  
  
