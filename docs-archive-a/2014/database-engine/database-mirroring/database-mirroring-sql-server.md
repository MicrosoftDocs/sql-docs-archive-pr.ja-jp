---
title: データベース ミラーリング (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- partners [SQL Server]
- standby servers [SQL Server]
- principal database [SQL Server]
- principal server [SQL Server]
- mirroring partners [SQL Server]
- mirrored databases [SQL Server] See database mirroring
- database mirroring [SQL Server], partners
- availability [SQL Server]
- hot standby servers (see database monitoring [SQL Server])
- database mirroring [SQL Server], about database mirroring
- mirror database [SQL Server]
- mirror server [SQL Server] See database mirroring
ms.assetid: a7f95ddc-5154-4ed5-8117-c9fcf2221f13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 9e6fcce7d861fd5757f822080fb05d05e32d799a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632677"
---
# <a name="database-mirroring-sql-server"></a><span data-ttu-id="ccfdd-102">データベース ミラーリング (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-102">Database Mirroring (SQL Server)</span></span>
    
> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="ccfdd-103">代わりに [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] を使用します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-103">Use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] instead.</span></span>  
  
 <span data-ttu-id="ccfdd-104">*データベース ミラーリング* は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースの可用性を高めるためのソリューションです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-104">*Database mirroring* is a solution for increasing the availability of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="ccfdd-105">ミラーリングはデータベースごとに実装され、完全復旧モデルを使用するデータベースでのみ機能します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-105">Mirroring is implemented on a per-database basis and works only with databases that use the full recovery model.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ccfdd-106">データベース ミラーリングのサポート、制限事項、推奨事項、パートナー サーバーの構成に関する前提条件については、「 [データベース ミラーリングの前提条件、制限事項、推奨事項](prerequisites-restrictions-and-recommendations-for-database-mirroring.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-106">For information about support for database mirroring, restrictions, prerequisites, recommendations for configuring partner servers, and recommendations for deploying database mirroring, see [Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md).</span></span>  
  

  
##  <a name="benefits-of-database-mirroring"></a><a name="Benefits"></a> <span data-ttu-id="ccfdd-107">データベース ミラーリングの利点</span><span class="sxs-lookup"><span data-stu-id="ccfdd-107">Benefits of Database Mirroring</span></span>  
 <span data-ttu-id="ccfdd-108">データベース ミラーリングは単純なストラテジで、次に示す利点があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-108">Database mirroring is a simple strategy that offers the following benefits:</span></span>  
  
-   <span data-ttu-id="ccfdd-109">データベースの可用性が向上します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-109">Increases availability of a database.</span></span>  
  
     <span data-ttu-id="ccfdd-110">障害が発生した場合、自動フェールオーバーを伴う高い安全性モードでは、フェールオーバーによりデータベースのスタンバイ コピーが即座にオンラインになります (データ損失の可能性はありません)。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-110">In the event of a disaster, in high-safety mode with automatic failover, failover quickly brings the standby copy of the database online (without data loss).</span></span> <span data-ttu-id="ccfdd-111">他の動作モードでは、データベース管理者はデータベースのスタンバイ コピーにサービスを強制する代替の方法 (データ損失の可能性あり) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-111">In the other operating modes, the database administrator has the alternative of forcing service (with possible data loss) to the standby copy of the database.</span></span> <span data-ttu-id="ccfdd-112">詳細については、このトピックの「 [役割の交代](#RoleSwitching)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-112">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
-   <span data-ttu-id="ccfdd-113">データの保護が強化されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-113">Increases data protection.</span></span>  
  
     <span data-ttu-id="ccfdd-114">データベース ミラーリングを使用すると、動作モードが高い安全性モードであるか高パフォーマンス モードであるかに応じて、データの冗長化が完全に、またはほぼ完全に行われます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-114">Database mirroring provides complete or almost complete redundancy of the data, depending on whether the operating mode is high-safety or high-performance.</span></span> <span data-ttu-id="ccfdd-115">詳細については、このトピックの「 [動作モード](#OperatingModes)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-115">For more information, see [Operating Modes](#OperatingModes), later in this topic.</span></span>  
  
     <span data-ttu-id="ccfdd-116">[!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] 以降のバージョンで動作するデータベース ミラーリング パートナーには、データ ページの読み取りを妨げるエラーを自動的に解決するための機能が備わっています。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-116">A database mirroring partner running on [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] or later versions automatically tries to resolve certain types of errors that prevent reading a data page.</span></span> <span data-ttu-id="ccfdd-117">ミラーリング セッションを構成する一方のパートナーは、ページを読み取れない場合、もう一方のパートナーに新しいコピーを要求します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-117">The partner that is unable to read a page requests a fresh copy from the other partner.</span></span> <span data-ttu-id="ccfdd-118">要求が受け入れられ、新しいコピーを取得できた場合は、読み取り不可能なページがそのコピーに置き換えられます。通常、これによりエラーは解決します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-118">If this request succeeds, the unreadable page is replaced by the copy, which usually resolves the error.</span></span> <span data-ttu-id="ccfdd-119">詳細については、「[ページの自動修復 &#40;可用性グループとデータベース ミラーリング&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-119">For more information, see [Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md).</span></span>  
  
-   <span data-ttu-id="ccfdd-120">アップグレード中の実稼働データベースの可用性が向上します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-120">Improves the availability of the production database during upgrades.</span></span>  
  
     <span data-ttu-id="ccfdd-121">ミラー化されたデータベースのダウンタイムを最小限に抑えるために、フェールオーバー パートナーをホストしている [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスを順次アップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-121">To minimize downtime for a mirrored database, you can sequentially upgrade the instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are hosting the failover partners.</span></span> <span data-ttu-id="ccfdd-122">これにより、ダウンタイムはフェールオーバー 1 回分のみになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-122">This will incur the downtime of only a single failover.</span></span> <span data-ttu-id="ccfdd-123">このようなアップグレード形態を *ローリング アップグレード*と呼びます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-123">This form of upgrade is known as a *rolling upgrade*.</span></span> <span data-ttu-id="ccfdd-124">詳細については、「[ミラー化されたデータベースのダウンタイムを最小限に抑えてシステムに Service Pack をインストールする](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-124">For more information, see [Install a Service Pack on a System with Minimal Downtime for Mirrored Databases](../install-a-service-pack-on-a-system-with-minimal-downtime-for-mirrored-databases.md).</span></span>  
  
##  <a name="database-mirroring-terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="ccfdd-125">データベース ミラーリングの用語と定義</span><span class="sxs-lookup"><span data-stu-id="ccfdd-125">Database Mirroring Terms and Definitions</span></span>  
 <span data-ttu-id="ccfdd-126">自動フェールオーバー (automatic failover)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-126">automatic failover</span></span>  
 <span data-ttu-id="ccfdd-127">プリンシパル サーバーが使用できなくなった場合に、ミラー サーバーがプリンシパル サーバーの役割を引き継ぎ、ミラー サーバーのデータベースのコピーをプリンシパル データベースとしてオンラインにする処理のこと。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-127">The process by which, when the principal server becomes unavailable, the mirror server to take over the role of principal server and brings its copy of the database online as the principal database.</span></span>  
  
 <span data-ttu-id="ccfdd-128">フェールオーバー パートナー (failover partners)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-128">failover partners</span></span>  
 <span data-ttu-id="ccfdd-129">ミラー化されたデータベースに関する役割交代用のパートナーとして動作する、2 つのサーバー インスタンス (プリンシパル サーバーまたはミラー サーバー)。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-129">The two server instances (the principal server or the mirror server) that act as role-switching partners for a mirrored database.</span></span>  
  
 <span data-ttu-id="ccfdd-130">強制的なサービスの起動 (forced service)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-130">forced service</span></span>  
 <span data-ttu-id="ccfdd-131">プリンシパル サーバーの障害発生時にデータベース所有者が開始するフェールオーバー。その状態が不明である間、ミラー データベースにサービスが転送されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-131">A failover initiated by the database owner upon the failure of the principal server that transfers service to the mirror database while it is in an unknown state.</span></span>  
  
 <span data-ttu-id="ccfdd-132">高パフォーマンス モード</span><span class="sxs-lookup"><span data-stu-id="ccfdd-132">High-performance mode</span></span>  
 <span data-ttu-id="ccfdd-133">データベース ミラーリング セッションは非同期に動作し、プリンシパル サーバーとミラー サーバーのみを使用します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-133">The database mirroring session operates asynchronously and uses only the principal server and mirror server.</span></span> <span data-ttu-id="ccfdd-134">役割の交代の形式は、強制されたサービス (データ損失の可能性あり) のみです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-134">The only form of role switching is forced service (with possible data loss).</span></span>  
  
 <span data-ttu-id="ccfdd-135">高い安全性モード (High-safety mode)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-135">High-safety mode</span></span>  
 <span data-ttu-id="ccfdd-136">データベース ミラーリング セッションは同期して動作し、必要に応じてミラーリング監視サーバー、およびプリンシパル サーバーとミラー サーバーを使用します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-136">The database mirroring session operates synchronously and, optionally, uses a witness, as well as the principal server and mirror server.</span></span>  
  
 <span data-ttu-id="ccfdd-137">手動フェールオーバー (manual failover)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-137">manual failover</span></span>  
 <span data-ttu-id="ccfdd-138">プリンシパル サーバーがまだ稼働しているときにデータベース所有者が開始するフェールオーバー。同期された状態のまま、プリンシパル データベースからミラー データベースにサービスが転送されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-138">A failover initiated by the database owner, while the principal server is still running, that transfers service from the principal database to the mirror database while they are in a synchronized state.</span></span>  
  
 <span data-ttu-id="ccfdd-139">ミラー データベース (mirror database)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-139">mirror database</span></span>  
 <span data-ttu-id="ccfdd-140">通常はプリンシパル データベースと完全に同期されるデータベースのコピー。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-140">The copy of the database that is typically fully synchronized with the principal database.</span></span>  
  
 <span data-ttu-id="ccfdd-141">ミラー サーバー (mirror server)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-141">mirror server</span></span>  
 <span data-ttu-id="ccfdd-142">データベース ミラーリング構成で、ミラー データベースが存在するサーバー インスタンス。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-142">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="ccfdd-143">ミラー サーバー (mirror server)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-143">mirror server</span></span>  
 <span data-ttu-id="ccfdd-144">データベース ミラーリング構成で、ミラー データベースが存在するサーバー インスタンス。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-144">In a database mirroring configuration, the server instance on which the mirror database resides.</span></span>  
  
 <span data-ttu-id="ccfdd-145">プリンシパル データベース (principal database)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-145">principal database</span></span>  
 <span data-ttu-id="ccfdd-146">データベース ミラーリングで、そのトランザクション ログ レコードがデータベース (ミラー データベース) の読み取り専用コピーに適用される読み書き可能なデータベース。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-146">In database mirroring, a read-write database whose transaction log records are applied to a read-only copy of the database (a mirror database).</span></span>  
  
 <span data-ttu-id="ccfdd-147">プリンシパル サーバー (principal server)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-147">principal server</span></span>  
 <span data-ttu-id="ccfdd-148">データベース ミラーリングで、現在のプリンシパル データベースを保持するパートナー。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-148">In database mirroring, the partner whose database is currently the principal database.</span></span>  
  
 <span data-ttu-id="ccfdd-149">再実行キュー (redo queue)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-149">redo queue</span></span>  
 <span data-ttu-id="ccfdd-150">ミラー サーバーのディスクで待機している、受信したトランザクション ログ レコード。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-150">Received transaction log records that are waiting on the disk of a mirror server.</span></span>  
  
 <span data-ttu-id="ccfdd-151">role</span><span class="sxs-lookup"><span data-stu-id="ccfdd-151">role</span></span>  
 <span data-ttu-id="ccfdd-152">プリンシパル サーバーおよびミラー サーバーは補完的にプリンシパルおよびミラーの役割を果たします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-152">The principal server and mirror server perform complementary principal and mirror roles.</span></span> <span data-ttu-id="ccfdd-153">必要に応じて、3 番目のサーバー インスタンスがミラーリング監視の役割を果たします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-153">Optionally, the role of witness is performed by a third server instance.</span></span>  
  
 <span data-ttu-id="ccfdd-154">役割の交代</span><span class="sxs-lookup"><span data-stu-id="ccfdd-154">role switching</span></span>  
 <span data-ttu-id="ccfdd-155">プリンシパルの役割がミラーに引き継がれること。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-155">The taking over of the principal role by the mirror.</span></span>  
  
 <span data-ttu-id="ccfdd-156">送信キュー (send queue)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-156">send queue</span></span>  
 <span data-ttu-id="ccfdd-157">プリンシパル サーバーのログ ディスクに蓄積されている未送信のトランザクション ログ レコード。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-157">Unsent transaction log records that have accumulated on the log disk of the principal server.</span></span>  
  
 <span data-ttu-id="ccfdd-158">session</span><span class="sxs-lookup"><span data-stu-id="ccfdd-158">session</span></span>  
 <span data-ttu-id="ccfdd-159">プリンシパル サーバー、ミラー サーバー、およびミラーリング監視サーバー (存在する場合) 間でデータベース ミラーリング時に発生するリレーションシップ。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-159">The relationship that occurs during database mirroring among the principal server, mirror server, and witness server (if present).</span></span>  
  
 <span data-ttu-id="ccfdd-160">ミラーリング セッションが開始または再開された後で、プリンシパル サーバーに蓄積されたプリンシパル データベースのログ レコードがミラー サーバーに送信される処理のこと。この処理では、遅延を解消するために、送信されたログ レコードをできるだけ短時間でディスクに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-160">After a mirroring session starts or resumes, the process by which log records of the principal database that have accumulated on the principal server are sent to the mirror server, which writes these log records to disk as quickly as possible to catch up with the principal server.</span></span>  
  
 <span data-ttu-id="ccfdd-161">トランザクションの安全性</span><span class="sxs-lookup"><span data-stu-id="ccfdd-161">Transaction safety</span></span>  
 <span data-ttu-id="ccfdd-162">データベース ミラーリング セッションが同期して動作するか、非同期で動作するかを決定する、ミラーリング固有のデータベース プロパティ。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-162">A mirroring-specific database property that determines whether a database mirroring session operates synchronously or asynchronously.</span></span> <span data-ttu-id="ccfdd-163">安全性レベルには次の 2 種類があります: FULL と OFF。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-163">There are two safety levels: FULL and OFF.</span></span>  
  
 <span data-ttu-id="ccfdd-164">ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-164">Witness</span></span>  
 <span data-ttu-id="ccfdd-165">高い安全性モードの場合にのみ使用します。必要に応じて配置できる SQL Server のインスタンスです。ミラーリング監視サーバーを使用することにより、ミラー サーバーが自動フェールオーバーをいつ開始するかを認識できるようになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-165">For use only with high-safety mode, an optional instance of SQL Server that enables the mirror server to recognize when to initiate an automatic failover.</span></span> <span data-ttu-id="ccfdd-166">2 つのフェールオーバー パートナーとは異なり、ミラーリング監視サーバーではデータベースの操作は行いません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-166">Unlike the two failover partners, the witness does not serve the database.</span></span> <span data-ttu-id="ccfdd-167">ミラーリング監視サーバーの唯一の役割は、自動フェールオーバーをサポートすることです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-167">Supporting automatic failover is the only role of the witness.</span></span>  
  
##  <a name="overview-of-database-mirroring"></a><a name="HowWorks"></a> <span data-ttu-id="ccfdd-168">データベース ミラーリングの概要</span><span class="sxs-lookup"><span data-stu-id="ccfdd-168">Overview of Database Mirroring</span></span>  
 <span data-ttu-id="ccfdd-169">データベース ミラーリングでは、データベースのコピーが 2 つ保持されます。2 つのコピーは、 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]の異なるサーバー インスタンスにそれぞれ配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-169">Database mirroring maintains two copies of a single database that must reside on different server instances of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="ccfdd-170">通常、これらのサーバー インスタンスは、別の場所のコンピューターに存在します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-170">Typically, these server instances reside on computers in different locations.</span></span> <span data-ttu-id="ccfdd-171">データベース上でデータベース ミラーリングを開始すると、これらのサーバー インスタンス間で *データベース ミラーリング セッション*と呼ばれるリレーションシップが開始されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-171">Starting database mirroring on a database, initiates a relationship, known as a *database mirroring session*, between these server instances.</span></span>  
  
 <span data-ttu-id="ccfdd-172">一方のサーバー インスタンスは、クライアントにデータベースを提供します ( *プリンシパル サーバー*)。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-172">One server instance serves the database to clients (the *principal server*).</span></span> <span data-ttu-id="ccfdd-173">もう一方のインスタンスは、ミラーリング セッションの構成と状態に応じて、ホット スタンバイ サーバーまたはウォーム スタンバイ サーバーとして動作します ( *ミラー サーバー*)。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-173">The other instance acts as a hot or warm standby server (the *mirror server*), depending on the configuration and state of the mirroring session.</span></span> <span data-ttu-id="ccfdd-174">データベース ミラーリング セッションが同期されていれば、データベース ミラーリングにより、高速のフェールオーバーをサポートするホット スタンバイ サーバーが提供され、コミット済みのトランザクションのデータが失われることはありません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-174">When a database mirroring session is synchronized, database mirroring provides a hot standby server that supports rapid failover without a loss of data from committed transactions.</span></span> <span data-ttu-id="ccfdd-175">セッションが同期されない場合、ミラー サーバーは通常ウォーム スタンバイ サーバーとして使用できます (データ損失の可能性があります)。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-175">When the session is not synchronized, the mirror server is typically available as a warm standby server (with possible data loss).</span></span>  
  
 <span data-ttu-id="ccfdd-176">プリンシパル サーバーとミラー サーバーは、 *データベース ミラーリング セッション* の中で *パートナー*として相互に通信および連携します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-176">The principal and mirror servers communicate and cooperate as *partners* in a *database mirroring session*.</span></span> <span data-ttu-id="ccfdd-177">2 つのパートナーは、セッション内で *プリンシパル* および *ミラー*という相互に補完する役割を担います。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-177">The two partners perform complementary roles in the session: the *principal role* and the *mirror role*.</span></span> <span data-ttu-id="ccfdd-178">任意の時点で、一方のパートナーがプリンシパルの役割を担い、もう一方のパートナーがミラーの役割を担います。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-178">At any given time, one partner performs the principal role, and the other partner performs the mirror role.</span></span> <span data-ttu-id="ccfdd-179">それぞれのパートナーは現在の役割を *所有* しているといいます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-179">Each partner is described as *owning* its current role.</span></span> <span data-ttu-id="ccfdd-180">プリンシパルの役割を所有するパートナーを *プリンシパル サーバー*といい、このパートナーのデータベースのコピーが現在のプリンシパル データベースになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-180">The partner that owns the principal role is known as the *principal server*, and its copy of the database is the current principal database.</span></span> <span data-ttu-id="ccfdd-181">ミラーの役割を所有するパートナーを *ミラー サーバー*といい、このパートナーのデータベースのコピーが現在のミラー データベースになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-181">The partner that owns the mirror role is known as the *mirror server*, and its copy of the database is the current mirror database.</span></span> <span data-ttu-id="ccfdd-182">データベース ミラーリングを実稼働環境に配置した場合、プリンシパル データベースが *実稼働データベース*となります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-182">When database mirroring is deployed in a production environment, the principal database is the *production database*.</span></span>  
  
 <span data-ttu-id="ccfdd-183">データベース ミラーリングでは、プリンシパル データベースで発生したすべての挿入、更新、および削除操作が、可能な限り早くミラー データベースで *再実行されます* 。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-183">Database mirroring involves *redoing* every insert, update, and delete operation that occurs on the principal database onto the mirror database as quickly as possible.</span></span> <span data-ttu-id="ccfdd-184">再実行は、アクティブなトランザクション ログ レコードのストリームをミラー サーバーに送信することにより行われます。ログ レコードは、できるだけ早く順番にミラー データベースに適用されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-184">Redoing is accomplished by sending a stream of active transaction log records to the mirror server, which applies log records to the mirror database, in sequence, as quickly as possible.</span></span> <span data-ttu-id="ccfdd-185">論理レベルで機能するレプリケーションとは異なり、データベース ミラーリングは物理ログ レコードのレベルで機能します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-185">Unlike replication, which works at the logical level, database mirroring works at the level of the physical log record.</span></span> <span data-ttu-id="ccfdd-186">[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]以降では、トランザクション ログ レコードのストリームが、ミラー サーバーへの送信前にプリンシパル サーバーで圧縮されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-186">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the principal server compresses the stream of transaction log records before sending it to the mirror server.</span></span> <span data-ttu-id="ccfdd-187">このログ圧縮はすべてのミラーリング セッションで行われます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-187">This log compression occurs in all mirroring sessions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ccfdd-188">特定のサーバー インスタンスを、同じパートナーまたは別のパートナーを含む複数の同時実行データベース ミラーリング セッションに参加させることができます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-188">A given server instance can participate in multiple concurrent database mirroring sessions with the same or different partners.</span></span> <span data-ttu-id="ccfdd-189">また、サーバー インスタンスを、あるセッションではパートナーとし、別のセッションではミラーリング監視にすることができます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-189">A server instance can be a partner in some sessions and a witness in other sessions.</span></span> <span data-ttu-id="ccfdd-190">ミラー サーバー インスタンスでは、同じエディションの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]を実行している必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-190">The mirror server instance must be running the same edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 
  
###  <a name="operating-modes"></a><a name="OperatingModes"></a> <span data-ttu-id="ccfdd-191">動作モード</span><span class="sxs-lookup"><span data-stu-id="ccfdd-191">Operating Modes</span></span>  
 <span data-ttu-id="ccfdd-192">データベース ミラーリング セッションは、同期動作または非同期動作のどちらかで実行されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-192">A database mirroring session runs with either synchronous or asynchronous operation.</span></span> <span data-ttu-id="ccfdd-193">非同期動作では、ミラー サーバーでログがディスクに書き込まれるのを待機することなくトランザクションがコミットされるので、パフォーマンスが最大限に高められます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-193">Under asynchronous operation, the transactions commit without waiting for the mirror server to write the log to disk, which maximizes performance.</span></span> <span data-ttu-id="ccfdd-194">同期動作では、トランザクションが両方のパートナーでコミットされる反面、トランザクションの遅延が大きくなるというデメリットがあります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-194">Under synchronous operation, a transaction is committed on both partners, but at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="ccfdd-195">ミラーリングには、2 つの動作モードがあります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-195">There are two mirroring operating modes.</span></span> <span data-ttu-id="ccfdd-196">1 つ目の動作モードである *高い安全性モード* では、同期操作がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-196">One of them, *high-safety mode* supports synchronous operation.</span></span> <span data-ttu-id="ccfdd-197">このモードでは、セッションが開始すると、可能な限り早くミラー サーバーのミラー データベースとプリンシパル データベースが同期されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-197">Under high-safety mode, when a session starts, the mirror server synchronizes the mirror database together with the principal database as quickly as possible.</span></span> <span data-ttu-id="ccfdd-198">トランザクションの遅延が大きくなるというデメリットもありますが、2 つのデータベースが同期されると、トランザクションは直ちに両方のパートナーでコミットされます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-198">As soon as the databases are synchronized, a transaction is committed on both partners, at the cost of increased transaction latency.</span></span>  
  
 <span data-ttu-id="ccfdd-199">2 つ目の動作モードである *高パフォーマンス モード*で非同期的に実行されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-199">The second operating mode, *high-performance mode*, runs asynchronously.</span></span> <span data-ttu-id="ccfdd-200">ミラー サーバーはプリンシパル サーバーから送信されるログ レコードとの時間差を埋めようとします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-200">The mirror server tries to keep up with the log records sent by the principal server.</span></span> <span data-ttu-id="ccfdd-201">ミラー データベースは、プリンシパル データベースよりやや遅れることがあります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-201">The mirror database might lag somewhat behind the principal database.</span></span> <span data-ttu-id="ccfdd-202">ただし、通常はデータベース間の差は小さなものです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-202">However, typically, the gap between the databases is small.</span></span> <span data-ttu-id="ccfdd-203">ところが、プリンシパル サーバーのワークロードが高い場合やミラー サーバーのシステムの負荷が過剰に高い場合は、この時間差が大きくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-203">However, the gap can become significant if the principal server is under a heavy work load or the system of the mirror server is overloaded.</span></span>  
  
 <span data-ttu-id="ccfdd-204">高パフォーマンス モードでは、プリンシパル サーバーはミラー サーバーにログ レコードを送信すると、その直後にクライアントに確認を送信します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-204">In high-performance mode, as soon as the principal server sends a log record to the mirror server, the principal server sends a confirmation to the client.</span></span> <span data-ttu-id="ccfdd-205">ミラー サーバーからの受信確認を待機することはありません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-205">It does not wait for an acknowledgement from the mirror server.</span></span> <span data-ttu-id="ccfdd-206">これは、ミラー サーバーでログがディスクに書き込まれるのを待機することなくトランザクションがコミットされることを意味します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-206">This means that transactions commit without waiting for the mirror server to write the log to disk.</span></span> <span data-ttu-id="ccfdd-207">このような非同期動作では、トランザクションの遅延を最小限に抑えてプリンシパル サーバーを実行できますが、データが損失する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-207">Such asynchronous operation enables the principal server to run with minimum transaction latency, at the potential risk of some data loss.</span></span>  
  
 <span data-ttu-id="ccfdd-208">すべてのデータベース ミラーリング セッションでは、1 つのプリンシパル サーバーと 1 つのミラー サーバーだけがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-208">All database mirroring sessions support only one principal server and one mirror server.</span></span> <span data-ttu-id="ccfdd-209">この構成を次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-209">This configuration is shown in the following illustration.</span></span>  
  
 <span data-ttu-id="ccfdd-210">![データベース ミラーリング セッションのパートナー](../media/dbm-2-way-session-intro.gif "データベース ミラーリング セッションのパートナー")</span><span class="sxs-lookup"><span data-stu-id="ccfdd-210">![Partners in a database mirroring session](../media/dbm-2-way-session-intro.gif "Partners in a database mirroring session")</span></span>  
  
 <span data-ttu-id="ccfdd-211">自動フェールオーバーを伴う高い安全性モードでは、 *ミラーリング監視サーバー*と呼ばれる第 3 のサーバー インスタンスが必要です。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-211">High-safety mode with automatic failover requires a third server instance, known as a *witness*.</span></span> <span data-ttu-id="ccfdd-212">2 つのパートナーとは異なり、ミラーリング監視サーバーではデータベースの操作は行いません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-212">Unlike the two partners, the witness does not serve the database.</span></span> <span data-ttu-id="ccfdd-213">ミラーリング監視サーバーは、プリンシパル サーバーが正常に動作しているかどうかを確認することにより、自動フェールオーバーをサポートします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-213">The witness supports automatic failover by verifying whether the principal server is up and functioning.</span></span> <span data-ttu-id="ccfdd-214">ミラー サーバーが自動フェールオーバーを開始するのは、ミラー サーバーとミラーリング監視サーバーの両方がプリンシパル サーバーから切断された後、そのまま相互に接続されている場合だけです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-214">The mirror server initiates automatic failover only if the mirror and the witness remain connected to each other after both have been disconnected from the principal server.</span></span>  
  
 <span data-ttu-id="ccfdd-215">次の図に、ミラーリング監視サーバーを含めた構成を示します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-215">The following illustration shows a configuration that includes a witness.</span></span>  
  
 <span data-ttu-id="ccfdd-216">![ミラーリング監視を含むミラーリング セッション](../media/dbm-3-way-session-intro-ov.gif "ミラーリング監視を含むミラーリング セッション")</span><span class="sxs-lookup"><span data-stu-id="ccfdd-216">![A mirroring session that includes a witness](../media/dbm-3-way-session-intro-ov.gif "A mirroring session that includes a witness")</span></span>  
  
 <span data-ttu-id="ccfdd-217">詳細については、このトピックの「 [役割の交代](#RoleSwitching)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-217">For more information, see [Role Switching](#RoleSwitching), later in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ccfdd-218">新しいミラーリング セッションを確立したり、既存のミラーリング構成にミラーリング監視サーバーを追加したりするには、関係するすべてのサーバー インスタンスが同じバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]を実行している必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-218">Establishing a new mirroring session or adding a witness to an existing mirroring configuration requires that all involved server instances run the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ccfdd-219">ただし、 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 以降のバージョンにアップグレードする際には、関係するインスタンスのバージョンが必ずしも同じバージョンであるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-219">However, when you are upgrading to [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or a later version, the versions of the involved instances can vary.</span></span> <span data-ttu-id="ccfdd-220">詳しくは、「 [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-220">For more information, see [Minimize Downtime for Mirrored Databases When Upgrading Server Instances](upgrading-mirrored-instances.md).</span></span>  
  
####  <a name="transaction-safety-and-operating-modes"></a><a name="TxnSafety"></a> <span data-ttu-id="ccfdd-221">トランザクションの安全性と動作モード</span><span class="sxs-lookup"><span data-stu-id="ccfdd-221">Transaction Safety and Operating Modes</span></span>  
 <span data-ttu-id="ccfdd-222">動作モードは、トランザクションの安全性の設定によって、同期または非同期のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-222">Whether an operating mode is asynchronous or synchronous depends on the transaction safety setting.</span></span> <span data-ttu-id="ccfdd-223">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] だけを使用してデータベース ミラーリングを構成する場合、動作モードを選択するとトランザクションの安全性の設定が自動的に構成されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-223">If you exclusively use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to configure database mirroring, transaction safety settings are configured automatically when you select the operation mode.</span></span>  
  
 <span data-ttu-id="ccfdd-224">[!INCLUDE[tsql](../../includes/tsql-md.md)] を使用してデータベース ミラーリングを構成する場合は、トランザクションの安全性の設定方法を理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-224">If you use [!INCLUDE[tsql](../../includes/tsql-md.md)] to configure database mirroring, you must understand how to set transaction safety.</span></span> <span data-ttu-id="ccfdd-225">トランザクションの安全性は、ALTER DATABASE ステートメントの SAFETY プロパティにより制御されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-225">Transaction safety is controlled by the SAFETY property of the ALTER DATABASE statement.</span></span> <span data-ttu-id="ccfdd-226">ミラー化されるデータベースでは、SAFETY は FULL または OFF になります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-226">On a database that is being mirrored, SAFETY is either FULL or OFF.</span></span>  
  
-   <span data-ttu-id="ccfdd-227">SAFETY オプションが FULL に設定されている場合、初期同期フェーズの後、データベース ミラーリング動作が同期されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-227">If the SAFETY option is set to FULL, database mirroring operation is synchronous, after the initial synchronizing phase.</span></span> <span data-ttu-id="ccfdd-228">ミラーリング監視サーバーが高い安全性モードに設定されている場合、セッションでは自動フェールオーバーがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-228">If a witness is set in high-safety mode, the session supports automatic failover.</span></span>  
  
-   <span data-ttu-id="ccfdd-229">SAFETY オプションを OFF に設定している場合、データベース ミラーリング動作は非同期になります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-229">If the SAFETY option is set to OFF, database mirroring operation is asynchronous.</span></span> <span data-ttu-id="ccfdd-230">セッションは高パフォーマンス モードで実行され、WITNESS オプションを OFF にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-230">The session runs in high-performance mode, and the WITNESS option should also be OFF.</span></span>  
  
 <span data-ttu-id="ccfdd-231">詳しくは、「 [Database Mirroring Operating Modes](database-mirroring-operating-modes.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-231">For more information, see [Database Mirroring Operating Modes](database-mirroring-operating-modes.md).</span></span>  
  
###  <a name="role-switching"></a><a name="RoleSwitching"></a> <span data-ttu-id="ccfdd-232">役割の交代</span><span class="sxs-lookup"><span data-stu-id="ccfdd-232">Role Switching</span></span>  
 <span data-ttu-id="ccfdd-233">データベース ミラーリング セッションでは、 *役割の交代*という処理により、一般的にプリンシパルとミラーの役割を相互交換できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-233">Within the context of a database mirroring session, the principal and mirror roles are typically interchangeable in a process known as *role switching*.</span></span> <span data-ttu-id="ccfdd-234">役割の交代では、プリンシパルの役割がミラー サーバーに移行されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-234">Role switching involves transferring the principal role to the mirror server.</span></span> <span data-ttu-id="ccfdd-235">役割の交代では、ミラー サーバーがプリンシパル サーバーの *フェールオーバー パートナー* として動作します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-235">In role switching, the mirror server acts as the *failover partner* for the principal server.</span></span> <span data-ttu-id="ccfdd-236">役割の交代が発生すると、ミラー サーバーがプリンシパルの役割を継承し、データベースのコピーがプリンシパル データベースとしてオンラインになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-236">When a role switch occurs, the mirror server takes over the principal role and brings its copy of the database online as the new principal database.</span></span> <span data-ttu-id="ccfdd-237">以前のプリンシパル サーバーは利用可能であればミラーの役割を担い、サーバー内のデータベースを新しいミラー データベースにします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-237">The former principal server, if available, assumes the mirror role, and its database becomes the new mirror database.</span></span> <span data-ttu-id="ccfdd-238">場合によっては、役割を何度も交代できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-238">Potentially, the roles can switch back and forth repeatedly.</span></span>  
  
 <span data-ttu-id="ccfdd-239">役割の交代には次の 3 つの形態があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-239">The following three forms of role switching exist.</span></span>  
  
-   <span data-ttu-id="ccfdd-240">*Automatic failover*</span><span class="sxs-lookup"><span data-stu-id="ccfdd-240">*Automatic failover*</span></span>  
  
     <span data-ttu-id="ccfdd-241">これには高い安全性モードが必要で、ミラー サーバーとミラーリング監視サーバーが存在している必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-241">This requires high-safety mode and the presence of the mirror server and a witness.</span></span> <span data-ttu-id="ccfdd-242">データベースは既に同期されている必要があり、ミラーリング監視サーバーはミラー サーバーに接続している必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-242">The database must already be synchronized, and the witness must be connected to the mirror server.</span></span>  
  
     <span data-ttu-id="ccfdd-243">ミラーリング監視サーバーの役割は、特定のパートナー サーバーが稼働しているかどうかを確認することです。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-243">The role of the witness is to verify whether a given partner server is up and functioning.</span></span> <span data-ttu-id="ccfdd-244">ミラー サーバーがプリンシパル サーバーへの接続を失っても、ミラーリング監視サーバーがそのままプリンシパル サーバーに接続している場合、ミラー サーバーはフェールオーバーを開始しません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-244">If the mirror server loses its connection to the principal server but the witness is still connected to the principal server, the mirror server does not initiate a failover.</span></span> <span data-ttu-id="ccfdd-245">詳細については、「 [データベース ミラーリング監視サーバー](database-mirroring-witness.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-245">For more information, see [Database Mirroring Witness](database-mirroring-witness.md).</span></span>  
  
-   <span data-ttu-id="ccfdd-246">*手動フェールオーバー*</span><span class="sxs-lookup"><span data-stu-id="ccfdd-246">*Manual failover*</span></span>  
  
     <span data-ttu-id="ccfdd-247">これには高い安全性モードが必要です。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-247">This requires high-safety mode.</span></span> <span data-ttu-id="ccfdd-248">パートナーは互いに接続されている必要があり、データベースは既に同期されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-248">The partners must be connected to each other, and the database must already be synchronized.</span></span>  
  
-   <span data-ttu-id="ccfdd-249">*サービスの強制* (データ損失の可能性あり)</span><span class="sxs-lookup"><span data-stu-id="ccfdd-249">*Forced service* (with possible data loss)</span></span>  
  
     <span data-ttu-id="ccfdd-250">自動フェールオーバーを伴わない高パフォーマンス モードと高い安全性モードでは、プリンシパル サーバーで障害が発生し、ミラー サーバーが使用可能な場合、サービスの強制が可能です。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-250">Under high-performance mode and high-safety mode without automatic failover, forcing service is possible if the principal server has failed and the mirror server is available.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="ccfdd-251">高パフォーマンス モードは、ミラーリング監視サーバーなしでの実行を想定しています。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-251">High-performance mode is intended to run without a witness.</span></span> <span data-ttu-id="ccfdd-252">ミラーリング監視サーバーが存在する場合、サービスの強制を行うにはミラーリング監視サーバーがミラー サーバーに接続している必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-252">But if a witness exists, forcing service requires that the witness is connected to the mirror server.</span></span>  
  
 <span data-ttu-id="ccfdd-253">どの役割交代シナリオでも、新しいプリンシパル データベースがオンラインになると、クライアント アプリケーションはデータベースに再接続することにより即座に復旧できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-253">In any role-switching scenario, as soon as the new principal database comes online, the client applications can recover quickly by reconnecting to the database.</span></span>  
  
###  <a name="concurrent-sessions"></a><a name="ConcurrentSessions"></a> <span data-ttu-id="ccfdd-254">同時実行セッション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-254">Concurrent Sessions</span></span>  
 <span data-ttu-id="ccfdd-255">特定のサーバー インスタンスを、同じサーバー インスタンスまたは別のサーバー インスタンスを含む複数の同時実行データベース ミラーリング セッションに (ミラー化されたデータベースごとに 1 回) 参加させることができます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-255">A given server instance can participate in multiple, concurrent database mirroring sessions (once per mirrored database) with the same or different server instances.</span></span> <span data-ttu-id="ccfdd-256">多くの場合、サーバー インスタンスは、パートナーまたはミラーリング監視サーバーとしてすべてのデータベース ミラーリング セッション内で排他的に機能します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-256">Often, a server instance serves exclusively as a partner or a witness in all of its database mirroring sessions.</span></span> <span data-ttu-id="ccfdd-257">ただし、各セッションはその他のセッションから独立しているので、サーバー インスタンスは一部のセッションではパートナーとして機能し、それ以外のセッションではミラーリング監視サーバーとして機能することができます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-257">However, because each session is independent of the other sessions, a server instance can act as a partner in some sessions and as a witness in other sessions.</span></span> <span data-ttu-id="ccfdd-258">たとえば、3 つのサーバー インスタンス (`SSInstance_1`、 `SSInstance_2`、および `SSInstance_3`) の間に次の 4 つのセッションがあるとします。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-258">For example, consider the following four sessions among three server instances (`SSInstance_1`, `SSInstance_2`, and `SSInstance_3`).</span></span> <span data-ttu-id="ccfdd-259">各サーバー インスタンスは、一部のセッションではパートナーとして機能し、それ以外のセッションではミラーリング監視サーバーとして機能します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-259">Each server instance serves as a partner in some sessions and as a witness in others:</span></span>  
  
|<span data-ttu-id="ccfdd-260">サーバー インスタンス</span><span class="sxs-lookup"><span data-stu-id="ccfdd-260">Server instance</span></span>|<span data-ttu-id="ccfdd-261">データベース A のセッション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-261">Session for database A</span></span>|<span data-ttu-id="ccfdd-262">データベース B のセッション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-262">Session for database B</span></span>|<span data-ttu-id="ccfdd-263">データベース C のセッション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-263">Session for database C</span></span>|<span data-ttu-id="ccfdd-264">データベース D のセッション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-264">Session for database D</span></span>|  
|---------------------|----------------------------|----------------------------|----------------------------|----------------------------|  
|`SSInstance_1`|<span data-ttu-id="ccfdd-265">ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-265">Witness</span></span>|<span data-ttu-id="ccfdd-266">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-266">Partner</span></span>|<span data-ttu-id="ccfdd-267">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-267">Partner</span></span>|<span data-ttu-id="ccfdd-268">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-268">Partner</span></span>|  
|`SSInstance_2`|<span data-ttu-id="ccfdd-269">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-269">Partner</span></span>|<span data-ttu-id="ccfdd-270">ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-270">Witness</span></span>|<span data-ttu-id="ccfdd-271">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-271">Partner</span></span>|<span data-ttu-id="ccfdd-272">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-272">Partner</span></span>|  
|`SSInstance_3`|<span data-ttu-id="ccfdd-273">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-273">Partner</span></span>|<span data-ttu-id="ccfdd-274">Partner</span><span class="sxs-lookup"><span data-stu-id="ccfdd-274">Partner</span></span>|<span data-ttu-id="ccfdd-275">ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-275">Witness</span></span>|<span data-ttu-id="ccfdd-276">ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-276">Witness</span></span>|  
  
 <span data-ttu-id="ccfdd-277">次の図に、2 つのミラーリング セッションに共にパートナーとして参加している 2 つのサーバー インスタンスを示します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-277">The following figure illustrates two server instances that are participating as partners together in two mirroring sessions.</span></span> <span data-ttu-id="ccfdd-278">一方のセッションは **Db_1**というデータベース用で、もう一方のセッションは **Db_2**というデータベース用です。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-278">One session is for a database named **Db_1**, and the other session is for a database named **Db_2**.</span></span>  
  
 <span data-ttu-id="ccfdd-279">![2 つの同時実行セッションにおける 2 つのサーバー インスタンス](../media/dbm-concurrent-sessions.gif "2 つの同時実行セッションにおける 2 つのサーバー インスタンス")</span><span class="sxs-lookup"><span data-stu-id="ccfdd-279">![Two server instances in two concurrent sessions](../media/dbm-concurrent-sessions.gif "Two server instances in two concurrent sessions")</span></span>  
  
 <span data-ttu-id="ccfdd-280">それぞれのデータベースは互いに独立しています。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-280">Each of the databases is independent of the others.</span></span> <span data-ttu-id="ccfdd-281">たとえば、1 つのサーバー インスタンスが最初は 2 つのデータベースのミラー サーバーである場合があります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-281">For example, a server instance might initially be the mirror server for two databases.</span></span> <span data-ttu-id="ccfdd-282">2 つのデータベースのいずれかでフェールオーバーが発生すると、そのサーバー インスタンスはもう一方のデータベースのミラー サーバーのまま、フェールオーバーしたデータベースのプリンシパル サーバーになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-282">If one of those databases fails over, the server instance becomes the principal server for the failed-over database while remaining the mirror server for the other database.</span></span>  
  
 <span data-ttu-id="ccfdd-283">別の例として、自動フェールオーバーを伴う高い安全性モードで実行されている複数のデータベースのプリンシパル サーバーであるサーバー インスタンスを考えてみます。このインスタンスに障害が発生した場合、すべてのデータベースが自動的にそれぞれのミラー データベースにフェールオーバーされます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-283">As another example, consider a server instance that is the principal server for two or more databases running in high-safety mode with automatic failover, If the server instance fails, all of the databases automatically failover to their respective mirror databases.</span></span>  
  
 <span data-ttu-id="ccfdd-284">あるサーバー インスタンスをパートナーとしてもミラーリング監視サーバーとしても動作するように構成するときは、データベース ミラーリング エンドポイントで 2 つの役割がサポートされるようにしてください (詳細については、「 [データベース ミラーリング エンドポイント &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md))。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-284">When setting up a server instance to operate both as a partner and a witness, be sure that the database mirroring endpoint supports both roles (for more information, see [The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md)).</span></span> <span data-ttu-id="ccfdd-285">また、リソースの競合を回避するため、システムに十分なリソースを確保してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-285">Also, ensure that the system has sufficient resources to reduce resource contention.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ccfdd-286">ミラー化したデータベースは互いに独立しているので、データベースをグループとしてフェールオーバーすることはできません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-286">Because mirrored databases are independent of each other, databases cannot fail over as a group.</span></span>  
  
###  <a name="client-connections"></a><a name="ClientConnections"></a> <span data-ttu-id="ccfdd-287">クライアント接続</span><span class="sxs-lookup"><span data-stu-id="ccfdd-287">Client Connections</span></span>  
 <span data-ttu-id="ccfdd-288">データベース ミラーリング セッションのクライアント接続サポートは、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]によって提供されます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-288">Client-connection support for database mirroring sessions is provided by the [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ccfdd-289">詳細については、このトピックの「 [データベース ミラーリング セッションへのクライアントの接続 &#40;SQL Server&#41;](connect-clients-to-a-database-mirroring-session-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-289">For more information, see [Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;](connect-clients-to-a-database-mirroring-session-sql-server.md).</span></span>  
  
###  <a name="impact-of-pausing-a-session-on-the-principal-transaction-log"></a><a name="ImpactOfPausing"></a> <span data-ttu-id="ccfdd-290">プリンシパルのトランザクション ログに対するセッションの一時停止の影響</span><span class="sxs-lookup"><span data-stu-id="ccfdd-290">Impact of Pausing a Session on the Principal Transaction Log</span></span>  
 <span data-ttu-id="ccfdd-291">データベース所有者はいつでもセッションを一時停止できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-291">At any time, the database owner can pause a session.</span></span> <span data-ttu-id="ccfdd-292">一時停止では、ミラーリングは削除されますが、セッションの状態は保たれます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-292">Pausing preserves the session state while removing mirroring.</span></span> <span data-ttu-id="ccfdd-293">セッションが一時停止すると、プリンシパル サーバーからミラー サーバーに新しいログ レコードが送信されなくなります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-293">When a session is paused, the principal server does not send any new log records to the mirror server.</span></span> <span data-ttu-id="ccfdd-294">これらのレコードはすべてアクティブなままになり、プリンシパル データベースのトランザクション ログに蓄積されていきます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-294">All of these records remain active and accumulate in the transaction log of the principal database.</span></span> <span data-ttu-id="ccfdd-295">データベース ミラーリング セッションが一時停止している限り、トランザクション ログを切り捨てることはできません。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-295">As long as a database mirroring session remains paused, the transaction log cannot be truncated.</span></span> <span data-ttu-id="ccfdd-296">したがって、データベース ミラーリング セッションが長時間一時停止になっていると、ログがいっぱいになります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-296">Therefore, if the database mirroring session is paused for too long, the log can fill up.</span></span>  
  
 <span data-ttu-id="ccfdd-297">詳細については、このトピックの「 [データベース ミラーリングの一時停止と再開 &#40;SQL Server&#41;](database-mirroring-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-297">For more information, see [Pausing and Resuming Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
##  <a name="setting-up-database-mirroring-session"></a><a name="SettingUpDbmSession"></a> <span data-ttu-id="ccfdd-298">データベース ミラーリング セッションの設定</span><span class="sxs-lookup"><span data-stu-id="ccfdd-298">Setting Up Database Mirroring Session</span></span>  
 <span data-ttu-id="ccfdd-299">ミラーリング セッションを開始するには、あらかじめデータベース所有者またはシステム管理者がミラー データベースを作成し、エンドポイントおよびログインを構成する必要があります。また、場合によっては証明書を作成および構成する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-299">Before a mirroring session can begin, the database owner or system administrator must create the mirror database, set up endpoints and logins, and, in some cases, create and set up certificates.</span></span> <span data-ttu-id="ccfdd-300">詳細については、このトピックの「 [データベース ミラーリングの設定 &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-300">For more information, see [Setting Up Database Mirroring &#40;SQL Server&#41;](setting-up-database-mirroring-sql-server.md).</span></span>  
  
##  <a name="interoperability-and-coexistence-with-other-database-engine-features"></a><a name="InterOp"></a> <span data-ttu-id="ccfdd-301">その他のデータベース エンジン機能との相互運用性と共存</span><span class="sxs-lookup"><span data-stu-id="ccfdd-301">Interoperability and Coexistence with Other Database Engine Features</span></span>  
 <span data-ttu-id="ccfdd-302">データベース ミラーリングは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の次の機能またはコンポーネントと共に使用できます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-302">Database mirroring can be used with the following features or components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   [<span data-ttu-id="ccfdd-303">ログ配布</span><span class="sxs-lookup"><span data-stu-id="ccfdd-303">Log shipping</span></span>](database-mirroring-and-log-shipping-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-304">フルテキスト カタログ</span><span class="sxs-lookup"><span data-stu-id="ccfdd-304">Full-text catalogs</span></span>](database-mirroring-and-full-text-catalogs-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-305">データベース スナップショット</span><span class="sxs-lookup"><span data-stu-id="ccfdd-305">Database snapshots</span></span>](../../relational-databases/databases/database-snapshots-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-306">レプリケーション</span><span class="sxs-lookup"><span data-stu-id="ccfdd-306">Replication</span></span>](database-mirroring-and-replication-sql-server.md)  
  
##  <a name="in-this-section"></a><a name="InThisSection"></a> <span data-ttu-id="ccfdd-307">トピックの内容</span><span class="sxs-lookup"><span data-stu-id="ccfdd-307">In This Section</span></span>  
 [<span data-ttu-id="ccfdd-308">データベース ミラーリングの前提条件、制限事項、推奨事項</span><span class="sxs-lookup"><span data-stu-id="ccfdd-308">Prerequisites, Restrictions, and Recommendations for Database Mirroring</span></span>](prerequisites-restrictions-and-recommendations-for-database-mirroring.md)  
 <span data-ttu-id="ccfdd-309">データベース ミラーリングを設定するための前提条件と推奨事項について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-309">Describes the prerequisites and recommendations for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="ccfdd-310">Database Mirroring Operating Modes</span><span class="sxs-lookup"><span data-stu-id="ccfdd-310">Database Mirroring Operating Modes</span></span>](database-mirroring-operating-modes.md)  
 <span data-ttu-id="ccfdd-311">データベース ミラーリング セッションの同期動作モードおよび非同期動作モードと、データベース ミラーリング セッション中のパートナーの役割交代について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-311">Contains information about the synchronous and asynchronous operating modes for database mirroring sessions, and about switching partner roles during a database mirroring session.</span></span>  
  
 [<span data-ttu-id="ccfdd-312">データベース ミラーリング監視サーバー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-312">Database Mirroring Witness</span></span>](database-mirroring-witness.md)  
 <span data-ttu-id="ccfdd-313">データベース ミラーリングにおけるミラーリング監視サーバーの役割、複数のミラーリング セッションで 1 つのミラーリング監視サーバーを使用する方法、ミラーリング監視用のソフトウェアとハードウェアの推奨事項、および自動フェールオーバーにおけるミラーリング監視サーバーの役割について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-313">Describes the role of a witness in database mirroring, how to use a single witness in multiple mirroring sessions, software and hardware recommendations for witnesses, and the role of the witness in automatic failover.</span></span> <span data-ttu-id="ccfdd-314">また、ミラーリング監視サーバーの追加または削除に関する情報も含まれます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-314">It also contains information about adding or removing a witness.</span></span>  
  
 [<span data-ttu-id="ccfdd-315">データベース ミラーリング セッション中の役割の交代 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-315">Role Switching During a Database Mirroring Session &#40;SQL Server&#41;</span></span>](role-switching-during-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="ccfdd-316">自動フェールオーバー、手動フェールオーバー、および強制的なサービスの起動 (データ損失の可能性あり) を含む、データベース ミラーリング セッション中のパートナーの役割交代について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-316">Contains information about switching partner roles during a database mirroring session, including automatic failover, manual failover, and forced service (with possible data loss).</span></span> <span data-ttu-id="ccfdd-317">役割の交代中に発生するサービスの中断時間の算出についても説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-317">Also, contains information about estimating the interruption of service during role switching.</span></span>  
  
 [<span data-ttu-id="ccfdd-318">データベース ミラーリング中に発生する可能性のあるエラー</span><span class="sxs-lookup"><span data-stu-id="ccfdd-318">Possible Failures During Database Mirroring</span></span>](possible-failures-during-database-mirroring.md)  
 <span data-ttu-id="ccfdd-319">データベース ミラーリング セッションの失敗の原因となる物理的な問題、オペレーティング システムの問題、および [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の問題 (ハード エラーとソフト エラーを含む) について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-319">Discusses physical, operating system, and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] problems, including hard errors and soft errors, that can cause a failure in a database mirroring session.</span></span> <span data-ttu-id="ccfdd-320">ミラーリング タイムアウト メカニズムがソフト エラーに対応する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-320">Discusses how the mirroring time-out mechanism responds to soft errors.</span></span>  
  
 [<span data-ttu-id="ccfdd-321">データベース ミラーリング エンドポイント &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-321">The Database Mirroring Endpoint &#40;SQL Server&#41;</span></span>](the-database-mirroring-endpoint-sql-server.md)  
 <span data-ttu-id="ccfdd-322">データベース ミラーリング エンドポイントがどのように機能するかについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-322">Discusses how the database mirroring endpoint functions.</span></span>  
  
 [<span data-ttu-id="ccfdd-323">データベース ミラーリングの設定 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-323">Setting Up Database Mirroring &#40;SQL Server&#41;</span></span>](setting-up-database-mirroring-sql-server.md)  
 <span data-ttu-id="ccfdd-324">データベース ミラーリングを設定するための前提条件、推奨事項、および手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-324">Contains topics about the prerequisites, recommendations, and steps for setting up database mirroring.</span></span>  
  
 [<span data-ttu-id="ccfdd-325">データベース ミラーリング セッションへのクライアントの接続 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-325">Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;</span></span>](connect-clients-to-a-database-mirroring-session-sql-server.md)  
 <span data-ttu-id="ccfdd-326">クライアントの接続文字列の属性と、ミラー化されたデータベースにクライアントを接続および再接続するためのアルゴリズムについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-326">Contains topics covering client connection-string attributes and the algorithms for connecting and reconnecting a client to a mirrored database.</span></span>  
  
 [<span data-ttu-id="ccfdd-327">データベース ミラーリングの一時停止と再開 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-327">Pausing and Resuming Database Mirroring &#40;SQL Server&#41;</span></span>](database-mirroring-sql-server.md)  
 <span data-ttu-id="ccfdd-328">データベース ミラーリングを一時停止するとどのような状態になるのか (トランザクション ログの切り捨てに与える影響を含む) について説明します。データベース ミラーリングを一時停止および再開する方法の説明も含まれます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-328">Discusses what happens while database mirroring is paused, including the impact on transaction log truncation, and contains descriptions about how to pause and resume database mirroring.</span></span>  
  
 [<span data-ttu-id="ccfdd-329">データベース ミラーリングの削除 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-329">Removing Database Mirroring &#40;SQL Server&#41;</span></span>](removing-database-mirroring-sql-server.md)  
 <span data-ttu-id="ccfdd-330">ミラーリングの削除による影響について説明します。セッションを終了する方法の説明も含まれます。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-330">Discusses the impact of removing mirroring and contains descriptions about how to end a session</span></span>  
  
 [<span data-ttu-id="ccfdd-331">データベース ミラーリングの監視 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-331">Monitoring Database Mirroring &#40;SQL Server&#41;</span></span>](monitoring-database-mirroring-sql-server.md)  
 <span data-ttu-id="ccfdd-332">データベース ミラーリング モニターまたは **dbmmonitor** ストアド プロシージャを使用したデータベース ミラーリングまたはセッションの監視について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccfdd-332">Contains information about using Database Mirroring Monitor or the **dbmmonitor** stored procedures to monitor database mirroring or sessions.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="ccfdd-333">関連タスク</span><span class="sxs-lookup"><span data-stu-id="ccfdd-333">Related Tasks</span></span>  
  
### <a name="configuration-tasks"></a><span data-ttu-id="ccfdd-334">構成のタスク</span><span class="sxs-lookup"><span data-stu-id="ccfdd-334">Configuration Tasks</span></span>  
 <span data-ttu-id="ccfdd-335">**SQL Server Management Studio の使用**</span><span class="sxs-lookup"><span data-stu-id="ccfdd-335">**Using SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="ccfdd-336">データベース ミラーリング セキュリティ構成ウィザードの起動 &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-336">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
-   [<span data-ttu-id="ccfdd-337">Windows 認証を使用してデータベース ミラーリング セッションを確立する &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-337">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
 <span data-ttu-id="ccfdd-338">**Transact-SQL の使用**</span><span class="sxs-lookup"><span data-stu-id="ccfdd-338">**Using Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="ccfdd-339">Windows 認証を使用してデータベース ミラーリング エンドポイントへのネットワーク アクセスを許可する &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-339">Allow Network Access to a Database Mirroring Endpoint Using Windows Authentication &#40;SQL Server&#41;</span></span>](../database-mirroring-allow-network-access-windows-authentication.md)  
  
-   [<span data-ttu-id="ccfdd-340">データベース ミラーリング エンドポイントで発信接続に証明書を使用できるようにする &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-340">Allow a Database Mirroring Endpoint to Use Certificates for Outbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-outbound-connections.md)  
  
-   [<span data-ttu-id="ccfdd-341">データベース ミラーリング エンドポイントで着信接続に証明書を使用できるようにする &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-341">Allow a Database Mirroring Endpoint to Use Certificates for Inbound Connections &#40;Transact-SQL&#41;</span></span>](database-mirroring-use-certificates-for-inbound-connections.md)  
  
-   [<span data-ttu-id="ccfdd-342">Windows 認証でのデータベース ミラーリング エンドポイントの作成 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-342">Create a Database Mirroring Endpoint for Windows Authentication &#40;Transact-SQL&#41;</span></span>](create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="ccfdd-343">Windows 認証を使用してデータベース ミラーリング セッションを確立する方法 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-343">Establish a Database Mirroring Session Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](database-mirroring-establish-session-windows-authentication.md)  
  
-   [<span data-ttu-id="ccfdd-344">Windows 認証を使用してデータベースのミラーリング監視を追加する &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-344">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="ccfdd-345">TRUSTWORTHY プロパティを使用するようにミラー データベースを設定する方法 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-345">Set Up a Mirror Database to Use the Trustworthy Property &#40;Transact-SQL&#41;</span></span>](set-up-a-mirror-database-to-use-the-trustworthy-property-transact-sql.md)  
  
 <span data-ttu-id="ccfdd-346">**Transact-SQL または SQL Server Management Studio の使用**</span><span class="sxs-lookup"><span data-stu-id="ccfdd-346">**Using Transact-SQL or SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="ccfdd-347">サーバー インスタンスのアップグレード時に、ミラー化されたデータベースのダウンタイムを最小化する方法</span><span class="sxs-lookup"><span data-stu-id="ccfdd-347">Minimize Downtime for Mirrored Databases When Upgrading Server Instances</span></span>](upgrading-mirrored-instances.md)  
  
-   [<span data-ttu-id="ccfdd-348">ミラーリングのためのミラー データベースの準備 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-348">Prepare a Mirror Database for Mirroring &#40;SQL Server&#41;</span></span>](prepare-a-mirror-database-for-mirroring-sql-server.md)  
  
### <a name="administrative-tasks"></a><span data-ttu-id="ccfdd-349">管理タスク</span><span class="sxs-lookup"><span data-stu-id="ccfdd-349">Administrative Tasks</span></span>  
 <span data-ttu-id="ccfdd-350">**Transact-SQL**</span><span class="sxs-lookup"><span data-stu-id="ccfdd-350">**Transact-SQL**</span></span>  
  
-   [<span data-ttu-id="ccfdd-351">データベース ミラーリング セッションでのトランザクションの安全性の変更 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-351">Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="ccfdd-352">データベース ミラーリング セッションを手動でフェールオーバーする方法 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-352">Manually Fail Over a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](manually-fail-over-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="ccfdd-353">データベース ミラーリング セッションでのサービスを強制する &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-353">Force Service in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](force-service-in-a-database-mirroring-session-transact-sql.md)  
  
-   [<span data-ttu-id="ccfdd-354">データベース ミラーリング セッションを一時停止または再開する &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-354">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-355">データベース ミラーリング セッションからのミラーリング監視サーバーの削除 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-355">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-356">データベース ミラーリングを削除する &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-356">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
 <span data-ttu-id="ccfdd-357">**SQL Server Management Studio**</span><span class="sxs-lookup"><span data-stu-id="ccfdd-357">**SQL Server Management Studio**</span></span>  
  
-   [<span data-ttu-id="ccfdd-358">データベース ミラーリング監視サーバーを追加または置き換える方法 &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-358">Add or Replace a Database Mirroring Witness &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/add-or-replace-a-database-mirroring-witness-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="ccfdd-359">データベース ミラーリング セッションを手動でフェールオーバーする方法 &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-359">Manually Fail Over a Database Mirroring Session &#40;SQL Server Management Studio&#41;</span></span>](manually-fail-over-a-database-mirroring-session-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="ccfdd-360">データベース ミラーリング セッションを一時停止または再開する &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-360">Pause or Resume a Database Mirroring Session &#40;SQL Server&#41;</span></span>](pause-or-resume-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-361">データベース ミラーリング セッションからのミラーリング監視サーバーの削除 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-361">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="ccfdd-362">データベース ミラーリングを削除する &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-362">Remove Database Mirroring &#40;SQL Server&#41;</span></span>](remove-database-mirroring-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="ccfdd-363">参照</span><span class="sxs-lookup"><span data-stu-id="ccfdd-363">See Also</span></span>  
 <span data-ttu-id="ccfdd-364">[データベース ミラーリング エンドポイント &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-364">[The Database Mirroring Endpoint &#40;SQL Server&#41;](the-database-mirroring-endpoint-sql-server.md) </span></span>  
 <span data-ttu-id="ccfdd-365">[可用性グループとデータベースミラーリングのための自動ページ修復 &#40;&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-365">[Automatic Page Repair &#40;For Availability Groups and Database Mirroring&#41;](../../sql-server/failover-clusters/automatic-page-repair-availability-groups-database-mirroring.md) </span></span>  
 <span data-ttu-id="ccfdd-366">[データベース ミラーリング構成のトラブルシューティング &#40;SQL Server&#41;](troubleshoot-database-mirroring-configuration-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-366">[Troubleshoot Database Mirroring Configuration &#40;SQL Server&#41;](troubleshoot-database-mirroring-configuration-sql-server.md) </span></span>  
 <span data-ttu-id="ccfdd-367">[データベース ミラーリング: 相互運用性と共存 &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-367">[Database Mirroring: Interoperability and Coexistence &#40;SQL Server&#41;](database-mirroring-interoperability-and-coexistence-sql-server.md) </span></span>  
 <span data-ttu-id="ccfdd-368">[データベース ミラーリングの前提条件、制限事項、推奨事項](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-368">[Prerequisites, Restrictions, and Recommendations for Database Mirroring](prerequisites-restrictions-and-recommendations-for-database-mirroring.md) </span></span>  
 <span data-ttu-id="ccfdd-369">[AlwaysOn 可用性グループ &#40;SQL Server の概要&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ccfdd-369">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="ccfdd-370">ログ配布について &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ccfdd-370">About Log Shipping &#40;SQL Server&#41;</span></span>](../log-shipping/about-log-shipping-sql-server.md)  
  
  
