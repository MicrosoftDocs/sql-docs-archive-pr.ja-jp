---
title: SQL Server 2014 | のデータベースエンジン機能の動作の変更Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- behavior changes [SQL Server]
- Database Engine [SQL Server], what's new
- Transact-SQL behavior changes
ms.assetid: 65eaafa1-9e06-4264-b547-cbee8013c995
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 9072b851f3512113b23dedc91f8c9b7151136a57
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87715714"
---
# <a name="behavior-changes-to-database-engine-features-in-sql-server-2014"></a><span data-ttu-id="6c8e0-102">SQL Server 2014 におけるデータベース エンジン機能の動作の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-102">Behavior Changes to Database Engine Features in SQL Server 2014</span></span>
  <span data-ttu-id="6c8e0-103">このトピックでは、[!INCLUDE[ssDE](../includes/ssde-md.md)]の動作変更について説明します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-103">This topic describes behavior changes in the [!INCLUDE[ssDE](../includes/ssde-md.md)].</span></span> <span data-ttu-id="6c8e0-104">動作変更によって、 [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] の機能や操作方法が [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]の以前のバージョンと異なっています。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-104">Behavior changes affect how features work or interact in [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] as compared to earlier versions of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="behavior-changes-in-sssql14"></a><a name="SQL14"></a><span data-ttu-id="6c8e0-105">での動作の変更[!INCLUDE[ssSQL14](../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6c8e0-105">Behavior Changes in [!INCLUDE[ssSQL14](../includes/sssql14-md.md)]</span></span>  
 <span data-ttu-id="6c8e0-106">以前のバージョンの [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] では、特定の長さ (4020 文字) を超える文字列を含む XML ドキュメントに対してクエリを実行すると、返される結果が正しくない場合があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-106">In earlier versions of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], queries against an XML document that contains strings over a certain length (more than 4020 characters) can return incorrect results.</span></span> <span data-ttu-id="6c8e0-107">[!INCLUDE[ssSQL14](../includes/sssql14-md.md)] では、このようなクエリから正しい結果が返されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-107">In [!INCLUDE[ssSQL14](../includes/sssql14-md.md)], such queries return the correct results.</span></span>  
  
## <a name="behavior-changes-in-sssql11"></a><a name="Denali"></a><span data-ttu-id="6c8e0-108">での動作の変更[!INCLUDE[ssSQL11](../includes/sssql11-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6c8e0-108">Behavior Changes in [!INCLUDE[ssSQL11](../includes/sssql11-md.md)]</span></span>  
  
### <a name="metadata-discovery"></a><span data-ttu-id="6c8e0-109">メタデータの検出</span><span class="sxs-lookup"><span data-stu-id="6c8e0-109">Metadata Discovery</span></span>  
 <span data-ttu-id="6c8e0-110">では、 [!INCLUDE[ssDE](../includes/ssde-md.md)] SQLDescribeCol が [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] 以前のバージョンので SQLDescribeCol によって返された結果よりも正確な説明を取得できるようになりました [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-110">Improvements in the [!INCLUDE[ssDE](../includes/ssde-md.md)] starting with [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] allow SQLDescribeCol to obtain more accurate descriptions of the expected results than those returned by SQLDescribeCol in previous versions of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6c8e0-111">詳細については、「[メタデータの検出](../relational-databases/native-client/features/metadata-discovery.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-111">For more information, see [Metadata Discovery](../relational-databases/native-client/features/metadata-discovery.md).</span></span>  
  
 <span data-ttu-id="6c8e0-112">実際にクエリを実行せずに応答の形式を決定するための[SET FMTONLY](/sql/t-sql/statements/set-fmtonly-transact-sql)オプションは[sp_describe_first_result_set &#40;transact-sql ](/sql/relational-databases/system-stored-procedures/sp-describe-first-result-set-transact-sql) [sp_describe_undeclared_parameters ](/sql/relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql)&#41;に置き換えられます。 transact-sql &#40;、 [sys ](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-describe-first-result-set-transact-sql)&#41;dm_exec_describe_first_result_set transact-sql &#40;、および&#41;dm_exec_describe_first_result_set_for_object [transact-sql &#40;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-describe-first-result-set-for-object-transact-sql)を&#41;します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-112">The [SET FMTONLY](/sql/t-sql/statements/set-fmtonly-transact-sql) option for determining the format of a response without actually running the query is replaced with [sp_describe_first_result_set &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-describe-first-result-set-transact-sql), [sp_describe_undeclared_parameters &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql), [sys.dm_exec_describe_first_result_set &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-describe-first-result-set-transact-sql), and [sys.dm_exec_describe_first_result_set_for_object &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-describe-first-result-set-for-object-transact-sql).</span></span>  
  
### <a name="changes-to-behavior-in-scripting-a-sql-server-agent-task"></a><span data-ttu-id="6c8e0-113">SQL Server エージェント タスクのスクリプト作成における動作の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-113">Changes to Behavior in Scripting a SQL Server Agent Task</span></span>  
<span data-ttu-id="6c8e0-114">以降では [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] 、既存のジョブからスクリプトをコピーして新しいジョブを作成した場合、新しいジョブが誤って既存のジョブに影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-114">Starting with [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], if you create a new job by copying the script from an existing job, the new job might inadvertently affect the existing job.</span></span> <span data-ttu-id="6c8e0-115">既存のジョブのスクリプトを使用して新しいジョブを作成するには、パラメーター \* \@ schedule_uid\*手動で削除します。通常は、既存のジョブでジョブスケジュールを作成するセクションの最後のパラメーターです。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-115">To create a new job using the script from an existing job, manually delete the parameter *\@schedule_uid* which is usually the last parameter of the section which creates the job schedule in the existing job.</span></span> <span data-ttu-id="6c8e0-116">これにより、既存のジョブに影響することなく、新しいジョブ用に別に新しいスケジュールが作成されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-116">This will create a new independent schedule for the new job without affecting existing jobs.</span></span>  
  
### <a name="constant-folding-for-clr-user-defined-functions-and-methods"></a><span data-ttu-id="6c8e0-117">CLR ユーザー定義関数およびメソッドの定数たたみ込み</span><span class="sxs-lookup"><span data-stu-id="6c8e0-117">Constant Folding for CLR User-Defined Functions and Methods</span></span>  
<span data-ttu-id="6c8e0-118">以降では [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] 、次のユーザー定義 CLR オブジェクトがたたみ込みされました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-118">Starting with [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], the following user-defined CLR objects are now foldable:</span></span>  

-   <span data-ttu-id="6c8e0-119">決定的スカラー値 CLR ユーザー定義関数</span><span class="sxs-lookup"><span data-stu-id="6c8e0-119">Deterministic scalar-valued CLR user-defined functions.</span></span>  
-   <span data-ttu-id="6c8e0-120">CLR ユーザー定義型の決定的メソッド</span><span class="sxs-lookup"><span data-stu-id="6c8e0-120">Deterministic methods of CLR user-defined types.</span></span>  
  
 <span data-ttu-id="6c8e0-121">この機能強化は、これらの関数またはメソッドが同じ引数で複数回呼び出されたときのパフォーマンスの向上を目的としています。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-121">This improvement seeks to enhance performance when these functions or methods are called more than once with the same arguments.</span></span> <span data-ttu-id="6c8e0-122">ただし、この変更により、非決定的関数またはメソッドが誤って決定的とマークされている場合に予期しない結果が生じる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-122">However, this change may cause unexpected results when non-deterministic functions or methods have been marked as deterministic in error.</span></span> <span data-ttu-id="6c8e0-123">CLR 関数またはメソッドが決定的であるかどうかは、`IsDeterministic` または `SqlFunctionAttribute` の `SqlMethodAttribute` プロパティの値によって示されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-123">The determinism of a CLR function or method is indicated by the value of the `IsDeterministic` property of the `SqlFunctionAttribute` or `SqlMethodAttribute`.</span></span>  
  
### <a name="behavior-of-stenvelope-method-has-changed-with-empty-spatial-types"></a><span data-ttu-id="6c8e0-124">空の空間型を指定された STEnvelope() メソッドの動作の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-124">Behavior of STEnvelope() Method Has Changed with Empty Spatial Types</span></span>  
 <span data-ttu-id="6c8e0-125">空のオブジェクトを指定された `STEnvelope` メソッドの動作が、他の [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 空間メソッドの動作と一致するようになりました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-125">The behavior of the `STEnvelope` method with empty objects is now consistent with the behavior of other [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] spatial methods.</span></span>  
  
 <span data-ttu-id="6c8e0-126">[!INCLUDE[ssKatmai](../includes/sskatmai-md.md)] では、空のオブジェクトを指定して `STEnvelope` メソッドを呼び出すと次の結果が返されました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-126">In [!INCLUDE[ssKatmai](../includes/sskatmai-md.md)], the `STEnvelope` method returned the following results when called with empty objects:</span></span>  
  
```sql  
SELECT geometry::Parse('POINT EMPTY').STEnvelope().ToString()  
-- returns POINT EMPTY  
SELECT geometry::Parse('LINESTRING EMPTY').STEnvelope().ToString()  
-- returns LINESTRING EMPTY  
SELECT geometry::Parse('POLYGON EMPTY').STEnvelope().ToString()  
-- returns POLYGON EMPTY  
```  
  
 <span data-ttu-id="6c8e0-127">[!INCLUDE[ssSQL11](../includes/sssql11-md.md)] では、空のオブジェクトを指定して `STEnvelope` メソッドを呼び出すと次の結果が返されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-127">In [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], the `STEnvelope` method now returns the following results when called with empty objects:</span></span>  
  
```sql  
SELECT geometry::Parse('POINT EMPTY').STEnvelope().ToString()  
-- returns GEOMETRYCOLLECTION EMPTY  
SELECT geometry::Parse('LINESTRING EMPTY').STEnvelope().ToString()  
-- returns GEOMETRYCOLLECTION EMPTY  
SELECT geometry::Parse('POLYGON EMPTY').STEnvelope().ToString()  
-- returns GEOMETRYCOLLECTION EMPTY  
```  
  
 <span data-ttu-id="6c8e0-128">空間オブジェクトが空かどうかを判断するには、 [STIsEmpty &#40;Geometry データ型&#41;](/sql/t-sql/spatial-geometry/stisempty-geometry-data-type)メソッドを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-128">To determine whether a spatial object is empty, call the [STIsEmpty &#40;geometry Data Type&#41;](/sql/t-sql/spatial-geometry/stisempty-geometry-data-type) method.</span></span>  
  
### <a name="log-function-has-new-optional-parameter"></a><span data-ttu-id="6c8e0-129">LOG 関数の省略可能なパラメーターの追加</span><span class="sxs-lookup"><span data-stu-id="6c8e0-129">LOG Function Has New Optional Parameter</span></span>  
 <span data-ttu-id="6c8e0-130">関数には、 `LOG` オプションの*基本*パラメーターが追加されました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-130">The `LOG` function now has an optional *base* parameter.</span></span> <span data-ttu-id="6c8e0-131">詳細については、「 [transact-sql&#41;のログ &#40;](/sql/t-sql/functions/log-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-131">For more information, see [LOG &#40;Transact-SQL&#41;](/sql/t-sql/functions/log-transact-sql).</span></span>  
  
### <a name="statistics-computation-during-partitioned-index-operations-has-changed"></a><span data-ttu-id="6c8e0-132">パーティション インデックス操作中の統計計算の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-132">Statistics Computation during Partitioned Index Operations Has Changed</span></span>  
<span data-ttu-id="6c8e0-133">では [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] 、パーティションインデックスが作成または再構築されるときに、テーブル内のすべての行をスキャンして統計を作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-133">In [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)], statistics are not created by scanning all rows in the table when a partitioned index is created or rebuilt.</span></span> <span data-ttu-id="6c8e0-134">代わりに、クエリ オプティマイザーが既定のサンプリング アルゴリズムを使用して統計を生成します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-134">Instead, the Query Optimizer uses the default sampling algorithm to generate statistics.</span></span> <span data-ttu-id="6c8e0-135">パーティション インデックスでデータベースをアップグレードした後で、これらのインデックスのヒストグラム データに違いが見つかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-135">After upgrading a database with partitioned indexes, you may notice a difference in the histogram data for these indexes.</span></span> <span data-ttu-id="6c8e0-136">この動作の変更はクエリ パフォーマンスに影響しない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-136">This change in behavior may not affect query performance.</span></span> <span data-ttu-id="6c8e0-137">テーブル内のすべての行をスキャンしてパーティション インデックスの統計を作成するには、`FULLSCAN` 句で `CREATE STATISTICS` または `UPDATE STATISTICS` を使用します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-137">To obtain statistics on partitioned indexes by scanning all the rows in the table, use `CREATE STATISTICS` or `UPDATE STATISTICS` with the `FULLSCAN` clause.</span></span>  
  
### <a name="data-type-conversion-by-the-xml-value-method-has-changed"></a><span data-ttu-id="6c8e0-138">XML value メソッドによるデータ型変換の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-138">Data Type Conversion by the XML value Method Has Changed</span></span>  
<span data-ttu-id="6c8e0-139">`value` データ型の `xml` メソッドの内部動作が変更になりました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-139">The internal behavior of the `value` method of the `xml` data type has changed.</span></span> <span data-ttu-id="6c8e0-140">このメソッドは、XML に対して XQuery を実行し、指定された [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] データ型のスカラー値を返します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-140">This method performs an XQuery against the XML and returns a scalar value of the specified [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] data type.</span></span> <span data-ttu-id="6c8e0-141">xs 型は [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] データ型に変換する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-141">The xs type has to be converted to the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] data type.</span></span> <span data-ttu-id="6c8e0-142">以前は、`value` メソッドが元の値を内部で xs:string に変換した後、その xs:string を [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] データ型に変換していました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-142">Previously, the `value` method internally converted the source value to an xs:string, then converted the xs:string to the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] data type.</span></span> <span data-ttu-id="6c8e0-143">[!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] では、次の場合に xs:string への変換がスキップされます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-143">In [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)], the conversion to xs:string is skipped in the following cases:</span></span>  
  
|<span data-ttu-id="6c8e0-144">元の XS データ型</span><span class="sxs-lookup"><span data-stu-id="6c8e0-144">Source XS data type</span></span>|<span data-ttu-id="6c8e0-145">変換後の SQL Server データ型</span><span class="sxs-lookup"><span data-stu-id="6c8e0-145">Destination SQL Server data type</span></span>|  
|-------------------------|--------------------------------------|  
|<span data-ttu-id="6c8e0-146">byte</span><span class="sxs-lookup"><span data-stu-id="6c8e0-146">byte</span></span><br /><br /> <span data-ttu-id="6c8e0-147">short</span><span class="sxs-lookup"><span data-stu-id="6c8e0-147">short</span></span><br /><br /> <span data-ttu-id="6c8e0-148">INT</span><span class="sxs-lookup"><span data-stu-id="6c8e0-148">int</span></span><br /><br /> <span data-ttu-id="6c8e0-149">整数 (integer)</span><span class="sxs-lookup"><span data-stu-id="6c8e0-149">integer</span></span><br /><br /> <span data-ttu-id="6c8e0-150">long</span><span class="sxs-lookup"><span data-stu-id="6c8e0-150">long</span></span><br /><br /> <span data-ttu-id="6c8e0-151">unsignedByte</span><span class="sxs-lookup"><span data-stu-id="6c8e0-151">unsignedByte</span></span><br /><br /> <span data-ttu-id="6c8e0-152">unsignedShort</span><span class="sxs-lookup"><span data-stu-id="6c8e0-152">unsignedShort</span></span><br /><br /> <span data-ttu-id="6c8e0-153">unsignedInt</span><span class="sxs-lookup"><span data-stu-id="6c8e0-153">unsignedInt</span></span><br /><br /> <span data-ttu-id="6c8e0-154">unsignedLong</span><span class="sxs-lookup"><span data-stu-id="6c8e0-154">unsignedLong</span></span><br /><br /> <span data-ttu-id="6c8e0-155">positiveInteger</span><span class="sxs-lookup"><span data-stu-id="6c8e0-155">positiveInteger</span></span><br /><br /> <span data-ttu-id="6c8e0-156">nonPositiveInteger</span><span class="sxs-lookup"><span data-stu-id="6c8e0-156">nonPositiveInteger</span></span><br /><br /> <span data-ttu-id="6c8e0-157">negativeInteger</span><span class="sxs-lookup"><span data-stu-id="6c8e0-157">negativeInteger</span></span><br /><br /> <span data-ttu-id="6c8e0-158">nonNegativeInteger</span><span class="sxs-lookup"><span data-stu-id="6c8e0-158">nonNegativeInteger</span></span>|<span data-ttu-id="6c8e0-159">tinyint</span><span class="sxs-lookup"><span data-stu-id="6c8e0-159">tinyint</span></span><br /><br /> <span data-ttu-id="6c8e0-160">smallint</span><span class="sxs-lookup"><span data-stu-id="6c8e0-160">smallint</span></span><br /><br /> <span data-ttu-id="6c8e0-161">INT</span><span class="sxs-lookup"><span data-stu-id="6c8e0-161">int</span></span><br /><br /> <span data-ttu-id="6c8e0-162">bigint</span><span class="sxs-lookup"><span data-stu-id="6c8e0-162">bigint</span></span><br /><br /> <span data-ttu-id="6c8e0-163">decimal</span><span class="sxs-lookup"><span data-stu-id="6c8e0-163">decimal</span></span><br /><br /> <span data-ttu-id="6c8e0-164">numeric</span><span class="sxs-lookup"><span data-stu-id="6c8e0-164">numeric</span></span>|  
|<span data-ttu-id="6c8e0-165">decimal</span><span class="sxs-lookup"><span data-stu-id="6c8e0-165">decimal</span></span>|<span data-ttu-id="6c8e0-166">decimal</span><span class="sxs-lookup"><span data-stu-id="6c8e0-166">decimal</span></span><br /><br /> <span data-ttu-id="6c8e0-167">numeric</span><span class="sxs-lookup"><span data-stu-id="6c8e0-167">numeric</span></span>|  
|<span data-ttu-id="6c8e0-168">float</span><span class="sxs-lookup"><span data-stu-id="6c8e0-168">float</span></span>|<span data-ttu-id="6c8e0-169">real</span><span class="sxs-lookup"><span data-stu-id="6c8e0-169">real</span></span>|  
|<span data-ttu-id="6c8e0-170">double</span><span class="sxs-lookup"><span data-stu-id="6c8e0-170">double</span></span>|<span data-ttu-id="6c8e0-171">float</span><span class="sxs-lookup"><span data-stu-id="6c8e0-171">float</span></span>|  
  
 <span data-ttu-id="6c8e0-172">この新しい動作により、中間の変換をスキップできるときのパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-172">The new behavior improves performance when the intermediate conversion can be skipped.</span></span> <span data-ttu-id="6c8e0-173">ただし、データ型変換が失敗した場合は、中間の xs:string 値からの変換で発生していたエラー メッセージとは異なるエラー メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-173">However, when data type conversions fail, you see different error messages than those that were raised when converting from the intermediate xs:string value.</span></span> <span data-ttu-id="6c8e0-174">たとえば、value メソッドが `int` 値 100000 から `smallint` への変換に失敗した場合、以前は次のようなエラー メッセージが表示されました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-174">For example, if the value method failed to convert the `int` value 100000 to a `smallint`, the previous error message was:</span></span>  
  
 `The conversion of the nvarchar value '100000' overflowed an INT2 column. Use a larger integer column.`  
  
 <span data-ttu-id="6c8e0-175">[!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] では、xs:string への中間の変換が行われず、次のようなエラー メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-175">In [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)], without the intermediate conversion to xs:string, the error message is:</span></span>  
  
 `Arithmetic overflow error converting expression to data type smallint.`  
  
### <a name="sqlcmdexe-behavior-change-in-xml-mode"></a><span data-ttu-id="6c8e0-176">XML モードでの sqlcmd.exe の動作変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-176">sqlcmd.exe Behavior Change in XML Mode</span></span>  
 <span data-ttu-id="6c8e0-177">SELECT \* from T FOR XML... を実行するときに XML モード (: XML ON コマンド) で sqlcmd.exe を使用すると、動作が変更されます。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-177">There are behavior changes if you use sqlcmd.exe with XML mode (:XML ON command) when executing a SELECT \* from T FOR XML ....</span></span>  
  
### <a name="dbcc-checkident-revised-message"></a><span data-ttu-id="6c8e0-178">DBCC CHECKIDENT のメッセージの変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-178">DBCC CHECKIDENT Revised Message</span></span>  
 <span data-ttu-id="6c8e0-179">では [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] 、DBCC CHECKIDENT コマンドによって返されるメッセージは、再シード*new_reseed_value*と共に使用して現在の id 値を変更した場合にのみ変更されました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-179">In [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], the message returned by the DBCC CHECKIDENT command has changed only when it is used with RESEED *new_reseed_value*  to change current identity value.</span></span> <span data-ttu-id="6c8e0-180">新しいメッセージは、 *"id 情報を確認しています: 現在の id 値 ' \<current identity value> '"* です。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-180">The new message is *"Checking identity information: current identity value '\<current identity value>'"*.</span></span> <span data-ttu-id="6c8e0-181">DBCC の実行が完了しました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-181">DBCC execution completed.</span></span> <span data-ttu-id="6c8e0-182">DBCC がエラー メッセージを出力した場合は、システム管理者に相談してください。"</span><span class="sxs-lookup"><span data-stu-id="6c8e0-182">If DBCC printed error messages, contact your system administrator."</span></span>  
  
 <span data-ttu-id="6c8e0-183">以前のバージョンでは、メッセージは *"id 情報を確認しています: 現在の id 値 ' \<current identity value> '、現在の列の値 ' ' です \<current column value> 。DBCC の実行が完了しました。DBCC がエラーメッセージを出力した場合は、システム管理者に問い合わせてください。 "*</span><span class="sxs-lookup"><span data-stu-id="6c8e0-183">In earlier versions, the message is *"Checking identity information: current identity value '\<current identity value>', current column value '\<current column value>'. DBCC execution completed. If DBCC printed error messages, contact your system administrator."*</span></span> <span data-ttu-id="6c8e0-184">`DBCC CHECKIDENT`がで指定されている場合、2番目のパラメーターがない場合、または再シード値がない場合、メッセージは変更され `NORESEED` ません。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-184">The message is unchanged when `DBCC CHECKIDENT` is specified with `NORESEED`, without a second parameter, or without a reseed value.</span></span> <span data-ttu-id="6c8e0-185">詳細については、「[DBCC CHECKIDENT &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-185">For more information, see [DBCC CHECKIDENT &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql).</span></span>  
  
### <a name="behavior-of-exist-function-on-xml-datatype-has-changed"></a><span data-ttu-id="6c8e0-186">XML データ型に対する exist() 関数の動作の変更</span><span class="sxs-lookup"><span data-stu-id="6c8e0-186">Behavior of exist() function on XML datatype has changed</span></span>  
 <span data-ttu-id="6c8e0-187">`exist()`Null 値を持つ XML データ型を 0 (ゼロ) に比較するときに、関数の動作が変更されました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-187">The behavior of the `exist()` function has changed when comparing an XML data type with a null value to 0 (zero).</span></span> <span data-ttu-id="6c8e0-188">次の例を確認してください。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-188">Consider the following example:</span></span>  
  
```sql  
DECLARE @test XML;  
SET @test = null;  
SELECT COUNT(1) WHERE @test.exist('/dogs') = 0;  
```  
  
 <span data-ttu-id="6c8e0-189">以前のバージョンでは、この比較で 1 (true) が返されましたが、0 (ゼロ、false) が返されるようになりました。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-189">In earlier versions, this comparison return 1 (true); now, this comparison returns 0 (zero, false).</span></span>  
  
 <span data-ttu-id="6c8e0-190">以下の比較では変更されていません。</span><span class="sxs-lookup"><span data-stu-id="6c8e0-190">The following comparisons have not changed:</span></span>  
  
```sql  
DECLARE @test XML;  
SET @test = null;  
SELECT COUNT(1) WHERE @test.exist('/dogs') = 1; -- 0 expected, 0 returned  
SELECT COUNT(1) WHERE @test.exist('/dogs') IS NULL; -- 1 expected, 1 returned  
```  
  
## <a name="see-also"></a><span data-ttu-id="6c8e0-191">参照</span><span class="sxs-lookup"><span data-stu-id="6c8e0-191">See Also</span></span>  
 <span data-ttu-id="6c8e0-192">[SQL Server 2014 でのデータベースエンジン機能の重大な変更](breaking-changes-to-database-engine-features-in-sql-server-2016.md) </span><span class="sxs-lookup"><span data-stu-id="6c8e0-192">[Breaking Changes to Database Engine Features in SQL Server 2014](breaking-changes-to-database-engine-features-in-sql-server-2016.md) </span></span>  
 <span data-ttu-id="6c8e0-193">[SQL Server 2014 の非推奨のデータベースエンジン機能](deprecated-database-engine-features-in-sql-server-2016.md) </span><span class="sxs-lookup"><span data-stu-id="6c8e0-193">[Deprecated Database Engine Features in SQL Server 2014](deprecated-database-engine-features-in-sql-server-2016.md) </span></span>  
 <span data-ttu-id="6c8e0-194">[SQL Server 2014 で廃止されたデータベースエンジン機能](discontinued-database-engine-functionality-in-sql-server-2016.md) </span><span class="sxs-lookup"><span data-stu-id="6c8e0-194">[Discontinued Database Engine Functionality in SQL Server 2014](discontinued-database-engine-functionality-in-sql-server-2016.md) </span></span>  
 [<span data-ttu-id="6c8e0-195">ALTER DATABASE 互換性レベル &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="6c8e0-195">ALTER DATABASE Compatibility Level &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level)  
  
  
