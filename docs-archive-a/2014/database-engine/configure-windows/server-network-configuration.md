---
title: サーバー ネットワークの構成 | Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- Named Pipes [SQL Server], configuring
- connections [SQL Server], server network configuration
- Database Engine [SQL Server], network configurations
- server network configuration [SQL Server]
- protocols [SQL Server], choosing
- ports [SQL Server], changing
- server configuration [SQL Server]
ms.assetid: 890c09a1-6dad-4931-aceb-901c02ae34c5
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 97acd6deaa251d4eea9ef1e00c0554c13011c469
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738731"
---
# <a name="server-network-configuration"></a><span data-ttu-id="31d16-102">サーバー ネットワークの構成</span><span class="sxs-lookup"><span data-stu-id="31d16-102">Server Network Configuration</span></span>
  <span data-ttu-id="31d16-103">サーバー ネットワークの構成作業には、プロトコルの有効化、プロトコルで使用されるポートまたはパイプの変更、暗号化の構成、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスの構成、ネットワーク上での [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]の公開または非表示、サーバー プリンシパル名の登録などがあります。</span><span class="sxs-lookup"><span data-stu-id="31d16-103">Server network configuration tasks include enabling protocols, modifying the port or pipe used by a protocol, configuring encryption, configuring the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service, exposing or hiding the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] on the network, and registering the Server Principal Name.</span></span> <span data-ttu-id="31d16-104">ほとんどの場合、サーバー ネットワークの構成を変更する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="31d16-104">Most of the time, you do not have to change the server network configuration.</span></span> <span data-ttu-id="31d16-105">特殊なネットワーク要件がある場合は、サーバー ネットワーク プロトコルのみを再構成します。</span><span class="sxs-lookup"><span data-stu-id="31d16-105">Only reconfigure the server network protocols if special network requirements.</span></span>  
  
 <span data-ttu-id="31d16-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のネットワーク構成は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 構成マネージャーを使用して行います。</span><span class="sxs-lookup"><span data-stu-id="31d16-106">Network configuration for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is done using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="31d16-107">以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の場合は、その製品に付属するサーバー ネットワーク ユーティリティを使用します。</span><span class="sxs-lookup"><span data-stu-id="31d16-107">For earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], use the Server Network Utility that ships with those products.</span></span>  
  
## <a name="protocols"></a><span data-ttu-id="31d16-108">プロトコル</span><span class="sxs-lookup"><span data-stu-id="31d16-108">Protocols</span></span>  
 <span data-ttu-id="31d16-109">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 構成マネージャーを使用して、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]によって使用されるプロトコルを有効または無効にし、そのプロトコルで使用できるオプションを構成します。</span><span class="sxs-lookup"><span data-stu-id="31d16-109">Use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to enable or disable the protocols used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and to configure the options available for the protocols.</span></span> <span data-ttu-id="31d16-110">有効にできるプロトコルの数は 1 つ以上です。</span><span class="sxs-lookup"><span data-stu-id="31d16-110">More than one protocol can be enabled.</span></span> <span data-ttu-id="31d16-111">また、クライアントが使用するすべてのプロトコルを有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="31d16-111">You must enable all protocols that you want clients to use.</span></span> <span data-ttu-id="31d16-112">サーバーには、どのプロトコルを使用してもアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="31d16-112">All protocols have equal access to the server.</span></span> <span data-ttu-id="31d16-113">使用する必要があるプロトコルの選択については、「[サーバー ネットワーク プロトコルの有効化または無効化](enable-or-disable-a-server-network-protocol.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-113">For information about which protocols you should use, see [Enable or Disable a Server Network Protocol](enable-or-disable-a-server-network-protocol.md).</span></span>  
  
### <a name="changing-a-port"></a><span data-ttu-id="31d16-114">ポートの変更</span><span class="sxs-lookup"><span data-stu-id="31d16-114">Changing a Port</span></span>  
 <span data-ttu-id="31d16-115">指定したポートでリッスンするように TCP/IP プロトコルを構成できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-115">You can configure the TCP/IP protocol to listen on a designated port.</span></span> <span data-ttu-id="31d16-116">既定では、 [!INCLUDE[ssDE](../../includes/ssde-md.md)] の既定のインスタンスは TCP ポート 1433 でリッスンします。</span><span class="sxs-lookup"><span data-stu-id="31d16-116">By default, the default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] listens on TCP port 1433.</span></span> <span data-ttu-id="31d16-117">[!INCLUDE[ssDE](../../includes/ssde-md.md)] と [!INCLUDE[ssEW](../../includes/ssew-md.md)] の名前付きインスタンスは、動的ポートを使用するように構成されています。</span><span class="sxs-lookup"><span data-stu-id="31d16-117">Named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssEW](../../includes/ssew-md.md)] are configured for dynamic ports.</span></span> <span data-ttu-id="31d16-118">つまり、これらのインスタンスでは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスの開始時に、使用可能なポートが選択されます。</span><span class="sxs-lookup"><span data-stu-id="31d16-118">This means they select an available port when the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service is started.</span></span> <span data-ttu-id="31d16-119">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスは、クライアントが接続時にポートを識別するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="31d16-119">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service helps clients identify the port when they connect.</span></span>  
  
 <span data-ttu-id="31d16-120">動的ポート向けに構成されている場合、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によって使用されるポートは、起動のたびに変更される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="31d16-120">When configured for dynamic ports, the port used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] may change each time it is started.</span></span> <span data-ttu-id="31d16-121">ファイアウォールを通じて [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続する場合は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]によって使用されるポートを開く必要があります。</span><span class="sxs-lookup"><span data-stu-id="31d16-121">When connecting to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through a firewall, you must open the port used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="31d16-122">また、特定のポートを使用するように [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] を構成して、サーバーへの通信を許可するようにファイアウォールを構成できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-122">Configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use a specific port, so you can configure the firewall to allow communication to the server.</span></span> <span data-ttu-id="31d16-123">詳細については、「[特定の TCP ポートで受信待ちするようにサーバーを構成する方法 &#40;SQL Server 構成マネージャー&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-123">For more information, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
### <a name="changing-a-named-pipe"></a><span data-ttu-id="31d16-124">名前付きパイプの変更</span><span class="sxs-lookup"><span data-stu-id="31d16-124">Changing a Named Pipe</span></span>  
 <span data-ttu-id="31d16-125">指定した名前付きパイプでリッスンするように名前付きパイプ プロトコルを構成できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-125">You can configure the named pipe protocol to listen on a designated named pipe.</span></span> <span data-ttu-id="31d16-126">既定では、[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] の既定のインスタンスにより、既定のインスタンスの場合はパイプ \\\\.\pipe\sql\query で、名前付きインスタンスの場合はパイプ \\\\.\pipe\MSSQL$ *\<instancename>* \sql\query でそれぞれリッスンが行われます。</span><span class="sxs-lookup"><span data-stu-id="31d16-126">By default, the default instance of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] listens on pipe \\\\.\pipe\sql\query for the default instance and \\\\.\pipe\MSSQL$*\<instancename>* \sql\query for a named instance.</span></span> <span data-ttu-id="31d16-127">[!INCLUDE[ssDE](../../includes/ssde-md.md)] がリッスンできる名前付きパイプは 1 つのみですが、必要に応じてパイプの名前を変更できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-127">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] can only listen on one named pipe, but you can change the pipe to another name if you wish.</span></span> <span data-ttu-id="31d16-128">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスは、クライアントが接続時にパイプを識別するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="31d16-128">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service helps clients identify the pipe when they connect.</span></span> <span data-ttu-id="31d16-129">詳細については、「[代替パイプをリッスンするサーバーの構成  &#40;SQL Server 構成マネージャー&#41;](configure-a-server-to-listen-on-an-alternate-pipe.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-129">For more information, see [Configure a Server to Listen on an Alternate Pipe &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-an-alternate-pipe.md).</span></span>  
  
## <a name="force-encryption"></a><span data-ttu-id="31d16-130">[強制的に暗号化]</span><span class="sxs-lookup"><span data-stu-id="31d16-130">Force Encryption</span></span>  
 <span data-ttu-id="31d16-131">クライアント アプリケーションとの通信時に暗号化を要求するように[!INCLUDE[ssDE](../../includes/ssde-md.md)]を構成できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-131">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] can be configured to require encryption when communicating with client applications.</span></span> <span data-ttu-id="31d16-132">詳細については、「[データベース エンジンへの暗号化接続の有効化 &#40;SQL Server 構成マネージャー&#41;](enable-encrypted-connections-to-the-database-engine.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-132">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
## <a name="extended-protection-for-authentication"></a><span data-ttu-id="31d16-133">認証の拡張保護 (Extended Protection for Authentication)</span><span class="sxs-lookup"><span data-stu-id="31d16-133">Extended Protection for Authentication</span></span>  
 <span data-ttu-id="31d16-134">チャネル バインドとサービス バインドを使用した認証の拡張保護のサポートは、拡張保護をサポートしているオペレーティング システムで使用できます。</span><span class="sxs-lookup"><span data-stu-id="31d16-134">Support for Extended Protection for Authentication by using channel binding and service binding is available for operating systems that support Extended Protection.</span></span> <span data-ttu-id="31d16-135">詳細については、「 [拡張保護を使用したデータベース エンジンへの接続](connect-to-the-database-engine-using-extended-protection.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-135">For more information, see [Connect to the Database Engine Using Extended Protection](connect-to-the-database-engine-using-extended-protection.md).</span></span>  
  
## <a name="authenticating-by-using-kerberos"></a><span data-ttu-id="31d16-136">Kerberos を使用した認証</span><span class="sxs-lookup"><span data-stu-id="31d16-136">Authenticating by Using Kerberos</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="31d16-137">は Kerberos 認証をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="31d16-137">supports Kerberos authentication.</span></span> <span data-ttu-id="31d16-138">Kerberos 認証の詳細については、「[Kerberos 接続用のサービス プリンシパル名の登録](register-a-service-principal-name-for-kerberos-connections.md)」および「[Microsoft® Kerberos Configuration Manager for SQL Server®](https://www.microsoft.com/download/details.aspx?id=39046)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-138">For more information, see [Register a Service Principal Name for Kerberos Connections](register-a-service-principal-name-for-kerberos-connections.md) and [Microsoft Kerberos Configuration Manager for SQL Server](https://www.microsoft.com/download/details.aspx?id=39046).</span></span>  
  
### <a name="registering-a-server-principal-name-spn"></a><span data-ttu-id="31d16-139">サービス プリンシパル名 (SPN) の登録</span><span class="sxs-lookup"><span data-stu-id="31d16-139">Registering a Server Principal Name (SPN)</span></span>  
 <span data-ttu-id="31d16-140">Kerberos 認証サービスでは、SPN を使用してサービスが認証されます。</span><span class="sxs-lookup"><span data-stu-id="31d16-140">The Kerberos authentication service uses an SPN to authenticate a service.</span></span> <span data-ttu-id="31d16-141">詳細については、「 [Kerberos 接続用のサービス プリンシパル名の登録](register-a-service-principal-name-for-kerberos-connections.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-141">For more information, see [Register a Service Principal Name for Kerberos Connections](register-a-service-principal-name-for-kerberos-connections.md).</span></span>  
  
 <span data-ttu-id="31d16-142">SPN を使用すると、NTLM で接続する場合のクライアント認証のセキュリティを強化することもできます。</span><span class="sxs-lookup"><span data-stu-id="31d16-142">SPNs may also be used to make client authentication more secure when connecting with NTLM.</span></span> <span data-ttu-id="31d16-143">詳細については、「 [拡張保護を使用したデータベース エンジンへの接続](connect-to-the-database-engine-using-extended-protection.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-143">For more information, see [Connect to the Database Engine Using Extended Protection](connect-to-the-database-engine-using-extended-protection.md).</span></span>  
  
## <a name="sql-server-browser-service"></a><span data-ttu-id="31d16-144">SQL Server Browser Service</span><span class="sxs-lookup"><span data-stu-id="31d16-144">SQL Server Browser Service</span></span>  
 <span data-ttu-id="31d16-145">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスはサーバーで実行され、クライアント コンピューターが [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]のインスタンスを見つけるのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="31d16-145">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service runs on the server, and helps client computers to find instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="31d16-146">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスを構成する必要はありませんが、いくつかの接続シナリオで実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="31d16-146">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service does not need to be configured, but must be running under some connection scenarios.</span></span> <span data-ttu-id="31d16-147">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser サービスの詳細については、「[SQL Server Browser サービス &#40;データベース エンジンと SSAS&#41;](sql-server-browser-service-database-engine-and-ssas.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-147">For more information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, see [SQL Server Browser Service &#40;Database Engine and SSAS&#41;](sql-server-browser-service-database-engine-and-ssas.md)</span></span>  
  
## <a name="hiding-sql-server"></a><span data-ttu-id="31d16-148">SQL Server の非表示</span><span class="sxs-lookup"><span data-stu-id="31d16-148">Hiding SQL Server</span></span>  
 <span data-ttu-id="31d16-149">実行中、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser は、インストールされている各インスタンスの名前、バージョン、接続情報などに関するクエリに応答します。</span><span class="sxs-lookup"><span data-stu-id="31d16-149">When running, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser responds to queries, with the name, version, and connection information for each installed instance.</span></span> <span data-ttu-id="31d16-150">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の **HideInstance** フラグは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser がこのサーバー インスタンスの情報に関するクエリに応答しないことを示します。</span><span class="sxs-lookup"><span data-stu-id="31d16-150">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **HideInstance** flag, indicates that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser should not respond with information about this server instance.</span></span> <span data-ttu-id="31d16-151">クライアント アプリケーションは接続できますが、接続情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="31d16-151">Client applications can still connect, but they must know the required connection information.</span></span> <span data-ttu-id="31d16-152">詳細については、「 [SQL Server データベース エンジンのインスタンスの非表示](../sql-server-database-engine-overview.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="31d16-152">For more information, see [Hide an Instance of SQL Server Database Engine](../sql-server-database-engine-overview.md).</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="31d16-153">関連コンテンツ</span><span class="sxs-lookup"><span data-stu-id="31d16-153">Related Content</span></span>  
 [<span data-ttu-id="31d16-154">クライアント ネットワーク構成</span><span class="sxs-lookup"><span data-stu-id="31d16-154">Client Network Configuration</span></span>](client-network-configuration.md)  
  
 [<span data-ttu-id="31d16-155">データベース エンジン サービスの管理</span><span class="sxs-lookup"><span data-stu-id="31d16-155">Manage the Database Engine Services</span></span>](manage-the-database-engine-services.md)  
  
  
