---
title: SQL Server 2014 Express LocalDB |Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- user instances
- LocalDB, described
- local database runtime
- file database
- LocalDB
ms.assetid: 5a641a46-7cfb-4d7b-a90d-6e4625719d74
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: af60935af0d183ab7ed6d1c10f84229b7ead3730
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645841"
---
# <a name="sql-server-2014-express-localdb"></a><span data-ttu-id="fd8b6-102">SQL Server 2014 Express LocalDB</span><span class="sxs-lookup"><span data-stu-id="fd8b6-102">SQL Server 2014 Express LocalDB</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="fd8b6-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` は、 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] プログラムの開発者を対象としたの実行モードです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` is an execution mode of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] targeted to program developers.</span></span> <span data-ttu-id="fd8b6-104">`LocalDB`のインストールでは、を開始するために必要な最小限のファイルセットがコピーさ [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] れます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-104">`LocalDB` installation copies a minimal set of files necessary to start the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="fd8b6-105">`LocalDB`をインストールすると、開発者は特殊な接続文字列を使用して接続を開始します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-105">Once `LocalDB` is installed, developers initiate a connection by using a special connection string.</span></span> <span data-ttu-id="fd8b6-106">接続時に、必要な [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インフラストラクチャが自動的に作成および開始されるため、複雑な、または時間のかかる構成タスクを行わなくてもアプリケーションでデータベースを使用できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-106">When connecting, the necessary [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] infrastructure is automatically created and started, enabling the application to use the database without complex or time consuming configuration tasks.</span></span> <span data-ttu-id="fd8b6-107">開発者ツールによって、開発者は [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] を使用して [!INCLUDE[tsql](../../includes/tsql-md.md)] コードを記述してテストすることができ、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の完全なサーバー インスタンスを管理する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-107">Developer Tools can provide developers with a [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] that lets them write and test [!INCLUDE[tsql](../../includes/tsql-md.md)] code without having to manage a full server instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fd8b6-108">のインスタンス [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] `LocalDB` は、ユーティリティを使用して管理され `SqlLocalDB.exe` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-108">An instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]`LocalDB` is managed by using the `SqlLocalDB.exe` utility.</span></span> [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]<span data-ttu-id="fd8b6-109">`LocalDB`[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]非推奨とされたユーザーインスタンス機能の代わりに、を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-109">`LocalDB` should be used in place of the [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] user instance feature which is deprecated.</span></span>  
  
## <a name="installing-localdb"></a><span data-ttu-id="fd8b6-110">LocalDB のインストール</span><span class="sxs-lookup"><span data-stu-id="fd8b6-110">Installing LocalDB</span></span>  
 <span data-ttu-id="fd8b6-111">をインストールする主 `LocalDB` な方法は、SqlLocalDB.msi プログラムを使用することです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-111">The primary method of installing `LocalDB` is by using the SqlLocalDB.msi program.</span></span> <span data-ttu-id="fd8b6-112">`LocalDB`は、の SKU をインストールする場合のオプションです [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-112">`LocalDB` is an option when installing any SKU of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)].</span></span> <span data-ttu-id="fd8b6-113">`LocalDB`のインストール中に [**機能の選択**] ページでを選択し [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-113">Select `LocalDB` on the **Feature Selection** page during installation of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span> <span data-ttu-id="fd8b6-114">`LocalDB`メジャーバージョンごとに、バイナリファイルを1つだけインストールでき [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-114">There can be only one installation of the `LocalDB` binary files for each major [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] version.</span></span> <span data-ttu-id="fd8b6-115">複数の [!INCLUDE[ssDE](../../includes/ssde-md.md)] プロセスを開始することができ、すべてのプロセスが使用するバイナリは同じです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-115">Multiple [!INCLUDE[ssDE](../../includes/ssde-md.md)] processes can be started and will all use the same binaries.</span></span> <span data-ttu-id="fd8b6-116">として開始されたのインスタンスには、 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] `LocalDB` と同じ制限があります。[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span><span class="sxs-lookup"><span data-stu-id="fd8b6-116">An instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] started as the `LocalDB` has the same limitations as [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span></span>  
  
## <a name="description"></a><span data-ttu-id="fd8b6-117">説明</span><span class="sxs-lookup"><span data-stu-id="fd8b6-117">Description</span></span>  
 <span data-ttu-id="fd8b6-118">`LocalDB`セットアッププログラムでは、SqlLocalDB.msi プログラムを使用して、コンピューターに必要なファイルをインストールします。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-118">The `LocalDB` setup program uses the SqlLocalDB.msi program to install the necessary files on the computer.</span></span> <span data-ttu-id="fd8b6-119">インストールが完了 `LocalDB` すると、は [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] データベースを作成して開くことができるのインスタンスになり [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-119">Once installed, `LocalDB` is an instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] that can create and open [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="fd8b6-120">データベースのシステム データベース ファイルは、通常は非表示になっているユーザーのローカル AppData パスに格納されます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-120">The system database files for the database are stored in the users' local AppData path which is normally hidden.</span></span> <span data-ttu-id="fd8b6-121">たとえば、**C:\Users\\<user\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\** などです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-121">For example **C:\Users\\<user\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\**.</span></span> <span data-ttu-id="fd8b6-122">ユーザー データベース ファイルは、ユーザーが指定する場所、通常は **C:\Users\\<user\>\Documents\\** フォルダーに格納されます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-122">User database files are stored where the user designates, typically somewhere in the **C:\Users\\<user\>\Documents\\** folder.</span></span>  
  
 <span data-ttu-id="fd8b6-123">アプリケーションにを含める方法の詳細については、 `LocalDB` [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] ドキュメント「[ローカルデータの概要](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx)」、「[チュートリアル: SQL Server localdb データベースの作成](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx)」、および「[チュートリアル: SQL Server localdb データベースのデータへの接続 (Windows フォーム)](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-123">For more information about including `LocalDB` in an application, see the [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] documentation [Local Data Overview](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx), [Walkthrough: Creating a SQL Server LocalDB Database](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx), and [Walkthrough: Connecting to Data in a SQL Server LocalDB Database (Windows Forms)](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx).</span></span>  
  
 <span data-ttu-id="fd8b6-124">Api の詳細については `LocalDB` 、「 [SQL Server Express LOCALDB インスタンス api リファレンス](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx)」および「 [Localdbstartinstance 関数](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-124">For more information about the `LocalDB` API, see [SQL Server Express LocalDB Instance API Reference](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx) and [LocalDBStartInstance Function](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx).</span></span>  
  
 <span data-ttu-id="fd8b6-125">SqlLocalDb ユーティリティでは、の新しいインスタンスを作成し、 `LocalDB` のインスタンスを起動および停止することができ `LocalDB` ます。また、を管理するためのオプションも用意されてい `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-125">The SqlLocalDb utility can create new instances of `LocalDB`, start and stop an instance of `LocalDB`, and includes options to help you manage `LocalDB`.</span></span>  <span data-ttu-id="fd8b6-126">SqlLocalDb ユーティリティの詳細については、「 [SqlLocalDB ユーティリティ](../../tools/sqllocaldb-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-126">For more information about the SqlLocalDb utility, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
 <span data-ttu-id="fd8b6-127">のインスタンスの照合順序 `LocalDB` は SQL_Latin1_General_CP1_CI_AS に設定されており、変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-127">The instance collation for `LocalDB` is set to SQL_Latin1_General_CP1_CI_AS and cannot be changed.</span></span> <span data-ttu-id="fd8b6-128">データベース レベル、列レベル、および式レベルの照合順序は正常にサポートされます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-128">Database-level, column-level, and expression-level collations are supported normally.</span></span> <span data-ttu-id="fd8b6-129">包含データベースは、 [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md)によって定義されたメタデータおよび tempdb の照合順序ルールに従います。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-129">Contained databases follow the metadata and tempdb collations rules defined by [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md).</span></span>  
  
### <a name="restrictions"></a><span data-ttu-id="fd8b6-130">制限</span><span class="sxs-lookup"><span data-stu-id="fd8b6-130">Restrictions</span></span>  
 <span data-ttu-id="fd8b6-131">`LocalDB`マージレプリケーションサブスクライバーにすることはできません。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-131">`LocalDB` cannot be a merge replication subscriber.</span></span>  
  
 <span data-ttu-id="fd8b6-132">`LocalDB`では、FILESTREAM はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-132">`LocalDB` does not support FILESTREAM.</span></span>  
  
 <span data-ttu-id="fd8b6-133">`LocalDB`Service Broker のローカルキューのみを許可します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-133">`LocalDB` only allows local queues for Service Broker.</span></span>  
  
 <span data-ttu-id="fd8b6-134">`LocalDB`NT AUTHORITY\SYSTEM などのビルトインアカウントによって所有されているのインスタンスは、windows ファイルシステムのリダイレクトによって、管理容易性の問題が発生する可能性があります。代わりに、通常の windows アカウントを所有者として使用します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-134">An instance of `LocalDB` owned by the built-in accounts such as NT AUTHORITY\SYSTEM can have manageability issues due to windows file system redirection; Instead use a normal windows account as the owner.</span></span>  
  
### <a name="automatic-and-named-instances"></a><span data-ttu-id="fd8b6-135">自動インスタンスと名前付きインスタンス</span><span class="sxs-lookup"><span data-stu-id="fd8b6-135">Automatic and Named Instances</span></span>  
 <span data-ttu-id="fd8b6-136">`LocalDB`では、自動インスタンスと名前付きインスタンスという2種類のインスタンスがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-136">`LocalDB` supports two kinds of instances: Automatic instances and named instances.</span></span>  
  
-   <span data-ttu-id="fd8b6-137">の自動インスタンス `LocalDB` はパブリックです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-137">Automatic instances of `LocalDB` are public.</span></span> <span data-ttu-id="fd8b6-138">ユーザーのために自動的に作成および管理され、任意のアプリケーションから使用できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-138">They are created and managed automatically for the user and can be used by any application.</span></span> <span data-ttu-id="fd8b6-139">の1つの自動インスタンスは `LocalDB` `LocalDB` 、ユーザーのコンピューターにインストールされているのすべてのバージョンに存在します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-139">One automatic instance of `LocalDB` exists for every version of `LocalDB` installed on the user's computer.</span></span> <span data-ttu-id="fd8b6-140">の自動インスタンスを使用すると、 `LocalDB` シームレスなインスタンス管理を実現できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-140">Automatic instances of `LocalDB` provide seamless instance management.</span></span> <span data-ttu-id="fd8b6-141">インスタンスを作成する必要はありません。それだけで動作します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-141">There is no need to create the instance; it just works.</span></span> <span data-ttu-id="fd8b6-142">これにより、アプリケーションのインストールと別のコンピューターへの移行が簡単になります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-142">This allows for easy application installation and migration to a different computer.</span></span> <span data-ttu-id="fd8b6-143">対象コンピューターに指定バージョンの `LocalDB` がインストールされている場合、その対象コンピューターでも同じバージョンの `LocalDB` の自動インスタンスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-143">If the target machine has the specified version of `LocalDB` installed, the automatic instance of `LocalDB` for that version is available on the target machine as well.</span></span> <span data-ttu-id="fd8b6-144">の自動インスタンスのインスタンス名には、 `LocalDB` 予約済みの名前空間に属する特殊なパターンがあります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-144">Automatic instances of `LocalDB` have a special pattern for the instance name that belongs to a reserved namespace.</span></span> <span data-ttu-id="fd8b6-145">これにより、の名前付きインスタンスとの名前の競合を防ぐことができ `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-145">This prevents name conflicts with named instances of `LocalDB`.</span></span> <span data-ttu-id="fd8b6-146">自動インスタンスの名前は **MSSQLLocalDB**です。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-146">The name for the automatic instance is **MSSQLLocalDB**.</span></span>  
  
-   <span data-ttu-id="fd8b6-147">の名前付きインスタンス `LocalDB` はプライベートです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-147">Named instances of `LocalDB` are private.</span></span> <span data-ttu-id="fd8b6-148">これらは、そのインスタンスの作成と管理を行う単一のアプリケーションによって所有されます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-148">They are owned by a single application that is responsible for creating and managing the instance.</span></span> <span data-ttu-id="fd8b6-149">名前付きインスタンスは他のインスタンスからの分離を可能にし、他のデータベース ユーザーとのリソースの競合を減らすことによってパフォーマンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-149">Named instances provide isolation from other instances and can improve performance by reducing resource contention with other database users.</span></span> <span data-ttu-id="fd8b6-150">名前付きインスタンスは、管理 API を介してユーザーが明示的に作成するか、マネージアプリケーションの app.config ファイルを使用して暗黙的に作成する必要があり `LocalDB` ます (ただし、マネージアプリケーションでは、必要に応じて API も使用できます)。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-150">Named instances must be created explicitly by the user through the `LocalDB` management API or implicitly via the app.config file for a managed application (although managed application may also use the API, if desired).</span></span> <span data-ttu-id="fd8b6-151">の各名前付きインスタンスに `LocalDB` は `LocalDB` 、それぞれのバイナリセットを指す、関連付けられたバージョンがあり `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-151">Each named instance of `LocalDB` has an associated `LocalDB` version that points to the respective set of `LocalDB` binaries.</span></span> <span data-ttu-id="fd8b6-152">のインスタンス名 `LocalDB` は `sysname` データ型で、最大128文字まで使用できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-152">The instance name of a `LocalDB` is `sysname` data type and can have up to 128 characters.</span></span> <span data-ttu-id="fd8b6-153">(これは、の正規の名前付きインスタンスと [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] は異なり、16の ASCII 文字の通常の NetBIOS 名に制限されます)。のインスタンスの名前には、 `LocalDB` ファイル名の中で有効な Unicode 文字を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-153">(This differs from regular named instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], which limits names to regular NetBIOS names of 16 ASCII chars.) The name of an instance of `LocalDB` can contain any Unicode characters that are legal within a filename.</span></span>  <span data-ttu-id="fd8b6-154">自動インスタンス名を使用する名前付きインスタンスは、自動インスタンスになります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-154">A named instance that uses an automatic instance name becomes an automatic instance.</span></span>  
  
 <span data-ttu-id="fd8b6-155">コンピューターの異なるユーザーが同じ名前のインスタンスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-155">Different users of a computer can have instances with the same name.</span></span> <span data-ttu-id="fd8b6-156">各インスタンスは、別のユーザーとして実行している別のプロセスです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-156">Each instance is a different processes running as a different user.</span></span>  
  
## <a name="shared-instances-of-localdb"></a><span data-ttu-id="fd8b6-157">LocalDB の共有インスタンス</span><span class="sxs-lookup"><span data-stu-id="fd8b6-157">Shared Instances of LocalDB</span></span>  
 <span data-ttu-id="fd8b6-158">コンピューターの複数のユーザーがの1つのインスタンスに接続する必要があるシナリオをサポートするために `LocalDB` 、はインスタンス共有をサポートしてい `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-158">To support scenarios where multiple users of the computer need to connect to a single instance of `LocalDB`, `LocalDB` supports instance sharing.</span></span> <span data-ttu-id="fd8b6-159">インスタンスの所有者は、コンピューター上の他のユーザーに自分のインスタンスへの接続を許可することを選択できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-159">An instance owner can choose to allow the other users on the computer to connect to his instance.</span></span> <span data-ttu-id="fd8b6-160">の自動インスタンスと名前付きインスタンスの両方を `LocalDB` 共有できます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-160">Both automatic and named instances of `LocalDB` can be shared.</span></span> <span data-ttu-id="fd8b6-161">`LocalDB` のインスタンスを共有するには、ユーザーがその共有名 (別名) を選択します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-161">To share an instance of `LocalDB` a user selects a shared name (alias) for it.</span></span> <span data-ttu-id="fd8b6-162">共有名はコンピューターのすべてのユーザーから参照できるため、この共有名はコンピューター上で一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-162">Because the shared name is visible to all users of the computer, this shared name must be unique on the computer.</span></span> <span data-ttu-id="fd8b6-163">のインスタンスの共有名は、 `LocalDB` の名前付きインスタンスと同じ形式 `LocalDB` です。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-163">The shared name for an instance of `LocalDB` has the same format as the named instance of `LocalDB`.</span></span>  
  
 <span data-ttu-id="fd8b6-164">の共有インスタンスを作成できるのは、コンピューターの管理者だけ `LocalDB` です。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-164">Only an administrator on the computer can create a shared instance of `LocalDB`.</span></span> <span data-ttu-id="fd8b6-165">の共有インスタンスは、 `LocalDB` 管理者またはの共有インスタンスの所有者によって共有を解除でき `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-165">A shared instance of `LocalDB` can be unshared by an administrator or by the owner of the shared instance of `LocalDB`.</span></span> <span data-ttu-id="fd8b6-166">のインスタンスを共有および共有解除するに `LocalDB` `LocalDBShareInstance` は、 `LocalDBUnShareInstance` API のメソッドとメソッド、 `LocalDB` または SqlLocalDb ユーティリティの share オプションと share オプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-166">To share and unshared an instance of `LocalDB`, use the `LocalDBShareInstance` and `LocalDBUnShareInstance` methods of the `LocalDB` API, or the share and unshared options of the SqlLocalDb utility.</span></span>  
  
## <a name="starting-localdb-and-connecting-to-localdb"></a><span data-ttu-id="fd8b6-167">LocalDB の起動および LocalDB への接続</span><span class="sxs-lookup"><span data-stu-id="fd8b6-167">Starting LocalDB and Connecting to LocalDB</span></span>  
  
### <a name="connecting-to-the-automatic-instance"></a><span data-ttu-id="fd8b6-168">自動インスタンスへの接続</span><span class="sxs-lookup"><span data-stu-id="fd8b6-168">Connecting to the Automatic Instance</span></span>  
 <span data-ttu-id="fd8b6-169">を使用する最も簡単 `LocalDB` な方法は、接続文字列 **"Server = (localdb) \MSSQLLocalDB; Integrated Security = true"** を使用して、現在のユーザーが所有する自動インスタンスに接続することです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-169">The easiest way to use `LocalDB` is to connect to the automatic instance owned by the current user by using the connection string **"Server=(localdb)\MSSQLLocalDB;Integrated Security=true"**.</span></span> <span data-ttu-id="fd8b6-170">ファイル名を使用して特定のデータベースに接続するには、 **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\Data\MyDB1.mdf"** のような接続文字列を使用して接続します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-170">To connect to a specific database by using the file name, connect using a connection string similar to **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\Data\MyDB1.mdf"**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fd8b6-171">コンピューターのユーザーが初めてに接続しようとしたときに、 `LocalDB` 自動インスタンスの作成と開始の両方を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-171">The first time a user on a computer tries to connect to `LocalDB`, the automatic instance must be both created and started.</span></span> <span data-ttu-id="fd8b6-172">インスタンスの作成に時間がかかり、接続がタイムアウト メッセージで失敗する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-172">The extra time for the instance to be created can cause the connection attempt to fail with a timeout message.</span></span> <span data-ttu-id="fd8b6-173">この場合は、作成プロセスが完了するまで数秒待ってから再び接続します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-173">When this happens, wait a few seconds to let the creation process complete, and then connect again.</span></span>  
  
### <a name="creating-and-connecting-to-a-named-instances"></a><span data-ttu-id="fd8b6-174">名前付きインスタンスの作成および接続</span><span class="sxs-lookup"><span data-stu-id="fd8b6-174">Creating and Connecting to a Named Instances</span></span>  
 <span data-ttu-id="fd8b6-175">自動インスタンスに加えて、では `LocalDB` 名前付きインスタンスもサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-175">In addition to the automatic instance, `LocalDB` also supports named instances.</span></span> <span data-ttu-id="fd8b6-176">SqlLocalDB.exe プログラムを使用して、の名前付きインスタンスを作成、開始、および停止し `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-176">Use the SqlLocalDB.exe program to create, start, and stop an named instance of `LocalDB`.</span></span> <span data-ttu-id="fd8b6-177">SqlLocalDB.exe の詳細については、「 [SqlLocalDB ユーティリティ](../../tools/sqllocaldb-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-177">For more information about SqlLocalDB.exe, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
```ms-dos  
REM Create an instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" create LocalDBApp1  
REM Start the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" start LocalDBApp1  
REM Gather information about the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" info LocalDBApp1  
```  
  
 <span data-ttu-id="fd8b6-178">上記の最後の行によって、次のような情報が返されます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-178">The last line above, returns information similar to the following.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="fd8b6-179">名前</span><span class="sxs-lookup"><span data-stu-id="fd8b6-179">Name</span></span>|<span data-ttu-id="fd8b6-180">"LocalDBApp1"</span><span class="sxs-lookup"><span data-stu-id="fd8b6-180">"LocalDBApp1"</span></span>|  
|<span data-ttu-id="fd8b6-181">Version</span><span class="sxs-lookup"><span data-stu-id="fd8b6-181">Version</span></span>|\<Current Version>|  
|<span data-ttu-id="fd8b6-182">共有名</span><span class="sxs-lookup"><span data-stu-id="fd8b6-182">Shared name</span></span>|<span data-ttu-id="fd8b6-183">""</span><span class="sxs-lookup"><span data-stu-id="fd8b6-183">""</span></span>|  
|<span data-ttu-id="fd8b6-184">所有者</span><span class="sxs-lookup"><span data-stu-id="fd8b6-184">Owner</span></span>|<span data-ttu-id="fd8b6-185">"\<Your Windows User>"</span><span class="sxs-lookup"><span data-stu-id="fd8b6-185">"\<Your Windows User>"</span></span>|  
|<span data-ttu-id="fd8b6-186">自動作成</span><span class="sxs-lookup"><span data-stu-id="fd8b6-186">Auto create</span></span>|<span data-ttu-id="fd8b6-187">いいえ</span><span class="sxs-lookup"><span data-stu-id="fd8b6-187">No</span></span>|  
|<span data-ttu-id="fd8b6-188">State</span><span class="sxs-lookup"><span data-stu-id="fd8b6-188">State</span></span>|<span data-ttu-id="fd8b6-189">実行中</span><span class="sxs-lookup"><span data-stu-id="fd8b6-189">running</span></span>|  
|<span data-ttu-id="fd8b6-190">前回の開始時刻</span><span class="sxs-lookup"><span data-stu-id="fd8b6-190">Last start time</span></span>|\<Date and Time>|  
|<span data-ttu-id="fd8b6-191">インスタンス パイプ名</span><span class="sxs-lookup"><span data-stu-id="fd8b6-191">Instance pipe name</span></span>|<span data-ttu-id="fd8b6-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span><span class="sxs-lookup"><span data-stu-id="fd8b6-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="fd8b6-193">アプリケーションで4.0.2 の前に .NET のバージョンを使用する場合は、の名前付きパイプに直接接続する必要があり `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-193">If your application uses a version of .NET before 4.0.2 you must connect directly to the named pipe of the `LocalDB`.</span></span> <span data-ttu-id="fd8b6-194">インスタンスパイプ名の値は、のインスタンスがリッスンしている名前付きパイプです `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-194">The Instance pipe name value is the named pipe that the instance of `LocalDB` is listening on.</span></span> <span data-ttu-id="fd8b6-195">LOCALDB # の後のインスタンスパイプ名の部分は、のインスタンスが起動されるたびに変わり `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-195">The portion of the Instance pipe name after LOCALDB# will change each time the instance of `LocalDB` is started.</span></span> <span data-ttu-id="fd8b6-196">を使用してのインスタンスに接続するには、[ `LocalDB` [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **接続先 [!INCLUDE[ssDE](../../includes/ssde-md.md)] \*\* ] ダイアログボックスの [**サーバー名\*\*] ボックスにインスタンスパイプ名を入力します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-196">To connect to the instance of `LocalDB` by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], type the Instance pipe name in the **Server name** box of the **Connect to [!INCLUDE[ssDE](../../includes/ssde-md.md)]** dialog box.</span></span> <span data-ttu-id="fd8b6-197">カスタムプログラムからは、の `LocalDB` ような接続文字列を使用して、のインスタンスへの接続を確立できます。`SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span><span class="sxs-lookup"><span data-stu-id="fd8b6-197">From your custom program you can establish connection to the instance of `LocalDB` using a connection string similar to `SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span></span>  
  
### <a name="connecting-to-a-shared-instance-of-localdb"></a><span data-ttu-id="fd8b6-198">LocalDB の共有インスタンスへの接続</span><span class="sxs-lookup"><span data-stu-id="fd8b6-198">Connecting to a Shared Instance of LocalDB</span></span>  
 <span data-ttu-id="fd8b6-199">の共有インスタンスに接続するには、 `LocalDB` 接続文字列に. (ドット + 円記号) を追加\*\*し \\ \*\*て、共有インスタンス用に予約されている名前空間を参照します。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-199">To connect to a shared instance of `LocalDB` add **.\\** (dot + backslash) to the connection string to reference the namespace reserved for shared instances.</span></span> <span data-ttu-id="fd8b6-200">たとえば、という名前の共有インスタンスに接続するには、接続 `LocalDB` 文字列の一部としてなどの `AppData` 接続文字列を使用し `(localdb)\.\AppData` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-200">For example, to connect to a shared instance of `LocalDB` named `AppData` use a connection string such as `(localdb)\.\AppData` as part of the connection string.</span></span> <span data-ttu-id="fd8b6-201">所有していないの共有インスタンスに接続するユーザーには、 `LocalDB` Windows 認証または [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 認証ログインが必要です。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-201">A user connecting to a shared instance of `LocalDB` that they do not own must have a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login.</span></span>  
  
## <a name="troubleshooting"></a><span data-ttu-id="fd8b6-202">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="fd8b6-202">Troubleshooting</span></span>  
 <span data-ttu-id="fd8b6-203">トラブルシューティングの詳細について `LocalDB` は、「 [SQL Server 2012 Express LocalDB のトラブルシューティング](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-203">For information about troubleshooting `LocalDB`, see [Troubleshooting SQL Server 2012 Express LocalDB](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx).</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="fd8b6-204">アクセス許可</span><span class="sxs-lookup"><span data-stu-id="fd8b6-204">Permissions</span></span>  
 <span data-ttu-id="fd8b6-205">のインスタンス [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` は、ユーザーが使用するために作成したインスタンスです。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-205">An instance of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)]`LocalDB` is an instance created by a user for their use.</span></span> <span data-ttu-id="fd8b6-206">コンピューター上のすべてのユーザーは、のインスタンスを使用してデータベースを作成し `LocalDB` 、そのユーザープロファイルにファイルを格納して、その資格情報でプロセスを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-206">Any user on the computer can create a database using an instance of `LocalDB`, storing files under their user profile and running the process under their credentials.</span></span> <span data-ttu-id="fd8b6-207">既定では、のインスタンスへのアクセス `LocalDB` は、その所有者に制限されています。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-207">By default, access to the instance of `LocalDB` is limited to its owner.</span></span> <span data-ttu-id="fd8b6-208">に含まれるデータ `LocalDB` は、データベースファイルへのファイルシステムアクセスによって保護されます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-208">The data contained in the `LocalDB` is protected by file system access to the database files.</span></span> <span data-ttu-id="fd8b6-209">ユーザーデータベースファイルが共有の場所に格納されている場合は、所有しているのインスタンスを使用して、その場所へのファイルシステムアクセス権を持つすべてのユーザーがデータベースを開くことができ `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-209">If user database files are stored in a shared location, the database can be opened by anyone with file system access to that location by using an instance of `LocalDB` that they own.</span></span> <span data-ttu-id="fd8b6-210">データベース ファイルがユーザー データ フォルダーなどの保護された場所に格納されている場合は、そのユーザーおよびそのフォルダーにアクセスできる管理者だけがデータベースを開くことができます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-210">If the database files are in a protected location, such as the users data folder, only that user, and any administrators with access to that folder, can open the database.</span></span> <span data-ttu-id="fd8b6-211">`LocalDB`ファイルは、一度に1つのインスタンスによってのみ開くことができ `LocalDB` ます。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-211">The `LocalDB` files can only be opened by one instance of `LocalDB` at a time.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fd8b6-212">`LocalDB`常にユーザーのセキュリティコンテキストで実行されます。つまり、 `LocalDB` ローカル管理者のグループの資格情報では実行されません。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-212">`LocalDB` always runs under the users security context; that is, `LocalDB` never runs with credentials from the local Administrator's group.</span></span> <span data-ttu-id="fd8b6-213">つまり、インスタンスで使用されるすべてのデータベースファイルには、 `LocalDB` ローカルの Administrators グループのメンバーシップを考慮せずに、所有ユーザーの Windows アカウントを使用してアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="fd8b6-213">This means that all database files used by a `LocalDB` instance must be accessible using the owning user's Windows account, without considering membership in the local Administrators group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fd8b6-214">参照</span><span class="sxs-lookup"><span data-stu-id="fd8b6-214">See Also</span></span>  
 [<span data-ttu-id="fd8b6-215">SqlLocalDB ユーティリティ</span><span class="sxs-lookup"><span data-stu-id="fd8b6-215">SqlLocalDB Utility</span></span>](../../tools/sqllocaldb-utility.md)  
  
  
