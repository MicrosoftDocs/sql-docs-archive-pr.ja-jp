---
title: 'レッスン 5: SSIS を使用したクレンジングと照合の自動化 |Microsoft Docs'
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: f068d4db-2d56-41b1-bed2-0cffa3ca411d
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 90f967b2446e11a27f5a87803bb71d6e1ec53557
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87717079"
---
# <a name="lesson-5-automating-the-cleansing-and-matching-using-ssis"></a><span data-ttu-id="16495-102">レッスン 5: SSIS を使用してクレンジングと照合を自動化する</span><span class="sxs-lookup"><span data-stu-id="16495-102">Lesson 5: Automating the Cleansing and Matching using SSIS</span></span>
  <span data-ttu-id="16495-103">レッスン1では、サプライヤーナレッジベースを構築し、それを使用してレッスン2でデータをクレンジングし、ツール**DQS クライアント**を使用してレッスン3でデータを照合しました。</span><span class="sxs-lookup"><span data-stu-id="16495-103">In Lesson 1, you built the Suppliers knowledge base and used it to cleanse data in Lesson 2 and match data in Lesson 3 using the tool **DQS Client**.</span></span> <span data-ttu-id="16495-104">実際のシナリオでは、dqs**クライアント**ツールを使用しなくても、dqs がサポートしていないソースからデータを取得したり、クレンジングと照合プロセスを自動化したりすることが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="16495-104">In a real world scenario, you may have to pull data from a source that DQS does not support or you want to automate the cleansing and matching process without having to use the **DQS Client** tool.</span></span> <span data-ttu-id="16495-105">SQL Server Integration Services (SSIS) には、さまざまな異種ソースからのデータを統合するために使用できるコンポーネントと、dqs によって公開されているクレンジング機能を呼び出すための**[Dqs クレンジング変換](https://msdn.microsoft.com/library/ee677619.aspx)** コンポーネントがあります。</span><span class="sxs-lookup"><span data-stu-id="16495-105">SQL Server Integration Services (SSIS) has components that you can use to integrate data from various heterogeneous sources and a **[DQS Cleansing Transform](https://msdn.microsoft.com/library/ee677619.aspx)** component to invoke the cleansing functionality exposed by DQS.</span></span> <span data-ttu-id="16495-106">現在、DQS では、SSIS で使用する照合機能が公開されていませんが、**[あいまいグループ化変換](../integration-services/data-flow/transformations/fuzzy-grouping-transformation.md)** を使用してデータ内の重複部分を識別できます。</span><span class="sxs-lookup"><span data-stu-id="16495-106">Currently, DQS does not expose matching functionality for SSIS to use, but you can use the **[Fuzzy Grouping Transform](../integration-services/data-flow/transformations/fuzzy-grouping-transformation.md)** to identify duplicates in the data.</span></span>  
  
 <span data-ttu-id="16495-107">データを MDS にアップロードするには、**エンティティベースのステージング機能**を使用します。</span><span class="sxs-lookup"><span data-stu-id="16495-107">You can upload data to MDS by using the **Entity-based Staging feature**.</span></span> <span data-ttu-id="16495-108">MDS でエンティティを作成する場合、対応するステージング テーブルとストアド プロシージャが自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="16495-108">When you create an entity in MDS, corresponding staging tables and stored procedures are automatically created.</span></span> <span data-ttu-id="16495-109">たとえば、Supplier エンティティを作成したときに、 **stg. supplier_Leaf**テーブルと**stg. udp_Supplier_Leaf**ストアドプロシージャが自動的に作成されました。</span><span class="sxs-lookup"><span data-stu-id="16495-109">For example, when you created the Supplier entity, the **stg.supplier_Leaf** table and the **stg.udp_Supplier_Leaf** stored procedure were automatically created.</span></span> <span data-ttu-id="16495-110">ステージング テーブルとプロシージャを使用して、エンティティ メンバーを作成、更新、および削除できます。</span><span class="sxs-lookup"><span data-stu-id="16495-110">You use the staging tables and procedures to create, update, and delete entity members.</span></span> <span data-ttu-id="16495-111">このレッスンでは、Supplier エンティティの新しいエンティティ メンバーを作成します。</span><span class="sxs-lookup"><span data-stu-id="16495-111">In this lesson, you create new entity members for the Supplier Entity.</span></span> <span data-ttu-id="16495-112">MDS サーバーにデータを読み込むには、最初に SSIS パッケージでデータをステージング テーブル stg.supplier_Leaf に読み込み、関連するストアド プロシージャ stg.udp_Supplier_Leaf をトリガーします。</span><span class="sxs-lookup"><span data-stu-id="16495-112">To load data into the MDS server, the SSIS package first loads the data into the staging table stg.supplier_Leaf and then triggers the associated stored procedure stg.udp_Supplier_Leaf.</span></span> <span data-ttu-id="16495-113">詳細については、「[データのインポート](../master-data-services/overview-importing-data-from-tables-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="16495-113">See [Importing Data](../master-data-services/overview-importing-data-from-tables-master-data-services.md) for more details.</span></span>  
  
 <span data-ttu-id="16495-114">このレッスンでは、次のタスクを行います。</span><span class="sxs-lookup"><span data-stu-id="16495-114">In this lesson, you perform the following tasks:</span></span>  
  
1.  <span data-ttu-id="16495-115">MDS で仕入先データを削除します (前の 4 レッスンを終了している場合)。</span><span class="sxs-lookup"><span data-stu-id="16495-115">Remove supplier data in MDS (if you have gone through previous four lessons).</span></span> <span data-ttu-id="16495-116">このレッスンで作成する SSIS パッケージにより、MDS に自動的にデータがアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="16495-116">The SSIS package you create in this lesson uploads the data to MDS automatically.</span></span> <span data-ttu-id="16495-117">前の手順では、DQS クライアントを使用して MDS サーバーに手動でクレンジングした照合仕入先データをアップロードしました。</span><span class="sxs-lookup"><span data-stu-id="16495-117">Earlier, you uploaded the cleansed and matched supplier data to MDS server manually using the DQS Client.</span></span>  
  
2.  <span data-ttu-id="16495-118">他のアプリケーションのエンティティでデータを公開するために、Supplier エンティティでサブスクリプション ビューを作成します。</span><span class="sxs-lookup"><span data-stu-id="16495-118">Create a subscription view on the Supplier entity to expose data in the entity to other applications.</span></span> <span data-ttu-id="16495-119">この操作により、SQL ビューを作成します。このビューは SQL Server Management Studio を使用して検証します。</span><span class="sxs-lookup"><span data-stu-id="16495-119">This action creates a SQL view that you will verify using SQL Server Management Studio.</span></span> <span data-ttu-id="16495-120">このバージョンのチュートリアルでは、このビューを使用しません。</span><span class="sxs-lookup"><span data-stu-id="16495-120">You will not be consuming this view in this version of the tutorial.</span></span>  
  
3.  <span data-ttu-id="16495-121">**SQL Server Data Tools**を使用して、SSIS プロジェクトを作成して実行します。</span><span class="sxs-lookup"><span data-stu-id="16495-121">Create and run an SSIS project by using **SQL Server Data Tools**.</span></span> <span data-ttu-id="16495-122">このプロジェクトでは、**データクレンジング**変換を使用して、DQS サーバーにクレンジング要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="16495-122">The project uses **Data Cleansing** transform to submit a cleansing request to the DQS server.</span></span> <span data-ttu-id="16495-123">DQS では、照合機能がまだ公開されていないため、**あいまいグループ化**変換を使用して重複を識別します。</span><span class="sxs-lookup"><span data-stu-id="16495-123">DQS does not expose the matching functionality yet, so you will use **Fuzzy Grouping** transform to identify duplicates.</span></span>  
  
4.  <span data-ttu-id="16495-124">マスター データ マネージャーを使用して、MDS にデータが作成されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="16495-124">Verify that the data is created in MDS by using Master Data Manger.</span></span>  
  
5.  <span data-ttu-id="16495-125">SSIS パッケージによって作成された DQS クレンジング プロジェクトの結果を確認し、必要に応じてインタラクティブなクレンジングを実行して、ナレッジ ベースを拡充します。</span><span class="sxs-lookup"><span data-stu-id="16495-125">Review the results from DQS cleansing project created by the SSIS package and optionally perform interactive cleansing to build the knowledge base further.</span></span>  
  
## <a name="next-step"></a><span data-ttu-id="16495-126">次の手順</span><span class="sxs-lookup"><span data-stu-id="16495-126">Next Step</span></span>  
 [<span data-ttu-id="16495-127">タスク 1 &#40;前提条件&#41;: MDS での仕入先データの削除</span><span class="sxs-lookup"><span data-stu-id="16495-127">Task 1 &#40;Prerequisite&#41;: Removing Supplier Data in MDS</span></span>](../../2014/tutorials/task-1-prerequisite-removing-supplier-data-in-mds.md)  
  
  
