---
title: パッケージ実行のトラブルシューティング ツール| Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Integration Services packages, troubleshooting
- SSIS packages, troubleshooting
- Integration Services, troubleshooting
- errors [Integration Services], troubleshooting
- packages [Integration Services], troubleshooting
ms.assetid: f18d6ff6-e881-444c-a399-730b52130e7c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: cbb19cddd202ac58cbea5622b4965449c15ba325
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87633204"
---
# <a name="troubleshooting-tools-for-package-execution"></a><span data-ttu-id="100d5-102">パッケージ実行のトラブルシューティング ツール</span><span class="sxs-lookup"><span data-stu-id="100d5-102">Troubleshooting Tools for Package Execution</span></span>
  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="100d5-103">には、パッケージを完成して配置した後、そのパッケージの実行時のトラブルシューティングに使用できる機能とツールが含まれています。</span><span class="sxs-lookup"><span data-stu-id="100d5-103">includes features and tools that you can use to troubleshoot packages when you execute them after they have been completed and deployed.</span></span>  
  
 <span data-ttu-id="100d5-104">[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] には、デザイン時に、パッケージの実行を一時的に停止するブレイクポイント、進行状況ウィンドウ、およびデータ フロー全体でのデータの流れが追えるデータ ビューアーが用意されています。</span><span class="sxs-lookup"><span data-stu-id="100d5-104">At design time, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] provides breakpoints to pause package execution, the Progress window, and data viewers to watch your data as it passes through the data flow.</span></span> <span data-ttu-id="100d5-105">ただし、既に配置されているパッケージを実行するときは、これらの機能を使用できません。</span><span class="sxs-lookup"><span data-stu-id="100d5-105">However, these features are not available when you are running packages that have been deployed.</span></span> <span data-ttu-id="100d5-106">配置済みのパッケージのトラブルシューティングを行うための主な技法は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="100d5-106">The main techniques for troubleshooting deployed packages are as follows:</span></span>  
  
-   <span data-ttu-id="100d5-107">イベント ハンドラーを使ってパッケージ エラーをキャッチおよび処理する。</span><span class="sxs-lookup"><span data-stu-id="100d5-107">Catch and handle package errors by using event handlers.</span></span>  
  
-   <span data-ttu-id="100d5-108">エラー出力を使って不適切なデータをキャプチャする。</span><span class="sxs-lookup"><span data-stu-id="100d5-108">Capture bad data by using error outputs.</span></span>  
  
-   <span data-ttu-id="100d5-109">ログ記録を使ってパッケージの実行をステップ単位に追跡する。</span><span class="sxs-lookup"><span data-stu-id="100d5-109">Track the steps of package execution by using logging.</span></span>  
  
 <span data-ttu-id="100d5-110">次のヒントや技法を使用して、実行中のパッケージの問題を回避することもできます。</span><span class="sxs-lookup"><span data-stu-id="100d5-110">You can also use the following tips and techniques to avoid problems with running packages</span></span>  
  
-   <span data-ttu-id="100d5-111">**トランザクションを使ってデータの整合性の確認を支援する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-111">**Help to ensure data integrity by using transactions**.</span></span> <span data-ttu-id="100d5-112">詳細については、「 [Integration Services のトランザクション](../integration-services-transactions.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="100d5-112">For more information, see [Integration Services Transactions](../integration-services-transactions.md).</span></span>  
  
-   <span data-ttu-id="100d5-113">**チェックポイントを使って、エラーが発生した時点からパッケージを再開する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-113">**Restart packages from the point of failure by using checkpoints**.</span></span> <span data-ttu-id="100d5-114">詳細については、「 [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-114">For more information, see [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span></span>  
  
## <a name="catch-and-handle-package-errors-by-using-event-handlers"></a><span data-ttu-id="100d5-115">イベント ハンドラーを使用したパッケージ エラーのキャッチおよび処理</span><span class="sxs-lookup"><span data-stu-id="100d5-115">Catch and Handle Package Errors by Using Event Handlers</span></span>  
 <span data-ttu-id="100d5-116">イベント ハンドラーを使用することにより、パッケージやパッケージ内のオブジェクトで発生する多くのイベントに対応できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-116">You can respond to the many events that are raised by the package and the objects in the package by using event handlers.</span></span>  
  
-   <span data-ttu-id="100d5-117">**OnError イベントのイベント ハンドラーを作成する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-117">**Create an event handler for the OnError event**.</span></span> <span data-ttu-id="100d5-118">イベント ハンドラーでは、Send Mail タスクを使用した管理者へのエラー通知、スクリプト タスクやカスタム ロジックを使用したトラブルシューティング用のシステム情報の取得、リソースや不完全な出力の一時的なクリーンアップなどを実行できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-118">In the event handler, you can use a Send Mail task to notify an administrator of the failure, use a Script task and custom logic to obtain system information for troubleshooting, or clean up temporary resources or incomplete output.</span></span> <span data-ttu-id="100d5-119">詳細については、「[Integration Services &#40;SSIS&#41; のイベント ハンドラー](../integration-services-ssis-event-handlers.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-119">For more information, see [Integration Services &#40;SSIS&#41; Event Handlers](../integration-services-ssis-event-handlers.md).</span></span>  
  
## <a name="troubleshoot-bad-data-by-using-error-outputs"></a><span data-ttu-id="100d5-120">エラー出力を使った不適切なデータのトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-120">Troubleshoot Bad Data by Using Error Outputs</span></span>  
 <span data-ttu-id="100d5-121">多くのデータ フロー コンポーネントではエラー出力を使用して、エラーを含む行を後で分析できるように別の場所にリダイレクトできます。</span><span class="sxs-lookup"><span data-stu-id="100d5-121">You can use the error output available on many data flow components to direct rows that contain errors to a separate destination for later analysis.</span></span>  
  
-   <span data-ttu-id="100d5-122">**エラー出力を使って不適切なデータをキャプチャする**。</span><span class="sxs-lookup"><span data-stu-id="100d5-122">**Capture bad data by using error outputs**.</span></span> <span data-ttu-id="100d5-123">エラーを含む行をエラー テーブルやテキスト ファイルなどの別の場所に送信します。</span><span class="sxs-lookup"><span data-stu-id="100d5-123">Send rows that contain errors to a separate destination such as an error table or a text file.</span></span> <span data-ttu-id="100d5-124">エラー出力では、行が拒否される原因となったエラーの番号を含む列と、エラーが発生した列の ID を含む列の 2 つの数値列が自動的に追加されます。</span><span class="sxs-lookup"><span data-stu-id="100d5-124">The error output automatically adds two numeric columns that contain the number of the error that caused the row to be rejected, and the ID of the column in which the error occurred.</span></span> <span data-ttu-id="100d5-125">詳細については、「 [データのエラー処理](../data-flow/error-handling-in-data.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-125">For more information, see [Error Handling in Data](../data-flow/error-handling-in-data.md).</span></span>  
  
-   <span data-ttu-id="100d5-126">**関連情報をエラー出力に追加する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-126">**Add friendly information to the error outputs**.</span></span> <span data-ttu-id="100d5-127">エラー出力から提供される 2 列の数値識別子だけでなく、説明的な情報を追加すると、エラー出力の分析が容易になります。</span><span class="sxs-lookup"><span data-stu-id="100d5-127">You can make it easier to analyze the error output by adding descriptive information in addition to the two numeric identifiers that are supplied by the error output.</span></span>  
  
     <span data-ttu-id="100d5-128">**エラーの説明を追加**します。</span><span class="sxs-lookup"><span data-stu-id="100d5-128">**Add the description of the error**.</span></span> <span data-ttu-id="100d5-129">スクリプト コンポーネントを使用することで、エラーの説明を容易に参照できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-129">It is easy to look up the error description by using a Script component.</span></span> <span data-ttu-id="100d5-130">詳細については、「[スクリプトコンポーネントのエラー出力の拡張](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-130">For more information, see [Enhancing an Error Output for the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
     <span data-ttu-id="100d5-131">**エラー列の名前を追加**します。</span><span class="sxs-lookup"><span data-stu-id="100d5-131">**Add the name of the error column**.</span></span> <span data-ttu-id="100d5-132">エラー出力に保存されている列 ID に対応する列名は、スクリプト コンポーネントでは容易に参照できず、追加手順が必要です。</span><span class="sxs-lookup"><span data-stu-id="100d5-132">Looking up the column name that corresponds to the column ID saved by the error output cannot easily be done in the Script component and requires additional steps.</span></span> <span data-ttu-id="100d5-133">データ フロー内の各列の ID は、データ フロー タスク内では一意で、パッケージのデザイン時に保存されます。</span><span class="sxs-lookup"><span data-stu-id="100d5-133">Each column ID in a data flow is unique within that Data Flow task, and is persisted in the package at design time.</span></span> <span data-ttu-id="100d5-134">列名をエラー出力に追加する 1 つの方法として、次のような方法があります。</span><span class="sxs-lookup"><span data-stu-id="100d5-134">The following approach is one suggestion for adding the column name to the error output.</span></span> 
  
    1.  <span data-ttu-id="100d5-135">**列名のルックアップテーブルを作成**します。</span><span class="sxs-lookup"><span data-stu-id="100d5-135">**Create a lookup table of column names**.</span></span> <span data-ttu-id="100d5-136">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] API を使用する別のアプリケーションを作成します。保存される各パッケージ、パッケージ内の各データ フロー、データ フロー内の各オブジェクト、データ フロー オブジェクト内の各入出力で、このアプリケーションを繰り返し実行します。</span><span class="sxs-lookup"><span data-stu-id="100d5-136">Create a separate application that uses the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] API to iterate over each saved package, each data flow in the package, each object in the data flow, and each input and output in the data flow object.</span></span> <span data-ttu-id="100d5-137">アプリケーションでは、列 ID と参照テーブルでの各列の名前を、親データ フロー タスクとパッケージ ID と共に保存します。</span><span class="sxs-lookup"><span data-stu-id="100d5-137">The application should persist the column ID and name of each column to a lookup table, along with the ID of the parent Data Flow task and the ID of the package.</span></span>  
  
    2.  <span data-ttu-id="100d5-138">**出力に列名を追加**します。</span><span class="sxs-lookup"><span data-stu-id="100d5-138">**Add the column name to the output**.</span></span> <span data-ttu-id="100d5-139">前の手順で作成した参照テーブルの列名を参照する出力に、参照変換を追加します。</span><span class="sxs-lookup"><span data-stu-id="100d5-139">Add a Lookup transformation to the error output that looks up the column name in the lookup table created in the preceding step.</span></span> <span data-ttu-id="100d5-140">参照では、エラー出力の列 ID、パッケージ ID (システム変数 System::PackageID で使用できます)、データ フロー タスクの ID (システム変数 System::TaskID で使用できます) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-140">The lookup can use the column ID in the error output, the package ID (available in the system variable System::PackageID), and the ID of the Data Flow task (available in the system variable System::TaskID).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-operations-reports"></a><span data-ttu-id="100d5-141">操作レポートを使ったパッケージ実行のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-141">Troubleshoot Package Execution by Using Operations Reports</span></span>  
 <span data-ttu-id="100d5-142">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] では、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] カタログに配置された [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] パッケージの監視に役立つ標準の操作レポートを使用できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-142">Standard operations reports are available in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to help you monitor [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages that have been deployed to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] catalog.</span></span> <span data-ttu-id="100d5-143">これらのパッケージ レポートは、パッケージの状態と履歴を確認したり、必要に応じて失敗の原因を特定したりするのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="100d5-143">These package reports help you to view package status and history, and, if necessary, identify the cause of failures.</span></span>  
  
 <span data-ttu-id="100d5-144">詳細については、「 [パッケージ実行のレポートのトラブルシューティング](troubleshooting-reports-for-package-execution.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-144">For more information, see [Troubleshooting Reports for Package Execution](troubleshooting-reports-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-ssisdb-views"></a><span data-ttu-id="100d5-145">SSISDB ビューを使ったパッケージ実行のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-145">Troubleshoot Package Execution by Using SSISDB Views</span></span>  
 <span data-ttu-id="100d5-146">クエリを実行してパッケージ実行や操作に関するその他の情報を監視するための複数の SSISDB データベース ビューが用意されています。</span><span class="sxs-lookup"><span data-stu-id="100d5-146">A number of SSISDB database views are available that you can query to monitor package execution and other operations information.</span></span> <span data-ttu-id="100d5-147">詳細については、「[パッケージ実行とその他の操作の監視](../performance/monitor-running-packages-and-other-operations.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-147">For more information, see [Monitoring for Package Executions and Other Operations](../performance/monitor-running-packages-and-other-operations.md).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-logging"></a><span data-ttu-id="100d5-148">ログ記録を使ったパッケージ実行のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-148">Troubleshoot Package Execution by Using Logging</span></span>  
 <span data-ttu-id="100d5-149">ログ記録を有効にすることで、実行中のパッケージで発生する多くの現象を追跡できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-149">You can track much of what occurs in your running packages by enabling logging.</span></span> <span data-ttu-id="100d5-150">ログ プロバイダーは、後で分析するために特定のイベントに関する情報をキャプチャし、その情報をデータベース テーブル、フラット ファイル、XML ファイルなどのサポートされている出力形式で保存します。</span><span class="sxs-lookup"><span data-stu-id="100d5-150">Log providers capture information about the specified events for later analysis, and save that information in a database table, a flat file, an XML file, or another supported output format.</span></span>  
  
-   <span data-ttu-id="100d5-151">**ログ記録を有効にする**。</span><span class="sxs-lookup"><span data-stu-id="100d5-151">**Enable logging**.</span></span> <span data-ttu-id="100d5-152">イベントのみ、およびキャプチャする情報項目のみを選択することによって、ログの出力を微調整できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-152">You can refine the logging output by selecting only the events and only the items of information that you want to capture.</span></span> <span data-ttu-id="100d5-153">詳細については、「[Integration Services &#40;SSIS&#41; のログ記録](../performance/integration-services-ssis-logging.md)」と「[Integration Services &#40;SSIS&#41; のログ記録](../performance/integration-services-ssis-logging.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-153">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md).</span></span>  
  
-   <span data-ttu-id="100d5-154">**パッケージの Diagnostic イベントを選択して、プロバイダーに関する問題のトラブルシューティングを行います。**</span><span class="sxs-lookup"><span data-stu-id="100d5-154">**Select the package's Diagnostic event to troubleshoot provider issues.**</span></span> <span data-ttu-id="100d5-155">パッケージと外部データ ソースとのやり取りに関するトラブルシューティングに役立つログ メッセージが用意されています。</span><span class="sxs-lookup"><span data-stu-id="100d5-155">There are logging messages that help you troubleshoot a package's interaction with external data sources.</span></span> <span data-ttu-id="100d5-156">詳細については、「 [トラブルシューティング ツールのパッケージ接続](troubleshooting-tools-for-package-connectivity.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-156">For more information, see [Troubleshooting Tools Package Connectivity](troubleshooting-tools-for-package-connectivity.md).</span></span>  
  
-   <span data-ttu-id="100d5-157">**既定のログ出力を拡張する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-157">**Enhance the default logging output**.</span></span> <span data-ttu-id="100d5-158">ログ記録は、通常、パッケージを実行するたびに、ログの記録先に行を追加します。</span><span class="sxs-lookup"><span data-stu-id="100d5-158">Logging typically appends rows to the logging destination each time that a package is run.</span></span> <span data-ttu-id="100d5-159">各行のログ出力では名前や一意識別子でパッケージを識別していますが、一意の ExecutionID で各パッケージの実行も識別しています。そのため、1 つの一覧に大量のログ記録が出力され、分析が難しくなります。</span><span class="sxs-lookup"><span data-stu-id="100d5-159">Although each row of logging output identifies the package by its name and unique identifier, and also identifies the execution of the package by a unique ExecutionID, the large quantity of logging output in a single list can become difficult to analyze.</span></span>  
  
     <span data-ttu-id="100d5-160">次のアプローチは、既定のログ出力を拡張してレポートの生成を容易にするための 1 つの考え方です。</span><span class="sxs-lookup"><span data-stu-id="100d5-160">The following approach is one suggestion for enhancing the default logging output and making it easier to generate reports:</span></span>  
  
    1.  <span data-ttu-id="100d5-161">**パッケージを実行するたびにログを記録する親テーブルを作成する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-161">**Create a parent table that logs each execution of a package**.</span></span> <span data-ttu-id="100d5-162">この親テーブルにはパッケージを実行するたびに 1 行だけを記録し、ExecutionID を使用して、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] ログ記録テーブルの子レコードにリンクします。</span><span class="sxs-lookup"><span data-stu-id="100d5-162">This parent table has only a single row for each execution of a package, and uses the ExecutionID to link to the child records in the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] logging table.</span></span> <span data-ttu-id="100d5-163">各パッケージの最初に SQL 実行タスクを使用して、この新しい行を作成し、開始時刻を記録します。</span><span class="sxs-lookup"><span data-stu-id="100d5-163">You can use an Execute SQL task at the beginning of each package to create this new row and to record the start time.</span></span> <span data-ttu-id="100d5-164">次に、パッケージの終了時に別の SQL 実行タスクを使用して、終了時刻、実行時間、状態でその行を更新します。</span><span class="sxs-lookup"><span data-stu-id="100d5-164">Then you can use another Execute SQL task at the end of the package to update the row with the end time, duration, and status.</span></span>  
  
    2.  <span data-ttu-id="100d5-165">**データ フローに監査情報を追加する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-165">**Add auditing information to the data flow**.</span></span> <span data-ttu-id="100d5-166">監査変換を使用して、各行を作成または変更したパッケージの実行に関する情報を、データ フロー内の行に追加できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-166">You can use the Audit transformation to add information to rows in the data flow about the package execution that created or modified each row.</span></span> <span data-ttu-id="100d5-167">監査変換は、PackageName や ExecutionInstanceGUID など、9 種類の情報を作成します。</span><span class="sxs-lookup"><span data-stu-id="100d5-167">The Audit transformation makes nine pieces of information available, including the PackageName and ExecutionInstanceGUID.</span></span> <span data-ttu-id="100d5-168">詳細については、「 [監査変換](../data-flow/transformations/audit-transformation.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-168">For more information, see [Audit Transformation](../data-flow/transformations/audit-transformation.md).</span></span> <span data-ttu-id="100d5-169">監査を目的として各行に含めるカスタム情報があれば、派生列変換を使用して、その情報をデータ フロー内の行に追加できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-169">If you have custom information that you would also like to include in each row for auditing purposes, you can add this information to rows in the data flow by using a Derived Column transformation.</span></span> <span data-ttu-id="100d5-170">詳細については、「 [派生列変換](../data-flow/transformations/derived-column-transformation.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-170">For more information, see [Derived Column Transformation](../data-flow/transformations/derived-column-transformation.md).</span></span>  
  
    3.  <span data-ttu-id="100d5-171">**行数データのキャプチャを検討する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-171">**Consider capturing row count data**.</span></span> <span data-ttu-id="100d5-172">行数情報用に別のテーブルを作成することを検討します。このテーブルでは、パッケージ実行の各インスタンスを ExecutionID で識別します。</span><span class="sxs-lookup"><span data-stu-id="100d5-172">Consider creating a separate table for row count information, where each instance of package execution is identified by its ExecutionID.</span></span> <span data-ttu-id="100d5-173">行数変換を使用して、データ フロー内の重要な時点の行数を一連の変数に保存します。</span><span class="sxs-lookup"><span data-stu-id="100d5-173">Use the Row Count transformation to save the row count into a series of variables at critical points in the data flow.</span></span> <span data-ttu-id="100d5-174">データ フローの終了後、SQL 実行タスクを使用してこの一連の値をテーブルの行に挿入すると、後の分析やレポートに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="100d5-174">After the data flow ends, use an Execute SQL task to insert the series of values into a row in the table for later analysis and reporting.</span></span>  
  
     <span data-ttu-id="100d5-175">この方法の詳細については、[!INCLUDE[msCoName](../../includes/msconame-md.md)] のホワイト ペーパー「[Project REAL: Business Intelligence ETL Design Practices (プロジェクト REAL: ビジネス インテリジェンス ETL のデザイン方法)](https://www.microsoft.com/download/details.aspx?id=14582)」の「ETL Auditing and Logging (ETL の監査とログ記録)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="100d5-175">For more information about this approach, see the section, "ETL Auditing and Logging," in the [!INCLUDE[msCoName](../../includes/msconame-md.md)] white paper, [Project REAL: Business Intelligence ETL Design Practices](https://www.microsoft.com/download/details.aspx?id=14582).</span></span>  
  
## <a name="troubleshoot-package-execution-by-using-debug-dump-files"></a><span data-ttu-id="100d5-176">デバッグ ダンプ ファイルを使ったパッケージ実行のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-176">Troubleshoot Package Execution by Using Debug Dump Files</span></span>  
 <span data-ttu-id="100d5-177">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]では、パッケージの実行に関する情報を提供するデバッグ ダンプ ファイルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-177">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], you can create debug dump files that provide information about the execution of a package.</span></span> <span data-ttu-id="100d5-178">詳細については、「 [パッケージ実行用のダンプ ファイルを生成する](generating-dump-files-for-package-execution.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-178">For more information, see [Generating Dump Files for Package Execution](generating-dump-files-for-package-execution.md).</span></span>  
  
## <a name="troubleshoot-run-time-validation-issues"></a><span data-ttu-id="100d5-179">実行時検証問題のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-179">Troubleshoot Run-time Validation Issues</span></span>  
 <span data-ttu-id="100d5-180">パッケージ内の前のタスクの実行が完了するまで、データ ソースに接続できなかったり、パッケージの一部を検証できなかったりすることがあります。</span><span class="sxs-lookup"><span data-stu-id="100d5-180">Sometimes you might not be able to connect to your data sources, or portions of your package cannot be validated, until prior tasks in the package have executed.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="100d5-181">には、こうした状況が原因で発生する検証エラーを回避するための以下の機能が備わっています。</span><span class="sxs-lookup"><span data-stu-id="100d5-181">includes the following features to help you avoid the validation errors that would otherwise result from these conditions:</span></span>  
  
-   <span data-ttu-id="100d5-182">**パッケージが読み込まれるときには無効になっているパッケージ要素の DelayValidation プロパティを構成する**。</span><span class="sxs-lookup"><span data-stu-id="100d5-182">**Configure the DelayValidation property on package elements that are not valid when the package is loaded**.</span></span> <span data-ttu-id="100d5-183">構成が無効になっているパッケージ要素の `DelayValidation` を `True` に設定できます。これによってパッケージが読み込まれるときの検証エラーを防ぎます。</span><span class="sxs-lookup"><span data-stu-id="100d5-183">You can set `DelayValidation` to `True` on package elements whose configuration is not valid, to prevent validation errors when the package is loaded.</span></span> <span data-ttu-id="100d5-184">たとえば、SQL 実行タスクが実行時に作成するまで存在しないテーブルを、データ フロー タスクで使用する場合があります。</span><span class="sxs-lookup"><span data-stu-id="100d5-184">For example, you may have a Data Flow task that uses a destination table that does not exist until an Execute SQL task creates the table at run time.</span></span> <span data-ttu-id="100d5-185">`DelayValidation` プロパティはパッケージ ベル、またはパッケージに含まれている個別のタスクやコンテナーのレベルで有効にできます。</span><span class="sxs-lookup"><span data-stu-id="100d5-185">The `DelayValidation` property can be enabled at the package level, or at the level of the individual tasks and containers that the package includes.</span></span>  
  
     <span data-ttu-id="100d5-186">`DelayValidation` プロパティはデータ フロー タスク上で設定できますが、個別のデータ フロー コンポーネントでは設定できません。</span><span class="sxs-lookup"><span data-stu-id="100d5-186">The `DelayValidation` property can be set on a Data Flow task, but not on individual data flow components.</span></span> <span data-ttu-id="100d5-187">個別のデータ フロー コンポーネントの <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> プロパティを `false` に設定すると、同様の効果を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="100d5-187">You can achieve a similar effect by setting the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property of individual data flow components to `false`.</span></span> <span data-ttu-id="100d5-188">ただし、このプロパティの値が `false` の場合、コンポーネントは外部データ ソースのメタデータに変更が加えられても認識しません。</span><span class="sxs-lookup"><span data-stu-id="100d5-188">However, when the value of this property is `false`, the component is not aware of changes to the metadata of external data sources.</span></span> <span data-ttu-id="100d5-189"><xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> プロパティを `true` に設定すると、特にパッケージでトランザクションを使っている場合、データベース内でのロックに起因するブロッキング問題を回避するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="100d5-189">When set to `true`, the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.ValidateExternalMetadata%2A> property can help to avoid blocking issues caused by locking in the database, especially when the package is using transactions.</span></span>  
  
## <a name="troubleshoot-run-time-permissions-issues"></a><span data-ttu-id="100d5-190">実行時の権限の問題のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-190">Troubleshoot Run-time Permissions Issues</span></span>  
 <span data-ttu-id="100d5-191">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントを使用して配置済みパッケージの実行を試みたときにエラーが発生した場合は、エージェントが使用しているアカウントに必要な権限がない可能性があります。</span><span class="sxs-lookup"><span data-stu-id="100d5-191">If you encounter errors when trying to run deployed packages by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the accounts used by Agent might not have the required permissions.</span></span> <span data-ttu-id="100d5-192">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントのジョブから実行するパッケージのトラブルシューティング方法については、「 [SQL Server エージェントのジョブ ステップから SSIS パッケージを呼び出すとき、SSIS パッケージが実行されません。](https://support.microsoft.com/kb/918760)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-192">For information on how to troubleshoot packages that are run from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [An SSIS package does not run when you call the SSIS package from a SQL Server Agent job step](https://support.microsoft.com/kb/918760).</span></span> <span data-ttu-id="100d5-193">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントのジョブからパッケージを実行する方法の詳細については、「 [パッケージに対する SQL Server エージェント ジョブ](../packages/sql-server-agent-jobs-for-packages.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="100d5-193">For more information on how to run packages from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs, see [SQL Server Agent Jobs for Packages](../packages/sql-server-agent-jobs-for-packages.md).</span></span>  
  
 <span data-ttu-id="100d5-194">Excel や Access のデータ ソースに接続するには、TEMP 環境変数および TMP 環境変数で指定されているフォルダー内の一時ファイルの読み取り、書き込み、作成、および削除を行う権限を持ったアカウントが [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントに必要です。</span><span class="sxs-lookup"><span data-stu-id="100d5-194">To connect to Excel or Access data sources, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent requires an account that has permission to read, write, create, and delete temporary files in the folder that is specified by the TEMP and TMP environment variables.</span></span>  
  
## <a name="troubleshoot-64-bit-issues"></a><span data-ttu-id="100d5-195">64 ビット問題のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-195">Troubleshoot 64-bit Issues</span></span>  
  
-   <span data-ttu-id="100d5-196">**一部のデータ プロバイダーは 64 ビット プラットフォームに対応していない**。</span><span class="sxs-lookup"><span data-stu-id="100d5-196">**Some data providers are not available on the 64-bit platform**.</span></span> <span data-ttu-id="100d5-197">特に、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet OLE DB Provider は Excel や Access のデータ ソースへの接続に必要ですが、64 ビット バージョンはありません。</span><span class="sxs-lookup"><span data-stu-id="100d5-197">In particular, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Jet OLE DB Provider that is required to connect to Excel or Access data sources is not available in a 64-bit version.</span></span>  
  
## <a name="troubleshoot-errors-without-a-description"></a><span data-ttu-id="100d5-198">説明のないエラーのトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="100d5-198">Troubleshoot Errors without a Description</span></span>  
 <span data-ttu-id="100d5-199">説明のない [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] エラーが発生した場合は、「 [Integration Services のエラーおよびメッセージのリファレンス](../integration-services-error-and-message-reference.md) 」でエラー番号を検索することで、エラーの説明を参照できます。</span><span class="sxs-lookup"><span data-stu-id="100d5-199">If you encounter an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] error that does not have an accompanying description, you can locate the description in [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md) by looking up the error by its number.</span></span> <span data-ttu-id="100d5-200">現時点では、この一覧にトラブルシューティング情報は含まれていません。</span><span class="sxs-lookup"><span data-stu-id="100d5-200">The list does not include troubleshooting information at this time.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="100d5-201">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="100d5-201">Related Tasks</span></span>  
 [<span data-ttu-id="100d5-202">データ フロー コンポーネントでエラー出力を構成する</span><span class="sxs-lookup"><span data-stu-id="100d5-202">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
  
