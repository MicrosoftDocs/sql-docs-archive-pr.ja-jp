---
title: 優先順位制約に式を追加する |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- precedence executables [Integration Services]
- precedence constraints [Integration Services], adding expressions
- adding expressions
- constrained executables [Integration Services]
- combining constraints
- expressions [Integration Services], constraints
ms.assetid: 5574d89a-a68e-4b84-80ea-da93305e5ca1
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6dfc73a484020a51738b8ef93e20d96d16edbf1c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87640205"
---
# <a name="add-expressions-to-precedence-constraints"></a><span data-ttu-id="179e5-102">優先順位制約に式を追加する</span><span class="sxs-lookup"><span data-stu-id="179e5-102">Add Expressions to Precedence Constraints</span></span>
  <span data-ttu-id="179e5-103">優先順位制約では、優先順位付き実行可能ファイルと、制約付き実行可能ファイルの 2 つの実行可能ファイル間の制約を定義するために、式を使用できます。</span><span class="sxs-lookup"><span data-stu-id="179e5-103">A precedence constraint can use an expression to define the constraint between two executables: the precedence executable and the constrained executable.</span></span> <span data-ttu-id="179e5-104">これらの実行可能ファイルには、タスクまたはコンテナーを設定できます。</span><span class="sxs-lookup"><span data-stu-id="179e5-104">The executables can be tasks or containers.</span></span> <span data-ttu-id="179e5-105">式は単独で使用することも、優先順位付き実行可能ファイルの実行結果と組み合わせて使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="179e5-105">The expression can be used alone or in combination with the execution result of the precedence executable.</span></span> <span data-ttu-id="179e5-106">実行可能ファイルの実行結果は、成功または失敗のどちらかです。</span><span class="sxs-lookup"><span data-stu-id="179e5-106">The execution result of an executable is either success or failure.</span></span> <span data-ttu-id="179e5-107">優先順位制約の実行結果を構成する場合、実行結果を `Success`、`Failure`、または `Completion` に設定できます。</span><span class="sxs-lookup"><span data-stu-id="179e5-107">When you configure the execution result of a precedence constraint, you can set the execution result to `Success`, `Failure`, or `Completion`.</span></span> <span data-ttu-id="179e5-108">`Success` に設定した場合、優先順位付き実行可能ファイルは成功する必要があります。`Failure` に設定した場合、優先順位付き実行可能ファイルは失敗する必要があります。`Completion` は、優先順位付きタスクの成功または失敗にかかわらず、制約つき実行可能ファイルが実行されることを示します。</span><span class="sxs-lookup"><span data-stu-id="179e5-108">`Success` requires that the precedence executable succeed, `Failure` requires that the precedence executable fail, and `Completion` indicates that the constrained executable should run regardless of whether the precedence task succeeds or fails.</span></span> <span data-ttu-id="179e5-109">詳細については、「 [優先順位制約](control-flow/precedence-constraints.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="179e5-109">For more information, see [Precedence Constraints](control-flow/precedence-constraints.md).</span></span>  
  
 <span data-ttu-id="179e5-110">式は `True` または `False` に評価される、有効な [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 式である必要があります。</span><span class="sxs-lookup"><span data-stu-id="179e5-110">The expression must evaluate to `True` or `False` and it must be a valid [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] expression.</span></span> <span data-ttu-id="179e5-111">式では、リテラル、システム変数とカスタム変数、および [!INCLUDE[ssIS](../includes/ssis-md.md)] の式文法で用意されている関数と演算子を使用できます。</span><span class="sxs-lookup"><span data-stu-id="179e5-111">The expression can use literals, system and custom variables, and the functions and operators that the [!INCLUDE[ssIS](../includes/ssis-md.md)] expression grammar provides.</span></span> <span data-ttu-id="179e5-112">たとえば、式 `@Count == SQRT(144) + 10` では、変数 `Count`、SQRT 関数、等号 (==) 演算子、および加算 (+) 演算子が使用されています。</span><span class="sxs-lookup"><span data-stu-id="179e5-112">For example, the expression `@Count == SQRT(144) + 10` uses the variable `Count`, the SQRT function , and the equal (==) and add (+) operators.</span></span> <span data-ttu-id="179e5-113">詳細については、「 [Integration Services (SSIS) 式](expressions/integration-services-ssis-expressions.md)に評価されるまでそのワークフローを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="179e5-113">For more information, see [Integration Services &#40;SSIS&#41; Expressions](expressions/integration-services-ssis-expressions.md).</span></span>  
  
 <span data-ttu-id="179e5-114">次の図では、実行結果と式を使用する優先順位制約によって、タスク A とタスク B がリンクされています。</span><span class="sxs-lookup"><span data-stu-id="179e5-114">In the following illustration, task A and task B are linked by a precedence constraint that uses an execution result and an expression.</span></span> <span data-ttu-id="179e5-115">制約値は `Success` に設定され、式は `@X >== @Z` です。</span><span class="sxs-lookup"><span data-stu-id="179e5-115">The constraint value is set to `Success` and the expression is  `@X >== @Z`.</span></span> <span data-ttu-id="179e5-116">タスク B は制約付きタスクで、タスク A が正常に完了し、変数 `X` の値が変数 `Z` の値以上の場合にのみ実行されます。</span><span class="sxs-lookup"><span data-stu-id="179e5-116">Task B, the constrained task, runs only if task A completes successfully and the value of variable `X` is greater than or equal to the value of variable `Z`.</span></span>  
  
 <span data-ttu-id="179e5-117">![2 つのタスク間の優先順位制約](media/mw-dts-03.gif "2 つのタスク間の優先順位制約")</span><span class="sxs-lookup"><span data-stu-id="179e5-117">![Precedence constraint between two tasks](media/mw-dts-03.gif "Precedence constraint between two tasks")</span></span>  
  
 <span data-ttu-id="179e5-118">異なる式が含まれる複数の優先順位制約を使用して、実行ファイルをリンクすることもできます。</span><span class="sxs-lookup"><span data-stu-id="179e5-118">Executables can also be linked by using multiple precedence constraints that contain different expressions.</span></span> <span data-ttu-id="179e5-119">たとえば、次の図では、実行結果と式を使用する優先順位制約によって、タスク B およびタスク C がタスク A にリンクされています。</span><span class="sxs-lookup"><span data-stu-id="179e5-119">For example, in the following illustration, tasks B and C are linked to task A by precedence constraints that use execution results and expressions.</span></span> <span data-ttu-id="179e5-120">制約値は両方とも `Success.` に設定されています。1 つの優先順位制約には式 `@X >== @Z` が含まれ、もう 1 つの優先順位制約には式 `@X < @Z` が含まれています。</span><span class="sxs-lookup"><span data-stu-id="179e5-120">Both of the constraint values are set to `Success.` One precedence constraint includes the expression `@X >== @Z`, and the other precedence constraint includes the expression `@X < @Z`.</span></span> <span data-ttu-id="179e5-121">変数 `X` と変数 `Z` の値に応じて、タスク C とタスク B のどちらかが実行されます。</span><span class="sxs-lookup"><span data-stu-id="179e5-121">Depending on the values of variable `X` and variable `Z`, either task C or task B runs.</span></span>  
  
 <span data-ttu-id="179e5-122">![優先順位制約の式](media/mw-dts-04.gif "優先順位制約の式")</span><span class="sxs-lookup"><span data-stu-id="179e5-122">![Expressions on precedence constraints](media/mw-dts-04.gif "Expressions on precedence constraints")</span></span>  
  
 <span data-ttu-id="179e5-123">式を追加または変更するには、 **デザイナーの** [優先順位制約エディター] [!INCLUDE[ssIS](../includes/ssis-md.md)] と [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] で用意されている [プロパティ] ウィンドウを使用します。</span><span class="sxs-lookup"><span data-stu-id="179e5-123">You can add or modify an expression by using the **Precedence Constraint Editor** in [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer and the Properties window that [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] provides.</span></span> <span data-ttu-id="179e5-124">ただし、[プロパティ] ウィンドウには、式の構文を検証する機能は用意されていません。</span><span class="sxs-lookup"><span data-stu-id="179e5-124">However, the Properties window does not provide verification of the expression syntax.</span></span>  
  
 <span data-ttu-id="179e5-125">優先順位制約に式が含まれる場合、 **[制御フロー]** タブのデザイン画面で、優先順位制約の隣にアイコンが表示され、アイコン上のツールヒントには式が表示されます。</span><span class="sxs-lookup"><span data-stu-id="179e5-125">If a precedence constraint includes an expression, an icon appears on the design surface of the **Control Flow** tab, next to the precedence constraint, and the ToolTip on the icon displays the expression.</span></span>  
  
## <a name="combining-execution-values-and-expressions"></a><span data-ttu-id="179e5-126">実行値と式の結合</span><span class="sxs-lookup"><span data-stu-id="179e5-126">Combining Execution Values and Expressions</span></span>  
 <span data-ttu-id="179e5-127">次の表では、実行値制約と優先順位制約の式を結合した場合の結果について説明します。</span><span class="sxs-lookup"><span data-stu-id="179e5-127">The following table describes the effects of combining an execution value constraint and an expression in a precedence constraint.</span></span>  
  
|<span data-ttu-id="179e5-128">[評価操作]</span><span class="sxs-lookup"><span data-stu-id="179e5-128">Evaluation operation</span></span>|<span data-ttu-id="179e5-129">制約の評価</span><span class="sxs-lookup"><span data-stu-id="179e5-129">Constraint evaluates to</span></span>|<span data-ttu-id="179e5-130">式の評価</span><span class="sxs-lookup"><span data-stu-id="179e5-130">Expression evaluates to</span></span>|<span data-ttu-id="179e5-131">制約付き実行可能ファイルの実行</span><span class="sxs-lookup"><span data-stu-id="179e5-131">Constrained executable runs</span></span>|  
|--------------------------|-----------------------------|-----------------------------|---------------------------------|  
|<span data-ttu-id="179e5-132">制約</span><span class="sxs-lookup"><span data-stu-id="179e5-132">Constraint</span></span>|<span data-ttu-id="179e5-133">正しい</span><span class="sxs-lookup"><span data-stu-id="179e5-133">True</span></span>|<span data-ttu-id="179e5-134">該当なし</span><span class="sxs-lookup"><span data-stu-id="179e5-134">N/A</span></span>|<span data-ttu-id="179e5-135">正しい</span><span class="sxs-lookup"><span data-stu-id="179e5-135">True</span></span>|  
|<span data-ttu-id="179e5-136">制約</span><span class="sxs-lookup"><span data-stu-id="179e5-136">Constraint</span></span>|<span data-ttu-id="179e5-137">誤り</span><span class="sxs-lookup"><span data-stu-id="179e5-137">False</span></span>|<span data-ttu-id="179e5-138">該当なし</span><span class="sxs-lookup"><span data-stu-id="179e5-138">N/A</span></span>|<span data-ttu-id="179e5-139">誤り</span><span class="sxs-lookup"><span data-stu-id="179e5-139">False</span></span>|  
|<span data-ttu-id="179e5-140">式</span><span class="sxs-lookup"><span data-stu-id="179e5-140">Expression</span></span>|<span data-ttu-id="179e5-141">該当なし</span><span class="sxs-lookup"><span data-stu-id="179e5-141">N/A</span></span>|<span data-ttu-id="179e5-142">True</span><span class="sxs-lookup"><span data-stu-id="179e5-142">True</span></span>|<span data-ttu-id="179e5-143">True</span><span class="sxs-lookup"><span data-stu-id="179e5-143">True</span></span>|  
|<span data-ttu-id="179e5-144">式</span><span class="sxs-lookup"><span data-stu-id="179e5-144">Expression</span></span>|<span data-ttu-id="179e5-145">該当なし</span><span class="sxs-lookup"><span data-stu-id="179e5-145">N/A</span></span>|<span data-ttu-id="179e5-146">False</span><span class="sxs-lookup"><span data-stu-id="179e5-146">False</span></span>|<span data-ttu-id="179e5-147">False</span><span class="sxs-lookup"><span data-stu-id="179e5-147">False</span></span>|  
|<span data-ttu-id="179e5-148">制約と式の両方</span><span class="sxs-lookup"><span data-stu-id="179e5-148">Constraint and Expression</span></span>|<span data-ttu-id="179e5-149">True</span><span class="sxs-lookup"><span data-stu-id="179e5-149">True</span></span>|<span data-ttu-id="179e5-150">True</span><span class="sxs-lookup"><span data-stu-id="179e5-150">True</span></span>|<span data-ttu-id="179e5-151">True</span><span class="sxs-lookup"><span data-stu-id="179e5-151">True</span></span>|  
|<span data-ttu-id="179e5-152">制約と式の両方</span><span class="sxs-lookup"><span data-stu-id="179e5-152">Constraint and Expression</span></span>|<span data-ttu-id="179e5-153">正しい</span><span class="sxs-lookup"><span data-stu-id="179e5-153">True</span></span>|<span data-ttu-id="179e5-154">False</span><span class="sxs-lookup"><span data-stu-id="179e5-154">False</span></span>|<span data-ttu-id="179e5-155">False</span><span class="sxs-lookup"><span data-stu-id="179e5-155">False</span></span>|  
|<span data-ttu-id="179e5-156">制約と式の両方</span><span class="sxs-lookup"><span data-stu-id="179e5-156">Constraint and Expression</span></span>|<span data-ttu-id="179e5-157">False</span><span class="sxs-lookup"><span data-stu-id="179e5-157">False</span></span>|<span data-ttu-id="179e5-158">True</span><span class="sxs-lookup"><span data-stu-id="179e5-158">True</span></span>|<span data-ttu-id="179e5-159">誤り</span><span class="sxs-lookup"><span data-stu-id="179e5-159">False</span></span>|  
|<span data-ttu-id="179e5-160">制約と式の両方</span><span class="sxs-lookup"><span data-stu-id="179e5-160">Constraint and Expression</span></span>|<span data-ttu-id="179e5-161">False</span><span class="sxs-lookup"><span data-stu-id="179e5-161">False</span></span>|<span data-ttu-id="179e5-162">False</span><span class="sxs-lookup"><span data-stu-id="179e5-162">False</span></span>|<span data-ttu-id="179e5-163">False</span><span class="sxs-lookup"><span data-stu-id="179e5-163">False</span></span>|  
|<span data-ttu-id="179e5-164">制約または式のいずれか</span><span class="sxs-lookup"><span data-stu-id="179e5-164">Constraint or Expression</span></span>|<span data-ttu-id="179e5-165">True</span><span class="sxs-lookup"><span data-stu-id="179e5-165">True</span></span>|<span data-ttu-id="179e5-166">True</span><span class="sxs-lookup"><span data-stu-id="179e5-166">True</span></span>|<span data-ttu-id="179e5-167">True</span><span class="sxs-lookup"><span data-stu-id="179e5-167">True</span></span>|  
|<span data-ttu-id="179e5-168">制約または式のいずれか</span><span class="sxs-lookup"><span data-stu-id="179e5-168">Constraint or Expression</span></span>|<span data-ttu-id="179e5-169">正しい</span><span class="sxs-lookup"><span data-stu-id="179e5-169">True</span></span>|<span data-ttu-id="179e5-170">False</span><span class="sxs-lookup"><span data-stu-id="179e5-170">False</span></span>|<span data-ttu-id="179e5-171">True</span><span class="sxs-lookup"><span data-stu-id="179e5-171">True</span></span>|  
|<span data-ttu-id="179e5-172">制約または式のいずれか</span><span class="sxs-lookup"><span data-stu-id="179e5-172">Constraint or Expression</span></span>|<span data-ttu-id="179e5-173">False</span><span class="sxs-lookup"><span data-stu-id="179e5-173">False</span></span>|<span data-ttu-id="179e5-174">True</span><span class="sxs-lookup"><span data-stu-id="179e5-174">True</span></span>|<span data-ttu-id="179e5-175">True</span><span class="sxs-lookup"><span data-stu-id="179e5-175">True</span></span>|  
|<span data-ttu-id="179e5-176">制約または式のいずれか</span><span class="sxs-lookup"><span data-stu-id="179e5-176">Constraint or Expression</span></span>|<span data-ttu-id="179e5-177">False</span><span class="sxs-lookup"><span data-stu-id="179e5-177">False</span></span>|<span data-ttu-id="179e5-178">False</span><span class="sxs-lookup"><span data-stu-id="179e5-178">False</span></span>|<span data-ttu-id="179e5-179">False</span><span class="sxs-lookup"><span data-stu-id="179e5-179">False</span></span>|  
  
### <a name="to-add-an-expression-to-a-precedence-constraint"></a><span data-ttu-id="179e5-180">優先順位制約に式を追加するには</span><span class="sxs-lookup"><span data-stu-id="179e5-180">To add an expression to a precedence constraint</span></span>  
  
-   [<span data-ttu-id="179e5-181">優先順位制約で式を使用する</span><span class="sxs-lookup"><span data-stu-id="179e5-181">Use an Expression in a Precedence Constraint</span></span>](../../2014/integration-services/use-an-expression-in-a-precedence-constraint.md)  
  
-   [<span data-ttu-id="179e5-182">優先順位制約のプロパティを設定する</span><span class="sxs-lookup"><span data-stu-id="179e5-182">Set the Properties of a Precedence Constraint</span></span>](../../2014/integration-services/set-the-properties-of-a-precedence-constraint.md)  
  
## <a name="external-resources"></a><span data-ttu-id="179e5-183">外部リソース</span><span class="sxs-lookup"><span data-stu-id="179e5-183">External Resources</span></span>  
 <span data-ttu-id="179e5-184">social.technet.microsoft.com の技術記事「 [SSIS 式の例](https://go.microsoft.com/fwlink/?LinkId=220761)」</span><span class="sxs-lookup"><span data-stu-id="179e5-184">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="179e5-185">参照</span><span class="sxs-lookup"><span data-stu-id="179e5-185">See Also</span></span>  
 <span data-ttu-id="179e5-186">[複数の優先順位制約](../../2014/integration-services/multiple-precedence-constraints.md) </span><span class="sxs-lookup"><span data-stu-id="179e5-186">[Multiple Precedence Constraints](../../2014/integration-services/multiple-precedence-constraints.md) </span></span>  
 [<span data-ttu-id="179e5-187">優先順位制約</span><span class="sxs-lookup"><span data-stu-id="179e5-187">Precedence Constraints</span></span>](control-flow/precedence-constraints.md)  
  
  
