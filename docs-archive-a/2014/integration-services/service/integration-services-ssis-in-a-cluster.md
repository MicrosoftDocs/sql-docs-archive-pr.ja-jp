---
title: クラスターにおける Integration Services (SSIS) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 0216266d-d866-4ea2-bbeb-955965f4d7c2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 450553e97713c0acba329e5874932f1fdedee310
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87720217"
---
# <a name="integration-services-ssis-in-a-cluster"></a><span data-ttu-id="fe8d7-102">クラスターにおける Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="fe8d7-102">Integration Services (SSIS) in a Cluster</span></span>
  <span data-ttu-id="fe8d7-103">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] をクラスター化することはお勧めしません。 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスは、クラスター化されるサービスまたはクラスター対応サービスではなく、クラスター ノード間のフェールオーバーはサポートしません。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-103">Clustering [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] is not recommended because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is not a clustered or cluster-aware service, and does not support failover from one cluster node to another.</span></span> <span data-ttu-id="fe8d7-104">したがって、クラスター環境では、クラスターの各ノードで [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] をインストールし、スタンドアロン サービスとして起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-104">Therefore, in a clustered environment, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] should be installed and started as a stand-alone service on each node in the cluster.</span></span>  
  
 <span data-ttu-id="fe8d7-105">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスはクラスター化されるサービスではありませんが、クラスターの各ノードに個別に [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] をインストールした後、クラスター リソースとして動作するように手動で構成することができます。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-105">Although the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is not a clustered service, you can manually configure the service to operate as a cluster resource after you install [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] separately on each node of the cluster.</span></span>  
  
 <span data-ttu-id="fe8d7-106">ただし、クラスター化されたハードウェア環境を構築する目的が高可用性を実現することにある場合は、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスをクラスター リソースとして構成しなくても、この目的を達成できます。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-106">However, if high availability is your goal in establishing a clustered hardware environment, you can achieve this goal without configuring the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service as a cluster resource.</span></span>  <span data-ttu-id="fe8d7-107">クラスター内の他のノードからクラスター内の任意のノード上でパッケージを管理するには、クラスター内の各ノードで [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスの構成ファイルを変更します。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-107">To manage your packages on any node in the cluster from any other node in the cluster, modify the configuration file for the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service on each node in the cluster.</span></span> <span data-ttu-id="fe8d7-108">パッケージが格納されている [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の使用可能なすべてのインスタンスを指し示すように、それぞれの構成ファイルを変更します。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-108">You modify each of these configuration files to point to all available instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on which packages are stored.</span></span> <span data-ttu-id="fe8d7-109">この方法を使用すると、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスをクラスター リソースとして構成したときに発生する可能性のある問題を回避できるうえ、ほとんどの顧客から求められる高可用性を実現できます。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-109">This solution provides the high availability that most customers need, without the potential problems encountered when the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is configured as a cluster resource.</span></span> <span data-ttu-id="fe8d7-110">構成ファイルの変更方法の詳細については、「[Integration Services サービスの構成 (SSIS サービス)](integration-services-service-ssis-service.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-110">For more information about how to change the configuration file, see [Configuring the Integration Services Service &#40;SSIS Service&#41;](integration-services-service-ssis-service.md)</span></span>  
  
 <span data-ttu-id="fe8d7-111">クラスター環境でサービスをどのように構成するかに関して詳しい情報に基づく決断を行うには、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスの役割を理解することがきわめて重要です。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-111">Understanding the role of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is critical to making an informed decision about how to configure the service in a clustered environment.</span></span> <span data-ttu-id="fe8d7-112">詳細については、「[Integration Services サービス (SSIS サービス)](integration-services-service-ssis-service.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-112">For more information, see [Integration Services Service &#40;SSIS Service&#41;](integration-services-service-ssis-service.md).</span></span>  
  
## <a name="understanding-the-disadvantages-of-configuring-integration-services-as-a-cluster-resource"></a><span data-ttu-id="fe8d7-113">Integration Services をクラスター リソースとして構成する場合の欠点について</span><span class="sxs-lookup"><span data-stu-id="fe8d7-113">Understanding the Disadvantages of Configuring Integration Services as a Cluster Resource</span></span>  
 <span data-ttu-id="fe8d7-114">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスをクラスター リソースとして構成する場合、次のような潜在的な欠点があります。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-114">Some of the potential disadvantages of configuring the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service as a cluster resource include the following:</span></span>  
  
-   <span data-ttu-id="fe8d7-115">フェールオーバーが発生したときに、実行中のパッケージが再起動されません。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-115">When a failover occurs, running packages do not restart.</span></span> <span data-ttu-id="fe8d7-116">チェックポイントからパッケージを再開することで、パッケージのエラーから回復できます。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-116">You can recover from package failures by restarting packages from checkpoints.</span></span> <span data-ttu-id="fe8d7-117">サービスをクラスター リソースとして構成しなくても、チェックポイントからパッケージを再開できます。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-117">You can restart from checkpoints without configuring the service as a cluster resource.</span></span> <span data-ttu-id="fe8d7-118">詳細については、「 [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-118">For more information, see [Restart Packages by Using Checkpoints](../packages/restart-packages-by-using-checkpoints.md).</span></span>  
  
-   <span data-ttu-id="fe8d7-119">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] とは異なるリソース グループに [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]サービスを構成した場合、クライアント コンピューターから [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] を使用して msdb データベースに格納されているパッケージを管理することはできません。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-119">When you configure the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in a different resource group from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you cannot use [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] from client computers to manage packages that are stored in the msdb database.</span></span> <span data-ttu-id="fe8d7-120">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスは、このダブルホップ シナリオで資格情報を委任することはできません。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-120">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service cannot delegate credentials in this double-hop scenario.</span></span>  
  
-   <span data-ttu-id="fe8d7-121">クラスター内に [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスを含む複数の [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] リソース グループがある場合、フェールオーバーにより予期しない結果が生じる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-121">When you have multiple [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource groups that include the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in a cluster, a failover could lead to unexpected results.</span></span> <span data-ttu-id="fe8d7-122">次のシナリオで考えてみましょう。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-122">Consider the following scenario.</span></span> <span data-ttu-id="fe8d7-123">グループ 1 は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスと [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスを含み、ノード A 上で実行されています。グループ 2 は、同様に [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスと [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスを含み、ノード B 上で実行されています。次に、グループ 2 からノード A へのフェールオーバーが発生します。ここで、ノード A 上で [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスの別のインスタンスを起動しようとした場合、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスは単一インスタンス サービスなので、その試みは失敗します。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-123">Group1, which includes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service, is running on Node A. Group2, which also includes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service, is running on Node B. Group 2 fails over to Node A. The attempt to start another instance of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service on Node A fails because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service is a single-instance service.</span></span> <span data-ttu-id="fe8d7-124">ノード A へのフェールオーバーを試行している [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスが同様に失敗するかどうかは、グループ 2 における [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスの構成に依存します。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-124">Whether the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is trying to fail over to Node A also fails depends on the configuration of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in Group 2.</span></span> <span data-ttu-id="fe8d7-125">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスがリソース グループ内の他のサービスに影響を与えるように構成されている場合、フェールオーバーを試行している [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスは失敗します。なぜなら、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスが失敗しているからです。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-125">If the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service was configured to affect the other services in the resource group, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is failing over will fail because the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service failed.</span></span> <span data-ttu-id="fe8d7-126">サービスがリソース グループ内の他のサービスに影響を与えないように構成されている場合、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスはノード A にフェールオーバーできます。リソース グループ内の他のサービスに影響を与えないようにグループ 2 の [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスが構成されていない限り、フェールオーバーを試行している [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サービスが失敗すると、フェールオーバーを試行している [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービスも失敗する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-126">If the service was configured not to affect the other services in the resource group, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service will be able to fail over to Node A.Unless the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service in Group 2 was configured not to affect the other services in the resource group, the failure of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service that is failing over could cause the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that is failing over to fail also.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="fe8d7-127">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="fe8d7-127">Related Tasks</span></span>  
 <span data-ttu-id="fe8d7-128">クラスター内で Integration Services サービスを構成する手順については、「 [クラスター リソースとして Integration Services サービスを構成する](../configure-the-integration-services-service-as-a-cluster-resource.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe8d7-128">For step-by-step instructions on configuring the Integration Services service in a cluster, see [Configure the Integration Services Service as a Cluster Resource](../configure-the-integration-services-service-as-a-cluster-resource.md).</span></span>  
  
  
