---
title: 制御フローにイテレーションを追加する |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- repeating workflows
- adding iterations
- control flow [Integration Services], iterations
- expressions [Integration Services], control flow
- iterations [Integration Services]
- For Loop containers
ms.assetid: eb3a7494-88ae-4165-9d0f-58715eb1734a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2b576ab080c541ef96987d3375215185f5cadb46
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87640204"
---
# <a name="add-iteration-to-a-control-flow"></a><span data-ttu-id="8653c-102">制御フローに繰り返しを追加する</span><span class="sxs-lookup"><span data-stu-id="8653c-102">Add Iteration to a Control Flow</span></span>
  [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] <span data-ttu-id="8653c-103">には For ループ コンテナーが含まれています。For ループ コンテナーとは制御フローの要素で、これを使用すると、条件に応じてパッケージ内の制御フローを繰り返すループを、簡単に含めることができます。</span><span class="sxs-lookup"><span data-stu-id="8653c-103">includes the For Loop container, a control flow element that makes it simple to include looping that conditionally repeats a control flow in a package.</span></span> <span data-ttu-id="8653c-104">詳細については、「 [For ループ コンテナー](control-flow/for-loop-container.md)に評価されるまでそのワークフローを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="8653c-104">For more information, see [For Loop Container](control-flow/for-loop-container.md).</span></span>  
  
 <span data-ttu-id="8653c-105">For ループ コンテナーは、ループの各繰り返しにおいて条件を評価し、条件が FALSE に評価されると停止します。</span><span class="sxs-lookup"><span data-stu-id="8653c-105">The For Loop container evaluates a condition on each iteration of the loop, and stops when the condition evaluates to false.</span></span> <span data-ttu-id="8653c-106">For ループ コンテナーに含まれる式によって、ループの初期化、繰り返される制御フローの実行を停止する評価条件の指定、評価条件の比較対象となる値を更新する式への値の代入を行います。</span><span class="sxs-lookup"><span data-stu-id="8653c-106">The For Loop container includes expressions for initializing the loop, specifying the evaluation condition that stops execution of the repeating control flow, and assigning a value to an expression that updates the value against which the evaluation condition is compared.</span></span> <span data-ttu-id="8653c-107">評価条件は必ず指定する必要がありますが、初期化式および代入式の指定は任意です。</span><span class="sxs-lookup"><span data-stu-id="8653c-107">You must provide an evaluation condition, but initialization and assignment expressions are optional.</span></span>  
  
 <span data-ttu-id="8653c-108">For ループ コンテナーに機能は用意されていません。繰り返し可能な制御フローを構築する構造を提供するだけです。</span><span class="sxs-lookup"><span data-stu-id="8653c-108">The For Loop container provides no functionality; it provides only the structure in which you build the repeatable control flow.</span></span> <span data-ttu-id="8653c-109">コンテナーに機能を設定するには、For ループ コンテナーに少なくとも 1 つのタスクを含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="8653c-109">To provide container functionality, you must include at least one task in the For Loop container.</span></span> <span data-ttu-id="8653c-110">詳細については、「 [Integration Services のタスク](control-flow/integration-services-tasks.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8653c-110">For more information, see [Integration Services Tasks](control-flow/integration-services-tasks.md).</span></span>  
  
 <span data-ttu-id="8653c-111">For ループ コンテナーには、複数のタスクを持つ制御フローを含めたり、他のコンテナーを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="8653c-111">The For Loop container can include a control flow with multiple tasks, and can include other containers.</span></span> <span data-ttu-id="8653c-112">For ループ コンテナーにタスクとコンテナーを追加する手順は、タスクとコンテナーをドラッグする先がパッケージではなく For ループ コンテナーであること以外は、パッケージに追加する手順と同様です。</span><span class="sxs-lookup"><span data-stu-id="8653c-112">Adding tasks and containers to a For Loop container is similar to adding them to a package, except you drag the tasks and containers to the For Loop container instead of to the package.</span></span> <span data-ttu-id="8653c-113">For ループ コンテナーに複数のタスクまたはコンテナーが含まれる場合、パッケージの場合と同様に、優先順位制約を使用してそれらを連結できます。</span><span class="sxs-lookup"><span data-stu-id="8653c-113">If the For Loop container includes more than one task or container, you can connect them using precedence constraints just as you do in a package.</span></span> <span data-ttu-id="8653c-114">詳細については、「 [優先順位制約](control-flow/precedence-constraints.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8653c-114">For more information, see [Precedence Constraints](control-flow/precedence-constraints.md).</span></span>  
  
## <a name="using-expressions-in-for-loop-configuration"></a><span data-ttu-id="8653c-115">For ループ構成での式の使用</span><span class="sxs-lookup"><span data-stu-id="8653c-115">Using Expressions in For Loop Configuration</span></span>  
 <span data-ttu-id="8653c-116">評価条件、初期化の値、または代入値を指定することによって For ループ コンテナーを構成する場合、リテラルまたは式のどちらかを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8653c-116">When you configure the For Loop container by specifying an evaluation condition, initialization value, or assignment value, you can use either literals or expressions.</span></span>  
  
 <span data-ttu-id="8653c-117">式には変数を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="8653c-117">The expressions can include variables.</span></span> <span data-ttu-id="8653c-118">変数を使用する利点は実行時に更新できるので、パッケージの管理がより柔軟かつ容易になることです。</span><span class="sxs-lookup"><span data-stu-id="8653c-118">The advantage of using variables is that they can be updated at run time, making the packages more flexible and easier to manage.</span></span> <span data-ttu-id="8653c-119">式の最大長は 4,000 文字です。</span><span class="sxs-lookup"><span data-stu-id="8653c-119">The maximum length of an expression is 4000 characters.</span></span>  
  
 <span data-ttu-id="8653c-120">式の内部で変数を指定する場合、変数名をアット マーク (@) で始める必要があります。</span><span class="sxs-lookup"><span data-stu-id="8653c-120">When you specify a variable in an expression, you must preface the variable name with the at sign (@).</span></span> <span data-ttu-id="8653c-121">たとえば、という名前の変数については、 `Counter` @Counter for ループコンテナーが使用する式にを入力します。</span><span class="sxs-lookup"><span data-stu-id="8653c-121">For example, for a variable named `Counter`, enter @Counter in the expression that the For Loop container uses.</span></span> <span data-ttu-id="8653c-122">変数の名前空間のプロパティを含める場合は、変数と名前空間を角かっこで囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="8653c-122">If you include the namespace property on the variable, you must enclose the variable and namespace in brackets.</span></span> <span data-ttu-id="8653c-123">たとえば、名前空間の変数の場合は `Counter` `MyNamespace` 、「[]」と入力 @MyNamespace::Counter します。</span><span class="sxs-lookup"><span data-stu-id="8653c-123">For example, for a `Counter` variable in the `MyNamespace` namespace, type [@MyNamespace::Counter].</span></span>  
  
 <span data-ttu-id="8653c-124">For ループ コンテナーが使用する変数は、For ループ コンテナーのスコープ、またはパッケージ コンテナー階層において上位層にある任意のコンテナーのスコープ内で定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8653c-124">The variables that the For Loop container uses must be defined in the scope of the For Loop container or in the scope of any container that is higher in the package container hierarchy.</span></span> <span data-ttu-id="8653c-125">たとえば、For ループ コンテナーは、それ自体のスコープ内で定義された変数と、パッケージ スコープ内で定義された変数を使用できます。</span><span class="sxs-lookup"><span data-stu-id="8653c-125">For example, a For Loop container can use variables defined in its scope and also variables defined in package scope.</span></span> <span data-ttu-id="8653c-126">詳細については、「[Integration Services &#40;SSIS&#41; の変数](integration-services-ssis-variables.md)」と「[パッケージで変数を使用する](../../2014/integration-services/use-variables-in-packages.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="8653c-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](integration-services-ssis-variables.md) and [Use Variables in Packages](../../2014/integration-services/use-variables-in-packages.md).</span></span>  
  
 <span data-ttu-id="8653c-127">[!INCLUDE[ssIS](../includes/ssis-md.md)] の式文法には、評価、初期化、または代入に使用する複雑な式を実装するための、演算子と関数の完全なセットが用意されています。</span><span class="sxs-lookup"><span data-stu-id="8653c-127">The [!INCLUDE[ssIS](../includes/ssis-md.md)] expression grammar provides a complete set of operators and functions for implementing complex expressions used for evaluation, initialization, or assignment.</span></span> <span data-ttu-id="8653c-128">詳細については、「 [Integration Services (SSIS) 式](expressions/integration-services-ssis-expressions.md)に評価されるまでそのワークフローを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="8653c-128">For more information, see [Integration Services &#40;SSIS&#41; Expressions](expressions/integration-services-ssis-expressions.md).</span></span>  
  
### <a name="to-implement-a-for-loop-container-in-a-control-flow"></a><span data-ttu-id="8653c-129">For ループ コンテナーを制御フローに実装するには</span><span class="sxs-lookup"><span data-stu-id="8653c-129">To implement a For Loop container in a control flow</span></span>  
  
1.  <span data-ttu-id="8653c-130">For ループ コンテナーをパッケージに追加します。</span><span class="sxs-lookup"><span data-stu-id="8653c-130">Add the For Loop container to the package.</span></span> <span data-ttu-id="8653c-131">詳細については、「[制御フローでのタスクまたはコンテナーの追加または削除](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8653c-131">For more information, see [Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)</span></span>  
  <span data-ttu-id="8653c-132">.</span><span class="sxs-lookup"><span data-stu-id="8653c-132">.</span></span>  
  
2.  <span data-ttu-id="8653c-133">タスクとコンテナーを For ループ コンテナーに追加します。</span><span class="sxs-lookup"><span data-stu-id="8653c-133">Add tasks and containers to the For Loop container.</span></span> <span data-ttu-id="8653c-134">詳細については、「[制御フローでのタスクまたはコンテナーの追加または削除](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8653c-134">For more information, see [Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md)</span></span>  
  <span data-ttu-id="8653c-135">.</span><span class="sxs-lookup"><span data-stu-id="8653c-135">.</span></span>  
  
3.  <span data-ttu-id="8653c-136">優先順位制約を使用して、For ループ コンテナー内のタスクとコンテナーを連結します。</span><span class="sxs-lookup"><span data-stu-id="8653c-136">Connect tasks and containers in the For Loop container using precedence constraints.</span></span> <span data-ttu-id="8653c-137">詳細については、「 [既定の優先順位制約を使用してタスクとコンテナーを連結する](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8653c-137">For more information, see [Connect Tasks and Containers by Using a Default Precedence Constraint](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md).</span></span>  
  
4.  <span data-ttu-id="8653c-138">For ループ コンテナーを構成します。</span><span class="sxs-lookup"><span data-stu-id="8653c-138">Configure the For Loop container.</span></span> <span data-ttu-id="8653c-139">詳細については、「 [For ループ コンテナーを構成する](../../2014/integration-services/configure-a-for-loop-container.md)に評価されるまでそのワークフローを繰り返します。</span><span class="sxs-lookup"><span data-stu-id="8653c-139">For more information, see [Configure a For Loop Container](../../2014/integration-services/configure-a-for-loop-container.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8653c-140">参照</span><span class="sxs-lookup"><span data-stu-id="8653c-140">See Also</span></span>  
 <span data-ttu-id="8653c-141">[制御フロー内のタスクまたはコンテナーを追加または削除する](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) </span><span class="sxs-lookup"><span data-stu-id="8653c-141">[Add or Delete a Task or a Container in a Control Flow](control-flow/add-or-delete-a-task-or-a-container-in-a-control-flow.md) </span></span>  
 <span data-ttu-id="8653c-142">[コンポーネントのグループ化またはグループ解除](group-or-ungroup-components.md) </span><span class="sxs-lookup"><span data-stu-id="8653c-142">[Group or Ungroup Components](group-or-ungroup-components.md) </span></span>  
 <span data-ttu-id="8653c-143">[既定の優先順位制約を使用してタスクとコンテナーを連結する](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md) </span><span class="sxs-lookup"><span data-stu-id="8653c-143">[Connect Tasks and Containers by Using a Default Precedence Constraint](../../2014/integration-services/connect-tasks-and-containers-by-using-a-default-precedence-constraint.md) </span></span>  
 <span data-ttu-id="8653c-144">[制御フローに列挙を追加する](../../2014/integration-services/add-enumeration-to-a-control-flow.md) </span><span class="sxs-lookup"><span data-stu-id="8653c-144">[Add Enumeration to a Control Flow](../../2014/integration-services/add-enumeration-to-a-control-flow.md) </span></span>  
 [<span data-ttu-id="8653c-145">制御フロー</span><span class="sxs-lookup"><span data-stu-id="8653c-145">Control Flow</span></span>](control-flow/control-flow.md)  
  
  
