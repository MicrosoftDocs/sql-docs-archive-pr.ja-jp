---
title: データ マイニング クエリ タスク | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataminingquerytask.f1
helpviewer_keywords:
- prediction queries [Integration Services]
- Data Mining Query task [Integration Services]
ms.assetid: f489348c-2008-4f66-8c2c-c07c3029439a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6bb3cea630401f92395e2ca4416c03bcd870c881
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87641818"
---
# <a name="data-mining-query-task"></a><span data-ttu-id="a763a-102">データ マイニング クエリ タスク</span><span class="sxs-lookup"><span data-stu-id="a763a-102">Data Mining Query Task</span></span>
  <span data-ttu-id="a763a-103">データ マイニング クエリ タスクは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]に構築されたデータ マイニング モデルに基づいて、予測クエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="a763a-103">The Data Mining Query task runs prediction queries based on data mining models built in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="a763a-104">予測クエリは、マイニング モデルを使用して新しいデータの予測を作成します。</span><span class="sxs-lookup"><span data-stu-id="a763a-104">The prediction query creates a prediction for new data by using mining models.</span></span> <span data-ttu-id="a763a-105">たとえば、予測クエリにより、夏季のヨット販売数を予測したり、ヨットを購入する可能性の高い顧客の一覧を生成できます。</span><span class="sxs-lookup"><span data-stu-id="a763a-105">For example, a prediction query can predict how many sailboats are likely to sell during the summer months or generate a list of prospective customers who are likely to buy a sailboat.</span></span>  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="a763a-106">では、データ定義言語 (DDL) ステートメントの実行や分析オブジェクトの処理など、ビジネス インテリジェンス操作を実行するその他のタスクが用意されています。</span><span class="sxs-lookup"><span data-stu-id="a763a-106">provides tasks that perform other business intelligence operations, such as running Data Definition Language (DDL) statements and processing analytic objects.</span></span>  
  
 <span data-ttu-id="a763a-107">その他のビジネス インテリジェンス タスクの詳細については、次のトピックのいずれかを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-107">For more information about other business intelligence tasks, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="a763a-108">Analysis Services DDL 実行タスク</span><span class="sxs-lookup"><span data-stu-id="a763a-108">Analysis Services Execute DDL Task</span></span>](analysis-services-execute-ddl-task.md)  
  
-   [<span data-ttu-id="a763a-109">Analysis Services 処理タスク</span><span class="sxs-lookup"><span data-stu-id="a763a-109">Analysis Services Processing Task</span></span>](analysis-services-processing-task.md)  
  
## <a name="prediction-queries"></a><span data-ttu-id="a763a-110">予測クエリ</span><span class="sxs-lookup"><span data-stu-id="a763a-110">Prediction Queries</span></span>  
 <span data-ttu-id="a763a-111">予測クエリは、データ マイニング拡張機能 (DMX) ステートメントです。</span><span class="sxs-lookup"><span data-stu-id="a763a-111">The query is a Data Mining Extensions (DMX) statement.</span></span> <span data-ttu-id="a763a-112">DMX 言語は、マイニング モデルでの作業をサポートするための SQL 言語の拡張機能です。</span><span class="sxs-lookup"><span data-stu-id="a763a-112">The DMX language is an extension of the SQL language that provides support for working with mining models.</span></span> <span data-ttu-id="a763a-113">DMX 言語の使用方法の詳細については、「[データ マイニング拡張機能 &#40;DMX&#41; リファレンス](/sql/dmx/data-mining-extensions-dmx-reference)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-113">For more information about how to use the DMX language, see [Data Mining Extensions &#40;DMX&#41; Reference](/sql/dmx/data-mining-extensions-dmx-reference).</span></span>  
  
 <span data-ttu-id="a763a-114">このタスクは、同じマイニング構造で構築された複数のマイニング モデルに対してクエリを実行できます。</span><span class="sxs-lookup"><span data-stu-id="a763a-114">The task can query multiple mining models that are built on the same mining structure.</span></span> <span data-ttu-id="a763a-115">マイニング モデルは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] が提供するデータ マイニング アルゴリズムのいずれかを使用して構築されます。</span><span class="sxs-lookup"><span data-stu-id="a763a-115">A mining model is built using one of the data mining algorithms that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] provides.</span></span> <span data-ttu-id="a763a-116">データ マイニング クエリ タスクが参照するマイニング構造には、異なるアルゴリズムを使用して構築された複数のマイニング モデルを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a763a-116">The mining structure that the Data Mining Query task references can include multiple mining models, built using different algorithms.</span></span> <span data-ttu-id="a763a-117">詳細については、「[マイニング構造 &#40;Analysis Services - データ マイニング&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining)」および「[データ マイニング アルゴリズム &#40;Analysis Services - データ マイニング&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-117">For more information, see [Mining Structures &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/mining-structures-analysis-services-data-mining) and [Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](https://docs.microsoft.com/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).</span></span>  
  
 <span data-ttu-id="a763a-118">データ マイニング クエリ タスクが実行する予測クエリは、単一行または 1 つのデータセットを結果として返します。</span><span class="sxs-lookup"><span data-stu-id="a763a-118">The prediction query that the Data Mining Query task runs returns a result that is a single row or a data set.</span></span> <span data-ttu-id="a763a-119">単一行を返すクエリは、単一クエリと呼ばれます。たとえば、夏季のヨット販売数を予想するクエリは、1 つの数値を返します。</span><span class="sxs-lookup"><span data-stu-id="a763a-119">A query that returns a single row is called a singleton query: for example, the query that predicts how many sailboats will be sold during the summer months returns a number.</span></span> <span data-ttu-id="a763a-120">1つの行を返す予測クエリの詳細については、「[データマイニングクエリインターフェイス](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-120">For more information about prediction queries that return a single row, see [Data Mining Query Interfaces](https://docs.microsoft.com/analysis-services/data-mining/data-mining-query-tools).</span></span>  
  
 <span data-ttu-id="a763a-121">クエリ結果は、テーブルに保存されます。</span><span class="sxs-lookup"><span data-stu-id="a763a-121">The query results are saved to tables.</span></span> <span data-ttu-id="a763a-122">データ マイニング クエリ タスクで指定された名前のテーブルが既に存在している場合、タスクで同じ名前の末尾に番号を追加して新しいテーブルを作成することも、テーブルの内容を上書きすることもできます。</span><span class="sxs-lookup"><span data-stu-id="a763a-122">If a table with the name that the Data Mining Query task specifies already exists, the task can create a new table, using the same name with a number appended, or it can overwrite the table content.</span></span>  
  
 <span data-ttu-id="a763a-123">結果に入れ子が含まれる場合は、フラット化された後に保存されます。</span><span class="sxs-lookup"><span data-stu-id="a763a-123">If the results include nesting, the result is flattened before it is saved.</span></span> <span data-ttu-id="a763a-124">結果をフラット化すると、入れ子の結果セットはテーブルに変更されます。</span><span class="sxs-lookup"><span data-stu-id="a763a-124">Flattening a result changes a nested result set to a table.</span></span> <span data-ttu-id="a763a-125">たとえば、 **Customer** 列に **Product** 列が入れ子になっている、入れ子の結果をフラット化すると、 **Customer** 列に行が追加され、顧客ごとの製品が含まれるテーブルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a763a-125">For example, flattening a nested result with a **Customer** column and a nested **Product** column adds rows to the **Customer** column to make a table that includes product data for each customer.</span></span> <span data-ttu-id="a763a-126">たとえば、3 つの異なる製品を購入した顧客は、3 行のテーブルになります。つまり、顧客は各行で繰り返され、行ごとに異なる製品が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a763a-126">For example, a customer with three different products becomes a table with three rows, repeating the customer in each row and including a different product in each row.</span></span> <span data-ttu-id="a763a-127">FLATTENED キーワードを省略すると、テーブルには、 **Customer** 列と各顧客につき 1 行のみが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a763a-127">If the FLATTENED keyword is omitted, the table contains only the **Customer** column and only one row per customer.</span></span> <span data-ttu-id="a763a-128">詳細については、「[SELECT &#40;DMX&#41;](/sql/dmx/select-dmx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-128">For more information, see [SELECT &#40;DMX&#41;](/sql/dmx/select-dmx).</span></span>  
  
## <a name="configuration-of-the-data-mining-query-task"></a><span data-ttu-id="a763a-129">データ マイニング クエリ タスクの構成</span><span class="sxs-lookup"><span data-stu-id="a763a-129">Configuration of the Data Mining Query Task</span></span>  
 <span data-ttu-id="a763a-130">データ マイニング クエリ タスクには 2 つの接続が必要です。</span><span class="sxs-lookup"><span data-stu-id="a763a-130">The Data Mining Query task requires two connections.</span></span> <span data-ttu-id="a763a-131">1 つ目の接続は [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 接続マネージャーで、[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンス、またはマイニング構造とマイニング モデルを含む [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] プロジェクトのいずれかに接続します。</span><span class="sxs-lookup"><span data-stu-id="a763a-131">The first connection is an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] connection manager that connects either to an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project that contains the mining structure and the mining model.</span></span> <span data-ttu-id="a763a-132">2 つ目の接続は OLE DB 接続マネージャーで、タスクが書き込むテーブルを含む [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] データベースに接続します。</span><span class="sxs-lookup"><span data-stu-id="a763a-132">The second connection is an OLE DB connection manager that connects to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database that contains the table to which the task writes.</span></span> <span data-ttu-id="a763a-133">詳細については、「 [Analysis Services 接続マネージャー](../connection-manager/analysis-services-connection-manager.md) 」および「 [OLE DB 接続マネージャー](../connection-manager/ole-db-connection-manager.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-133">For more information, see [Analysis Services Connection Manager](../connection-manager/analysis-services-connection-manager.md) and [OLE DB Connection Manager](../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="a763a-134">プロパティを設定するには [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーから行うか、またはプログラムによって設定します。</span><span class="sxs-lookup"><span data-stu-id="a763a-134">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="a763a-135">[!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーで設定できるプロパティの詳細については、次のトピックのいずれかを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-135">For more information about the properties that you can set in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   <span data-ttu-id="a763a-136">[データ マイニング クエリ タスク エディター ([マイニング モデル] タブ)](../data-mining-query-task-editor-mining-model-tab.md)</span><span class="sxs-lookup"><span data-stu-id="a763a-136">[Data Mining Query Task Editor &#40;Mining Model Tab&#41;](../data-mining-query-task-editor-mining-model-tab.md)</span></span>  
  
-   <span data-ttu-id="a763a-137">[データ マイニング クエリ タスク エディター ([クエリ] タブ)](../data-mining-query-task-editor-query-tab.md)</span><span class="sxs-lookup"><span data-stu-id="a763a-137">[Data Mining Query Task Editor &#40;Query Tab&#41;](../data-mining-query-task-editor-query-tab.md)</span></span>  
  
-   <span data-ttu-id="a763a-138">[データ マイニング クエリ タスク エディター ([出力] タブ)](../data-mining-query-task-editor-output-tab.md)</span><span class="sxs-lookup"><span data-stu-id="a763a-138">[Data Mining Query Task Editor &#40;Output Tab&#41;](../data-mining-query-task-editor-output-tab.md)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a763a-139">[データ マイニング クエリ変換エディター] には、[式] ページがありません。</span><span class="sxs-lookup"><span data-stu-id="a763a-139">The Data Mining Query Editor has no Expressions page.</span></span> <span data-ttu-id="a763a-140">代わりに **[プロパティ]** ウィンドウを使用して、データ マイニング クエリ タスクのプロパティのプロパティ式を作成、管理するツールにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="a763a-140">Instead, use the **Properties** window to access the tools for creating and managing property expressions for properties of the Data Mining Query task.</span></span>  
  
 <span data-ttu-id="a763a-141">[!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーでこれらのプロパティを設定する方法については、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-141">For more information about how to set these properties in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="a763a-142">タスクまたはコンテナーのプロパティを設定する</span><span class="sxs-lookup"><span data-stu-id="a763a-142">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-data-mining-query-task"></a><span data-ttu-id="a763a-143">プログラムによるデータ マイニング クエリ タスクの構成</span><span class="sxs-lookup"><span data-stu-id="a763a-143">Programmatic Configuration of Data Mining Query Task</span></span>  
 <span data-ttu-id="a763a-144">プログラムによってこれらのプロパティを設定する方法の詳細については、次のトピックのいずれかを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a763a-144">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.DMQueryTask.DMQueryTask>  
  
  
