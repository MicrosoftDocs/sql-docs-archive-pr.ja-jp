---
title: パッケージ内の機微なデータへのアクセス制御 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- passwords [Integration Services]
- packages [Integration Services], security
- protection levels for packages [Integration Services]
- configuration files [Integration Services]
- encryption [Integration Services]
- cryptography [Integration Services]
- security [Integration Services], protection levels
ms.assetid: d4b073c4-4238-41fc-a258-4e114216e185
author: chugugrace
ms.author: chugu
ms.openlocfilehash: af1c29f2871d0cb43436fa065d16b24cb78fcce7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87633211"
---
# <a name="access-control-for-sensitive-data-in-packages"></a><span data-ttu-id="8cff8-102">パッケージ内の機微なデータへのアクセス制御</span><span class="sxs-lookup"><span data-stu-id="8cff8-102">Access Control for Sensitive Data in Packages</span></span>
  <span data-ttu-id="8cff8-103">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] パッケージ内のデータを保護するために、保護レベルを設定できます。保護レベルを使用すると、パッケージ内の機微なデータのみを保護することも、すべてのデータを保護することもできます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-103">To protect the data in an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, you can set a protection level that helps protect just sensitive data or all the data in the package.</span></span> <span data-ttu-id="8cff8-104">さらに、パスワードまたはユーザー キーでこのデータを暗号化したり、データベースを使用してデータを暗号化したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-104">Furthermore, you can encrypt this data with a password or a user key, or rely on the database to encrypt the data.</span></span> <span data-ttu-id="8cff8-105">また、パッケージに使用する保護レベルは静的である必要はなく、パッケージのライフ サイクルの各段階で変更できます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-105">Also, the protection level that you use for a package is not necessarily static, but changes throughout the life cycle of the package.</span></span> <span data-ttu-id="8cff8-106">多くの場合、開発中に保護レベルを 1 つ設定し、パッケージを配置した時点で別の保護レベルを設定します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-106">You often set one protection level during development and another as soon as you deploy the package.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8cff8-107">このトピックで説明する保護レベルに加えて、固定データベース レベル ロールを使用して、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サーバーに保存されているパッケージを保護できます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-107">In addition to the protection levels described in this topic, you can use fixed database-level roles to protect packages that are saved to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span>  
  
## <a name="definition-of-sensitive-information"></a><span data-ttu-id="8cff8-108">機密情報の定義</span><span class="sxs-lookup"><span data-stu-id="8cff8-108">Definition of Sensitive Information</span></span>  
 <span data-ttu-id="8cff8-109">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] パッケージでは、以下の情報が *機微*として定義されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-109">In an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, the following information is defined as *sensitive*:</span></span>  
  
-   <span data-ttu-id="8cff8-110">接続文字列のパスワード部。</span><span class="sxs-lookup"><span data-stu-id="8cff8-110">The password part of a connection string.</span></span> <span data-ttu-id="8cff8-111">すべてを暗号化するオプションを選択した場合は、接続文字列全体が機微であると見なされます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-111">However, if you select an option that encrypts everything, the whole connection string will be considered sensitive.</span></span>  
  
-   <span data-ttu-id="8cff8-112">タスクによって生成され、「機微」とタグ付けされている XML ノード。</span><span class="sxs-lookup"><span data-stu-id="8cff8-112">The task-generated XML nodes that are tagged as sensitive.</span></span> <span data-ttu-id="8cff8-113">XML ノードのタグ付けは [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] によって制御されるので、ユーザーが変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-113">The tagging of XML nodes is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and cannot by changed by users.</span></span>  
  
-   <span data-ttu-id="8cff8-114">「機微」とマークされている任意の変数。</span><span class="sxs-lookup"><span data-stu-id="8cff8-114">Any variable that is marked as sensitive.</span></span> <span data-ttu-id="8cff8-115">変数のマーク付けは、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-115">The marking of variables is controlled by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="8cff8-116">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] でプロパティが機微と見なされるかどうかは、接続マネージャーやタスクなど、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] コンポーネントの開発者がプロパティを機微として指定したかどうかによって決まります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-116">Whether [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] considers a property sensitive depends on whether the developer of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] component, such as a connection manager or task, has designated the property as sensitive.</span></span> <span data-ttu-id="8cff8-117">機微と見なされているプロパティの一覧では、ユーザーはプロパティを追加することも削除することもできません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-117">Users cannot add properties to, nor can they remove properties from, the list of properties that are considered sensitive.</span></span>  
  
## <a name="encryption"></a><span data-ttu-id="8cff8-118">暗号化</span><span class="sxs-lookup"><span data-stu-id="8cff8-118">Encryption</span></span>  
 <span data-ttu-id="8cff8-119">パッケージ保護レベルに採用されている暗号化処理は、マイクロソフトの暗号化 API (CryptoAPI) の一部である [!INCLUDE[msCoName](../../includes/msconame-md.md)] Data Protection API (DPAPI) を使用して実行されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-119">Encryption, as used by package protection levels, is performed by using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Data Protection API (DPAPI), which is part of the Cryptography API (CryptoAPI).</span></span>  
  
 <span data-ttu-id="8cff8-120">パスワードを使用してパッケージを暗号化するパッケージ保護レベルでは、パスワードも指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-120">The package protection levels that encrypt packages by using passwords require that you provide a password also.</span></span> <span data-ttu-id="8cff8-121">パスワードを使用しないレベルから使用するレベルに保護レベルを変更すると、パスワードを指定するよう要求されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-121">If you change the protection level from a level that does not use a password to one that does, you will be prompted for a password.</span></span>  
  
 <span data-ttu-id="8cff8-122">また、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] では、パスワードを使用する保護レベルに対しては、 [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] クラス ライブラリ (FCL) で提供される、キーの長さが 192 ビットの Triple DES 暗号アルゴリズムを使用しています。</span><span class="sxs-lookup"><span data-stu-id="8cff8-122">Also, for the protection levels that use a password, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses the Triple DES cipher algorithm with a key length of 192 bits, available in the [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] Class Library (FCL).</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="8cff8-123">保護レベル</span><span class="sxs-lookup"><span data-stu-id="8cff8-123">Protection Levels</span></span>  
 <span data-ttu-id="8cff8-124">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] で提供される保護レベルを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-124">The following table describes the protection levels that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides.</span></span> <span data-ttu-id="8cff8-125">かっこで囲まれた値は、 <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> 列挙の値です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-125">The values in parentheses are values from the <xref:Microsoft.SqlServer.Dts.Runtime.DTSProtectionLevel> enumeration.</span></span> <span data-ttu-id="8cff8-126">これらの値は、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でパッケージを操作するときにパッケージのプロパティを構成するために使用する [プロパティ] ウィンドウに表示されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-126">These values appear in the Properties window that you use to configure the properties of the package when you work with packages in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
|<span data-ttu-id="8cff8-127">保護レベル</span><span class="sxs-lookup"><span data-stu-id="8cff8-127">Protection level</span></span>|<span data-ttu-id="8cff8-128">説明</span><span class="sxs-lookup"><span data-stu-id="8cff8-128">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="8cff8-129">[機微なデータを保存しない] (`DontSaveSensitive`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-129">Do not save sensitive (`DontSaveSensitive`)</span></span>|<span data-ttu-id="8cff8-130">パッケージの保存時、パッケージ内の機微なプロパティの値は出力されません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-130">Suppresses the values of sensitive properties in the package when the package is saved.</span></span> <span data-ttu-id="8cff8-131">この保護レベルでは暗号化は行われません。その代わり、「機微」とマークされたプロパティは、パッケージと一緒に保存されません。その結果、他のユーザーが機微なデータを利用することはできません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-131">This protection level does not encrypt, but instead it prevents properties that are marked sensitive from being saved with the package and therefore makes the sensitive data unavailable to other users.</span></span> <span data-ttu-id="8cff8-132">異なるユーザーがパッケージを開いた場合は、機微な情報が空白と置き換えられます。したがって、ユーザーは、機微な情報を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-132">If a different user opens the package, the sensitive information is replaced with blanks and the user must provide the sensitive information.</span></span><br /><br /> <span data-ttu-id="8cff8-133">**dtutil** ユーティリティ (dtutil.exe) で使用する場合、この保護レベルに対応する値は 0 です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-133">When used with the **dtutil** utility (dtutil.exe), this protection level corresponds to the value of 0.</span></span>|  
|<span data-ttu-id="8cff8-134">[すべてのデータをパスワードで暗号化する] (`EncryptAllWithPassword`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-134">Encrypt all with password (`EncryptAllWithPassword`)</span></span>|<span data-ttu-id="8cff8-135">パスワードを使用してパッケージ全体を暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-135">Uses a password to encrypt the whole package.</span></span> <span data-ttu-id="8cff8-136">暗号化処理には、パッケージを作成またはエクスポートしたときにユーザーによって指定されたパスワードが使用されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-136">The package is encrypted by using a password that the user supplies when the package is created or exported.</span></span> <span data-ttu-id="8cff8-137">パッケージを [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーで開くか、 **dtexec** コマンド プロンプト ユーティリティを使用して実行するには、パッケージ パスワードを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-137">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility, the user must provide the package password.</span></span> <span data-ttu-id="8cff8-138">パスワードを指定しないと、パッケージにアクセスしたりパッケージを実行したりできません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-138">Without the password the user cannot access or run the package.</span></span><br /><br /> <span data-ttu-id="8cff8-139">**dtutil** ユーティリティで使用する場合、この保護レベルに対応する値は 3 です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-139">When used with the **dtutil** utility, this protection level corresponds to the value of 3.</span></span>|  
|<span data-ttu-id="8cff8-140">[すべてのデータをユーザー キーで暗号化する] (`EncryptAllWithUserKey`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-140">Encrypt all with user key (`EncryptAllWithUserKey`)</span></span>|<span data-ttu-id="8cff8-141">現在のユーザー プロファイルに基づいたキーを使用してパッケージ全体を暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-141">Uses a key that is based on the current user profile to encrypt the whole package.</span></span> <span data-ttu-id="8cff8-142">パッケージを [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーで開くか、 **dtexec** コマンド プロンプト ユーティリティを使用して実行できるのは、パッケージを作成またはエクスポートしたユーザーだけです。</span><span class="sxs-lookup"><span data-stu-id="8cff8-142">Only the user who created or exported the package can open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or run the package by using the **dtexec** command prompt utility.</span></span><br /><br /> <span data-ttu-id="8cff8-143">**dtutil** ユーティリティで使用する場合、この保護レベルに対応する値は 4 です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-143">When used with the **dtutil** utility, this protection level corresponds to the value of 4.</span></span><br /><br /> <span data-ttu-id="8cff8-144">注: ユーザー キーを使用する保護レベルに対しては、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] では DPAPI 標準を使用しています。</span><span class="sxs-lookup"><span data-stu-id="8cff8-144">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="8cff8-145">DPAPI の詳細については、[https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408) で MSDN ライブラリを参照してください。</span><span class="sxs-lookup"><span data-stu-id="8cff8-145">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="8cff8-146">[機微なデータをパスワードで暗号化する] (`EncryptSensitiveWithPassword`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-146">Encrypt sensitive with password (`EncryptSensitiveWithPassword`)</span></span>|<span data-ttu-id="8cff8-147">パスワードを使用して、パッケージ内の機微なプロパティの値だけを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-147">Uses a password to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="8cff8-148">暗号化処理には、DPAPI が使用されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-148">DPAPI is used for this encryption.</span></span> <span data-ttu-id="8cff8-149">機微なデータはパッケージの一部として保存されます。ただし、このデータは、パッケージを作成またはエクスポートしたときに現在のユーザーによって指定されたパスワードを使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-149">Sensitive data is saved as a part of the package, but that data is encrypted by using a password that the current user supplies when the package is created or exported.</span></span> <span data-ttu-id="8cff8-150">パッケージを [!INCLUDE[ssIS](../../includes/ssis-md.md)] デザイナーで開くには、ユーザーはパッケージ パスワードを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-150">To open the package in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, the user must provide the package password.</span></span> <span data-ttu-id="8cff8-151">ユーザーがパスワードを指定しなかった場合、パッケージは機微なデータが取り除かれて開かれます。したがって、現在のユーザーは、機微なデータの新しい値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-151">If the password is not provided, the package opens without the sensitive data and the current user must provide new values for sensitive data.</span></span> <span data-ttu-id="8cff8-152">パスワードを指定しないでパッケージを実行しようとした場合、パッケージの実行は失敗します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-152">If the user tries to execute the package without providing the password, package execution fails.</span></span> <span data-ttu-id="8cff8-153">パスワードとコマンド ラインの実行の詳細については、「 [dtexec Utility](../packages/dtexec-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8cff8-153">For more information about passwords and command line execution, see [dtexec Utility](../packages/dtexec-utility.md).</span></span><br /><br /> <span data-ttu-id="8cff8-154">**dtutil** ユーティリティで使用する場合、この保護レベルに対応する値は 2 です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-154">When used with the **dtutil** utility, this protection level corresponds to the value of 2.</span></span>|  
|<span data-ttu-id="8cff8-155">[機微なデータをユーザー キーで暗号化する] (`EncryptSensitiveWithUserKey`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-155">Encrypt sensitive with user key (`EncryptSensitiveWithUserKey`)</span></span>|<span data-ttu-id="8cff8-156">現在のユーザー プロファイルに基づいたキーを使用して、パッケージ内の機微なプロパティの値だけを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-156">Uses a key that is based on the current user profile to encrypt only the values of sensitive properties in the package.</span></span> <span data-ttu-id="8cff8-157">同じプロファイルを使用している同じユーザーだけがパッケージを読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-157">Only the same user who uses the same profile can load the package.</span></span> <span data-ttu-id="8cff8-158">異なるユーザーがパッケージを開いた場合は、機微な情報が空白と置き換えられます。したがって、現在のユーザーは、機微なデータの新しい値を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-158">If a different user opens the package, the sensitive information is replaced with blanks and the current user must provide new values for the sensitive data.</span></span> <span data-ttu-id="8cff8-159">ユーザーがパッケージを実行しようとした場合、パッケージの実行は失敗します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-159">If the user attempts to execute the package, package execution fails.</span></span> <span data-ttu-id="8cff8-160">暗号化処理には、DPAPI が使用されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-160">DPAPI is used for this encryption.</span></span><br /><br /> <span data-ttu-id="8cff8-161">**dtutil** ユーティリティで使用する場合、この保護レベルに対応する値は 1 です。</span><span class="sxs-lookup"><span data-stu-id="8cff8-161">When used with the **dtutil** utility, this protection level corresponds to the value of 1.</span></span><br /><br /> <span data-ttu-id="8cff8-162">注: ユーザー キーを使用する保護レベルに対しては、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] では DPAPI 標準を使用しています。</span><span class="sxs-lookup"><span data-stu-id="8cff8-162">Note: For protection levels that use a user key, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses DPAPI standards.</span></span> <span data-ttu-id="8cff8-163">DPAPI の詳細については、[https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408) で MSDN ライブラリを参照してください。</span><span class="sxs-lookup"><span data-stu-id="8cff8-163">For more information about DPAPI, see the MSDN Library at [https://msdn.microsoft.com/library](https://go.microsoft.com/fwlink/?LinkId=15408).</span></span>|  
|<span data-ttu-id="8cff8-164">[暗号化をサーバー ストレージに依存する] (`ServerStorage`)</span><span class="sxs-lookup"><span data-stu-id="8cff8-164">Rely on server storage for encryption (`ServerStorage`)</span></span>|<span data-ttu-id="8cff8-165">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベース ロールを使用して、パッケージ全体を保護します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-165">Protects the whole package using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database roles.</span></span> <span data-ttu-id="8cff8-166">このオプションは、パッケージを [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] msdb データベースに保存する場合にサポートされます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-166">This option is supported when a package is saved to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] msdb database.</span></span> <span data-ttu-id="8cff8-167">また、SSISDB カタログは、`ServerStorage` 保護レベルを使用します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-167">In addition, the SSISDB catalog uses the `ServerStorage` protection level</span></span><br /><br /> <span data-ttu-id="8cff8-168">このオプションは、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]からパッケージをファイル システムに保存するときはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-168">This option is not supported when a package is saved to the file system from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>|  
  
## <a name="protection-level-setting-and-the-ssisdb-catalog"></a><span data-ttu-id="8cff8-169">保護レベルの設定と SSISDB カタログ</span><span class="sxs-lookup"><span data-stu-id="8cff8-169">Protection Level Setting and the SSISDB Catalog</span></span>  
 <span data-ttu-id="8cff8-170">SSISDB カタログは、`ServerStorage` 保護レベルを使用します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-170">The SSISDB catalog uses the `ServerStorage` protection level.</span></span> <span data-ttu-id="8cff8-171">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] プロジェクトを [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サーバーに配置する場合、カタログは自動的にパッケージのデータと機微な値を暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-171">When you deploy an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, the catalog automatically encrypts the package data and sensitive values.</span></span> <span data-ttu-id="8cff8-172">また、ユーザーがデータを取得するときには、自動的に暗号化を解除します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-172">The catalog also automatically decrypts the data when you retrieve it.</span></span>  
  
 <span data-ttu-id="8cff8-173">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] サーバーからファイル システムにプロジェクト (.ispac ファイル) をエクスポートすると、保護レベルが自動的に `EncryptSensitiveWithUserKey` に変更されます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-173">If you export the project (.ispac file) from the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server to the file system, the system automatically changes the protection level to `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="8cff8-174">の**プロジェクトのインポートウィザード Integration Services**を使用してプロジェクトをインポートすると、[ [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] **プロパティ**] ウィンドウの [ **ProtectionLevel** ] プロパティに値が表示され `EncryptSensitiveWithUserKey` ます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-174">If you import the project by using the **Integration Services Import Project Wizard** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], the **ProtectionLevel** property in the **Properties** window shows a value of `EncryptSensitiveWithUserKey`.</span></span>  
  
## <a name="protection-level-setting-based-on-package-life-cycle"></a><span data-ttu-id="8cff8-175">パッケージのライフ サイクルに基づく保護レベルの設定</span><span class="sxs-lookup"><span data-stu-id="8cff8-175">Protection Level Setting Based on Package Life Cycle</span></span>  
 <span data-ttu-id="8cff8-176">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] で初めて [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] パッケージを開発するときは、パッケージの保護レベルを設定します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-176">You set the protection level of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package when you first develop it in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="8cff8-177">パッケージの保護レベルは、後でパッケージを配置するとき、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] の [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]からインポートまたはエクスポートするとき、または [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] から [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、 [!INCLUDE[ssIS](../../includes/ssis-md.md)] パッケージ ストア、またはファイル システムにコピーするときに、更新できます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-177">Later, when the package is deployed, imported or exported from [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], or copied from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the [!INCLUDE[ssIS](../../includes/ssis-md.md)] Package Store, or the file system, you can update the package protection level.</span></span> <span data-ttu-id="8cff8-178">たとえば、作成したパッケージをユーザー キー保護レベル オプションの 1 つを指定してコンピューターに保存している場合、通常はそのパッケージを他のユーザーに渡すときに保護レベルを変更します。そのままでは、相手ユーザーがパッケージを開くことができません。</span><span class="sxs-lookup"><span data-stu-id="8cff8-178">For example, if you create and save packages on your computer with one of the user key protection level options, you likely would want to change the protection level when you give the package to other users; otherwise they cannot open the package.</span></span>  
  
 <span data-ttu-id="8cff8-179">通常、次に示す手順に従って保護レベルを変更します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-179">Typically, you change the protection level as listed in the following steps:</span></span>  
  
1.  <span data-ttu-id="8cff8-180">開発中は、パッケージの保護レベルを既定値である `EncryptSensitiveWithUserKey` のままにします。</span><span class="sxs-lookup"><span data-stu-id="8cff8-180">During development, leave the protection level of packages set to the default value, `EncryptSensitiveWithUserKey`.</span></span> <span data-ttu-id="8cff8-181">この設定により、開発者のみがパッケージの機密情報を参照できるようになります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-181">This setting helps ensure that only the developer sees sensitive values in the package.</span></span> <span data-ttu-id="8cff8-182">また、`EncryptAllWithUserKey` または `DontSaveSensitive` を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-182">Or, you can consider using `EncryptAllWithUserKey`, or `DontSaveSensitive`.</span></span>  
  
2.  <span data-ttu-id="8cff8-183">パッケージを配置する時点で、開発者のユーザー キーに依存しない保護レベルに変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-183">When it is time to deploy the packages, you have to change the protection level to one that does not depend on the developer's user key.</span></span> <span data-ttu-id="8cff8-184">したがって、通常は、`EncryptSensitiveWithPassword` または `EncryptAllWithPassword` を選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8cff8-184">Therefore you typically have to select `EncryptSensitiveWithPassword`, or `EncryptAllWithPassword`.</span></span> <span data-ttu-id="8cff8-185">運用環境の運用チームも知っている一時的な複雑なパスワードを割り当てて、パッケージを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8cff8-185">Encrypt the packages by assigning a temporary strong password that is also known to the operations team in the production environment.</span></span>  
  
3.  <span data-ttu-id="8cff8-186">パッケージが運用環境に配置されたら、運用チームは、チーム メンバーだけが知っている複雑なパスワードを割り当てて、配置されたパッケージを再度暗号化できます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-186">After the packages have been deployed to the production environment, the operations team can re-encrypt the deployed packages by assigning a strong password that is known only to them.</span></span> <span data-ttu-id="8cff8-187">また、`EncryptSensitiveWithUserKey` または `EncryptAllWithUserKey` を選択し、パッケージを実行するアカウントのローカルの資格情報を使用して、配置されたパッケージを暗号化することもできます。</span><span class="sxs-lookup"><span data-stu-id="8cff8-187">Or, they can encrypt the deployed packages by selecting `EncryptSensitiveWithUserKey` or `EncryptAllWithUserKey`, and using the local credentials of the account that will run the packages.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="8cff8-188">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="8cff8-188">Related Tasks</span></span>  
  
-   [<span data-ttu-id="8cff8-189">パッケージの保護レベルを設定または変更する</span><span class="sxs-lookup"><span data-stu-id="8cff8-189">Set or Change the Protection Level of Packages</span></span>](../set-or-change-the-protection-level-of-packages.md)  
  
## <a name="see-also"></a><span data-ttu-id="8cff8-190">参照</span><span class="sxs-lookup"><span data-stu-id="8cff8-190">See Also</span></span>  
 <span data-ttu-id="8cff8-191">[SSIS サービス&#41;&#40;パッケージをインポートおよびエクスポートする](../import-and-export-packages-ssis-service.md) </span><span class="sxs-lookup"><span data-stu-id="8cff8-191">[Import and Export Packages &#40;SSIS Service&#41;](../import-and-export-packages-ssis-service.md) </span></span>  
 <span data-ttu-id="8cff8-192">[SSIS&#41; パッケージ &#40;Integration Services](../integration-services-ssis-packages.md) </span><span class="sxs-lookup"><span data-stu-id="8cff8-192">[Integration Services &#40;SSIS&#41; Packages](../integration-services-ssis-packages.md) </span></span>  
 [<span data-ttu-id="8cff8-193">セキュリティの概要 &#40;Integration Services&#41;</span><span class="sxs-lookup"><span data-stu-id="8cff8-193">Security Overview &#40;Integration Services&#41;</span></span>](security-overview-integration-services.md)  
  
  
