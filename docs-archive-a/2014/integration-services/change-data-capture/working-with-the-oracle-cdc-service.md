---
title: Oracle CDC Service の使用 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 04be5896-2301-45f5-a8ce-5f4ef2b69aa5
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d1946e6b329bfbd0155123707a604e971cd7d65f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632030"
---
# <a name="working-with-the-oracle-cdc-service"></a><span data-ttu-id="ecc59-102">Oracle CDC Service の使用</span><span class="sxs-lookup"><span data-stu-id="ecc59-102">Working with the Oracle CDC Service</span></span>
  <span data-ttu-id="ecc59-103">ここでは、Oracle CDC Service のいくつかの重要な概念について説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-103">This section describes some important concepts of the Oracle CDC Service.</span></span> <span data-ttu-id="ecc59-104">このセクションで説明する概念は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-104">The concepts included in this section are:</span></span>  
  
-   [<span data-ttu-id="ecc59-105">MSXDBCDC データベース</span><span class="sxs-lookup"><span data-stu-id="ecc59-105">The MSXDBCDC Database</span></span>](#BKMK_MSXDBCDC)  
  
     <span data-ttu-id="ecc59-106">このセクションでは、このデータベースに含まれるテーブルと、CDC に対するこのデータベースの重要性について説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-106">This section describes the tables that are included in this database and how it is important to CDC.</span></span>  
  
-   [<span data-ttu-id="ecc59-107">CDC データベース</span><span class="sxs-lookup"><span data-stu-id="ecc59-107">The CDC Databases</span></span>](#BKMK_CDCdatabase)  
  
     <span data-ttu-id="ecc59-108">このセクションでは、CDC データベースの簡単な説明を示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-108">This section provides a brief description of the CDC databases.</span></span> <span data-ttu-id="ecc59-109">これらのデータベースは、Oracle CDC デザイナー コンソールを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-109">These databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="ecc59-110">CDC データベースの詳細については、CDC デザイナー コンソールのインストールに付属のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="ecc59-110">See the documentation included with your installation of the CDC Designer Console for more information about the CDC databases.</span></span>  
  
-   [<span data-ttu-id="ecc59-111">コマンド ラインを使用した CDC サービスの構成</span><span class="sxs-lookup"><span data-stu-id="ecc59-111">Using the Command Line to Configure the CDC Service</span></span>](#BKMK_CommandConfigCDC)  
  
     <span data-ttu-id="ecc59-112">このセクションでは、Oracle CDC Service の構成に使用できるコマンド ラインのコマンドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-112">This section describes the command-line commands that can be used to configure the Oracle CDC Service.</span></span>  
  
##  <a name="the-msxdbcdc-database"></a><a name="BKMK_MSXDBCDC"></a> <span data-ttu-id="ecc59-113">MSXDBCDC データベース</span><span class="sxs-lookup"><span data-stu-id="ecc59-113">The MSXDBCDC Database</span></span>  
 <span data-ttu-id="ecc59-114">MSXDBCDC (Microsoft External-Database CDC) データベースは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスで CDC Service for Oracle を使用する際に必要な特殊なデータベースです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-114">The MSXDBCDC (Microsoft External-Database CDC) database is a special database that is required when using the CDC Service for Oracle with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="ecc59-115">このデータベースの名前は変更できません。</span><span class="sxs-lookup"><span data-stu-id="ecc59-115">The name of this database cannot be changed.</span></span> <span data-ttu-id="ecc59-116">MSXDBCDC という名前のデータベースがホスト [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスにあり、CDC Service for Oracle で定義されたテーブル以外のテーブルがそのデータベースに含まれている場合、ホスト [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスを使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="ecc59-116">If a database called MSXDBCDC exists on the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and contains tables other than those defined by the CDC Service for Oracle, the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance cannot be used.</span></span>  
  
 <span data-ttu-id="ecc59-117">このデータベースの主な用途を次に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-117">The main uses for this database are to:</span></span>  
  
-   <span data-ttu-id="ecc59-118">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに関連付けられた Oracle CDC Service のレジストリとして機能します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-118">Serve as a registry of Oracle CDC Services associated with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-119">この情報は、サービスの構成コンポーネントやデザイン コンポーネントに使用されるほか、異なるノードにある同じ名前の複数の CDC サービスのうち、どのサービスをアクティブにするかを調整するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-119">This information is used for the service configuration and design components and to support coordination of multiple CDC services by the same name on different nodes over which one is the active one.</span></span>  
  
-   <span data-ttu-id="ecc59-120">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに含まれる Oracle CDC インスタンス、各インスタンスを処理する CDC サービス、および各サービスで使用される構成バージョンのレジストリとして機能します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-120">Serve as a registry of the Oracle CDC instances contained in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, the CDC service that handles each instance, and the configuration version each uses.</span></span> <span data-ttu-id="ecc59-121">この情報は、master データベースの **sys.databases** テーブルの **[is_cdc_enabled]** 列と同じです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-121">This information is equivalent to the **is_cdc_enabled** column in the **sys.databases** table of the master database.</span></span> <span data-ttu-id="ecc59-122">CDC サービスでは、 **dbo.xdbcdc_databases** テーブルを定期的にスキャンして、CDC の構成や一連のキャプチャ対象インスタンスに対する変更を識別します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-122">The CDC service periodically scans the **dbo.xdbcdc_databases** table to identify changes made to the CDC configuration or to the list of captured instances.</span></span>  
  
-   <span data-ttu-id="ecc59-123">CDC インスタンスの作成や管理に役立つ **sysadmin**所有のストアド プロシージャを格納します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-123">Hold **sysadmin**-owned stored procedures that help create and maintain CDC instances.</span></span> <span data-ttu-id="ecc59-124">これらは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の CDC 機能の実装に使用されるシステム プロシージャに似ています。</span><span class="sxs-lookup"><span data-stu-id="ecc59-124">These are similar to the system procedures that are used for the implementation of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CDC feature.</span></span>  
  
### <a name="creating-the-msxdbcdc-database"></a><span data-ttu-id="ecc59-125">MSXDBCDC データベースの作成</span><span class="sxs-lookup"><span data-stu-id="ecc59-125">Creating the MSXDBCDC Database</span></span>  
 <span data-ttu-id="ecc59-126">Oracle CDC Service を定義する前に、MSXDBCDC データベースを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-126">An MSXDBCDC database must be created before the Oracle CDC Service can be defined.</span></span> <span data-ttu-id="ecc59-127">MSXDBCDC データベースは [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスごとに 1 つだけ作成できます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-127">You can create only one MSXDBCDC database on a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-128">MSXDBCDC データベースは、Oracle CDC 用の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースを準備するときに作成されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-128">The MSXDBCDC database is created when you prepare a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database for Oracle CDC.</span></span> <span data-ttu-id="ecc59-129">これを行うには、Oracle CDC Service 構成コンソールを使用するか、CDC Service 構成コンソールで生成される作成スクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-129">This can be done by using the Oracle CDC Service Configuration Console or by running a creation script that is generated by the CDC Service Configuration Console.</span></span>  
  
 <span data-ttu-id="ecc59-130">このデータベースの所有者は Oracle CDC Service の管理者です。この管理者は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスでホストされるすべての Oracle CDC インスタンスを制御できます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-130">The owner of this database is the Oracle CDC Service Administrator, who can control all of the Oracle CDC instances hosted under the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="ecc59-131">**関連項目:**</span><span class="sxs-lookup"><span data-stu-id="ecc59-131">**See also:**</span></span>  
  
 [<span data-ttu-id="ecc59-132">CDC 用に SQL Server を準備する方法</span><span class="sxs-lookup"><span data-stu-id="ecc59-132">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  
  
### <a name="the-msxdbcdc-database-tables"></a><span data-ttu-id="ecc59-133">MSXDBCDC データベースのテーブル</span><span class="sxs-lookup"><span data-stu-id="ecc59-133">The MSXDBCDC Database Tables</span></span>  
 <span data-ttu-id="ecc59-134">ここでは、MSXDBCDC データベースの次のテーブルについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-134">This section describes the following tables in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="ecc59-135">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="ecc59-135">dbo.xdbcdc_trace</span></span>](#BKMK_dboxdbcdc_trace)  
  
-   [<span data-ttu-id="ecc59-136">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="ecc59-136">dbo.xdbcdc_databases</span></span>](#BKMK_dboxdbcdc_databases)  
  
-   [<span data-ttu-id="ecc59-137">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="ecc59-137">dbo.xdbcdc_services</span></span>](#BKMK_dboxdbcdc_services)  
  
###  <a name="dboxdbcdc_trace"></a><a name="BKMK_dboxdbcdc_trace"></a> <span data-ttu-id="ecc59-138">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="ecc59-138">dbo.xdbcdc_trace</span></span>  
 <span data-ttu-id="ecc59-139">このテーブルには、Oracle CDC Service のトレース情報が格納されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-139">This table stores tracing information for the Oracle CDC Service.</span></span> <span data-ttu-id="ecc59-140">このテーブルに格納される情報には、重要な状態変更とトレース レコードが含まれます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-140">The information stored in this table includes notable status changes and trace records.</span></span>  
  
 <span data-ttu-id="ecc59-141">Oracle CDC Service では、エラー レコードと一部の情報レコードについては、Windows イベント ログとトレース テーブルの両方に書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-141">The Oracle CDC Service writes error records and some of the information records to both the Windows event log and the trace table.</span></span> <span data-ttu-id="ecc59-142">そのため、トレース テーブルにアクセスできない場合でも、イベント ログからエラー情報にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-142">In some cases the trace table may not be accessible, in which case the error information is accessible from the event log.</span></span>  
  
 <span data-ttu-id="ecc59-143">**dbo.xdbcdc_trace** テーブルに含まれるアイテムを以下に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-143">The following describes the items that are included in the **dbo.xdbcdc_trace** table.</span></span>  
  
|<span data-ttu-id="ecc59-144">Item</span><span class="sxs-lookup"><span data-stu-id="ecc59-144">Item</span></span>|<span data-ttu-id="ecc59-145">説明</span><span class="sxs-lookup"><span data-stu-id="ecc59-145">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="ecc59-146">timestamp</span><span class="sxs-lookup"><span data-stu-id="ecc59-146">timestamp</span></span>|<span data-ttu-id="ecc59-147">トレース レコードが書き込まれたときの正確な UTC タイムスタンプ。</span><span class="sxs-lookup"><span data-stu-id="ecc59-147">The exact UTC timestamp when the trace record was written.</span></span>|  
|<span data-ttu-id="ecc59-148">type</span><span class="sxs-lookup"><span data-stu-id="ecc59-148">type</span></span>|<span data-ttu-id="ecc59-149">次のいずれかの値が格納されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-149">Contains one of the following values.</span></span><br /><br /> <span data-ttu-id="ecc59-150">ERROR</span><span class="sxs-lookup"><span data-stu-id="ecc59-150">ERROR</span></span><br /><br /> <span data-ttu-id="ecc59-151">INFO</span><span class="sxs-lookup"><span data-stu-id="ecc59-151">INFO</span></span><br /><br /> <span data-ttu-id="ecc59-152">TRACE</span><span class="sxs-lookup"><span data-stu-id="ecc59-152">TRACE</span></span>|  
|<span data-ttu-id="ecc59-153">node</span><span class="sxs-lookup"><span data-stu-id="ecc59-153">node</span></span>|<span data-ttu-id="ecc59-154">レコードが書き込まれたノードの名前。</span><span class="sxs-lookup"><span data-stu-id="ecc59-154">The name of the node on which the record was written.</span></span>|  
|<span data-ttu-id="ecc59-155">status</span><span class="sxs-lookup"><span data-stu-id="ecc59-155">status</span></span>|<span data-ttu-id="ecc59-156">状態テーブルで使用される状態コード。</span><span class="sxs-lookup"><span data-stu-id="ecc59-156">The status code that is used by the state table.</span></span>|  
|<span data-ttu-id="ecc59-157">sub_status</span><span class="sxs-lookup"><span data-stu-id="ecc59-157">sub_status</span></span>|<span data-ttu-id="ecc59-158">状態テーブルで使用される副状態コード。</span><span class="sxs-lookup"><span data-stu-id="ecc59-158">The substatus code that is used by the state table.</span></span>|  
|<span data-ttu-id="ecc59-159">status_message</span><span class="sxs-lookup"><span data-stu-id="ecc59-159">status_message</span></span>|<span data-ttu-id="ecc59-160">状態テーブルで使用される状態メッセージ。</span><span class="sxs-lookup"><span data-stu-id="ecc59-160">The status message that is used by the state table.</span></span>|  
|<span data-ttu-id="ecc59-161">source</span><span class="sxs-lookup"><span data-stu-id="ecc59-161">source</span></span>|<span data-ttu-id="ecc59-162">トレース レコードを生成した Oracle CDC コンポーネントの名前。</span><span class="sxs-lookup"><span data-stu-id="ecc59-162">The name of the Oracle CDC component that produced the trace record.</span></span>|  
|<span data-ttu-id="ecc59-163">text_data</span><span class="sxs-lookup"><span data-stu-id="ecc59-163">text_data</span></span>|<span data-ttu-id="ecc59-164">追加のテキスト データ (エラー レコードまたはトレース レコードにテキスト ペイロードが含まれている場合)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-164">Additional text data for cases when the error or trace record contains a textual payload.</span></span>|  
|<span data-ttu-id="ecc59-165">binary_data</span><span class="sxs-lookup"><span data-stu-id="ecc59-165">binary_data</span></span>|<span data-ttu-id="ecc59-166">追加のバイナリ データ (エラー レコードまたはトレース レコードにバイナリ ペイロードが含まれている場合)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-166">Additional binary data for cases when the error or trace record contains a binary payload.</span></span>|  
  
 <span data-ttu-id="ecc59-167">Oracle CDC インスタンスでは、変更テーブルの保有ポリシーに従ってトレース テーブルの古い行が削除されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-167">The Oracle CDC instance will delete old trace table rows according to the change tables retention policy.</span></span>  
  
###  <a name="dboxdbcdc_databases"></a><a name="BKMK_dboxdbcdc_databases"></a> <span data-ttu-id="ecc59-168">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="ecc59-168">dbo.xdbcdc_databases</span></span>  
 <span data-ttu-id="ecc59-169">このテーブルには、現在の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに含まれる Oracle CDC データベースの CDC Service の名前が格納されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-169">This table contains the names of CDC Service for Oracle CDC databases in the current [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-170">各データベースは、それぞれ 1 つの Oracle CDC インスタンスに対応しています。</span><span class="sxs-lookup"><span data-stu-id="ecc59-170">Each database corresponds to an Oracle CDC instance.</span></span> <span data-ttu-id="ecc59-171">Oracle CDC Service では、このテーブルを使用して、開始または停止するインスタンスや再構成するインスタンスを特定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-171">The Oracle CDC Service uses this table to determine which instances to start or stop and which instances to reconfigure.</span></span>  
  
 <span data-ttu-id="ecc59-172">**dbo.xdbcdc_databases** テーブルに含まれるアイテムを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-172">The following table describes the items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="ecc59-173">Item</span><span class="sxs-lookup"><span data-stu-id="ecc59-173">Item</span></span>|<span data-ttu-id="ecc59-174">説明</span><span class="sxs-lookup"><span data-stu-id="ecc59-174">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="ecc59-175">name</span><span class="sxs-lookup"><span data-stu-id="ecc59-175">name</span></span>|<span data-ttu-id="ecc59-176">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに含まれる Oracle データベースの名前。</span><span class="sxs-lookup"><span data-stu-id="ecc59-176">The name of the Oracle database in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>|  
|<span data-ttu-id="ecc59-177">config_version</span><span class="sxs-lookup"><span data-stu-id="ecc59-177">config_version</span></span>|<span data-ttu-id="ecc59-178">対応する CDC データベースの **xdbcdc_config** テーブルで行われた最後の変更のタイムスタンプ (UTC)、またはこのテーブルの現在の行のタイムスタンプ (UTC)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-178">The timestamp (UTC) for the last change in the corresponding CDC database **xdbcdc_config** table or the timestamp (UTC) for the current row in this table.</span></span><br /><br /> <span data-ttu-id="ecc59-179">UPDATE トリガーでは、このアイテムの GETUTCDATE() の値が適用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-179">The UPDATE trigger enforces a value of GETUTCDATE() for this item.</span></span> <span data-ttu-id="ecc59-180">CDC サービスでは**config_version** を使用して、構成の変更や有効化/無効化について確認する必要がある CDC インスタンスを識別できます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-180">**config_version** lets the CDC service identify the CDC instance that needs to be checked for configuration change or for enabling/disabling.</span></span>|  
|<span data-ttu-id="ecc59-181">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="ecc59-181">cdc_service_name</span></span>|<span data-ttu-id="ecc59-182">選択された Oracle データベースを処理する Oracle CDC Service を示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-182">This item determines which Oracle CDC Service handles the selected Oracle database.</span></span>|  
|<span data-ttu-id="ecc59-183">enabled</span><span class="sxs-lookup"><span data-stu-id="ecc59-183">enabled</span></span>|<span data-ttu-id="ecc59-184">Oracle CDC インスタンスがアクティブ (1) か無効 (0) かを示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-184">Indicates whether the Oracle CDC instance is active (1) or disabled (0).</span></span> <span data-ttu-id="ecc59-185">Oracle CDC Service の起動時には、有効 (1) とマークされたインスタンスだけが開始されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-185">When the Oracle CDC Service starts only the instances marked enable (1) are started.</span></span><br /><br /> <span data-ttu-id="ecc59-186">**注**:Oracle CDC インスタンスは、再試行できないエラーが原因で無効になることがあります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-186">**Note**: An Oracle CDC instance can become disabled due to an error that is not retryable.</span></span> <span data-ttu-id="ecc59-187">この場合は、エラーを解決してからインスタンスを手動で再起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-187">In this case, the instance must be restarted manually after the error is resolved.</span></span>|  
  
###  <a name="dboxdbcdc_services"></a><a name="BKMK_dboxdbcdc_services"></a> <span data-ttu-id="ecc59-188">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="ecc59-188">dbo.xdbcdc_services</span></span>  
 <span data-ttu-id="ecc59-189">このテーブルには、ホスト [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに関連付けられている CDC サービスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-189">This table lists the CDC services associated with the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-190">このテーブルは、ローカルの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンス用に構成された CDC サービスを特定するために CDC デザイナー コンソールで使用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-190">This table is used by the CDC Designer Console to determine the list of CDC services that are configured for the local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-191">また、特定の Oracle CDC Service を処理している実行中の Windows サービスが 1 つだけであることを確認するために CDC サービスで使用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-191">It is also used by the CDC service to ensure that only one running Windows service handles a given Oracle CDC Service name.</span></span>  
  
 <span data-ttu-id="ecc59-192">**dbo.xdbcdc_databases** テーブルに含まれるキャプチャ状態アイテムを以下に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-192">The following describes the capture state items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="ecc59-193">Item</span><span class="sxs-lookup"><span data-stu-id="ecc59-193">Item</span></span>|<span data-ttu-id="ecc59-194">説明</span><span class="sxs-lookup"><span data-stu-id="ecc59-194">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="ecc59-195">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="ecc59-195">cdc_service_name</span></span>|<span data-ttu-id="ecc59-196">Oracle CDC Service の名前 (Windows サービス名)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-196">The name of the Oracle CDC Service (the Windows service name).</span></span>|  
|<span data-ttu-id="ecc59-197">cdc_service_sql_login</span><span class="sxs-lookup"><span data-stu-id="ecc59-197">cdc_service_sql_login</span></span>|<span data-ttu-id="ecc59-198">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに接続するために Oracle CDC Service で使用される [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ログインの名前。</span><span class="sxs-lookup"><span data-stu-id="ecc59-198">The name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login used by the Oracle CDC Service to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-199">cdc_service という名前の新しい SQL ユーザーが作成されてこのログイン名に関連付けられ、サービスで処理される各 CDC データベースの db_ddladmin、db_datareader、および db_datawriter 固定データベース ロールのメンバーとして追加されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-199">A new SQL User named cdc_service is created and associated with this login name and is then added as a member of the db_ddladmin, db_datareader and db_datawriter fixed database roles for each CDC database handled by the service.</span></span>|  
|<span data-ttu-id="ecc59-200">ref_count</span><span class="sxs-lookup"><span data-stu-id="ecc59-200">ref_count</span></span>|<span data-ttu-id="ecc59-201">同じ Oracle CDC Service がインストールされているコンピューターの数を示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-201">This item counts the number of machines where the same Oracle CDC Service is installed.</span></span> <span data-ttu-id="ecc59-202">同じ名前の Oracle CDC Service が追加されるたびに値が増加し、それらのサービスが削除されると減少します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-202">It gets incremented with each addition of same-named Oracle CDC service, and it is decremented when such a service is removed.</span></span> <span data-ttu-id="ecc59-203">この行はカウンターが 0 に達すると削除されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-203">When the counter reaches zero, this row is deleted.</span></span>|  
|<span data-ttu-id="ecc59-204">active_service_node</span><span class="sxs-lookup"><span data-stu-id="ecc59-204">active_service_node</span></span>|<span data-ttu-id="ecc59-205">CDC サービスを現在処理している Windows ノードの名前。</span><span class="sxs-lookup"><span data-stu-id="ecc59-205">The name of the Windows node that currently handles the CDC service.</span></span> <span data-ttu-id="ecc59-206">この列は、サービスが適切に停止されると null に設定され、アクティブなサービスがなくなったことが示されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-206">When the service is stopped correctly, this column is set to null, indicating that there is no longer an active service.</span></span>|  
|<span data-ttu-id="ecc59-207">active_service_heartbeat</span><span class="sxs-lookup"><span data-stu-id="ecc59-207">active_service_heartbeat</span></span>|<span data-ttu-id="ecc59-208">現在の CDC サービスがまだアクティブであるかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-208">This item tracks the current CDC service to determine if it still active.</span></span><br /><br /> <span data-ttu-id="ecc59-209">このアイテムは、アクティブな CDC サービスに対する現在のデータベースの UTC タイムスタンプに基づいて一定の間隔で更新されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-209">This item is updated with the current database UTC timestamp for the active CDC service at regular intervals.</span></span> <span data-ttu-id="ecc59-210">既定の間隔は 30 秒ですが、この間隔は構成することも可能です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-210">The default interval is 30 seconds, however the interval is configurable.</span></span><br /><br /> <span data-ttu-id="ecc59-211">構成された間隔が経過してもハートビートが更新されていないことが保留中の CDC サービスで検出されると、その保留中のサービスで、アクティブな CDC サービスの役割の引き継ぎが試行されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-211">When a pending CDC service detects that the heartbeat was not updated after the configured interval has passed, the pending service attempts to take over the active CDC service role.</span></span>|  
|<span data-ttu-id="ecc59-212">options</span><span class="sxs-lookup"><span data-stu-id="ecc59-212">options</span></span>|<span data-ttu-id="ecc59-213">トレースやチューニングなどの二次的なオプションを指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-213">This item specifies the secondary options, such as tracing or tuning.</span></span> <span data-ttu-id="ecc59-214">**name[=value][; ]** の形式で記述されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-214">It is written in the form of **name[=value][; ]**.</span></span> <span data-ttu-id="ecc59-215">options の文字列では、ODBC 接続文字列と同じセマンティクスを使用します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-215">The options string uses the same semantics as the ODBC connection string.</span></span> <span data-ttu-id="ecc59-216">オプションがブール値 (value が yes または no) の場合は、name だけでもかまいません。</span><span class="sxs-lookup"><span data-stu-id="ecc59-216">If the option is Boolean (with a value of yes/no), the value can include the name only.</span></span><br /><br /> <span data-ttu-id="ecc59-217">トレースには、次の有効な値があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-217">trace has the following possible values:</span></span><br /><br /> <span data-ttu-id="ecc59-218">TRUE</span><span class="sxs-lookup"><span data-stu-id="ecc59-218">true</span></span><br /><br /> <span data-ttu-id="ecc59-219">on</span><span class="sxs-lookup"><span data-stu-id="ecc59-219">on</span></span><br /><br /> <span data-ttu-id="ecc59-220">false</span><span class="sxs-lookup"><span data-stu-id="ecc59-220">false</span></span><br /><br /> <span data-ttu-id="ecc59-221">オフ</span><span class="sxs-lookup"><span data-stu-id="ecc59-221">off</span></span><br /><br /> <span data-ttu-id="ecc59-222">\<class name>[,class name>]</span><span class="sxs-lookup"><span data-stu-id="ecc59-222">\<class name>[,class name>]</span></span><br /><br /> <span data-ttu-id="ecc59-223">既定値は **false** です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-223">The default value is **false**.</span></span><br /><br /> <br /><br /> <span data-ttu-id="ecc59-224">**service_heartbeat_interval** は、active_service_heartbeat 列を更新する間隔 (秒) です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-224">**service_heartbeat_interval** is the time interval (in seconds) for the service to update the active_service_heartbeat column.</span></span> <span data-ttu-id="ecc59-225">既定値は、 **30**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-225">The default value is **30**.</span></span> <span data-ttu-id="ecc59-226">最大値は **3600**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-226">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="ecc59-227">**service_config_polling_interval** は、構成の変更を確認するポーリング間隔 (秒) です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-227">**service_config_polling_interval** is the polling interval (in seconds) for the CDC service to check for configuration changes.</span></span> <span data-ttu-id="ecc59-228">既定値は、 **30**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-228">The default value is **30**.</span></span> <span data-ttu-id="ecc59-229">最大値は **3600**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-229">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="ecc59-230">**sql_command_timeout** は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]に対するコマンドのタイムアウトです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-230">**sql_command_timeout** is the command timeout that works with the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ecc59-231">既定値は **1**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-231">The default value is **1**.</span></span> <span data-ttu-id="ecc59-232">最大値は **3600**です。</span><span class="sxs-lookup"><span data-stu-id="ecc59-232">The maximum value is **3600**.</span></span>|  
||  
  
### <a name="the-msxdbcdc-database-stored-procedures"></a><span data-ttu-id="ecc59-233">MSXDBCDC データベースのストアド プロシージャ</span><span class="sxs-lookup"><span data-stu-id="ecc59-233">The MSXDBCDC Database Stored Procedures</span></span>  
 <span data-ttu-id="ecc59-234">ここでは、MSXDBCDC データベースの次のストアド プロシージャについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-234">This section describes the following stored procedures in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="ecc59-235">dbo.xcbcdc_reset_db(Database Name)</span><span class="sxs-lookup"><span data-stu-id="ecc59-235">dbo.xcbcdc_reset_db(Database Name)</span></span>](#BKMK_dboxcbcdc_reset_db)  
  
-   [<span data-ttu-id="ecc59-236">dbo.xdbcdc_disable_db(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-236">dbo.xdbcdc_disable_db(dbname)</span></span>](#BKMK_dboxdbcdc_disable_db)  
  
-   [<span data-ttu-id="ecc59-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="ecc59-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>](#BKMK_dboxcbcdc_add_service)  
  
-   [<span data-ttu-id="ecc59-238">dbo.xdbcdc_start(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-238">dbo.xdbcdc_start(dbname)</span></span>](#BKMK_dboxdbcdc_start)  
  
-   [<span data-ttu-id="ecc59-239">dbo.xdbcdc_stop(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-239">dbo.xdbcdc_stop(dbname)</span></span>](#BKMK_dboxdbcdc_stop)  
  
###  <a name="dboxcbcdc_reset_dbdatabase-name"></a><a name="BKMK_dboxcbcdc_reset_db"></a> <span data-ttu-id="ecc59-240">dbo.xcbcdc_reset_db(Database Name)</span><span class="sxs-lookup"><span data-stu-id="ecc59-240">dbo.xcbcdc_reset_db(Database Name)</span></span>  
 <span data-ttu-id="ecc59-241">このプロシージャでは、Oracle CDC インスタンスのデータをクリアします。</span><span class="sxs-lookup"><span data-stu-id="ecc59-241">This procedure clears the data of an Oracle CDC instance.</span></span> <span data-ttu-id="ecc59-242">次の場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-242">It is used:</span></span>  
  
-   <span data-ttu-id="ecc59-243">前のデータを無視してデータのキャプチャを再開する場合 (ソース データベースを復旧した場合や、Oracle トランザクション ログの一部を使用できなくなった場合など)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-243">To restart data capturing while disregarding previous data, for example following source database recovery or following inactivity where some of the Oracle transaction logs are not available.</span></span>  
  
-   <span data-ttu-id="ecc59-244">CDC の状態 (具体的には cdc.\*tables のデータ) が破損している場合。</span><span class="sxs-lookup"><span data-stu-id="ecc59-244">When there is a corruption in the CDC state (specifically in the any cdc.\*tables data).</span></span>  
  
 <span data-ttu-id="ecc59-245">**dbo.xcbcdc_reset_db** プロシージャでは、次の処理が行われます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-245">The **dbo.xcbcdc_reset_db** procedure performs the following tasks:</span></span>  
  
-   <span data-ttu-id="ecc59-246">CDC インスタンスを停止する (アクティブな場合)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-246">Stops the CDC instance (if active).</span></span>  
  
-   <span data-ttu-id="ecc59-247">変更テーブル、 **cdc_lsn_mapping** テーブル、および **cdc_ddl_history** テーブルを切り捨てる。</span><span class="sxs-lookup"><span data-stu-id="ecc59-247">Truncates the change tables, the **cdc_lsn_mapping** table, and the **cdc_ddl_history** table.</span></span>  
  
-   <span data-ttu-id="ecc59-248">**cdc_xdbcdc_state** テーブルをクリアする。</span><span class="sxs-lookup"><span data-stu-id="ecc59-248">Clears the **cdc_xdbcdc_state** table.</span></span>  
  
-   <span data-ttu-id="ecc59-249">**cdc_change_table**の各行の start_lsn 列をクリアする。</span><span class="sxs-lookup"><span data-stu-id="ecc59-249">Clears the start_lsn column for each row of the **cdc_change_table**.</span></span>  
  
 <span data-ttu-id="ecc59-250">**dbo.xcbcdc_reset_db** プロシージャを使用するには、対象の CDC インスタンス データベースの **db_owner** データベース ロールのメンバーであるか、 **sysadmin** または **serveradmin** 固定サーバー ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-250">To use the **dbo.xcbcdc_reset_db** procedure, the user must be a member of the **db_owner** database role for the CDC Instance database being named or else member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="ecc59-251">CDC テーブルの詳細については、CDC デザイナー コンソールのヘルプ システムで「 *CDC データベース* 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ecc59-251">For more information about the CDC tables, see *The CDC Databases* in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxdbcdc_disable_dbdbname"></a><a name="BKMK_dboxdbcdc_disable_db"></a> <span data-ttu-id="ecc59-252">dbo.xdbcdc_disable_db(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-252">dbo.xdbcdc_disable_db(dbname)</span></span>  
 <span data-ttu-id="ecc59-253">**dbo.xcbcdc_disable_db** プロシージャでは、次の処理が行われます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-253">The **dbo.xcbcdc_disable_db** procedure performs the following task:</span></span>  
  
-   <span data-ttu-id="ecc59-254">選択した CDC データベースのエントリを MSXDBCDC.xdbcdc_databases テーブルから削除する。</span><span class="sxs-lookup"><span data-stu-id="ecc59-254">Removes the entry for the selected CDC database in the MSXDBCDC.xdbcdc_databases table.</span></span>  
  
 <span data-ttu-id="ecc59-255">**dbo.xcbcdc_disable_db** プロシージャを使用するには、対象の CDC インスタンスの **db_owner** データベース ロールのメンバーであるか、 **sysadmin** または **serveradmin** 固定サーバー ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-255">To use the **dbo.xcbcdc_disable_db** procedure, the user must be a member of the **db_owner** database role for the CDC instance being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="ecc59-256">CDC テーブルの詳細については、CDC デザイナー コンソールのヘルプ システムで「CDC データベース」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ecc59-256">For more information about the CDC tables, see The CDC Databases in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxcbcdc_add_servicesvcnamesqlusr"></a><a name="BKMK_dboxcbcdc_add_service"></a> <span data-ttu-id="ecc59-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="ecc59-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>  
 <span data-ttu-id="ecc59-258">**dbo.xcbcdc_add_service** プロシージャでは、 **MSXDBCDC.xdbcdc_services** テーブルにエントリを追加し、 **MSXDBCDC.xdbcdc_services** テーブル内の該当するサービスの ref_count 列の値を 1 増やします。</span><span class="sxs-lookup"><span data-stu-id="ecc59-258">The **dbo.xcbcdc_add_service** procedure adds an entry to the **MSXDBCDC.xdbcdc_services** table and adds an increment of one to the ref_count column for the service name in the **MSXDBCDC.xdbcdc_services** table.</span></span> <span data-ttu-id="ecc59-259">また、**ref_count** が 0 になると、その行を削除します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-259">When the **ref_count** is 0, it deletes the row.</span></span>  
  
 <span data-ttu-id="ecc59-260">**dbo.xcbcdc_add_service\<service name, username>** プロシージャを使用するには、ユーザーは、対象の CDC インスタンス データベースの **db_owner** データベース ロールのメンバーであるか、**sysadmin** または **serveradmin** 固定サーバー ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-260">To use the **dbo.xcbcdc_add_service\<service name, username>** procedure, the user must be a member of the **db_owner** database role for the CDC instance database being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
###  <a name="dboxdbcdc_startdbname"></a><a name="BKMK_dboxdbcdc_start"></a> <span data-ttu-id="ecc59-261">dbo.xdbcdc_start(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-261">dbo.xdbcdc_start(dbname)</span></span>  
 <span data-ttu-id="ecc59-262">**dbo.xdbcdc_start** プロシージャでは、変更の処理を開始するために、選択した CDC インスタンスを処理する CDC サービスに開始要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-262">The **dbo.xdbcdc_start** procedure sends a start request to the CDC service that handles the selected CDC instance to start the change processing.</span></span>  
  
 <span data-ttu-id="ecc59-263">**dbo.xcdcdc_start** プロシージャを使用するには、CDC データベースの **db_owner** データベース ロールのメンバーであるか、 **インスタンスの** sysadmin **または** serveradmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-263">To use the **dbo.xcdcdc_start** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
###  <a name="dboxdbcdc_stopdbname"></a><a name="BKMK_dboxdbcdc_stop"></a> <span data-ttu-id="ecc59-264">dbo.xdbcdc_stop(dbname)</span><span class="sxs-lookup"><span data-stu-id="ecc59-264">dbo.xdbcdc_stop(dbname)</span></span>  
 <span data-ttu-id="ecc59-265">**dbo.xdbcdc_stop** プロシージャでは、変更の処理を停止するために、選択した CDC インスタンスを処理する CDC サービスに停止要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-265">The **dbo.xdbcdc_stop** procedure sends a stop request to the CDC service that handles the selected CDC instance to stop the change processing.</span></span>  
  
 <span data-ttu-id="ecc59-266">**dbo.xcdcdc_stop** プロシージャを使用するには、CDC データベースの **db_owner** データベース ロールのメンバーであるか、 **インスタンスの** sysadmin **または** serveradmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-266">To use the **dbo.xcdcdc_stop** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
##  <a name="the-cdc-databases"></a><a name="BKMK_CDCdatabase"></a> <span data-ttu-id="ecc59-267">CDC データベース</span><span class="sxs-lookup"><span data-stu-id="ecc59-267">The CDC Databases</span></span>  
 <span data-ttu-id="ecc59-268">CDC サービスで使用される Oracle CDC インスタンスはそれぞれ、CDC データベースと呼ばれる特定の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースに関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-268">Each Oracle CDC instance used in a CDC service is associated with a specific [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database called the CDC Database.</span></span> <span data-ttu-id="ecc59-269">この [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースは、Oracle CDC Service に関連付けられた [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスでホストされます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-269">This [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is hosted in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance associated with the Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="ecc59-270">CDC データベースには特殊な cdc スキーマがあります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-270">The CDC Database contains a special cdc schema.</span></span> <span data-ttu-id="ecc59-271">Oracle CDC Service でこのスキーマを使用するときは、 **xdbcdc_** というプレフィックスを付けてテーブル名を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-271">The Oracle CDC Service uses this schema with table names with the prefix **xdbcdc_**.</span></span> <span data-ttu-id="ecc59-272">このスキーマは、セキュリティや一貫性を確保する目的で使用されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-272">This schema is used for security and consistency purposes.</span></span>  
  
 <span data-ttu-id="ecc59-273">Oracle CDC インスタンスと CDC データベースはどちらも、Oracle CDC デザイナー コンソールを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-273">Both the Oracle CDC instance and the CDC databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="ecc59-274">CDC データベースの詳細については、Oracle CDC デザイナー コンソールのインストールに付属のドキュメントを参照してください。</span><span class="sxs-lookup"><span data-stu-id="ecc59-274">For more information about the CDC databases, see the documentation included with your installation of the Oracle CDC Designer Console.</span></span>  
  
##  <a name="using-the-command-line-to-configure-the-cdc-service"></a><a name="BKMK_CommandConfigCDC"></a> <span data-ttu-id="ecc59-275">コマンド ラインを使用した CDC サービスの構成</span><span class="sxs-lookup"><span data-stu-id="ecc59-275">Using the Command Line to Configure the CDC Service</span></span>  
 <span data-ttu-id="ecc59-276">コマンド ラインから Oracle CDC Service プログラム (xdbcdcsvc.exe) を実行することができます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-276">You can operate the Oracle CDC Service program (xdbcdcsvc.exe) from the command line.</span></span> <span data-ttu-id="ecc59-277">CDC のサービス プログラムは、32 ビットまたは 64 ビットのネイティブの Windows 実行可能ファイルです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-277">The CDC service program is a native 32-bit/64-bit Windows executable file.</span></span>  
  
 <span data-ttu-id="ecc59-278">**参照**</span><span class="sxs-lookup"><span data-stu-id="ecc59-278">**See also**</span></span>  
  
 [<span data-ttu-id="ecc59-279">CDC Service のコマンド ライン インターフェイスを使用する方法</span><span class="sxs-lookup"><span data-stu-id="ecc59-279">How to Use the CDC Service Command-Line Interface</span></span>](how-to-use-the-cdc-service-command-line-interface.md)  
  
### <a name="service-program-commands"></a><span data-ttu-id="ecc59-280">サービス プログラムのコマンド</span><span class="sxs-lookup"><span data-stu-id="ecc59-280">Service Program Commands</span></span>  
 <span data-ttu-id="ecc59-281">ここでは、CDC サービスの構成に使用する次のコマンドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-281">The section describes the following commands that are used to configure the CDC service.</span></span>  
  
-   [<span data-ttu-id="ecc59-282">構成</span><span class="sxs-lookup"><span data-stu-id="ecc59-282">Config</span></span>](#BKMK_config)  
  
-   [<span data-ttu-id="ecc59-283">作成</span><span class="sxs-lookup"><span data-stu-id="ecc59-283">Create</span></span>](#BKMK_create)  
  
-   [<span data-ttu-id="ecc59-284">削除</span><span class="sxs-lookup"><span data-stu-id="ecc59-284">Delete</span></span>](#BKMK_delete)  
  
###  <a name="config"></a><a name="BKMK_config"></a> <span data-ttu-id="ecc59-285">Config</span><span class="sxs-lookup"><span data-stu-id="ecc59-285">Config</span></span>  
 <span data-ttu-id="ecc59-286">`Config` は、Oracle CDC Service の構成をスクリプトで更新する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-286">Use `Config` to update an Oracle CDC Service configuration from a script.</span></span> <span data-ttu-id="ecc59-287">このコマンドを使用すると、CDC サービスの構成の特定の部分だけを更新できます (たとえば、非対称キーのパスワードがわからない場合に接続文字列だけを更新するなど)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-287">The command can be used to update only specific parts of the CDC service configuration (for example, only the connection string without knowing the asymmetric key password).</span></span> <span data-ttu-id="ecc59-288">このコマンドを実行できるのはコンピューターの管理者だけです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-288">The command must be run by a computer administrator.</span></span> <span data-ttu-id="ecc59-289">`Config` コマンドの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-289">The following is an example of the `Config` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" config  
     <cdc-service-name>  
     [connect= <sql-server-connection-string>]  
     [key= <asym-key-password>]  
     [svcacct= <windows-account> <windows-password>]  
     [sqlacct= <sql-username> <sql-password>]  
  
```  
  
 <span data-ttu-id="ecc59-290">各値の説明:</span><span class="sxs-lookup"><span data-stu-id="ecc59-290">Where:</span></span>  
  
 <span data-ttu-id="ecc59-291">**cdc-service-name** には、更新する CDC サービスの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-291">**cdc-service-name** is the name of the CDC service to be updated.</span></span> <span data-ttu-id="ecc59-292">これは必須パラメーターです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-292">This is a required parameter.</span></span>  
  
 <span data-ttu-id="ecc59-293">**sql-server-connection-string** には、更新する接続文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-293">**sql-server-connection-string** is the connect string to be updated.</span></span> <span data-ttu-id="ecc59-294">接続文字列にスペースや引用符が含まれる場合は、二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-294">If the connect string contains spaces or quotes then it must be wrapped in double-quotation marks (").</span></span> <span data-ttu-id="ecc59-295">また、引用符を埋め込む場合は、引用符を 2 つ入力してエスケープします。</span><span class="sxs-lookup"><span data-stu-id="ecc59-295">Embedded quotes are escaped by doubling the quotation marks.</span></span>  
  
 <span data-ttu-id="ecc59-296">**asym-key-password** には、更新するパスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-296">**asym-key-password** is the password to be updated.</span></span>  
  
 <span data-ttu-id="ecc59-297">**windows-account**と **windows-password** には、更新するサービスの Windows アカウント資格情報を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-297">**windows-account**, **windows-password** are the Windows account credentials for the service that is being updated.</span></span>  
  
 <span data-ttu-id="ecc59-298">**sql-username**と **sql-password** には、更新する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 認証資格情報を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-298">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication credentials being updated.</span></span> <span data-ttu-id="ecc59-299">sqlacct のユーザー名とパスワードをどちらも指定しなかった場合は、Windows 認証を使用して Oracle CDC Service から [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-299">If sqlacct has both an empty username and empty password, then the Oracle CDC Service connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="ecc59-300">**注**:スペースや二重引用符が含まれる場合は、パラメーターを二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-300">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="ecc59-301">また、二重引用符を埋め込む場合は、二重引用符を 2 つ入力する必要があります (たとえば、 **"A#B" D** というパスワードを使用する場合は **""A#B"" D"** と入力します)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-301">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
###  <a name="create"></a><a name="BKMK_create"></a> <span data-ttu-id="ecc59-302">作成</span><span class="sxs-lookup"><span data-stu-id="ecc59-302">Create</span></span>  
 <span data-ttu-id="ecc59-303">`Create` は、Oracle CDC Service をスクリプトで作成する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-303">Use `Create` to create an Oracle CDC Service from a script.</span></span> <span data-ttu-id="ecc59-304">このコマンドを実行できるのはコンピューターの管理者だけです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-304">The command must be run by a computer administrator.</span></span> <span data-ttu-id="ecc59-305">`Create` コマンドの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-305">The following is an example of the `Create` command:</span></span>  
  
```  
"<path>xdbcdcsvc.exe" create  
     <cdc-service-name>  
     [connect= "<sql-server-connection-string>"]  
     [key= <asym-key-password>]  
     [svcacct <windows-account> <windows-password>]  
     [sqlacct <sql-username> <sql-password>]  
```  
  
 <span data-ttu-id="ecc59-306">各値の説明:</span><span class="sxs-lookup"><span data-stu-id="ecc59-306">Where:</span></span>  
  
 <span data-ttu-id="ecc59-307">**cdc-service-name** には、新しく作成するサービスの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-307">**cdc-service-name** is the name of the newly created service.</span></span> <span data-ttu-id="ecc59-308">この名前のサービスが既にある場合、プログラムからエラーが返されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-308">If there is already a service with this name, the program returns an error.</span></span> <span data-ttu-id="ecc59-309">長い名前やスペースを含む名前は使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="ecc59-309">You should not use long names or names with spaces.</span></span> <span data-ttu-id="ecc59-310">文字 "/" および "\\" は、サービス名には使用できません。</span><span class="sxs-lookup"><span data-stu-id="ecc59-310">The characters "/" and "\\" are not valid characters in a service name.</span></span> <span data-ttu-id="ecc59-311">これは必須パラメーターです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-311">This is a required parameter.</span></span>  
  
 <span data-ttu-id="ecc59-312">**sql-server-connection-string** には、新しい Oracle CDC Service に関連付けられる [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスへの接続に使用する接続文字列を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-312">**sql-server-connection-string** is the connect string to use to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that is associated with the new Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="ecc59-313">**asym-key-password** には、ソース データベース ログ マイニングの資格情報を格納するための非対称キーを保護するパスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-313">**asym-key-password** is the password that protects the asymmetric key used for storing the source database log-mining credentials.</span></span>  
  
 <span data-ttu-id="ecc59-314">**windows-account**と **windows-password** には、作成する Oracle CDC Service に関連付けられるアカウント名とパスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-314">**windows-account**, **windows-password** are the account name and password associated with the Oracle CDC Service being created.</span></span>  
  
 <span data-ttu-id="ecc59-315">**sql-username**と **sql-password** には、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスへの接続に使用される [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のアカウント名とパスワードを指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-315">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account name and password used to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="ecc59-316">これらのどちらのパラメーターも指定しなかった場合は、Windows 認証を使用して CDC Service for Oracle から [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続されます。</span><span class="sxs-lookup"><span data-stu-id="ecc59-316">If both of these parameters are empty, then CDC Service for Oracle connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="ecc59-317">**注**:スペースや二重引用符が含まれる場合は、パラメーターを二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-317">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="ecc59-318">また、二重引用符を埋め込む場合は、二重引用符を 2 つ入力する必要があります (たとえば、 **"A#B" D** というパスワードを使用する場合は **""A#B"" D"** と入力します)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-318">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**.</span></span>  
  
###  <a name="delete"></a><a name="BKMK_delete"></a> <span data-ttu-id="ecc59-319">Del</span><span class="sxs-lookup"><span data-stu-id="ecc59-319">Delete</span></span>  
 <span data-ttu-id="ecc59-320">`Delete` は、Oracle CDC Service をスクリプトで完全に削除する場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-320">Use `Delete` to cleanly delete the Oracle CDC Service from a script.</span></span> <span data-ttu-id="ecc59-321">このコマンドを実行できるのはコンピューターの管理者だけです。</span><span class="sxs-lookup"><span data-stu-id="ecc59-321">This command must be run by a computer administrator.</span></span> <span data-ttu-id="ecc59-322">`Delete` コマンドの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-322">The following is an example of the `Delete` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" delete  
    <cdc-service-name>  
  
```  
  
 <span data-ttu-id="ecc59-323">各値の説明:</span><span class="sxs-lookup"><span data-stu-id="ecc59-323">Where:</span></span>  
  
 <span data-ttu-id="ecc59-324">**cdc-service-name** には、削除する CDC サービスの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="ecc59-324">**cdc-service-name** is the name of the CDC service to be deleted.</span></span>  
  
 <span data-ttu-id="ecc59-325">**注**:スペースや二重引用符が含まれる場合は、パラメーターを二重引用符 (") で囲む必要があります。</span><span class="sxs-lookup"><span data-stu-id="ecc59-325">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="ecc59-326">また、二重引用符を埋め込む場合は、二重引用符を 2 つ入力する必要があります (たとえば、 **"A#B" D** というパスワードを使用する場合は **""A#B"" D"** と入力します)。</span><span class="sxs-lookup"><span data-stu-id="ecc59-326">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ecc59-327">参照</span><span class="sxs-lookup"><span data-stu-id="ecc59-327">See Also</span></span>  
 <span data-ttu-id="ecc59-328">[CDC Service のコマンド ライン インターフェイスを使用する方法](how-to-use-the-cdc-service-command-line-interface.md) </span><span class="sxs-lookup"><span data-stu-id="ecc59-328">[How to Use the CDC Service Command-Line Interface](how-to-use-the-cdc-service-command-line-interface.md) </span></span>  
 [<span data-ttu-id="ecc59-329">CDC 用に SQL Server を準備する方法</span><span class="sxs-lookup"><span data-stu-id="ecc59-329">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  
