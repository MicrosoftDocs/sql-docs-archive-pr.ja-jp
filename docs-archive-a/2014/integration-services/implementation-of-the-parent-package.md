---
title: 親パッケージの実装 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- parent packages [Integration Services]
ms.assetid: d8f94830-fa27-4151-88df-cbdc6bf0fc80
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 04b99a2607e73bbcd612b43be1bdb30324a37e9f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632579"
---
# <a name="implementation-of-the-parent-package"></a><span data-ttu-id="b9329-102">親パッケージの実装</span><span class="sxs-lookup"><span data-stu-id="b9329-102">Implementation of the Parent Package</span></span>
  <span data-ttu-id="b9329-103">さまざまなサーバー間で SSIS パッケージの負荷を分散する場合、子パッケージの作成と配置を行い、その子パッケージを実行するためのリモート SQL Server エージェント ジョブを作成したら、次のステップは親パッケージを作成することです。</span><span class="sxs-lookup"><span data-stu-id="b9329-103">When load balancing SSIS packages across various servers, the next step after the child packages have been created, deployed, and remote SQL Server Agent Jobs created to run them, is to create the parent package.</span></span> <span data-ttu-id="b9329-104">親パッケージには、SQL Server エージェント ジョブの実行タスクが多数含まれます。各タスクは、子パッケージの 1 つを実行する個別の SQL Server エージェント ジョブを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="b9329-104">The parent package will contain many Execute SQL Server Agent Job tasks, each task responsible for calling a different SQL Server Agent job that runs one of the child packages.</span></span> <span data-ttu-id="b9329-105">親パッケージ内にある SQL Server エージェント ジョブの実行タスクは、各種の SQL Server エージェント ジョブを次々に実行します。</span><span class="sxs-lookup"><span data-stu-id="b9329-105">The Execute SQL Server Agent Job tasks in the parent package in turn run the various SQL Server Agent jobs.</span></span> <span data-ttu-id="b9329-106">親パッケージ内の各タスクには、リモート サーバーへの接続方法やそのサーバーで実行するジョブなどの情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="b9329-106">Each task in the parent package contains information such as how to connect to the remote server and what job to run on that server.</span></span> <span data-ttu-id="b9329-107">詳しくは、「 [Execute SQL Server Agent Job Task](control-flow/execute-sql-server-agent-job-task.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b9329-107">For more information, see [Execute SQL Server Agent Job Task](control-flow/execute-sql-server-agent-job-task.md).</span></span>  
  
 <span data-ttu-id="b9329-108">子パッケージを実行する親パッケージを識別するには、 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] のソリューション エクスプローラーでパッケージを右クリックし、 **[エントリ ポイント パッケージ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="b9329-108">To identify the parent package that executes child packages, in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] right click the package in Solution Explorer and then click **Entry-point Package**.</span></span>  
  
## <a name="listing-child-packages"></a><span data-ttu-id="b9329-109">子パッケージの一覧表示</span><span class="sxs-lookup"><span data-stu-id="b9329-109">Listing Child Packages</span></span>  
 <span data-ttu-id="b9329-110">親パッケージと子パッケージを含むプロジェクトを [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] サーバーに配置した場合、親パッケージにより実行される子パッケージの一覧を表示することができます。</span><span class="sxs-lookup"><span data-stu-id="b9329-110">If you deploy your project that contains a parent package and child package(s) to the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] server, you can view a list of the child packages that are executed by the parent package.</span></span> <span data-ttu-id="b9329-111">親パッケージを実行すると、 **に親パッケージの** [概要] [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]レポートが自動的に生成されます。</span><span class="sxs-lookup"><span data-stu-id="b9329-111">When you run the parent package, an **Overview** report for the parent package is automatically generated in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="b9329-112">次の図のように、レポートには、親パッケージに含まれるパッケージ実行タスクによって実行された子パッケージが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="b9329-112">The report lists the child packages that were executed by the Execute Package task contained in the parent package, as shown in the following image.</span></span>  
  
 <span data-ttu-id="b9329-113">![子パッケージの一覧を含む概要レポート](media/overviewreport-childpackagelisting.png "子パッケージの一覧を含む概要レポート")</span><span class="sxs-lookup"><span data-stu-id="b9329-113">![Overview Report with list of child packages](media/overviewreport-childpackagelisting.png "Overview Report with list of child packages")</span></span>  
  
 <span data-ttu-id="b9329-114">**[概要]** レポートのアクセスについては、「 [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9329-114">For information about accessing the **Overview** report, see [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md).</span></span>  
  
## <a name="precedence-constraints-in-the-parent-package"></a><span data-ttu-id="b9329-115">親パッケージの優先順位制約</span><span class="sxs-lookup"><span data-stu-id="b9329-115">Precedence Constraints in the Parent Package</span></span>  
 <span data-ttu-id="b9329-116">親パッケージ内の複数の SQL Server エージェント ジョブの実行タスク間で優先順位制約を作成する場合、これらの優先順位制約で制御されるのは、リモート サーバー上の SQL Server エージェント ジョブの開始時刻のみです。</span><span class="sxs-lookup"><span data-stu-id="b9329-116">When you create precedence constraints between the Execute SQL Server Agent Job tasks in the parent package, these precedence constraints control only the time that the SQL Server Agent jobs on the remote servers are started.</span></span> <span data-ttu-id="b9329-117">優先順位制約では、SQL Server エージェント ジョブのステップで実行される子パッケージが、成功したか失敗したかに関する情報を受け取ることができません。</span><span class="sxs-lookup"><span data-stu-id="b9329-117">Precedence constraints cannot receive information regarding the success or failure of the child packages that are run from the steps of the SQL Server Agent jobs.</span></span>  
  
 <span data-ttu-id="b9329-118">つまり、子パッケージの成功または失敗は親に伝達されません。これは、親パッケージ内の SQL Server エージェント ジョブの実行タスクには、SQL Server エージェント ジョブに子パッケージを実行することを要求する機能しかないためです。</span><span class="sxs-lookup"><span data-stu-id="b9329-118">This means that success or failure of a child package does not propagate to the parent, because the sole function of the Execute SQL Server Agent job in the parent package is to request the SQL Server Agent job to run the child package.</span></span> <span data-ttu-id="b9329-119">SQL Server エージェント ジョブが正しく呼び出されると、親パッケージは、<xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Success> という結果を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="b9329-119">After the SQL Server Agent job is called successfully, the parent package receives a result of <xref:Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Success>.</span></span>  
  
 <span data-ttu-id="b9329-120">このシナリオでの失敗とは、リモート SQL Server エージェント ジョブ タスクの呼び出しに失敗した場合しかありません。</span><span class="sxs-lookup"><span data-stu-id="b9329-120">Failure in this scenario means only that there has been a failure in calling the remote SQL Server Agent Job task.</span></span> <span data-ttu-id="b9329-121">このような失敗は、リモート サーバーが停止している場合、およびエージェントが応答しない場合に発生することがあります。</span><span class="sxs-lookup"><span data-stu-id="b9329-121">One situation where this can occur is when the remote server is down and the agent does not respond.</span></span> <span data-ttu-id="b9329-122">ただし、エージェントが起動している限り、親パッケージはそのタスクを正常に完了したことになります。</span><span class="sxs-lookup"><span data-stu-id="b9329-122">However, as long as the agent fires, the parent package has successfully completed its task.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b9329-123">**sp_start_job N'package_name'** の Transact-SQL ステートメントを含む SQL 実行タスクを使用できます。</span><span class="sxs-lookup"><span data-stu-id="b9329-123">You can use an Execute SQL Task that contains a Transact-SQL statement of **sp_start_job N'package_name'**.</span></span> <span data-ttu-id="b9329-124">詳細については、「[sp_start_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="b9329-124">For more information, see [sp_start_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-start-job-transact-sql).</span></span>  
  
## <a name="debugging-environment"></a><span data-ttu-id="b9329-125">デバッグ環境</span><span class="sxs-lookup"><span data-stu-id="b9329-125">Debugging Environment</span></span>  
 <span data-ttu-id="b9329-126">親パッケージをテストする場合は、[デバッグ] メニューの [デバッグの開始] をクリックして (または F5 キーを押して) そのパッケージを実行し、デザイナーのデバッグ環境を使用します。</span><span class="sxs-lookup"><span data-stu-id="b9329-126">When testing the parent package, use the debugging environment of the designer by running it using Debug / Start Debugging (F5).</span></span> <span data-ttu-id="b9329-127">または、コマンド プロンプト ユーティリティ **dtexec**を使用できます。</span><span class="sxs-lookup"><span data-stu-id="b9329-127">Alternatively, you can use the command prompt utility, **dtexec**.</span></span> <span data-ttu-id="b9329-128">詳細については、「[dtexec ユーティリティ](packages/dtexec-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b9329-128">For more information, see [dtexec Utility](packages/dtexec-utility.md).</span></span>  
  
  
