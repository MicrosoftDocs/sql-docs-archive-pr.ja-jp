---
title: マージ結合変換 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.mergejointrans.f1
helpviewer_keywords:
- datasets [Integration Services]
- Merge Join transformation
- datasets [Integration Services], joining
- joining datasets [Integration Services]
- joins [SQL Server], SSIS
ms.assetid: cd8b0412-f83b-4bd2-b227-e53dcfd941a8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 262fba82293a630e410a8f24f4aec19f6f4423aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740182"
---
# <a name="merge-join-transformation"></a><span data-ttu-id="b2dab-102">Merge Join Transformation</span><span class="sxs-lookup"><span data-stu-id="b2dab-102">Merge Join Transformation</span></span>
  <span data-ttu-id="b2dab-103">マージ結合変換では、FULL、LEFT、または INNER 結合を使用して並べ替えた 2 つのデータセットを結合した出力が生成されます。</span><span class="sxs-lookup"><span data-stu-id="b2dab-103">The Merge Join transformation provides an output that is generated by joining two sorted datasets using a FULL, LEFT, or INNER join.</span></span> <span data-ttu-id="b2dab-104">たとえば、LEFT 結合を使用して、製品情報を含むテーブルを、製品が製造された国または地域を一覧表示するテーブルと結合します。</span><span class="sxs-lookup"><span data-stu-id="b2dab-104">For example, you can use a LEFT join to join a table that includes product information with a table that lists the country/region in which a product was manufactured.</span></span> <span data-ttu-id="b2dab-105">その結果、すべての製品とその製造元である国または地域を一覧表示するテーブルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="b2dab-105">The result is a table that lists all products and their country/region of origin.</span></span>  
  
 <span data-ttu-id="b2dab-106">マージ結合変換は、次の方法で構成できます。</span><span class="sxs-lookup"><span data-stu-id="b2dab-106">You can configure the Merge Join transformation in the following ways:</span></span>  
  
-   <span data-ttu-id="b2dab-107">FULL、LEFT、または INNER 結合のうち、どの結合を使用するかを指定します。</span><span class="sxs-lookup"><span data-stu-id="b2dab-107">Specify the join is a FULL, LEFT, or INNER join.</span></span>  
  
-   <span data-ttu-id="b2dab-108">結合で使用する列を指定します。</span><span class="sxs-lookup"><span data-stu-id="b2dab-108">Specify the columns the join uses.</span></span>  
  
-   <span data-ttu-id="b2dab-109">NULL 値を、他の NULL と等しい値として処理するかどうかを指定します。</span><span class="sxs-lookup"><span data-stu-id="b2dab-109">Specify whether the transformation handles null values as equal to other nulls.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b2dab-110">NULL 値どうしを等しい値として扱わない場合、マージ結合変換では、SQL Server データベース エンジンによる処理方法と同様に NULL 値が処理されます。</span><span class="sxs-lookup"><span data-stu-id="b2dab-110">If null values are not treated as equal values, the transformation handles null values like the SQL Server Database Engine does.</span></span>  
  
 <span data-ttu-id="b2dab-111">この変換は、2 つの入力と 1 つの出力をとります。</span><span class="sxs-lookup"><span data-stu-id="b2dab-111">This transformation has two inputs and one output.</span></span> <span data-ttu-id="b2dab-112">エラー出力はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="b2dab-112">It does not support an error output.</span></span>  
  
## <a name="input-requirements"></a><span data-ttu-id="b2dab-113">入力要件</span><span class="sxs-lookup"><span data-stu-id="b2dab-113">Input Requirements</span></span>  
 <span data-ttu-id="b2dab-114">マージ結合変換では、入力データが並べ替えられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="b2dab-114">The Merge Join Transformation requires sorted data for its inputs.</span></span> <span data-ttu-id="b2dab-115">この重要な要件の詳細については、「 [マージ変換およびマージ結合変換用にデータを並べ替える](sort-data-for-the-merge-and-merge-join-transformations.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="b2dab-115">For more information about this important requirement, see [Sort Data for the Merge and Merge Join Transformations](sort-data-for-the-merge-and-merge-join-transformations.md).</span></span>  
  
## <a name="join-requirements"></a><span data-ttu-id="b2dab-116">結合要件</span><span class="sxs-lookup"><span data-stu-id="b2dab-116">Join Requirements</span></span>  
 <span data-ttu-id="b2dab-117">マージ結合変換では、結合列のメタデータが一致している必要があります。</span><span class="sxs-lookup"><span data-stu-id="b2dab-117">The Merge Join transformation requires that the joined columns have matching metadata.</span></span> <span data-ttu-id="b2dab-118">たとえば、数値データ型の列と文字データ型の列は結合できません。</span><span class="sxs-lookup"><span data-stu-id="b2dab-118">For example, you cannot join a column that has a numeric data type with a column that has a character data type.</span></span> <span data-ttu-id="b2dab-119">データが文字列データ型の場合、2 番目の入力の列の長さは、マージ先の最初の入力の列の長さ以下である必要があります。</span><span class="sxs-lookup"><span data-stu-id="b2dab-119">If the data has a string data type, the length of the column in the second input must be less than or equal to the length of the column in the first input with which it is merged.</span></span>  
  
## <a name="buffer-throttling"></a><span data-ttu-id="b2dab-120">バッファー スロットル</span><span class="sxs-lookup"><span data-stu-id="b2dab-120">Buffer Throttling</span></span>  
 <span data-ttu-id="b2dab-121">マイクロソフトが行った変更により、マージ結合変換によってメモリが過度に消費されるリスクが軽減したため、`MaxBuffersPerInput` プロパティの値を構成する必要はなくなりました。</span><span class="sxs-lookup"><span data-stu-id="b2dab-121">You no longer have to configure the value of the `MaxBuffersPerInput` property because Microsoft has made changes that reduce the risk that the Merge Join transformation will consume excessive memory.</span></span> <span data-ttu-id="b2dab-122">この問題は、マージ結合の複数の入力からデータが不均一なレートで生成される場合に発生することがありました。</span><span class="sxs-lookup"><span data-stu-id="b2dab-122">This problem sometimes occurred when the multiple inputs of the Merge Join produced data at uneven rates.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="b2dab-123">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="b2dab-123">Related Tasks</span></span>  
 <span data-ttu-id="b2dab-124">プロパティを設定するには [!INCLUDE[ssIS](../../../includes/ssis-md.md)] デザイナーから行うか、またはプログラムによって設定します。</span><span class="sxs-lookup"><span data-stu-id="b2dab-124">You can set properties through the [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="b2dab-125">この変換のプロパティの設定方法の詳細については、次のトピックのいずれかを参照してください。</span><span class="sxs-lookup"><span data-stu-id="b2dab-125">For information about how to set properties of this transformation, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="b2dab-126">マージ結合変換を使用してデータセットを拡張する</span><span class="sxs-lookup"><span data-stu-id="b2dab-126">Extend a Dataset by Using the Merge Join Transformation</span></span>](merge-join-transformation.md)  
  
-   [<span data-ttu-id="b2dab-127">データ フロー コンポーネントのプロパティを設定する</span><span class="sxs-lookup"><span data-stu-id="b2dab-127">Set the Properties of a Data Flow Component</span></span>](../set-the-properties-of-a-data-flow-component.md)  
  
-   [<span data-ttu-id="b2dab-128">マージ変換およびマージ結合変換用にデータを並べ替える</span><span class="sxs-lookup"><span data-stu-id="b2dab-128">Sort Data for the Merge and Merge Join Transformations</span></span>](sort-data-for-the-merge-and-merge-join-transformations.md)  
  
## <a name="see-also"></a><span data-ttu-id="b2dab-129">参照</span><span class="sxs-lookup"><span data-stu-id="b2dab-129">See Also</span></span>  
 <span data-ttu-id="b2dab-130">[マージ結合変換エディター](../../merge-join-transformation-editor.md) </span><span class="sxs-lookup"><span data-stu-id="b2dab-130">[Merge Join Transformation Editor](../../merge-join-transformation-editor.md) </span></span>  
 <span data-ttu-id="b2dab-131">[マージ変換](merge-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="b2dab-131">[Merge Transformation](merge-transformation.md) </span></span>  
 <span data-ttu-id="b2dab-132">[全体結合変換](union-all-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="b2dab-132">[Union All Transformation](union-all-transformation.md) </span></span>  
 [<span data-ttu-id="b2dab-133">Integration Services の変換</span><span class="sxs-lookup"><span data-stu-id="b2dab-133">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  
