---
title: CDC フロー コンポーネント | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 5ae69ddf-27c3-467c-9af1-c89ec383f661
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6e1ede87d8acca170dcda9fb9f45d3163cce81da
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87715642"
---
# <a name="cdc-flow-components"></a><span data-ttu-id="197e4-102">CDC フロー コンポーネント</span><span class="sxs-lookup"><span data-stu-id="197e4-102">CDC Flow Components</span></span>
  <span data-ttu-id="197e4-103">SSIS 開発者は、Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)] 用 Attunity 変更データ キャプチャ (CDC) コンポーネントを使用すると、CDC を操作し、CDC パッケージの複雑さを軽減できます。</span><span class="sxs-lookup"><span data-stu-id="197e4-103">The Change Data Capture Components by Attunity for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)] help SSIS developers work with CDC and reduce the complexity of CDC packages.</span></span>  
  
 <span data-ttu-id="197e4-104">SSIS CDC コンポーネントは、ソース テーブルが同じ [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] データベースか Oracle データベース (Oracle CDC Service for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] の使用時) である場合に、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]CDC 機能を使用できるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="197e4-104">The SSIS CDC components are designed to work with the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC feature where the source tables are either the same [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] database or an Oracle database (when using the Oracle CDC Service for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]).</span></span> <span data-ttu-id="197e4-105">パーティション テーブルがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="197e4-105">Partitioned tables are supported.</span></span>  
  
 <span data-ttu-id="197e4-106">このコンポーネントには、SSIS パッケージの変更データの読み取りと処理を効率化する、制御フロー コンポーネントとデータ フロー コンポーネントがあります。</span><span class="sxs-lookup"><span data-stu-id="197e4-106">The components include Control and Data Flow components that streamline the experience of reading and processing change data in SSIS packages.</span></span> <span data-ttu-id="197e4-107">これらのコンポーネントは Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]のコンポーネント ライブラリに追加できますが、個別にインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-107">The components can be added to the component library in Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], but are installed separately.</span></span>  
  
 <span data-ttu-id="197e4-108">次のコンポーネントが Attunity 変更データ キャプチャ (CDC) コンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="197e4-108">The following are the Change Data Capture Components by Attunity:</span></span>  
  
 <span data-ttu-id="197e4-109">**CDC 制御フロー コンポーネント**:</span><span class="sxs-lookup"><span data-stu-id="197e4-109">**CDC Control Flow Component**:</span></span>  
  
 [<span data-ttu-id="197e4-110">CDC 制御タスク</span><span class="sxs-lookup"><span data-stu-id="197e4-110">CDC Control Task</span></span>](../control-flow/cdc-control-task.md)  
  
 <span data-ttu-id="197e4-111">**CDC データ フロー コンポーネント**:</span><span class="sxs-lookup"><span data-stu-id="197e4-111">**CDC Data Flow Components**:</span></span>  
  
 [<span data-ttu-id="197e4-112">CDC ソース</span><span class="sxs-lookup"><span data-stu-id="197e4-112">CDC Source</span></span>](cdc-source.md)  
  
 [<span data-ttu-id="197e4-113">CDC スプリッター</span><span class="sxs-lookup"><span data-stu-id="197e4-113">CDC Splitter</span></span>](cdc-splitter.md)  
  
## <a name="installation"></a><span data-ttu-id="197e4-114">インストール</span><span class="sxs-lookup"><span data-stu-id="197e4-114">Installation</span></span>  
 <span data-ttu-id="197e4-115">このセクションでは、CDC Components for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)]のインストール手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="197e4-115">This section describes the installation procedures for the CDC Components for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)].</span></span>  
  
### <a name="version-support"></a><span data-ttu-id="197e4-116">バージョンのサポート</span><span class="sxs-lookup"><span data-stu-id="197e4-116">Version Support</span></span>  
 <span data-ttu-id="197e4-117">SSIS 用 CDC コンポーネントでは、次の Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 製品がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="197e4-117">The following Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] products are supported by the CDC components for SSIS:</span></span>  
  
-   <span data-ttu-id="197e4-118">Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="197e4-118">Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span></span>  
  
-   <span data-ttu-id="197e4-119">[!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 2008 または 2010 向けの Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="197e4-119">Microsoft [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 2008 or 2010</span></span>  
  
 <span data-ttu-id="197e4-120">これらのバージョンは、次のオペレーティング システムとプラットフォームでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="197e4-120">These versions are supported on the following operating systems and platforms:</span></span>  
  
-   <span data-ttu-id="197e4-121">Windows Vista Service Pack 2 (32 ビット (x86) および 64 ビット (x64))</span><span class="sxs-lookup"><span data-stu-id="197e4-121">Windows Vista 32-bit (x86) and 64-bit (x64) with Service Pack 2</span></span>  
  
-   <span data-ttu-id="197e4-122">Windows 7 32 ビット (x86) および 64 ビット (x64)</span><span class="sxs-lookup"><span data-stu-id="197e4-122">Windows 7 32-bit (x86) and 64-bit (x64)</span></span>  
  
-   <span data-ttu-id="197e4-123">Windows Server 2008 Service Pack 2 (32 ビット (x86) および 64 ビット (x64))</span><span class="sxs-lookup"><span data-stu-id="197e4-123">Windows Server 2008 32-bit (x86) and 64-bit (x64) with Service Pack 2</span></span>  
  
-   <span data-ttu-id="197e4-124">Windows Server 2008 R2 64 ビット (x64)</span><span class="sxs-lookup"><span data-stu-id="197e4-124">Windows Server 2008 R2 64-bit (x64)</span></span>  
  
### <a name="running-the-installation-program"></a><span data-ttu-id="197e4-125">インストール プログラムの実行</span><span class="sxs-lookup"><span data-stu-id="197e4-125">Running the Installation Program</span></span>  
 <span data-ttu-id="197e4-126">インストール ウィザードを実行する前に、必ず [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] を閉じてください。</span><span class="sxs-lookup"><span data-stu-id="197e4-126">Before you run the installation wizard, be sure that the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] is closed.</span></span> <span data-ttu-id="197e4-127">そのうえでインストール ウィザードの指示に従います。</span><span class="sxs-lookup"><span data-stu-id="197e4-127">Then follow the directions in the installation wizard.</span></span>  
  
### <a name="restart-ssis"></a><span data-ttu-id="197e4-128">SSIS の再起動</span><span class="sxs-lookup"><span data-stu-id="197e4-128">Restart SSIS</span></span>  
 <span data-ttu-id="197e4-129">CDC コンポーネントをインストールしたら、SQL [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)]でのパッケージの開発時にコンポーネントが正常に機能するように、SSIS サービスを再起動する必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-129">After you install the CDC components, you must restart the SSIS service to be sure that the components work correctly when developing packages in the SQL [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)].</span></span>  
  
 <span data-ttu-id="197e4-130">コンポーネントをインストールすると、メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-130">A message is displayed after you install the components.</span></span> <span data-ttu-id="197e4-131">メッセージが表示されたら、[**はい]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="197e4-131">Click **Yes** when prompted.</span></span>  
  
### <a name="uninstalling-the-microsoft-cdc-components"></a><span data-ttu-id="197e4-132">Microsoft CDC コンポーネントのアンインストール</span><span class="sxs-lookup"><span data-stu-id="197e4-132">Uninstalling the Microsoft CDC Components</span></span>  
 <span data-ttu-id="197e4-133">CDC ソース、CDC スプリッター、または CDC 制御タスクをアンインストールするには、アンインストール ウィザードを使用します。</span><span class="sxs-lookup"><span data-stu-id="197e4-133">You uninstall the CDC source, CDC splitter, or CDC Control task, by using the uninstall wizard.</span></span> <span data-ttu-id="197e4-134">コンポーネントをアンインストールする前に、以下の点を確認してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-134">Before you uninstall the components you must make sure of the following:</span></span>  
  
 <span data-ttu-id="197e4-135">パッケージの開発に [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] を使用している場合は、アンインストール ウィザードの実行前に [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] を閉じる必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-135">If you are using the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] for package development, make sure the [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] is closed before running the uninstall wizard.</span></span>  
  
## <a name="benefits"></a><span data-ttu-id="197e4-136">メリット</span><span class="sxs-lookup"><span data-stu-id="197e4-136">Benefits</span></span>  
 <span data-ttu-id="197e4-137">SSIS 開発者は、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] コンポーネント用の CDC コンポーネントを使用して、変更データを処理する SSIS パッケージを簡単に構築できます。</span><span class="sxs-lookup"><span data-stu-id="197e4-137">The CDC Components for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] components allow SSIS developers to easily build SSIS packages that process change data.</span></span> <span data-ttu-id="197e4-138">これらのコンポーネントは、CDC に対処し、CDC パッケージの複雑さを軽減する SSIS 開発者の能力を高めます。</span><span class="sxs-lookup"><span data-stu-id="197e4-138">These components enhance the ability of SSIS developers to deal with CDC and reduce the complexity of CDC packages.</span></span>  
  
 <span data-ttu-id="197e4-139">SSIS CDC コンポーネントを使用すると、レプリケーション、データ ウェアハウスの読み込み、OLAP の緩やかに変化するディメンションの更新、変更の監査などの目的で処理しやすい形で変更データを提供できます。</span><span class="sxs-lookup"><span data-stu-id="197e4-139">The SSIS CDC components are used to provide the change data in a way that is easy to further process it for replication, loading a data warehouse, updating slowly changing dimensions for OLAP, auditing changes, or for additional possible uses.</span></span> <span data-ttu-id="197e4-140">後で行う処理の種類は、SSIS 開発者が決定します。</span><span class="sxs-lookup"><span data-stu-id="197e4-140">The type of further processing used is determined by the SSIS developer.</span></span>  
  
 <span data-ttu-id="197e4-141">SSIS CDC コンポーネントは、同じ [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] データベース内の変更テーブルで [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 機能を使用できるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="197e4-141">The SSIS CDC components are designed to work with the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC feature with change tables that are in the same [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] database.</span></span>  
  
## <a name="getting-started-with-the-change-data-capture-components"></a><span data-ttu-id="197e4-142">Change Data Capture コンポーネントの概要</span><span class="sxs-lookup"><span data-stu-id="197e4-142">Getting Started with the Change Data Capture Components</span></span>  
 <span data-ttu-id="197e4-143">一般的な CDC パッケージでは、テーブルのグループに対する変更を処理します。</span><span class="sxs-lookup"><span data-stu-id="197e4-143">A typical CDC package processes changes to a group of tables.</span></span> <span data-ttu-id="197e4-144">この種類の CDC パッケージの基本的な制御フローを以下の図に示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-144">The basic control flow part of this type of CDC package is shown in the figure below.</span></span> <span data-ttu-id="197e4-145">このパッケージは、トリクル フィード処理パッケージと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="197e4-145">This package is called a trickle-feed processing package.</span></span>  
  
 <span data-ttu-id="197e4-146">![パッケージの制御フローを処理するトリクル フィード](../media/tricklefeedprocessing.gif "パッケージの制御フローを処理するトリクル フィード")</span><span class="sxs-lookup"><span data-stu-id="197e4-146">![Trickle Feed Processing Package Control Flow](../media/tricklefeedprocessing.gif "Trickle Feed Processing Package Control Flow")</span></span>  
  
 <span data-ttu-id="197e4-147">この [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] 制御フローには、2 つの CDC 制御タスクとデータ フロー タスクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="197e4-147">This [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] Control Flow contains two CDC Control Tasks and the Data Flow task.</span></span> <span data-ttu-id="197e4-148">**Get CDC Processing Range** (CDC 処理範囲の取得) という最初のタスクでは、 **Process Changes**(変更の処理) というデータ フロー タスクで処理される変更の LSN 範囲を設定します。</span><span class="sxs-lookup"><span data-stu-id="197e4-148">The first task called **Get CDC Processing Range** establishes the LSN range for the changes that are processed in the data-flow task called **Process Changes**.</span></span> <span data-ttu-id="197e4-149">この範囲は、前回のパッケージ実行時に処理されて永続的なストアに保存された内容に基づいて設定されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-149">This range is established based on what was processed during the last package run and was saved in a persistent store.</span></span>  
  
 <span data-ttu-id="197e4-150">CDC 制御タスクの使用の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md) 」と「 [CDC Control Task Editor](../cdc-control-task-editor.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-150">For more information about using the CDC Control Task, see [CDC Control Task](../control-flow/cdc-control-task.md) and [CDC Control Task Editor](../cdc-control-task-editor.md).</span></span>  
  
 <span data-ttu-id="197e4-151">次の図に、変更の処理方法を概念的に表した、 **Process Changes (変更の処理)** データ フローを示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-151">The following figure shows the **Process Changes** data flow, which conceptually shows how the changes are processes.</span></span>  
  
 <span data-ttu-id="197e4-152">![プロセス変更データ フロー](../media/processchangesdataflow.gif "プロセス変更データ フロー")</span><span class="sxs-lookup"><span data-stu-id="197e4-152">![Process Changes Data Flow](../media/processchangesdataflow.gif "Process Changes Data Flow")</span></span>  
  
 <span data-ttu-id="197e4-153">この図の手順は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="197e4-153">The steps illustrated in this figure are:</span></span>  
  
-   <span data-ttu-id="197e4-154">**Changes for Table X (テーブル X の変更)** は、テーブル X に対する変更 (親コントロール フローで決定された CDC 処理範囲内での変更) を読み取る CDC ソースです。</span><span class="sxs-lookup"><span data-stu-id="197e4-154">**Changes for Table X** is a CDC source that reads changes made to table X that where made in the CDC processing range determined in the parent control flow.</span></span>  
  
-   <span data-ttu-id="197e4-155">**CDC Splitter X (CDC スプリッター X)** は、変更を、挿入、削除、および更新に分割するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-155">**CDC Splitter X** is used to split the changes into inserts, deletes and updates.</span></span> <span data-ttu-id="197e4-156">このシナリオでは、異なる種類の変更を並列処理できるように、差分変更を生成するように CDC ソースが構成されているものとします。</span><span class="sxs-lookup"><span data-stu-id="197e4-156">In this scenario it is assumed that the CDC Source is configured to produce Net changes so that different change types can be processed in parallel.</span></span>  
  
-   <span data-ttu-id="197e4-157">特定の変更は、下流でさらに処理されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-157">The specific changes are then further processed downstream.</span></span> <span data-ttu-id="197e4-158">この図では、変更は複数の ODBC 入力先を使用してテーブルに挿入されていますが、実際の処理方法は異なる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-158">In this illustration, the changes are inserted into tables using multiple ODBC Destinations but in actual cases the processing may be different.</span></span>  
  
 <span data-ttu-id="197e4-159">CDC ソースの詳細については、以下のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-159">For more information about the CDC Source, see:</span></span>  
  
 [<span data-ttu-id="197e4-160">CDC ソース</span><span class="sxs-lookup"><span data-stu-id="197e4-160">CDC Source</span></span>](cdc-source.md)  
  
 <span data-ttu-id="197e4-161">[[CDC ソース エディター] &#40;[接続マネージャー] ページ&#41;](../cdc-source-editor-connection-manager-page.md)</span><span class="sxs-lookup"><span data-stu-id="197e4-161">[CDC Source Editor &#40;Connection Manager Page&#41;](../cdc-source-editor-connection-manager-page.md)</span></span>  
  
 <span data-ttu-id="197e4-162">[[CDC ソース エディター] &#40;[列] ページ&#41;](../cdc-source-editor-columns-page.md)</span><span class="sxs-lookup"><span data-stu-id="197e4-162">[CDC Source Editor &#40;Columns Page&#41;](../cdc-source-editor-columns-page.md)</span></span>  
  
 <span data-ttu-id="197e4-163">[CDC ソース エディター &#40;[エラー出力] ページ&#41;](../cdc-source-editor-error-output-page.md)</span><span class="sxs-lookup"><span data-stu-id="197e4-163">[CDC Source Editor &#40;Error Output Page&#41;](../cdc-source-editor-error-output-page.md)</span></span>  
  
 <span data-ttu-id="197e4-164">CDC スプリッターの詳細については、以下のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-164">For more information about the CDC Splitter, see:</span></span>  
  
 [<span data-ttu-id="197e4-165">CDC スプリッター</span><span class="sxs-lookup"><span data-stu-id="197e4-165">CDC Splitter</span></span>](cdc-splitter.md)  
  
 <span data-ttu-id="197e4-166">CDC パッケージの構築時に注意が必要な基本的な問題の 1 つに、変更の処理とデータの初期読み込み (または初期処理) の関係があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-166">One of the basic issues that require attention when building CDC packages is how the change processing interacts with the initial loading (or initial processing) of the data.</span></span>  
  
 <span data-ttu-id="197e4-167">CDC コンポーネントは、3 種類の初期読み込みと変更処理のシナリオをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="197e4-167">The CDC components support three distinct initial loading and change processing scenarios:</span></span>  
  
-   <span data-ttu-id="197e4-168">データベース スナップショットでの初期読み込み。</span><span class="sxs-lookup"><span data-stu-id="197e4-168">Initial loading done with a database snapshot.</span></span> <span data-ttu-id="197e4-169">このケースでは、変更の処理はスナップショット イベントの LSN で開始されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-169">In this case, change processing starts with the LSN of the snapshot event.</span></span>  
  
-   <span data-ttu-id="197e4-170">休止データベースからの初期読み込み。</span><span class="sxs-lookup"><span data-stu-id="197e4-170">Initial loading from a quiescent database.</span></span> <span data-ttu-id="197e4-171">このケースでは、初期読み込み中に変更は行われないため、初期読み込み中のある時点で現在の LSN がサンプリングされ、変更の処理はその LSN から開始されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-171">In this case, no changes are made during initial loading so the current LSN is sampled at sometime during the initial load and change processing starts with that LSN.</span></span>  
  
-   <span data-ttu-id="197e4-172">アクティブ データベースからの初期読み込み。</span><span class="sxs-lookup"><span data-stu-id="197e4-172">Initial loading from an active database.</span></span> <span data-ttu-id="197e4-173">このケースでは、初期読み込みが実行中であるため、データベースに変更が加えられ、変更の処理の正確な開始点となる単一の LSN は存在しません。</span><span class="sxs-lookup"><span data-stu-id="197e4-173">In this case, as the initial load is in progress, changes are made to the database and there is no single LSN from which change processing can be precisely started.</span></span> <span data-ttu-id="197e4-174">このケースでは、初期読み込みパッケージの開発者は、初期読み込みの前後にソース データベースの現在の LSN をサンプリングできます。</span><span class="sxs-lookup"><span data-stu-id="197e4-174">In this case, the initial load package developer can sample the source database current LSN before and after the initial load.</span></span> <span data-ttu-id="197e4-175">その後、初期読み込みに対して並列に行われた変更を処理する際には注意が必要です。処理対象の変更の一部が既に初期読み込みに含まれるためです (たとえば、重複キーのエラーにより挿入変更に失敗することがありますが、その原因は、挿入される行が初期読み込みプロセスで既に読み取られているためです)。</span><span class="sxs-lookup"><span data-stu-id="197e4-175">Then, when processing changes, care should be taken when processing changes made in parallel to the initial load as some of the processed changes are already seen in the initial load (for example, an Insert change may fail with a duplicate key error because the inserted row was read by the initial load process).</span></span>  
  
 <span data-ttu-id="197e4-176">次の図に、最初の 2 つのシナリオが関係する SSIS パッケージを示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-176">The following figure shows an SSIS package that could handle the first two scenarios:</span></span>  
  
 <span data-ttu-id="197e4-177">![初めの 2 つのシナリオを処理する SSIS パッケージ](../media/scenarioonetwo.gif "初めの 2 つのシナリオを処理する SSIS パッケージ")</span><span class="sxs-lookup"><span data-stu-id="197e4-177">![SSIS package handling first two scenarios](../media/scenarioonetwo.gif "SSIS package handling first two scenarios")</span></span>  
  
 <span data-ttu-id="197e4-178">次の図に、3 番目のシナリオが関係する SSIS パッケージを示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-178">The following figure shows an SSIS package that could handle the third scenario:</span></span>  
  
 <span data-ttu-id="197e4-179">![3 番目のシナリオを処理する SSIS パッケージ](../media/scenario3.gif "3 番目のシナリオを処理する SSIS パッケージ")</span><span class="sxs-lookup"><span data-stu-id="197e4-179">![SSIS package handling third scenario](../media/scenario3.gif "SSIS package handling third scenario")</span></span>  
  
 <span data-ttu-id="197e4-180">初期読み込みパッケージに続き、トリクル フィード更新パッケージがスケジュールに従って繰り返し実行され、処理できるようになった変更を処理します。</span><span class="sxs-lookup"><span data-stu-id="197e4-180">Following the initial load package, a trickle-feed update package is run repeatedly according to a schedule to process changes as they become available for consumption.</span></span>  
  
 <span data-ttu-id="197e4-181">初期読み込みパッケージからトリクル フィード パッケージ、および各パッケージ内の異なるタスク間での CDC 処理の状態の受け渡しは、特別な SSIS パッケージ文字列変数を使用して行われます。</span><span class="sxs-lookup"><span data-stu-id="197e4-181">Passing the state of the CDC processing from the initial load package to the trickle feed package and between different tasks within each package occurs by means of a special SSIS package string variable.</span></span> <span data-ttu-id="197e4-182">この変数の値は CDC 状態と呼ばれ、初期読み込みとトリクル フィード パッケージによって処理されるテーブル グループの CDC 処理の現在の状態が反映されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-182">The value of this variable is referred to as the CDC State, which reflects the current state of CDC processing for the groups of tables being handled by the initial load and trickle-feed packages.</span></span>  
  
 <span data-ttu-id="197e4-183">CDC 状態変数の値は、永続的なストレージで保持する必要があります。また、この値は、CDC 処理の開始前に読み取り、処理の完了後に最新の状態を反映したうえで保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-183">The value of the CDC State variable needs to be maintained in a persistent storage, it should be read before starting CDC processing and should be saved with the current state after processing completed.</span></span> <span data-ttu-id="197e4-184">SSIS 開発者は CDC 状態の読み込みと保存のタスクを処理できますが、CDC 制御コンポーネントでこのタスクを自動化することもできます。それには、CDC 状態の値をデータベース テーブルで保持する必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-184">The task of loading and storing of the CDC state can be handled by the SSIS developer but the CDC Control component can automate this task by maintaining the CDC State value in a database table.</span></span>  
  
## <a name="security-considerations"></a><span data-ttu-id="197e4-185">セキュリティの考慮事項</span><span class="sxs-lookup"><span data-stu-id="197e4-185">Security Considerations</span></span>  
 <span data-ttu-id="197e4-186">このセクションでは、SSIS での CDC コンポーネントの使用に関連するセキュリティ上の注意点について説明します。</span><span class="sxs-lookup"><span data-stu-id="197e4-186">This section lists some security considerations related to the use of the CDC components in SSIS.</span></span>  
  
### <a name="access-authorization-to-change-data"></a><span data-ttu-id="197e4-187">変更データへのアクセスの承認</span><span class="sxs-lookup"><span data-stu-id="197e4-187">Access Authorization to Change Data</span></span>  
 <span data-ttu-id="197e4-188">トリクル フィード更新パッケージには、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 関数へのアクセスが必要です。</span><span class="sxs-lookup"><span data-stu-id="197e4-188">Trickle-feed update packages need access to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC functions.</span></span> <span data-ttu-id="197e4-189">既定では、このアクセスは、 **db_owner** 固定データベース ロールのメンバーに許可されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-189">Such access is granted, by default, to members of the **db_owner** fixed database role.</span></span> <span data-ttu-id="197e4-190">**db_owner** は強力なロールなので、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] でキャプチャ インスタンスを定義する際には、各キャプチャ インスタンスにゲーティング セキュリティ ロールを関連付け、SSIS CDC パッケージがはるかに制限の厳しいユーザーを変更の処理に使用できるようにすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="197e4-190">Because the **db_owner** is a powerful role, when defining capture instances within [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] it is recommended to associate a gating security role to each capture instance that allows the SSIS CDC package to use a much more restricted user for processing the changes.</span></span>  
  
### <a name="access-to-cdc-database-current-lsn"></a><span data-ttu-id="197e4-191">CDC データベースの現在の LSN へのアクセス</span><span class="sxs-lookup"><span data-stu-id="197e4-191">Access to CDC Database Current LSN</span></span>  
 <span data-ttu-id="197e4-192">変更の処理用に開始 LSN にマーキングするための CDC 制御タスク操作では、CDC データベースの現在の LSN を検出できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-192">The CDC Control task operations for marking the start LSN for change processing must be able to find the CDC Database current LSN.</span></span> <span data-ttu-id="197e4-193">これには、マスター データベースからの **sp_replincrementlsn** プロシージャが使用されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-193">This is done using the procedure **sp_replincrementlsn** from the master database.</span></span> <span data-ttu-id="197e4-194">このプロシージャの実行権限を、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC データベースに接続するために使用されるログインに付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-194">Execute permission on this procedure must be given to the login used for connecting to the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC database.</span></span>  
  
### <a name="access-to-cdc-states-table"></a><span data-ttu-id="197e4-195">CDC 状態テーブルへのアクセス</span><span class="sxs-lookup"><span data-stu-id="197e4-195">Access to CDC States Table</span></span>  
 <span data-ttu-id="197e4-196">CDC 状態テーブルは、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC データベースへの接続に使用されるログインで更新できる必要のある CDC 状態を自動的に保持するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-196">The CDC States table is used for automatically persisting CDC States that need to be updatable by the login used for connecting to the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC database.</span></span> <span data-ttu-id="197e4-197">このテーブルを作成するのは SSIS 開発者なので、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] データベースの作成と管理タスクの実行を許可するユーザーとして、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] システム管理者を設定してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-197">As this table is created by the SSIS developer, set the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] system administrator as a user who is authorized to create [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] databases and perform administrative and maintenance tasks.</span></span> <span data-ttu-id="197e4-198">また、CDC 対応データベースを扱う [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] システム管理者には、 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC のテクノロジと実装に関する知識が必要です。</span><span class="sxs-lookup"><span data-stu-id="197e4-198">In addition, a [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] system administrator who works with CDC enabled databases must be knowledgeable about [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC technology and implementation.</span></span>  
  
## <a name="grouping-tables-for-cdc-processing"></a><span data-ttu-id="197e4-199">CDC 処理用のテーブルのグループ化</span><span class="sxs-lookup"><span data-stu-id="197e4-199">Grouping Tables for CDC Processing</span></span>  
 <span data-ttu-id="197e4-200">データベース プロジェクトの規模は、テーブルが数個のものから数千個のものまで、さまざまです。</span><span class="sxs-lookup"><span data-stu-id="197e4-200">Database projects range in size from several tables to many thousands of tables.</span></span> <span data-ttu-id="197e4-201">初期読み込みパッケージと CDC パッケージをデザインする際には、効率を高め、管理しやすくするために、テーブルをより小さなグループに分けることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="197e4-201">When designing initial load and CDC packages, it is beneficial to group tables in much smaller groups for easier management and efficiency.</span></span> <span data-ttu-id="197e4-202">このセクションでは、小さいグループ (各グループ内のテーブルは、初期読み込みの後、グループとして更新される) へのテーブルの並べ替えに関係する各種考慮事項を示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-202">This section lists various considerations that impact the sorting of tables into small groups, where the tables in each are initially loaded and then updated as a group.</span></span>  
  
 <span data-ttu-id="197e4-203">CDC コンポーネントでサポートされる CDC パターンは、このグループ化が既に決定されていることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="197e4-203">The CDC patterns supported by the CDC components assume that this grouping is already determined.</span></span> <span data-ttu-id="197e4-204">各グループでは、他のグループとは別に保持される CDC コンテキストが定義されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-204">Each group defines a separate CDC context that is maintained separately from other groups.</span></span> <span data-ttu-id="197e4-205">グループごとに、初期読み込みパッケージとトリクル フィード更新パッケージが作成されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-205">For each group, initial-load and a trickle-feed update packages are created.</span></span> <span data-ttu-id="197e4-206">トリクル フィード更新については、変更処理の制約のレート (たとえば、他のシステムに影響する CPU および IO 使用量) と適切な待機時間に基づいて、定期的な実行がスケジュールされます。</span><span class="sxs-lookup"><span data-stu-id="197e4-206">Trickle-feed updates are scheduled for periodic runs based on the rate of change processing constraints (for example, CPU and IO consumption, impact on other systems) and the desired latency.</span></span>  
  
 <span data-ttu-id="197e4-207">テーブルは、次の考慮事項に基づいてグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-207">Tables are grouped based on the following considerations:</span></span>  
  
1.  <span data-ttu-id="197e4-208">ターゲット データベース。</span><span class="sxs-lookup"><span data-stu-id="197e4-208">According to the target database.</span></span> <span data-ttu-id="197e4-209">別のターゲット データベースに書き込まれるテーブルと別の処理が適用されるテーブルは、すべて異なる CDC グループに割り当てる必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-209">All tables that are written to different target databases or undergo different processing should be assigned to different CDC groups.</span></span>  
  
2.  <span data-ttu-id="197e4-210">参照整合性制約に関係するテーブルは、ターゲットでの参照整合性の問題を避けるために、同じグループに割り当てる必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-210">Tables that are related with referential integrity constraints should be assigned to the same group to avoid referential integrity problems at the target.</span></span>  
  
3.  <span data-ttu-id="197e4-211">比較的長い待機時間が許容されるテーブルは、処理頻度を抑え、システム全体の負荷を小さくするために、グループ化できます。</span><span class="sxs-lookup"><span data-stu-id="197e4-211">Tables for which higher latency can be tolerated can be grouped so they can be processed less frequently and reduce overall system load.</span></span>  
  
4.  <span data-ttu-id="197e4-212">変更頻度の高いテーブルはより小さなグループに入れる必要がありますが、変更頻度の低いテーブルはより大きなグループに入れることができます。</span><span class="sxs-lookup"><span data-stu-id="197e4-212">Tables for which there is a higher rate of change should be in smaller groups, and tables with a low rate of change can be grouped in larger groups.</span></span>  
  
 <span data-ttu-id="197e4-213">CDC グループごとに次の 2 つのパッケージが作成されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-213">The following two packages are created for each CDC group:</span></span>  
  
-   <span data-ttu-id="197e4-214">ソース テーブルからデータの範囲全体を読み取り、それをターゲット テーブルに適用する初期読み込みパッケージ。</span><span class="sxs-lookup"><span data-stu-id="197e4-214">An Initial Load package, which reads the entire range of data from the source tables and applies it to the target tables.</span></span>  
  
-   <span data-ttu-id="197e4-215">ソース テーブルに対する変更を読み取り、その変更をターゲット テーブルに適用するトリクル フィード更新パッケージ。</span><span class="sxs-lookup"><span data-stu-id="197e4-215">A trickle-feed update package that reads changes made to the source tables and applies the changes to the target tables.</span></span> <span data-ttu-id="197e4-216">このパッケージは、定期的に実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="197e4-216">This package should be executed on a regularly scheduled basis.</span></span>  
  
## <a name="cdc-state"></a><span data-ttu-id="197e4-217">CDC 状態</span><span class="sxs-lookup"><span data-stu-id="197e4-217">CDC State</span></span>  
 <span data-ttu-id="197e4-218">各 CDC グループには、特定の形式の文字列で表される状態が関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="197e4-218">Each CDC group has a state associated with it, which is represented by a string with a specific format.</span></span> <span data-ttu-id="197e4-219">詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-219">For more information, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span> <span data-ttu-id="197e4-220">CDC 状態の値は、次のいずれかです。</span><span class="sxs-lookup"><span data-stu-id="197e4-220">The following table shows the possible CDC state values.</span></span>  
  
|<span data-ttu-id="197e4-221">State</span><span class="sxs-lookup"><span data-stu-id="197e4-221">State</span></span>|<span data-ttu-id="197e4-222">説明</span><span class="sxs-lookup"><span data-stu-id="197e4-222">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="197e4-223">0-(INITIAL)</span><span class="sxs-lookup"><span data-stu-id="197e4-223">0-(INITIAL)</span></span>|<span data-ttu-id="197e4-224">現在の CDC グループでパッケージが実行される前の状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-224">The state that exists before any packages are run on the current CDC group.</span></span> <span data-ttu-id="197e4-225">CDC 状態が空のときの状態でもあります。</span><span class="sxs-lookup"><span data-stu-id="197e4-225">This is also the state when the CDC state is empty.</span></span><br /><br /> <span data-ttu-id="197e4-226">CDC 制御タスクの操作の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-226">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="197e4-227">1-ILSTART (Initial-Load-Started)</span><span class="sxs-lookup"><span data-stu-id="197e4-227">1-ILSTART (Initial-Load-Started)</span></span>|<span data-ttu-id="197e4-228">初期読み込みパッケージが開始されたときの状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-228">This is the state that exists when the initial load package starts.</span></span> <span data-ttu-id="197e4-229">CDC 制御タスクに対する **MarkInitialLoadStart** 操作の呼び出し後に、この状態になります。</span><span class="sxs-lookup"><span data-stu-id="197e4-229">This occurs after the **MarkInitialLoadStart** operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="197e4-230">CDC 制御タスクの操作の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-230">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="197e4-231">2- ILEND (Initial-Load-Ended)</span><span class="sxs-lookup"><span data-stu-id="197e4-231">2- ILEND (Initial-Load-Ended)</span></span>|<span data-ttu-id="197e4-232">初期読み込みパッケージが正常に終了したときの状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-232">This is the state that exists when the initial load package ends successfully.</span></span> <span data-ttu-id="197e4-233">CDC 制御タスクに対する MarkInitialLoadEnd 操作の呼び出し後に、この状態になります。</span><span class="sxs-lookup"><span data-stu-id="197e4-233">This occurs after the MarkInitialLoadEnd operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="197e4-234">CDC 制御タスクの操作の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-234">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="197e4-235">3-ILUPDATE (Initial Load Update)</span><span class="sxs-lookup"><span data-stu-id="197e4-235">3-ILUPDATE (Initial Load Update)</span></span>|<span data-ttu-id="197e4-236">初期読み込みの後に更新パッケージを初めて実行した後、まだ初期処理範囲を処理しているときの状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-236">This is the state that exists after the first run of the Update package after the initial load while still processing the initial processing range.</span></span> <span data-ttu-id="197e4-237">CDC 制御タスクに対する **GetProcessingRange** 操作の呼び出し後に、この状態になります。</span><span class="sxs-lookup"><span data-stu-id="197e4-237">This occurs after the **GetProcessingRange** operation call to the CDC control task.</span></span><br /><br /> <span data-ttu-id="197e4-238">**_ $** 再処理列を使用している場合は、既にターゲットに存在する行をパッケージが再処理している可能性があることを示す1に設定されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-238">If using the **_$reprocessing** column, it is set to 1 to indicate that the package may be reprocessing rows already at the target.</span></span><br /><br /> <span data-ttu-id="197e4-239">CDC 制御タスクの操作の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-239">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="197e4-240">4-TFEND (Trickle-Feed-Update-Ended)</span><span class="sxs-lookup"><span data-stu-id="197e4-240">4-TFEND (Trickle-Feed-Update-Ended)</span></span>|<span data-ttu-id="197e4-241">定期的な CDC の実行で期待される状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-241">This is the state expected for regular CDC runs.</span></span> <span data-ttu-id="197e4-242">前の実行が正常に完了していることと、新しい実行を新しい処理範囲で開始できることを表します。</span><span class="sxs-lookup"><span data-stu-id="197e4-242">It indicates that the previous run completed successfully and that a new run with a new processing range can be started.</span></span>|  
|<span data-ttu-id="197e4-243">5-TFSTART (Trickle-Feed-Update-Started)</span><span class="sxs-lookup"><span data-stu-id="197e4-243">5-TFSTART (Trickle-Feed-Update-Started)</span></span>|<span data-ttu-id="197e4-244">CDC 制御タスクに対して **GetProcessingRange** 操作を呼び出した後で、更新パッケージの後続実行を行ったときの状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-244">This is the state that exists on subsequent runs of the Update package after the **GetProcessingRange** operation call to the CDC control task.</span></span><br /><br /> <span data-ttu-id="197e4-245">定期的な CDC の実行を開始したものの、まだ完了していないことを表します (**MarkProcessedRange**)。</span><span class="sxs-lookup"><span data-stu-id="197e4-245">This indicates that a regular CDC run is started, but is not finished or has not yet finished, cleanly (**MarkProcessedRange**).</span></span><br /><br /> <span data-ttu-id="197e4-246">CDC 制御タスクの操作の詳細については、「 [CDC Control Task](../control-flow/cdc-control-task.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="197e4-246">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="197e4-247">6-TFREDO (Reprocessing-Trickle-Feed-Updates)</span><span class="sxs-lookup"><span data-stu-id="197e4-247">6-TFREDO (Reprocessing-Trickle-Feed-Updates)</span></span>|<span data-ttu-id="197e4-248">TFSTART の後に **GetProcessingRange** が行われたときの状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-248">This is the state on a **GetProcessingRange** that occurs after TFSTART.</span></span> <span data-ttu-id="197e4-249">前の実行が正常に完了しなかったことを表します。</span><span class="sxs-lookup"><span data-stu-id="197e4-249">This indicates that the previous run did not complete successfully.</span></span><br /><br /> <span data-ttu-id="197e4-250">__$reprocessing 列を使用している場合は、既にターゲットに存在する行をパッケージが再処理している可能性があることを示す 1 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="197e4-250">If using the __$reprocessing column, it is set to 1 to indicate that the package may be reprocessing rows already at the target.</span></span>|  
|<span data-ttu-id="197e4-251">7-ERROR</span><span class="sxs-lookup"><span data-stu-id="197e4-251">7-ERROR</span></span>|<span data-ttu-id="197e4-252">CDC グループはエラー状態です。</span><span class="sxs-lookup"><span data-stu-id="197e4-252">The CDC group is in an ERROR state.</span></span>|  
  
 <span data-ttu-id="197e4-253">CDC コンポーネントの状態ダイアグラムを次に示します。</span><span class="sxs-lookup"><span data-stu-id="197e4-253">The following is the state diagram for the CDC components.</span></span> <span data-ttu-id="197e4-254">予期しない状態に達したときに、エラー状態になっています。</span><span class="sxs-lookup"><span data-stu-id="197e4-254">An ERROR state is reached when a state is reached that is not expected.</span></span> <span data-ttu-id="197e4-255">以下のダイアグラムには予期される状態が示されていますが、エラー状態はありません。</span><span class="sxs-lookup"><span data-stu-id="197e4-255">The expected states are illustrated in the diagram below, however the diagram does not show the ERROR state.</span></span>  
  
 <span data-ttu-id="197e4-256">たとえば、初期読み込みパッケージの終了時に状態を ILEND に設定しようとした時点で、状態が TFSTART の場合は CDC グループはエラー状態になり、トリクル フィード更新パッケージは実行されません (初期読み込みパッケージは実行されます)。</span><span class="sxs-lookup"><span data-stu-id="197e4-256">For example, at the end of an initial load package, when trying to set the state to ILEND, if the state is TFSTART then the CDC group is in an error state and the Trickle-Feed Update package does not run (the Initial Load package does run).</span></span>  
  
 <span data-ttu-id="197e4-257">![状態の図](../media/statediagram.gif "状態ダイアグラム")</span><span class="sxs-lookup"><span data-stu-id="197e4-257">![State Diagram](../media/statediagram.gif "State Diagram")</span></span>  
  
 <span data-ttu-id="197e4-258">初期読み込みパッケージが正常に実行されると、定義済みのスケジュールに従ってトリクル フィード更新パッケージが繰り返し実行され、ソース テーブルに対する変更を処理します。</span><span class="sxs-lookup"><span data-stu-id="197e4-258">Once the Initial Load package runs successfully, the Trickle-Feed Update package runs repeatedly under a predetermined schedule to process changes to the source tables.</span></span> <span data-ttu-id="197e4-259">トリクル フィード更新パッケージの各実行は、CDC 実行です。</span><span class="sxs-lookup"><span data-stu-id="197e4-259">Each run of the Trickle-Feed Update package is a CDC run.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="197e4-260">このセクションの内容</span><span class="sxs-lookup"><span data-stu-id="197e4-260">In This Section</span></span>  
  
-   [<span data-ttu-id="197e4-261">CDC ソース</span><span class="sxs-lookup"><span data-stu-id="197e4-261">CDC Source</span></span>](cdc-source.md)  
  
-   [<span data-ttu-id="197e4-262">CDC スプリッター</span><span class="sxs-lookup"><span data-stu-id="197e4-262">CDC Splitter</span></span>](cdc-splitter.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="197e4-263">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="197e4-263">Related Tasks</span></span>  
  
-   [<span data-ttu-id="197e4-264">変更の種類に応じた CDC ストリームのダイレクト</span><span class="sxs-lookup"><span data-stu-id="197e4-264">Direct the CDC Stream According to the Type of Change</span></span>](direct-the-cdc-stream-according-to-the-type-of-change.md)  
  
-   [<span data-ttu-id="197e4-265">状態変数の定義</span><span class="sxs-lookup"><span data-stu-id="197e4-265">Define a State Variable</span></span>](define-a-state-variable.md)  
  
## <a name="related-content"></a><span data-ttu-id="197e4-266">関連コンテンツ</span><span class="sxs-lookup"><span data-stu-id="197e4-266">Related Content</span></span>  
  
-   <span data-ttu-id="197e4-267">mattmasson.com のブログ「 [SQL Server 2012 用の SSIS の CDC](https://www.mattmasson.com/2011/12/cdc-in-ssis-for-sql-server-2012-2/)」</span><span class="sxs-lookup"><span data-stu-id="197e4-267">Blog entry, [CDC in SSIS for SQL Server 2012](https://www.mattmasson.com/2011/12/cdc-in-ssis-for-sql-server-2012-2/), on mattmasson.com.</span></span>  
  
-   <span data-ttu-id="197e4-268">blogs.msdn.com の CDC Service の設定に関するブログ エントリ「 [SQL Server 2012 の Oracle 用 CDC](https://go.microsoft.com/fwlink/?LinkId=247827)」</span><span class="sxs-lookup"><span data-stu-id="197e4-268">Blog entry on setting up the CDC service, [CDC for Oracle in SQL Server 2012](https://go.microsoft.com/fwlink/?LinkId=247827), on blogs.msdn.com.</span></span>  
  
-   <span data-ttu-id="197e4-269">social.technet.microsoft.com の技術記事「 [Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity のインストール](https://go.microsoft.com/fwlink/?LinkId=252958)」</span><span class="sxs-lookup"><span data-stu-id="197e4-269">Technical article, [Installing Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252958), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="197e4-270">social.technet.microsoft.com の技術記事「 [Microsoft Change Data Capture for Oracle by Attunity の構成の問題のトラブルシューティング](https://go.microsoft.com/fwlink/?LinkId=252960)」</span><span class="sxs-lookup"><span data-stu-id="197e4-270">Technical article, [Troubleshoot Configuration Issues in Microsoft Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252960), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="197e4-271">social.technet.microsoft.com の技術記事「 [Microsoft Change Data Capture for Oracle by Attunity の CDC インスタンス エラーのトラブルシューティング](https://go.microsoft.com/fwlink/?LinkId=252961)」</span><span class="sxs-lookup"><span data-stu-id="197e4-271">Technical article, [Troubleshoot CDC Instance Errors in Microsoft Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252961), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="197e4-272">technet.microsoft.com のビデオ「 [SQL Server Integration Services 2012 を使用した Oracle データベースの CDC (SQL Server ビデオ)](https://technet.microsoft.com/sqlserver/jj218898)」</span><span class="sxs-lookup"><span data-stu-id="197e4-272">Video, [CDC for Oracle Databases using SQL Server Integration Services 2012 (SQL Server Video)](https://technet.microsoft.com/sqlserver/jj218898), on technet.microsoft.com.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="197e4-273">参照</span><span class="sxs-lookup"><span data-stu-id="197e4-273">See Also</span></span>  
 [<span data-ttu-id="197e4-274">CDC Control Task</span><span class="sxs-lookup"><span data-stu-id="197e4-274">CDC Control Task</span></span>](../control-flow/cdc-control-task.md)  
  
  
