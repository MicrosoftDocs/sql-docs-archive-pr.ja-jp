---
title: SSIS サーバーでパッケージ実行のログ記録を有効にする |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 8930c63c-bc6f-46c2-b428-b3c29ee89a7d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: bb0ca1e03466e6cad277905093262b9aec048c71
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87641777"
---
# <a name="enable-logging-for-package-execution-on-the-ssis-server"></a><span data-ttu-id="bf970-102">SSIS サーバーでのパッケージ実行のログ記録を有効にする</span><span class="sxs-lookup"><span data-stu-id="bf970-102">Enable Logging for Package Execution on the SSIS Server</span></span>
  <span data-ttu-id="bf970-103">この手順では、[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] サーバーに配置したパッケージを実行するときに、パッケージのログ記録レベルを設定または変更する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf970-103">This procedure describes how to set or change the logging level for a package when you execute a package that you have deployed to the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] server.</span></span> <span data-ttu-id="bf970-104">パッケージを実行するときに設定したログ記録レベルは、[!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] を使用して構成したパッケージのログ記録レベルをオーバーライドします。</span><span class="sxs-lookup"><span data-stu-id="bf970-104">The logging level you set when you execute the package overrides the package logging you configure using [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="bf970-105">詳細については、「 [SQL Server Data Tools でパッケージのログ記録を有効にする](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bf970-105">See [Enable Package Logging in SQL Server Data Tools](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md) for more information.</span></span>  
  
 <span data-ttu-id="bf970-106">ログ記録レベルを指定するには、次のいずれかの方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="bf970-106">You can specify the logging level by using one of the following methods.</span></span> <span data-ttu-id="bf970-107">このトピックでは最初の方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf970-107">This topic covers the first method.</span></span>  
  
-   <span data-ttu-id="bf970-108">[パッケージの実行] ダイアログ ボックスを使用してパッケージ実行インスタンスを構成する</span><span class="sxs-lookup"><span data-stu-id="bf970-108">Configuring an instance of a package execution by using the Execute Package dialog box</span></span>  
  
-   <span data-ttu-id="bf970-109">[catalog.set_execution_parameter_value &#40;SSISDB データベース&#41;](/sql/integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database) を使用して、実行のインスタンスのパラメーターを設定する</span><span class="sxs-lookup"><span data-stu-id="bf970-109">Setting parameters for an instance of an execution by using the [catalog.set_execution_parameter_value &#40;SSISDB Database&#41;](/sql/integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database)</span></span>  
  
-   <span data-ttu-id="bf970-110">[新しいジョブ ステップ] ダイアログ ボックスを使用してパッケージ実行用の SQL Server エージェント ジョブを構成する</span><span class="sxs-lookup"><span data-stu-id="bf970-110">Configuring a SQL Server Agent job for a package execution by using the New Job Step dialog box.</span></span>  
  
### <a name="to-set-the-logging-level-for-a-package-by-using-the-execute-package-dialog-box"></a><span data-ttu-id="bf970-111">[パッケージの実行] ダイアログ ボックスを使用してパッケージのログ記録レベルを設定するには</span><span class="sxs-lookup"><span data-stu-id="bf970-111">To set the logging level for a package by using the Execute Package dialog box</span></span>  
  
1.  <span data-ttu-id="bf970-112">[!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]のオブジェクト エクスプローラーで、パッケージに移動します。</span><span class="sxs-lookup"><span data-stu-id="bf970-112">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], navigate to the package in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="bf970-113">パッケージを右クリックし、 **[実行]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bf970-113">Right-click the package and select **Execute**.</span></span>  
  
3.  <span data-ttu-id="bf970-114">**[パッケージの実行]** ダイアログ ボックスで、 **[詳細設定]** タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="bf970-114">Select the **Advanced** tab in the **Execute Package** dialog box.</span></span>  
  
4.  <span data-ttu-id="bf970-115">**[ログ記録レベル]** で、ログ記録レベルを選択します。</span><span class="sxs-lookup"><span data-stu-id="bf970-115">Under **Logging level**, select the logging level.</span></span> <span data-ttu-id="bf970-116">設定できる値については、次の表を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bf970-116">See the table below for a description of available values.</span></span>  
  
5.  <span data-ttu-id="bf970-117">他のパッケージの構成を完了し、 **[OK]** をクリックしてパッケージを実行します。</span><span class="sxs-lookup"><span data-stu-id="bf970-117">Complete any other package configurations, then click **OK** to run the package.</span></span>  
  
 <span data-ttu-id="bf970-118">設定できるログ記録レベルは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="bf970-118">The following logging levels are available.</span></span>  
  
|<span data-ttu-id="bf970-119">[ログ記録レベル]</span><span class="sxs-lookup"><span data-stu-id="bf970-119">Logging Level</span></span>|<span data-ttu-id="bf970-120">説明</span><span class="sxs-lookup"><span data-stu-id="bf970-120">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="bf970-121">なし</span><span class="sxs-lookup"><span data-stu-id="bf970-121">None</span></span>|<span data-ttu-id="bf970-122">ログ記録をオフにします。</span><span class="sxs-lookup"><span data-stu-id="bf970-122">Logging is turned off.</span></span> <span data-ttu-id="bf970-123">パッケージの実行状態のみがログに記録されます。</span><span class="sxs-lookup"><span data-stu-id="bf970-123">Only the package execution status is logged.</span></span>|  
|<span data-ttu-id="bf970-124">Basic</span><span class="sxs-lookup"><span data-stu-id="bf970-124">Basic</span></span>|<span data-ttu-id="bf970-125">カスタム イベントと診断イベントを除く、すべてのイベントをログに記録します。</span><span class="sxs-lookup"><span data-stu-id="bf970-125">All events are logged, except custom and diagnostic events.</span></span> <span data-ttu-id="bf970-126">これが既定値です。</span><span class="sxs-lookup"><span data-stu-id="bf970-126">This is the default value.</span></span>|  
|<span data-ttu-id="bf970-127">パフォーマンス</span><span class="sxs-lookup"><span data-stu-id="bf970-127">Performance</span></span>|<span data-ttu-id="bf970-128">パフォーマンス統計、および OnError イベントと OnWarning のイベントのみをログに記録します。</span><span class="sxs-lookup"><span data-stu-id="bf970-128">Only performance statistics, and OnError and OnWarning events, are logged.</span></span><br /><br /> <span data-ttu-id="bf970-129">**"実行のパフォーマンス"** レポートは、パッケージ データ フロー コンポーネントのアクティブな時間と合計時間を示します。</span><span class="sxs-lookup"><span data-stu-id="bf970-129">The **Execution Performance** report displays Active Time and Total Time for package data flow components.</span></span> <span data-ttu-id="bf970-130">この情報は、最後のパッケージの実行のログ記録レベルが **[パフォーマンス]** または **[詳細]** に設定されていた場合にのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="bf970-130">This information is available when the logging level of the last package execution was set to **Performance** or **Verbose**.</span></span> <span data-ttu-id="bf970-131">詳細については、「 [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bf970-131">For more information, see [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md).</span></span><br /><br /> <span data-ttu-id="bf970-132">[catalog.execution_component_phases](/sql/integration-services/system-views/catalog-execution-component-phases) ビューは、実行の各フェーズでのデータ フロー コンポーネントの開始時刻と終了時刻を表示します。</span><span class="sxs-lookup"><span data-stu-id="bf970-132">The [catalog.execution_component_phases](/sql/integration-services/system-views/catalog-execution-component-phases) view displays the start and end times for the data flow components, for each phase of an execution.</span></span> <span data-ttu-id="bf970-133">これらのコンポーネントの情報は、パッケージの実行のログ記録レベルが **[パフォーマンス]** または **[詳細]** に設定されている場合にのみ、このビューに表示されます。</span><span class="sxs-lookup"><span data-stu-id="bf970-133">This view displays this information for these components only when the logging level of the package execution is set to **Performance** or **Verbose**.</span></span>|  
|<span data-ttu-id="bf970-134">"詳細"</span><span class="sxs-lookup"><span data-stu-id="bf970-134">Verbose</span></span>|<span data-ttu-id="bf970-135">カスタム イベントと診断イベントを含む、すべてのイベントをログに記録されます。</span><span class="sxs-lookup"><span data-stu-id="bf970-135">All events are logged, including custom and diagnostic events.</span></span><br /><br /> <span data-ttu-id="bf970-136">DiagnosticEx イベントは、診断イベントの例です。</span><span class="sxs-lookup"><span data-stu-id="bf970-136">An example of a diagnostic event, is the DiagnosticEx event.</span></span> <span data-ttu-id="bf970-137">パッケージ実行タスクでは、子パッケージを実行するたびに、このイベントを記録します。</span><span class="sxs-lookup"><span data-stu-id="bf970-137">Whenever an Execute Package task executes a child package, it logs this event.</span></span> <span data-ttu-id="bf970-138">イベントメッセージは、子パッケージに渡されたパラメーター値で構成されます。</span><span class="sxs-lookup"><span data-stu-id="bf970-138">The event message consists of the parameter values passed to child packages</span></span><br /><br /> <span data-ttu-id="bf970-139">DiagnosticEx のメッセージ列の値は XML テキストです。</span><span class="sxs-lookup"><span data-stu-id="bf970-139">The value of the message column for DiagnosticEx is XML text.</span></span> <span data-ttu-id="bf970-140">.</span><span class="sxs-lookup"><span data-stu-id="bf970-140">.</span></span> <span data-ttu-id="bf970-141">パッケージ実行のメッセージ テキストを表示するには、[catalog.operation_messages &#40;SSISDB データベース&#41;](/sql/integration-services/system-views/catalog-operation-messages-ssisdb-database) ビューのクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="bf970-141">To view the message text for a package execution, query the [catalog.operation_messages &#40;SSISDB Database&#41;](/sql/integration-services/system-views/catalog-operation-messages-ssisdb-database) view.</span></span><br /><br /> <span data-ttu-id="bf970-142">メモ: カスタムイベントには、タスクによってログに記録されるイベントが含まれ [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="bf970-142">Note: Custom events include those events that are logged by [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] tasks.</span></span> <span data-ttu-id="bf970-143">詳細については、「 [Custom Messages for Logging](../../2014/integration-services/custom-messages-for-logging.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bf970-143">For more information, see [Custom Messages for Logging](../../2014/integration-services/custom-messages-for-logging.md).</span></span><br /><br /> <span data-ttu-id="bf970-144">[catalog.execution_data_statistics](../relational-databases/statistics/statistics.md) ビューは、パッケージ実行で、データ フロー コンポーネントが下流コンポーネントへデータを送信するたびに 1 行を表示します。</span><span class="sxs-lookup"><span data-stu-id="bf970-144">The [catalog.execution_data_statistics](../relational-databases/statistics/statistics.md) view displays a row each time a data flow component sends data to a downstream component, for a package execution.</span></span> <span data-ttu-id="bf970-145">ビューにこの情報を取得するには、ログ記録レベルを **[詳細]** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf970-145">The logging level must be set to **Verbose** to capture this information in the view.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="bf970-146">参照</span><span class="sxs-lookup"><span data-stu-id="bf970-146">See Also</span></span>  
 <span data-ttu-id="bf970-147">[SSIS&#41; ログ &#40;Integration Services](performance/integration-services-ssis-logging.md) </span><span class="sxs-lookup"><span data-stu-id="bf970-147">[Integration Services &#40;SSIS&#41; Logging](performance/integration-services-ssis-logging.md) </span></span>  
 [<span data-ttu-id="bf970-148">SQL Server Data Tools でパッケージのログ記録を有効にする</span><span class="sxs-lookup"><span data-stu-id="bf970-148">Enable Package Logging in SQL Server Data Tools</span></span>](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md)  
  
  
