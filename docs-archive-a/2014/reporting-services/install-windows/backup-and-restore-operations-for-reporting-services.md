---
title: Reporting Services のバックアップおよび復元操作 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- databases [Reporting Services], backing up
- databases [Reporting Services], restoring
- databases [Reporting Services], moving
- backing up databases [Reporting Services]
- moving databases
- restoring databases [Reporting Services]
- files [Reporting Services], restoring
- files [Reporting Services], backing up
ms.assetid: 157bc376-ab72-4c99-8bde-7b12db70843a
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e895733457fe0c8892294540bbe8345cb121f2a7
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643712"
---
# <a name="backup-and-restore-operations-for-reporting-services"></a><span data-ttu-id="73769-102">Reporting Services のバックアップおよび復元操作</span><span class="sxs-lookup"><span data-stu-id="73769-102">Backup and Restore Operations for Reporting Services</span></span>
  <span data-ttu-id="73769-103">このトピックでは、インストールした [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] で使用するデータ ファイルの概要と、これらのファイルをバックアップするタイミングおよび方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="73769-103">This topic provides an overview of all data files used in a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation and describes when and how you should back up the files.</span></span> <span data-ttu-id="73769-104">レポート サーバー データベース ファイルのバックアップ/復元プランの作成は、復旧計画の最も重要な部分です。</span><span class="sxs-lookup"><span data-stu-id="73769-104">Developing a backup and restore plan for the report server database files is the most important part of a recovery strategy.</span></span> <span data-ttu-id="73769-105">ただし、さらに包括的な復旧計画には、暗号化キー、カスタム アセンブリや拡張機能、構成ファイル、レポートおよびモデルのソース ファイルのバックアップなども必要になります。</span><span class="sxs-lookup"><span data-stu-id="73769-105">However, a more comprehensive recovery strategy would include backups of the encryption keys, custom assemblies or extensions, configuration files, and source files for reports and models.</span></span>  
  
 <span data-ttu-id="73769-106">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ネイティブ モード | [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint モード</span><span class="sxs-lookup"><span data-stu-id="73769-106">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native Mode | [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint Mode</span></span>  
  
 <span data-ttu-id="73769-107">バックアップ操作および復元操作は、インストールした [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] の全体または一部を移動する際によく使用します。</span><span class="sxs-lookup"><span data-stu-id="73769-107">Backup and restore operations are often used to move all or part of a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation:</span></span>  
  
-   <span data-ttu-id="73769-108">レポート サーバー データベースだけを移動する場合は、バックアップと復元またはアタッチとデタッチを使用して、別の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスにデータベースを再配置できます。</span><span class="sxs-lookup"><span data-stu-id="73769-108">If you are moving just the report server databases, you can use backup and restore or attach and detach to relocate the databases on a different [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="73769-109">詳細については、「 [別のコンピューターへのレポート サーバー データベースの移動 (SSRS ネイティブ モード)](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-109">For more information, see [Moving the Report Server Databases to Another Computer &#40;SSRS Native Mode&#41;](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md).</span></span>  
  
-   <span data-ttu-id="73769-110">インストールされている [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] を別のコンピューターへ移動することを "移行" といいます。</span><span class="sxs-lookup"><span data-stu-id="73769-110">Moving a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation to a new computer is called a migration.</span></span> <span data-ttu-id="73769-111">インストールを移行する場合、セットアップを実行して新しいレポート サーバー インスタンスをインストールし、次にインスタンス データを移行先のコンピューターにコピーします。</span><span class="sxs-lookup"><span data-stu-id="73769-111">When you migrate an installation, you run Setup to install a new report server instance and then copy instance data to the new computer.</span></span> <span data-ttu-id="73769-112">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] インストールの移行の詳細については、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-112">For more information about migrating a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation, see the following topics:</span></span>  
  
    -   [<span data-ttu-id="73769-113">Reporting Services のアップグレードと移行</span><span class="sxs-lookup"><span data-stu-id="73769-113">Upgrade and Migrate Reporting Services</span></span>](upgrade-and-migrate-reporting-services.md)  
  
    -   [<span data-ttu-id="73769-114">Reporting Services の移行 &#40;SharePoint モード&#41;</span><span class="sxs-lookup"><span data-stu-id="73769-114">Migrate a Reporting Services Installation &#40;SharePoint Mode&#41;</span></span>](migrate-a-reporting-services-installation-sharepoint-mode.md)  
  
    -   [<span data-ttu-id="73769-115">Reporting Services のインストールの移行 &#40;ネイティブ モード&#41;</span><span class="sxs-lookup"><span data-stu-id="73769-115">Migrate a Reporting Services Installation &#40;Native Mode&#41;</span></span>](migrate-a-reporting-services-installation-native-mode.md)  
  
## <a name="backing-up-the-report-server-databases"></a><span data-ttu-id="73769-116">レポート サーバー データベースのバックアップ</span><span class="sxs-lookup"><span data-stu-id="73769-116">Backing Up the Report Server Databases</span></span>  
 <span data-ttu-id="73769-117">レポート サーバーはステートレス サーバーであるため、アプリケーション データはすべて、 **インスタンスで稼働している** reportserver **および** reportservertempdb [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="73769-117">Because a report server is a stateless server, all application data is stored in the **reportserver** and **reportservertempdb** databases that run on a [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] instance.</span></span> <span data-ttu-id="73769-118">**reportserver** データベースと **reportservertempdb** データベースは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースでサポートされているバックアップ方式のいずれかを使用してバックアップできます。</span><span class="sxs-lookup"><span data-stu-id="73769-118">You can backup the **reportserver** and **reportservertempdb** databases using one of the supported methods for backing up [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="73769-119">レポート サーバー データベースについては、次のような推奨事項があります。</span><span class="sxs-lookup"><span data-stu-id="73769-119">Recommendations that are specific to the report server databases include the following:</span></span>  
  
-   <span data-ttu-id="73769-120">**reportserver** データベースをバックアップするには、完全復旧モデルを使用します。</span><span class="sxs-lookup"><span data-stu-id="73769-120">Use the full recovery model to backup the **reportserver** database.</span></span>  
  
-   <span data-ttu-id="73769-121">**reportservertempdb** データベースをバックアップするには、単純復旧モデルを使用します。</span><span class="sxs-lookup"><span data-stu-id="73769-121">Use the simple recovery model to backup the **reportservertempdb** database.</span></span>  
  
-   <span data-ttu-id="73769-122">各データベースに対して異なるバックアップ スケジュールを設定できます。</span><span class="sxs-lookup"><span data-stu-id="73769-122">You can use different backup schedules for each database.</span></span> <span data-ttu-id="73769-123">**reportservertempdb** をバックアップする唯一の理由は、ハードウェア障害が発生した場合にこのデータベースの再作成を回避することです。</span><span class="sxs-lookup"><span data-stu-id="73769-123">The only reason to backup the **reportservertempdb** is to avoid having to recreate it if there is a hardware failure.</span></span> <span data-ttu-id="73769-124">ハードウェア障害が発生した場合、 **reportservertempdb**のデータを復旧する必要はありませんが、テーブル構造については復旧が必要になります。</span><span class="sxs-lookup"><span data-stu-id="73769-124">In the event of hardware failure, it is not necessary to recover the data in **reportservertempdb**, but you do need the table structure.</span></span> <span data-ttu-id="73769-125">**reportservertempdb**が失われた場合、レポート サーバー データベースの再作成以外にこのデータベースを復元する方法はありません。</span><span class="sxs-lookup"><span data-stu-id="73769-125">If you lose **reportservertempdb**, the only way to get it back is to recreate the report server database.</span></span> <span data-ttu-id="73769-126">**reportservertempdb**を再作成する場合、プライマリ レポート サーバー データベースと同じ名前を使用することが重要です。</span><span class="sxs-lookup"><span data-stu-id="73769-126">If you recreate the **reportservertempdb**, it is important that it have the same name as the primary report server database.</span></span>  
  
 <span data-ttu-id="73769-127">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] リレーショナル データベースのバックアップおよび復旧の詳細については、「 [SQL Server データベースのバックアップと復元](../../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-127">For more information about backup and recovery of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational databases, see [Back Up and Restore of SQL Server Databases](../../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="73769-128">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] レポート サーバーが SharePoint モードの場合は、SharePoint 構成データベースや [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 警告データベースなど、考慮する必要があるデータベースがあります。</span><span class="sxs-lookup"><span data-stu-id="73769-128">If your [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server is in SharePoint mode, there are additional databases to be concerned with, including SharePoint configuration databases and the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] alerting database.</span></span> <span data-ttu-id="73769-129">SharePoint モードでは、それぞれの [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] サービス アプリケーションに対して 3 つのデータベースが作成されます。</span><span class="sxs-lookup"><span data-stu-id="73769-129">In SharePoint mode, three databases are created for each [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span> <span data-ttu-id="73769-130">その 3 つのデータベースとは、 **reportserver**、 **reportservertempdb**、および **dataalerting** です。</span><span class="sxs-lookup"><span data-stu-id="73769-130">The **reportserver**, **reportservertempdb**, and **dataalerting** databases.</span></span> <span data-ttu-id="73769-131">詳細については、「 [Reporting Services SharePoint サービス アプリケーションのバックアップと復元](../backup-and-restore-reporting-services-sharepoint-service-applications.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-131">For more information see [Backup and Restore Reporting Services SharePoint Service Applications](../backup-and-restore-reporting-services-sharepoint-service-applications.md)</span></span>  
  
## <a name="backing-up-the-encryption-keys"></a><span data-ttu-id="73769-132">暗号化キーのバックアップ</span><span class="sxs-lookup"><span data-stu-id="73769-132">Backing Up the Encryption Keys</span></span>  
 <span data-ttu-id="73769-133">インストールした [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] を初めて構成するときは、暗号化キーをバックアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="73769-133">You should backup the encryption keys when you configure a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation for the first time.</span></span> <span data-ttu-id="73769-134">サービス アカウントの ID やコンピューターの名前を変更する際にも、そのつど暗号化キーをバックアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="73769-134">You should also backup the keys any time you change the identity of the service accounts or rename the computer.</span></span> <span data-ttu-id="73769-135">詳細については、「 [Back Up and Restore Reporting Services Encryption Keys](ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-135">For more information, see [Back Up and Restore Reporting Services Encryption Keys](ssrs-encryption-keys-back-up-and-restore-encryption-keys.md).</span></span> <span data-ttu-id="73769-136">SharePoint モードのレポートサーバーについては、「 [Reporting Services Sharepoint サービスアプリケーションの管理](../manage-a-reporting-services-sharepoint-service-application.md)」の「キー管理」のセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="73769-136">For SharePoint mode report servers, see the "Key Management" section of [Manage a Reporting Services SharePoint Service Application](../manage-a-reporting-services-sharepoint-service-application.md).</span></span>  
  
## <a name="backing-up-the-configuration-files"></a><span data-ttu-id="73769-137">構成ファイルのバックアップ</span><span class="sxs-lookup"><span data-stu-id="73769-137">Backing Up the Configuration Files</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="73769-138">では、構成ファイルを使用してアプリケーション設定を格納します。</span><span class="sxs-lookup"><span data-stu-id="73769-138">uses configuration files to store application settings.</span></span> <span data-ttu-id="73769-139">初めてサーバーを構成するときおよびカスタム拡張機能を配置した後は常に、ファイルをバックアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="73769-139">You should backup the files when you first configure the server and after you deploy any custom extensions.</span></span> <span data-ttu-id="73769-140">バックアップするのは次のファイルです。</span><span class="sxs-lookup"><span data-stu-id="73769-140">Files to back up include:</span></span>  
  
-   <span data-ttu-id="73769-141">RSReportServer.config</span><span class="sxs-lookup"><span data-stu-id="73769-141">Rsreportserver.config</span></span>  
  
-   <span data-ttu-id="73769-142">Rssvrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="73769-142">Rssvrpolicy.config</span></span>  
  
-   <span data-ttu-id="73769-143">Rsmgrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="73769-143">Rsmgrpolicy.config</span></span>  
  
-   <span data-ttu-id="73769-144">Reportingservicesservice.exe.config</span><span class="sxs-lookup"><span data-stu-id="73769-144">Reportingservicesservice.exe.config</span></span>  
  
-   <span data-ttu-id="73769-145">レポート サーバーおよびレポート マネージャーの [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] アプリケーション用の Web.config</span><span class="sxs-lookup"><span data-stu-id="73769-145">Web.config for both the Report Server and Report Manager [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications</span></span>  
  
-   <span data-ttu-id="73769-146">用の Machine.config [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)]</span><span class="sxs-lookup"><span data-stu-id="73769-146">Machine.config for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)]</span></span>  
  
## <a name="backing-up-data-files"></a><span data-ttu-id="73769-147">データ ファイルのバックアップ</span><span class="sxs-lookup"><span data-stu-id="73769-147">Backing Up Data Files</span></span>  
 <span data-ttu-id="73769-148">レポート デザイナーおよびモデル デザイナーで作成およびメンテナンスしているファイルをバックアップします。</span><span class="sxs-lookup"><span data-stu-id="73769-148">Backup the files that you create and maintain in Report Designer and Model Designer.</span></span> <span data-ttu-id="73769-149">これらのファイルには、レポート定義 (.rdl) ファイル、レポート モデル (.smdl) ファイル、共有データ ソース (.rds) ファイル、データ ビュー (.dv) ファイル、データ ソース (.ds) ファイル、レポート サーバー プロジェクト (.rptproj) ファイル、およびレポート ソリューション (.sln) ファイルが含まれます。</span><span class="sxs-lookup"><span data-stu-id="73769-149">These include report definition (.rdl) files, report model (.smdl) files, shared data source (.rds) files, data view (.dv) files, data source (.ds) files, report server project (.rptproj) files, and report solution (.sln) files.</span></span>  
  
 <span data-ttu-id="73769-150">管理タスクまたは配置タスクのために作成したスクリプト ファイル (.rss) のバックアップを忘れないように注意してください。</span><span class="sxs-lookup"><span data-stu-id="73769-150">Remember to backup any script files (.rss) that you created for administration or deployment tasks.</span></span>  
  
 <span data-ttu-id="73769-151">使用しているカスタム拡張機能およびカスタム アセンブリのバックアップ コピーが存在していることを確認します。</span><span class="sxs-lookup"><span data-stu-id="73769-151">Verify that you have a backup copy of any custom extensions and custom assemblies you are using.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="73769-152">参照</span><span class="sxs-lookup"><span data-stu-id="73769-152">See Also</span></span>  
 <span data-ttu-id="73769-153">[レポートサーバーデータベース &#40;SSRS ネイティブモード&#41;](../report-server/report-server-database-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="73769-153">[Report Server Database &#40;SSRS Native Mode&#41;](../report-server/report-server-database-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="73769-154">[Reporting Services 構成ファイル](../report-server/reporting-services-configuration-files.md) </span><span class="sxs-lookup"><span data-stu-id="73769-154">[Reporting Services Configuration Files](../report-server/reporting-services-configuration-files.md) </span></span>  
 <span data-ttu-id="73769-155">[rskeymgmt Utility &#40;SSRS&#41;](../tools/rskeymgmt-utility-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="73769-155">[rskeymgmt Utility &#40;SSRS&#41;](../tools/rskeymgmt-utility-ssrs.md) </span></span>  
 <span data-ttu-id="73769-156">[バックアップと復元によるデータベースのコピー](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) </span><span class="sxs-lookup"><span data-stu-id="73769-156">[Copy Databases with Backup and Restore](../../relational-databases/databases/copy-databases-with-backup-and-restore.md) </span></span>  
 <span data-ttu-id="73769-157">[SSRS ネイティブモードでのレポートサーバーデータベースの管理 &#40;&#41;](../report-server/administer-a-report-server-database-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="73769-157">[Administer a Report Server Database &#40;SSRS Native Mode&#41;](../report-server/administer-a-report-server-database-ssrs-native-mode.md) </span></span>  
 [<span data-ttu-id="73769-158">暗号化キーの構成と管理 &#40;SSRS 構成マネージャー&#41;</span><span class="sxs-lookup"><span data-stu-id="73769-158">Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;</span></span>](ssrs-encryption-keys-manage-encryption-keys.md)  
  
  
