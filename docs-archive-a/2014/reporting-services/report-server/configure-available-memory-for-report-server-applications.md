---
title: レポート サーバー アプリケーションで利用可能なメモリの構成 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- memory [Reporting Services]
- memory thresholds [Reporting Services]
ms.assetid: ac7ab037-300c-499d-89d4-756f8d8e99f6
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e61e44634bbc892c7d4082c5bfcde797c236265a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87642554"
---
# <a name="configure-available-memory-for-report-server-applications"></a><span data-ttu-id="79fba-102">レポート サーバー アプリケーションで利用可能なメモリの構成</span><span class="sxs-lookup"><span data-stu-id="79fba-102">Configure Available Memory for Report Server Applications</span></span>
  <span data-ttu-id="79fba-103">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] は、利用可能なすべてのメモリを使用できますが、[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] サーバー アプリケーションに割り当てることのできる合計メモリ リソース量に上限を設けることによって、既定の動作をオーバーライドすることができます。</span><span class="sxs-lookup"><span data-stu-id="79fba-103">Although [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] can use all available memory, you can override default behavior by configuring an upper limit on the total amount of memory resources that are allocated to [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] server applications.</span></span> <span data-ttu-id="79fba-104">また、しきい値を設定することにより、メモリの圧迫度 (低、中、高) に応じて、要求の優先度付けや処理の方法を変えることもできます。</span><span class="sxs-lookup"><span data-stu-id="79fba-104">You can also set thresholds that cause the report server to change how it prioritizes and processes requests depending on whether it is under low, medium, or heavy memory pressure.</span></span> <span data-ttu-id="79fba-105">メモリ圧迫の度合いが低い場合、レポート サーバーは、対話型のレポート処理またはオンデマンドのレポート処理に若干高い優先度を割り当てます。</span><span class="sxs-lookup"><span data-stu-id="79fba-105">At low levels of memory pressure, the report server responds by giving a slightly higher priority to interactive or on-demand report processing.</span></span> <span data-ttu-id="79fba-106">メモリ圧迫の度合いが高い場合、レポート サーバーは、さまざまな手法を用いながら、利用できる限られたリソースで稼働状態を保ちます。</span><span class="sxs-lookup"><span data-stu-id="79fba-106">At high levels of memory pressure, the report server uses multiple techniques to remain operational using the limited resources available to it.</span></span>

 <span data-ttu-id="79fba-107">このトピックでは、指定できる構成設定について取り上げ、さらに、要求の処理に影響するメモリ不足が発生した場合に、サーバーがどのように対処するかについて説明します。</span><span class="sxs-lookup"><span data-stu-id="79fba-107">This topic describes the configuration settings that you can specify and how the server responds when memory pressure becomes a factor in processing requests.</span></span>

## <a name="memory-management-policies"></a><span data-ttu-id="79fba-108">メモリ管理ポリシー</span><span class="sxs-lookup"><span data-stu-id="79fba-108">Memory Management Policies</span></span>
 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="79fba-109">は、特定のアプリケーションや処理要求の種類に対して割り当て可能なメモリ量を調整することによってシステム リソースの制約に対処します。</span><span class="sxs-lookup"><span data-stu-id="79fba-109">responds to system resource constraints by adjusting the amount of memory that is allocated to specific applications and types of processing requests.</span></span> <span data-ttu-id="79fba-110">レポート サーバー サービスとして実行され、メモリ管理の対象となるアプリケーションには、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="79fba-110">Applications that run in the Report Server service and that are subject to memory management include:</span></span>

-   <span data-ttu-id="79fba-111">レポート マネージャー (レポート サーバーの Web フロントエンド アプリケーション)</span><span class="sxs-lookup"><span data-stu-id="79fba-111">Report Manager, a Web front-end application for the report server.</span></span>

-   <span data-ttu-id="79fba-112">レポート サーバー Web サービス (対話型のレポート処理およびオンデマンドの要求用)</span><span class="sxs-lookup"><span data-stu-id="79fba-112">Report Server Web service, used for interactive report processing and on-demand requests.</span></span>

-   <span data-ttu-id="79fba-113">バックグラウンド処理アプリケーション (定期的なレポート処理、サブスクリプション配信、およびデータベース メンテナンス用)</span><span class="sxs-lookup"><span data-stu-id="79fba-113">A background processing application, used for scheduled report processing, subscription delivery, and database maintenance.</span></span>

 <span data-ttu-id="79fba-114">メモリ管理ポリシーは、プロセス内の個々のアプリケーションに対してではなく、レポート サーバー サービス全体に対して適用されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-114">Memory management policies apply to the Report Server service as a whole, and not to individual applications that run within the process.</span></span>

 <span data-ttu-id="79fba-115">システムでメモリ不足が生じていなければ、各サーバー アプリケーションは、要求を受け取る前に、あらかじめ、ある程度のメモリを起動時に確保するため、実際に要求を受け取ったときには最大限のパフォーマンスで動作します。</span><span class="sxs-lookup"><span data-stu-id="79fba-115">If there is no memory pressure on the system, each server application requests some memory at startup, in advance of receiving requests, to deliver optimum performance when requests are eventually received.</span></span> <span data-ttu-id="79fba-116">メモリが不足してくると、レポート サーバーは、次の表に示すように、そのプロセス モデルを調整します。</span><span class="sxs-lookup"><span data-stu-id="79fba-116">As memory pressure builds, the report server adjusts its process model as described in the following table.</span></span>

|<span data-ttu-id="79fba-117">メモリ不足</span><span class="sxs-lookup"><span data-stu-id="79fba-117">Memory pressure</span></span>|<span data-ttu-id="79fba-118">サーバーの対処</span><span class="sxs-lookup"><span data-stu-id="79fba-118">Server response</span></span>|
|---------------------|---------------------|
|<span data-ttu-id="79fba-119">低</span><span class="sxs-lookup"><span data-stu-id="79fba-119">Low</span></span>|<span data-ttu-id="79fba-120">引き続き現在の要求を処理します。</span><span class="sxs-lookup"><span data-stu-id="79fba-120">Current requests continue to process.</span></span> <span data-ttu-id="79fba-121">ほとんどの場合、新しい要求が受け付けられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-121">New requests are almost always accepted.</span></span> <span data-ttu-id="79fba-122">バックグラウンド処理アプリケーションに送られる要求には、レポート サーバー Web サービスに送られる要求よりも低い優先度が割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-122">Requests that are directed to the background processing application are given a lower priority than requests directed to the Report Server Web service.</span></span>|
|<span data-ttu-id="79fba-123">Medium</span><span class="sxs-lookup"><span data-stu-id="79fba-123">Medium</span></span>|<span data-ttu-id="79fba-124">引き続き現在の要求を処理します。</span><span class="sxs-lookup"><span data-stu-id="79fba-124">Current requests continue to process.</span></span> <span data-ttu-id="79fba-125">通常、新しい要求が受け付けられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-125">New requests might be accepted.</span></span> <span data-ttu-id="79fba-126">バックグラウンド処理アプリケーションに送られる要求には、レポート サーバー Web サービスに送られる要求よりも低い優先度が割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-126">Requests that are directed to the background processing application are given a lower priority than requests directed to the Report Server Web service.</span></span> <span data-ttu-id="79fba-127">3 つのサーバー アプリケーションに対して割り当てられるメモリはすべて減らされます。また、Web サービス要求用にできるだけ多くのメモリを確保するため、バックグラウンド処理アプリケーションに割り当てられるメモリは、他のアプリケーションよりも大きく削減されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-127">Memory allocations for all three server applications are reduced, with relatively larger reductions to background processing to make more memory available for Web service requests.</span></span>|
|<span data-ttu-id="79fba-128">高</span><span class="sxs-lookup"><span data-stu-id="79fba-128">High</span></span>|<span data-ttu-id="79fba-129">メモリ割り当てがさらに削減されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-129">Memory allocation is further reduced.</span></span> <span data-ttu-id="79fba-130">多くのメモリを要求するサーバー アプリケーションは拒否されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-130">Server applications that request more memory are denied.</span></span> <span data-ttu-id="79fba-131">現在の要求はスローダウンされ、完了までにより多くの時間がかかるようになります。</span><span class="sxs-lookup"><span data-stu-id="79fba-131">Current requests are slowed down and take longer to complete.</span></span> <span data-ttu-id="79fba-132">新しい要求は受け付けられません。</span><span class="sxs-lookup"><span data-stu-id="79fba-132">New requests are not accepted.</span></span> <span data-ttu-id="79fba-133">レポート サーバーは、メモリ内のデータ ファイルをディスクにスワップします。</span><span class="sxs-lookup"><span data-stu-id="79fba-133">The report server swaps in-memory data files to disk.</span></span><br /><br /> <span data-ttu-id="79fba-134">メモリ制約が深刻化し、新しい要求を処理できるだけのメモリが存在しない場合、現在の要求が完了するまでの間、レポート サーバーは HTTP 503 (サーバー利用不可) エラーを返します。</span><span class="sxs-lookup"><span data-stu-id="79fba-134">If memory constraints become severe and there is no memory available to handle new requests, the report server will return an HTTP 503 server unavailable error while current requests are completing.</span></span> <span data-ttu-id="79fba-135">場合によっては、メモリ不足を直ちに解消するために、アプリケーション ドメインがリサイクルされることもあります。</span><span class="sxs-lookup"><span data-stu-id="79fba-135">In some cases, the application domains might be recycled to immediately reduce memory pressure.</span></span>|

 <span data-ttu-id="79fba-136">メモリ不足に対するレポート サーバーの対処をシナリオごとにカスタマイズすることはできませんが、メモリの圧迫度 (高、中、低) に応じた対処を構成設定で指定することはできます。</span><span class="sxs-lookup"><span data-stu-id="79fba-136">Although you cannot customize the report server responses to different memory pressure scenarios, you can specify configuration settings that define the boundaries that separate high, medium, and low memory pressure responses.</span></span>

## <a name="when-to-customize-memory-management-settings"></a><span data-ttu-id="79fba-137">メモリ管理設定をカスタマイズするタイミング</span><span class="sxs-lookup"><span data-stu-id="79fba-137">When to Customize Memory Management Settings</span></span>
 <span data-ttu-id="79fba-138">メモリ圧迫度を低、中、高という 3 つの範囲に分けたとき、既定の設定では、その範囲が均等にはなっていません。</span><span class="sxs-lookup"><span data-stu-id="79fba-138">The default settings specify unequal ranges for low, medium, and high memory pressure.</span></span> <span data-ttu-id="79fba-139">既定では、低メモリ圧迫度ゾーンの方が、中と高のメモリ圧迫度ゾーンよりも大きくとられています。</span><span class="sxs-lookup"><span data-stu-id="79fba-139">By default, the low memory pressure zone is larger than the zones for medium and high memory pressure.</span></span> <span data-ttu-id="79fba-140">これは、処理負荷が均等に分布する場合や一定の割合で増減する場合に最適な構成です。</span><span class="sxs-lookup"><span data-stu-id="79fba-140">This configuration is optimum for processing loads that are evenly distributed or that grow or decline incrementally.</span></span> <span data-ttu-id="79fba-141">このシナリオでは、ゾーンからゾーンへの遷移が段階的であるため、レポート サーバーはその対処を余裕を持って調整できます。</span><span class="sxs-lookup"><span data-stu-id="79fba-141">In this scenario, the transition between zones is gradual and the report server has time to adjust its response.</span></span>

 <span data-ttu-id="79fba-142">負荷が急激に増加するような場合は、既定の設定を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-142">Modifying the default settings is useful if the load pattern includes spikes.</span></span> <span data-ttu-id="79fba-143">処理負荷の急激な増加が発生した場合、メモリ不足がまったく生じていない状態から、メモリ割り当てエラーの状態へと、きわめて短時間の間に遷移することが考えられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-143">When there are sudden spikes in the processing load, the report server might go from no memory pressure to memory allocation failures very quickly.</span></span> <span data-ttu-id="79fba-144">たとえば、メモリを激しく消費するレポートの複数のインスタンスが同時に開始されて実行された場合などが該当します。</span><span class="sxs-lookup"><span data-stu-id="79fba-144">This might occur if you have multiple concurrent instances of a memory-intensive report that start at the same time.</span></span> <span data-ttu-id="79fba-145">この種の処理負荷に対処するためには、メモリ消費が中レベルまたは高レベルに達したことをレポート サーバーに認識させ、できるだけ早期に処理をスローダウンさせる必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-145">To handle this type of processing load, you want the report server to move into a medium or high memory pressure response as soon as possible so that it can slow down processing.</span></span> <span data-ttu-id="79fba-146">こうすることで、より多くの要求を完了させることができます。</span><span class="sxs-lookup"><span data-stu-id="79fba-146">This allows more requests to complete.</span></span> <span data-ttu-id="79fba-147">そのためには、`MemorySafetyMargin` の値を低く設定して、低メモリ圧迫度ゾーンを他のゾーンよりも小さくする必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-147">To do this, you should lower the value for `MemorySafetyMargin` to make the low memory pressure zone smaller relative to the other zones.</span></span> <span data-ttu-id="79fba-148">これにより、中～高レベルのメモリ圧迫が発生した場合の対応を早めることができます。</span><span class="sxs-lookup"><span data-stu-id="79fba-148">Doing so will cause responses for medium and high memory pressure to occur earlier.</span></span>

## <a name="configuration-settings-for-memory-management"></a><span data-ttu-id="79fba-149">メモリ管理の構成設定</span><span class="sxs-lookup"><span data-stu-id="79fba-149">Configuration Settings for Memory Management</span></span>
 <span data-ttu-id="79fba-150">レポート サーバーのメモリ割り当てを制御する構成設定には、`WorkingSetMaximum`、`WorkingSetMinimum`、`MemorySafetyMargin`、および `MemoryThreshold` があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-150">Configuration settings that control memory allocation for the report server include `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin`, and `MemoryThreshold`.</span></span>

-   <span data-ttu-id="79fba-151">使用可能なメモリの範囲は、`WorkingSetMaximum` および `WorkingSetMinimum` によって定義されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-151">`WorkingSetMaximum` and `WorkingSetMinimum` define the range of available memory.</span></span> <span data-ttu-id="79fba-152">これらを構成することで、レポート サーバー アプリケーションに使用可能なメモリの範囲を設定できます。</span><span class="sxs-lookup"><span data-stu-id="79fba-152">You can configure these settings to set a range of available memory for the report server applications.</span></span> <span data-ttu-id="79fba-153">たとえば、同じコンピューターで複数のアプリケーションをホストしているとき、レポート サーバーに対し、同じコンピューター上の他のアプリケーションとは異なる割合で、システム リソースを使用させることもできます。</span><span class="sxs-lookup"><span data-stu-id="79fba-153">This can be useful if you are hosting multiple applications on the same computer and you determine that the report server is using a disproportionate amount of system resources relative to other applications on the same computer.</span></span>

-   <span data-ttu-id="79fba-154">`MemorySafetyMargin` および `MemoryThreshold` は、低、中、高の各メモリ圧迫度の境界を設定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-154">`MemorySafetyMargin` and `MemoryThreshold` set the boundaries for low, medium, and high levels of memory pressure.</span></span> <span data-ttu-id="79fba-155">その各状態について、 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] は、レポート処理やその他の要求が、コンピューターで利用可能なメモリ量に合わせて適切に処理されるように修正措置を行います。</span><span class="sxs-lookup"><span data-stu-id="79fba-155">For each state, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] takes corrective action to ensure report processing and other requests are handled appropriately relative to the amount of memory that is available on the computer.</span></span> <span data-ttu-id="79fba-156">低、中、高の各圧迫度を評価する際の基準を構成設定で指定できます。</span><span class="sxs-lookup"><span data-stu-id="79fba-156">You can specify configuration settings that determine the delineation between low, high, and medium pressure levels.</span></span>

     <span data-ttu-id="79fba-157">構成設定を変更することはできますが、変更したからといってレポート処理のパフォーマンスが向上するわけではありません。</span><span class="sxs-lookup"><span data-stu-id="79fba-157">Although you can change the configuration settings, doing so will not improve report processing performance.</span></span> <span data-ttu-id="79fba-158">構成設定の変更によってパフォーマンスが向上するのは、要求が完了前に破棄された場合だけです。</span><span class="sxs-lookup"><span data-stu-id="79fba-158">Changing the configuration settings is useful only if requests are getting dropped before they complete.</span></span> <span data-ttu-id="79fba-159">サーバーのパフォーマンスを向上させる最適な方法は、レポート サーバーまたは個々のレポート サーバー アプリケーションを専用のコンピューターに配置することです。</span><span class="sxs-lookup"><span data-stu-id="79fba-159">The best way to improve server performance is to deploy the report server or individual report server applications on dedicated computers.</span></span>

 <span data-ttu-id="79fba-160">次の図は、メモリの圧迫度を低、中、高に分ける際に使用される設定の組み合わせを示しています。</span><span class="sxs-lookup"><span data-stu-id="79fba-160">The following illustration shows how the settings are used together to distinguish between low, medium, and high levels of memory pressure:</span></span>

 <span data-ttu-id="79fba-161">![メモリの状態の構成設定](../media/rs-memoryconfigurationzones.gif "メモリの状態の構成設定")</span><span class="sxs-lookup"><span data-stu-id="79fba-161">![Configuration settings for memory state](../media/rs-memoryconfigurationzones.gif "Configuration settings for memory state")</span></span>

 <span data-ttu-id="79fba-162">次の表では、`WorkingSetMaximum`、`WorkingSetMinimum`、`MemorySafetyMargin`、`MemoryThreshold` の各設定について説明します。</span><span class="sxs-lookup"><span data-stu-id="79fba-162">The following table describes `WorkingSetMaximum`, `WorkingSetMinimum`, `MemorySafetyMargin`, and `MemoryThreshold` settings.</span></span> <span data-ttu-id="79fba-163">構成設定は、 [RSReportServer.config ファイル](rsreportserver-config-configuration-file.md)で指定されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-163">Configuration settings are specified in the [RSReportServer.config file](rsreportserver-config-configuration-file.md).</span></span>

|<span data-ttu-id="79fba-164">要素</span><span class="sxs-lookup"><span data-stu-id="79fba-164">Element</span></span>|<span data-ttu-id="79fba-165">説明</span><span class="sxs-lookup"><span data-stu-id="79fba-165">Description</span></span>|
|-------------|-----------------|
|`WorkingSetMaximum`|<span data-ttu-id="79fba-166">メモリのしきい値を指定します。この値を超えた場合、レポート サーバー アプリケーションに対する、新しいメモリ割り当て要求は許可されません。</span><span class="sxs-lookup"><span data-stu-id="79fba-166">Specifies a memory threshold after which no new memory allocations requests are granted to report server applications.</span></span><br /><br /> <span data-ttu-id="79fba-167">既定では、コンピューターで使用可能なメモリ量が `WorkingSetMaximum` として設定されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-167">By default, the report server sets `WorkingSetMaximum` to the amount of available memory on the computer.</span></span> <span data-ttu-id="79fba-168">この値は、サービスの開始時に検出されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-168">This value is detected when the service starts.</span></span><br /><br /> <span data-ttu-id="79fba-169">この設定は、手動で追加しない限り、RSReportServer.config ファイルには存在しません。</span><span class="sxs-lookup"><span data-stu-id="79fba-169">This setting does not appear in the RSReportServer.config file unless you add it manually.</span></span> <span data-ttu-id="79fba-170">レポート サーバーによって使用されるメモリ量を少なくしたい場合は、RSReportServer.config ファイルにこの要素と値を追加します。</span><span class="sxs-lookup"><span data-stu-id="79fba-170">If you want the report server to use less memory, you can modify the RSReportServer.config file and add the element and value.</span></span> <span data-ttu-id="79fba-171">有効な値は、0 から整数型の最大値までです。</span><span class="sxs-lookup"><span data-stu-id="79fba-171">Valid values range from 0 to maximum integer.</span></span> <span data-ttu-id="79fba-172">この値はキロバイト単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-172">This value is expressed in kilobytes.</span></span><br /><br /> <span data-ttu-id="79fba-173">`WorkingSetMaximum` の値に達すると、レポート サーバーは新しい要求を受け付けなくなります。</span><span class="sxs-lookup"><span data-stu-id="79fba-173">When the value for `WorkingSetMaximum` is reached, the report server does not accept new requests.</span></span> <span data-ttu-id="79fba-174">現在実行中の要求は最後まで実行されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-174">Requests that are currently in progress are allowed to complete.</span></span> <span data-ttu-id="79fba-175">メモリ使用量が `WorkingSetMaximum` で指定した値を下回った場合のみ、新しい要求が受け付けられます。</span><span class="sxs-lookup"><span data-stu-id="79fba-175">New requests are accepted only when memory use falls below the value specified through `WorkingSetMaximum`.</span></span><br /><br /> <span data-ttu-id="79fba-176">`WorkingSetMaximum` 値に達した後、既存の要求によって引き続き追加のメモリが消費された場合、レポート サーバーのすべてのアプリケーション ドメインがリサイクルされます。</span><span class="sxs-lookup"><span data-stu-id="79fba-176">If existing requests continue to consume additional memory after the `WorkingSetMaximum` value has been reached, all report server application domains will be recycled.</span></span> <span data-ttu-id="79fba-177">詳細については、「 [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="79fba-177">For more information, see [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md).</span></span>|
|`WorkingSetMinimum`|<span data-ttu-id="79fba-178">リソース消費の下限を指定します。全体的なメモリ使用量がこの値を下回っている場合、レポート サーバーはメモリを解放しません。</span><span class="sxs-lookup"><span data-stu-id="79fba-178">Specifies a lower limit for resource consumption; the report server will not release memory if overall memory use is below this limit.</span></span><br /><br /> <span data-ttu-id="79fba-179">既定では、この値がサービスの開始時に計算されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-179">By default, the value is calculated at service startup.</span></span> <span data-ttu-id="79fba-180">初回メモリ割り当て要求時に `WorkingSetMaximum` の 60% として計算されます。</span><span class="sxs-lookup"><span data-stu-id="79fba-180">The calculation is that the initial memory allocation request is for 60 percent of `WorkingSetMaximum`.</span></span><br /><br /> <span data-ttu-id="79fba-181">この設定は、手動で追加しない限り、RSReportServer.config ファイルには存在しません。</span><span class="sxs-lookup"><span data-stu-id="79fba-181">This setting does not appear in the RSReportServer.config file unless you add it manually.</span></span> <span data-ttu-id="79fba-182">この値をカスタマイズするには、RSReportServer.config ファイルに `WorkingSetMinimum` 要素を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-182">If you want to customize this value, you must add the `WorkingSetMinimum` element to the RSReportServer.config file.</span></span> <span data-ttu-id="79fba-183">有効な値は、0 から整数型の最大値までです。</span><span class="sxs-lookup"><span data-stu-id="79fba-183">Valid values range from 0 to maximum integer.</span></span> <span data-ttu-id="79fba-184">この値はキロバイト単位で指定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-184">This value is expressed in kilobytes..</span></span>|
|`MemoryThreshold`|<span data-ttu-id="79fba-185">`WorkingSetMaximum` を上限として、メモリ圧迫の度合いを高レベルと中レベルに分けたとき、その境界を定義するパーセンテージを指定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-185">Specifies a percentage of `WorkingSetMaximum` that defines the boundary between high and medium pressure scenarios.</span></span> <span data-ttu-id="79fba-186">レポート サーバーは、メモリの使用状況がこの値に達した場合、要求の処理速度を落とし、別のサーバー アプリケーションに対して割り当てられるメモリ量を変更します。</span><span class="sxs-lookup"><span data-stu-id="79fba-186">If report server memory use reaches this value, the report server slows down request processing and changes the amount of memory allocated to different server applications.</span></span> <span data-ttu-id="79fba-187">既定値は 90 です。</span><span class="sxs-lookup"><span data-stu-id="79fba-187">The default value is 90.</span></span> <span data-ttu-id="79fba-188">この値は、`MemorySafetyMargin` で設定する値より大きくする必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-188">This value should be greater than the value set for `MemorySafetyMargin`.</span></span>|
|`MemorySafetyMargin`|<span data-ttu-id="79fba-189">`WorkingSetMaximum` を上限として、メモリ圧迫の度合いを中レベルと低レベルに分けたとき、その境界を定義するパーセンテージを指定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-189">Specifies a percentage of `WorkingSetMaximum` that defines the boundary between medium and low pressure scenarios.</span></span> <span data-ttu-id="79fba-190">メモリには、システム用に予約され、レポート サーバーの処理には使用できない領域も存在します。この値は、使用可能なメモリに対するパーセンテージを示します。</span><span class="sxs-lookup"><span data-stu-id="79fba-190">This value is the percentage of available memory that is reserved for the system and cannot be used for report server operations.</span></span> <span data-ttu-id="79fba-191">既定値は 80 です。</span><span class="sxs-lookup"><span data-stu-id="79fba-191">The default value is 80.</span></span>|

> [!NOTE]
>  <span data-ttu-id="79fba-192">`MemoryLimit` および `MaximumMemoryLimit` の設定は、[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 以降のバージョンでは廃止されています。</span><span class="sxs-lookup"><span data-stu-id="79fba-192">`MemoryLimit` and `MaximumMemoryLimit` settings are obsolete in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="79fba-193">既存のインストールをアップグレードした場合、または、該当する設定を含んだ RSReportServer.config ファイルを使用している場合、これらの値は読み取られません。</span><span class="sxs-lookup"><span data-stu-id="79fba-193">If you upgraded an existing installation or using an RSReportServer.config file that includes those settings, the report server no longer reads those values.</span></span>

#### <a name="example-of-memory-configuration-settings"></a><span data-ttu-id="79fba-194">メモリの構成設定の例</span><span class="sxs-lookup"><span data-stu-id="79fba-194">Example of Memory Configuration Settings</span></span>
 <span data-ttu-id="79fba-195">次の例は、カスタム メモリ構成値を使用したレポート サーバー コンピューターの構成設定を示しています。</span><span class="sxs-lookup"><span data-stu-id="79fba-195">The following example shows the configuration settings for a report server computer that uses custom memory configuration values.</span></span> <span data-ttu-id="79fba-196">`WorkingSetMaximum` または `WorkingSetMinimum` を追加する場合は、その要素と値を RSReportServer.config ファイルに入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="79fba-196">If you want to add `WorkingSetMaximum` or `WorkingSetMinimum`, you must type the elements and values in the RSReportServer.config file.</span></span> <span data-ttu-id="79fba-197">どちらの値も、サーバー アプリケーションに割り当てる RAM のサイズ (キロバイト単位) を整数で指定します。</span><span class="sxs-lookup"><span data-stu-id="79fba-197">Both values are integers that express kilobytes of RAM you are allocating to the server applications.</span></span> <span data-ttu-id="79fba-198">次の例では、レポート サーバー アプリケーションに対するメモリの合計割当量が 4 GB を超えないように指定しています。</span><span class="sxs-lookup"><span data-stu-id="79fba-198">The following example specifies that total memory allocation for the report server applications cannot exceed 4 gigabytes.</span></span> <span data-ttu-id="79fba-199">`WorkingSetMinimum` の既定値 (`WorkingSetMaximum` の 60%) を使用する場合は、そちらを省略し、RSReportServer.config ファイルには `WorkingSetMaximum` だけを指定するということでもかまいません。</span><span class="sxs-lookup"><span data-stu-id="79fba-199">If the default value for `WorkingSetMinimum` (60% of `WorkingSetMaximum`) is acceptable, you can omit it and specify just `WorkingSetMaximum` in the RSReportServer.config file.</span></span> <span data-ttu-id="79fba-200">この例では、実際にどのように追加すればよいかを示すために、`WorkingSetMinimum` を省略せずに記載しています。</span><span class="sxs-lookup"><span data-stu-id="79fba-200">This example includes `WorkingSetMinimum` to show how it would appear if you wanted to add it:</span></span>

```
      <MemorySafetyMargin>80</MemorySafetyMargin>
      <MemoryThreshold>90</MemoryThreshold>
      <WorkingSetMaximum>4000000</WorkingSetMaximum>
      <WorkingSetMinimum>2400000</WorkingSetMinimum>
```

#### <a name="about-aspnet-memory-configuration-settings"></a><span data-ttu-id="79fba-201">ASP.NET のメモリの構成設定について</span><span class="sxs-lookup"><span data-stu-id="79fba-201">About ASP.NET Memory Configuration Settings</span></span>
 <span data-ttu-id="79fba-202">レポート サーバー Web サービスとレポート マネージャーは [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] アプリケーションですが、どちらのアプリケーションも、IIS 5.0 互換モードで実行される [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] アプリケーションの machine.config (`processModel` セクション) に指定されているメモリ構成設定は参照しません。</span><span class="sxs-lookup"><span data-stu-id="79fba-202">Although the Report Server Web service and Report Manager are [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] applications, neither application responds to memory configuration settings that you specify in the `processModel` section of machine.config for [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] applications that run in IIS 5.0 compatibility mode.</span></span> [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="79fba-203">は、メモリの構成設定を RSReportServer.config ファイルからのみ読み取ります。</span><span class="sxs-lookup"><span data-stu-id="79fba-203">reads memory configuration settings from the RSReportServer.config file only.</span></span>

## <a name="see-also"></a><span data-ttu-id="79fba-204">参照</span><span class="sxs-lookup"><span data-stu-id="79fba-204">See Also</span></span>
 <span data-ttu-id="79fba-205">[Rsreportserver 構成ファイル](rsreportserver-config-configuration-file.md) [rsreportserver 構成ファイル](rsreportserver-config-configuration-file.md) [Reporting Services 構成ファイルを変更し &#40;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) [レポートサーバーアプリケーションのアプリケーションドメイン](application-domains-for-report-server-applications.md)RSreportserver.config&#41;します。</span><span class="sxs-lookup"><span data-stu-id="79fba-205">[RSReportServer Configuration File](rsreportserver-config-configuration-file.md) [RSReportServer Configuration File](rsreportserver-config-configuration-file.md) [Modify a Reporting Services Configuration File &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) [Application Domains for Report Server Applications](application-domains-for-report-server-applications.md)</span></span>


