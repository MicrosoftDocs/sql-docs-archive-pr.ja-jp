---
title: サイズの大きなレポートの処理 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report processing [Reporting Services], large reports
- page breaks [Reporting Services]
- large reports
- size [SQL Server], reports
- distributing reports [Reporting Services], large reports
ms.assetid: c5275a9f-c95b-46d7-bc62-633879a8a291
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 6b1602d191ea63e77989c0978fa762c7d25a92a6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645396"
---
# <a name="process-large-reports"></a><span data-ttu-id="15e43-102">サイズの大きなレポートの処理</span><span class="sxs-lookup"><span data-stu-id="15e43-102">Process Large Reports</span></span>
  <span data-ttu-id="15e43-103">サイズの大きなレポートは、処理が困難となる場合があり、正常に実行するには特定の構成が必要です。</span><span class="sxs-lookup"><span data-stu-id="15e43-103">Large reports present certain processing challenges and require certain configurations if they are to run properly.</span></span> <span data-ttu-id="15e43-104">サイズの大きなレポートは、ページ割り当てをサポートするように構成されている場合以外は、要求時に実行しないでください。</span><span class="sxs-lookup"><span data-stu-id="15e43-104">Large reports should not be run on demand unless they are configured to support pagination.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="15e43-105">既定では、改ページが有効になっています。</span><span class="sxs-lookup"><span data-stu-id="15e43-105">Page breaks are enabled by default.</span></span> <span data-ttu-id="15e43-106">レポートに大量のデータが含まれていると思われる場合は、改ページを無効にしないでください。</span><span class="sxs-lookup"><span data-stu-id="15e43-106">Do not disable page breaks if you think the report will contain a large amount of data.</span></span> <span data-ttu-id="15e43-107">レポートを表示するために最初に使用される HTML 表示形式では、レポートはブラウザーで表示されます。</span><span class="sxs-lookup"><span data-stu-id="15e43-107">The HTML rendering format that is used to initially render a report opens a report in a browser.</span></span> <span data-ttu-id="15e43-108">レポートがページ割り当てされていない場合、すべてのデータは単一のページに含められるため、ほとんどのブラウザーでは対応できません。</span><span class="sxs-lookup"><span data-stu-id="15e43-108">If the report is not paginated, all of the data is included in a single page, which cannot be accommodated by most browsers.</span></span> <span data-ttu-id="15e43-109">たとえば、5,000 行のデータを含むレポートは、ほとんどの場合、単一ページとしてはブラウザーに表示できません。</span><span class="sxs-lookup"><span data-stu-id="15e43-109">For example, a report that contains 5,000 rows of data almost certainly cannot be viewed in a browser in a single page.</span></span>  
  
 <span data-ttu-id="15e43-110">サイズの大きなレポートを扱う場合は、大きなドキュメントに対応できるレポートの実行オプション、表示オプション、および配信オプションを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-110">If you are working with a large report, you should choose report execution, rendering, and delivery options that can accommodate large documents.</span></span> <span data-ttu-id="15e43-111">レポートのサイズは主に、クエリから返された行セットと、レポートを表示するために使用される表示拡張機能によって決まります。</span><span class="sxs-lookup"><span data-stu-id="15e43-111">Report size is largely determined by the row set that comes back from the query and the rendering extension that is used to present the report.</span></span>  
  
 <span data-ttu-id="15e43-112">変化しやすいデータを含むレポートの場合、レポートのサイズはレポートを実行するたびに大きく変化する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-112">For reports that contain volatile data, report size can change dramatically from one report run to the next.</span></span> <span data-ttu-id="15e43-113">この場合、データ ソースを監視し、データの変化がレポートへ及ぼす影響を見極めた上で、このトピックに記載されている手順に従う必要があるかどうかを判断する必要があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-113">In this case, you should monitor the data source to determine how data volatility affects your report and whether you need to follow the steps prescribed in this topic.</span></span>  
  
 <span data-ttu-id="15e43-114">タイムアウト エラーやメモリ不足エラーを診断する方法の詳細とヒントについては、blogs.msdn.com の記事「 [レポート サーバーでのレポート実行の問題を診断する方法](https://go.microsoft.com/fwlink/?LinkId=85634) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="15e43-114">For more information and tips on how to diagnose time-out errors and out-of-memory errors, see the article [How to diagnose issues when running reports in the report server](https://go.microsoft.com/fwlink/?LinkId=85634) on blogs.msdn.com.</span></span>  
  
## <a name="configuration-recommendations"></a><span data-ttu-id="15e43-115">構成に関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="15e43-115">Configuration Recommendations</span></span>  
 <span data-ttu-id="15e43-116">レポートの実行、レポートの表示、およびレポートのアクセスに関する推奨事項としては、次の事項が挙げられます。</span><span class="sxs-lookup"><span data-stu-id="15e43-116">Recommendations for report execution, report rendering, and report access include the following items:</span></span>  
  
-   <span data-ttu-id="15e43-117">ページ割り当てをサポートするようにレポートをデザインします。</span><span class="sxs-lookup"><span data-stu-id="15e43-117">Design the report to support pagination.</span></span> <span data-ttu-id="15e43-118">レポート サーバーはレポートを一度に 1 ページずつ送信します。</span><span class="sxs-lookup"><span data-stu-id="15e43-118">The report server sends a report one page at a time.</span></span> <span data-ttu-id="15e43-119">レポートにページ割り当てがある場合は、ブラウザーにストリーム送信されるデータ量を制御できます。</span><span class="sxs-lookup"><span data-stu-id="15e43-119">If the report includes pagination, you can control how much data is streamed to the browser.</span></span> <span data-ttu-id="15e43-120">詳細については、「 [キャッシュの事前読み込み &#40;レポート マネージャー&#41;](preload-the-cache-report-manager.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="15e43-120">For more information, see [Preload the Cache &#40;Report Manager&#41;](preload-the-cache-report-manager.md).</span></span>  
  
-   <span data-ttu-id="15e43-121">レポートは、要求時に実行されることを防ぐため、スケジュールされたレポート スナップショットとして実行するように構成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-121">Configure the report to run as a scheduled report snapshot to prevent it from being run on demand.</span></span> <span data-ttu-id="15e43-122">レポートの実行にタイムアウト値は設定しないでください。</span><span class="sxs-lookup"><span data-stu-id="15e43-122">Do not set a time-out value for report execution.</span></span> <span data-ttu-id="15e43-123">レポートは、オフピーク時間中に実行してください。</span><span class="sxs-lookup"><span data-stu-id="15e43-123">Run the report during off-peak hours.</span></span>  
  
-   <span data-ttu-id="15e43-124">レポートを処理するかどうかを制御する必要がある場合は、共有データ ソースを使用するようにレポートを構成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-124">Configure the report to use a shared data source if you want to control whether the report is processed.</span></span> <span data-ttu-id="15e43-125">共有データ ソースを使用する利点の 1 つは、データ ソースを無効化できることです。</span><span class="sxs-lookup"><span data-stu-id="15e43-125">One advantage to using a shared data source is that you can disable it.</span></span> <span data-ttu-id="15e43-126">データ ソースを無効にすると、レポート処理は実行されません。</span><span class="sxs-lookup"><span data-stu-id="15e43-126">Disabling the data source prevents report processing.</span></span>  
  
-   <span data-ttu-id="15e43-127">ディスク領域を節約する必要がある場合は、レポート履歴を無効にします。</span><span class="sxs-lookup"><span data-stu-id="15e43-127">Disable report history if you want to conserve disk space.</span></span> <span data-ttu-id="15e43-128">レポート履歴を無効にするには、[履歴] プロパティ ページのすべてのチェック ボックスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="15e43-128">To disable report history, clear all the check boxes on the History properties page.</span></span>  
  
-   <span data-ttu-id="15e43-129">レポートへのアクセスを制限します。</span><span class="sxs-lookup"><span data-stu-id="15e43-129">Limit access to the report.</span></span> <span data-ttu-id="15e43-130">アイテムレベルのセキュリティを使用するようにレポートを構成し、既定のロール割り当てを、そのレポートを必要とするユーザーだけがアクセスできるように変更してください。</span><span class="sxs-lookup"><span data-stu-id="15e43-130">Configure the report to use item-level security and replace the default role assignments with new ones that allow access to only those users that need it.</span></span>  
  
     <span data-ttu-id="15e43-131">既定では、ユーザーはフォルダー階層に表示されているレポートをすべて開くことができます。</span><span class="sxs-lookup"><span data-stu-id="15e43-131">By default, users can open any report that they can view in the folder hierarchy.</span></span> <span data-ttu-id="15e43-132">レポートをスナップショットとして実行するように構成していても、フォルダー内にあるそのレポート アイテムを表示できるユーザーがレポートを開いてしまう可能性があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-132">Even if you configure a report to run as a snapshot, users who can view the report item in a folder can open the report.</span></span> <span data-ttu-id="15e43-133">レポートのサイズが非常に大きい場合、ユーザーがレポート マネージャーでそのレポートを開いた際に、ブラウザーが応答しなくなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-133">If the report is very large, it might cause the browser to stop responding when a user opens the report in Report Manager.</span></span>  
  
## <a name="rendering-recommendations"></a><span data-ttu-id="15e43-134">表示に関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="15e43-134">Rendering Recommendations</span></span>  
 <span data-ttu-id="15e43-135">レポートの配信の構成に先立ち、どの表示クライアントでサイズの大きなドキュメントを処理できるかを把握しておくことが重要です。</span><span class="sxs-lookup"><span data-stu-id="15e43-135">Before you configure report distribution, it is important to know which rendering clients can accommodate large documents.</span></span> <span data-ttu-id="15e43-136">推奨される形式は、ソフト改ページを使用する既定の HTML 表示拡張機能ですが、ページ割り当てをサポートする形式であれば、任意の形式を選択できます。</span><span class="sxs-lookup"><span data-stu-id="15e43-136">The recommended format is the default HTML rendering extension with soft page breaks, but you can choose from any format that supports pagination.</span></span>  
  
 <span data-ttu-id="15e43-137">パフォーマンスとメモリの使用量は、表示形式ごとに異なります。</span><span class="sxs-lookup"><span data-stu-id="15e43-137">Performance and memory consumption varies for each rendering format.</span></span> <span data-ttu-id="15e43-138">選択した形式によって、同じレポートがさまざまなパフォーマンス レートで表示され、必要なメモリの容量も変わります。</span><span class="sxs-lookup"><span data-stu-id="15e43-138">The same report will render at different rates and require different amounts of memory depending on the format you select.</span></span> <span data-ttu-id="15e43-139">最も高速でメモリの使用量が少ない形式は、CSV、XML、および HTML です。</span><span class="sxs-lookup"><span data-stu-id="15e43-139">The fastest and least memory intensive formats include CSV, XML, and HTML.</span></span> <span data-ttu-id="15e43-140">最もパフォーマンスが低いのは PDF と Excel ですが、理由はそれぞれ異なります。</span><span class="sxs-lookup"><span data-stu-id="15e43-140">PDF and Excel have the slowest performance, but for different reasons.</span></span> <span data-ttu-id="15e43-141">PDF は CPU を集中的に使用しますが、Excel は RAM を集中的に使用します。</span><span class="sxs-lookup"><span data-stu-id="15e43-141">PDF is CPU-intensive, while Excel is RAM-intensive.</span></span> <span data-ttu-id="15e43-142">画像の表示は、2 つのグループの中間に分類されます。</span><span class="sxs-lookup"><span data-stu-id="15e43-142">Image rendering falls in-between the two groups.</span></span> <span data-ttu-id="15e43-143">形式は、レポートの配信方法を定義する際に、指定することができます。</span><span class="sxs-lookup"><span data-stu-id="15e43-143">You can specify the format when you define how the report is distributed.</span></span>  
  
## <a name="deployment-and-distribution-recommendations"></a><span data-ttu-id="15e43-144">配置および配信に関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="15e43-144">Deployment and Distribution Recommendations</span></span>  
 <span data-ttu-id="15e43-145">改ページを使用してレポートの表示を制御している場合は、サイズの大きなレポートを、通常のレポートと同じ方法で配置することができます。</span><span class="sxs-lookup"><span data-stu-id="15e43-145">If you are using page breaks to control report rendering, you can deploy a large report the same way you would deploy any report.</span></span> <span data-ttu-id="15e43-146">レポートへのアクセスは、レポート マネージャー、SharePoint Web パーツ、またはポータルや Web サイトに追加した URL を使用することで提供できます。</span><span class="sxs-lookup"><span data-stu-id="15e43-146">You can provide access to the report through Report Manager, a SharePoint Web part, or a URL that you add to a portal or Web site.</span></span> <span data-ttu-id="15e43-147">これらのすべての配置オプションは、以前に実行したレポートのスナップショットだけでなく、要求時アクセスもサポートします。</span><span class="sxs-lookup"><span data-stu-id="15e43-147">All of these deployment options support on demand access, aw well as a previously run report snapshot.</span></span>  
  
 <span data-ttu-id="15e43-148">これらの配置方法とは別に、レポートを個々のユーザーに配信する方法もあります。</span><span class="sxs-lookup"><span data-stu-id="15e43-148">An alternative deployment strategy is to distribute reports to individual users.</span></span> <span data-ttu-id="15e43-149">配信オプションを慎重に構成した上で、サブスクリプションを通じてサイズの大きなレポートを配信することができます。</span><span class="sxs-lookup"><span data-stu-id="15e43-149">You can distribute large reports through subscriptions if you are careful about how you configure delivery options.</span></span> <span data-ttu-id="15e43-150">レポートの配信には、標準のサブスクリプションまたはデータ ドリブン サブスクリプションのいずれかを使用できます。</span><span class="sxs-lookup"><span data-stu-id="15e43-150">You can use either a standard subscription or a data-driven subscription to deliver the report.</span></span> <span data-ttu-id="15e43-151">サブスクリプションおよび配信の推奨事項は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="15e43-151">Recommendations for subscription and delivery include the following:</span></span>  
  
-   <span data-ttu-id="15e43-152">Web アーカイブ (MHTML)、PDF、または Excel を使用するようにサブスクリプションを構成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-152">Configure a subscription to use Web archive (MHTML), PDF, or Excel.</span></span>  
  
-   <span data-ttu-id="15e43-153">PDF または Excel を使用する場合は、ファイル共有配信を使用するようにサブスクリプションを構成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-153">Configure a subscription to use file share delivery if you are using PDF or Excel.</span></span> <span data-ttu-id="15e43-154">レポートが配信されたら、ユーザーはデスクトップ アプリケーションを使用して、レポートを扱うことができます。</span><span class="sxs-lookup"><span data-stu-id="15e43-154">Once the report is delivered, you can use a desktop application to work with the report.</span></span> <span data-ttu-id="15e43-155">ファイル共有には、レポートを表示できるユーザーを指定するアクセス権を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="15e43-155">You must set permissions on the file share to determine who can view the report.</span></span>  
  
     <span data-ttu-id="15e43-156">レポートがファイル共有に配信されると、 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]による制御や保護は行えなくなることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="15e43-156">Note that once the report is on the file share, it is no longer controlled or secured by [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="15e43-157">レポートが更新された時点で通知されるようにするには、電子メール配信を使用して通知のみを送信する第 2 のサブスクリプションを作成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-157">If you want to be notified when the report is updated, create a second subscription that uses e-mail delivery to send a notification only.</span></span>  
  
 <span data-ttu-id="15e43-158">レポートを電子メールで配信する場合は、リンクを含むようにサブスクリプションを構成します。</span><span class="sxs-lookup"><span data-stu-id="15e43-158">If you want to use e-mail report delivery, configure the subscription to include a link.</span></span> <span data-ttu-id="15e43-159">レポートを添付ファイルとして送信することは避けてください。</span><span class="sxs-lookup"><span data-stu-id="15e43-159">Avoid sending the report as an attachment.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="15e43-160">参照</span><span class="sxs-lookup"><span data-stu-id="15e43-160">See Also</span></span>  
 <span data-ttu-id="15e43-161">[サブスクリプションと配信 &#40;Reporting Services&#41;](../subscriptions/subscriptions-and-delivery-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="15e43-161">[Subscriptions and Delivery &#40;Reporting Services&#41;](../subscriptions/subscriptions-and-delivery-reporting-services.md) </span></span>  
 <span data-ttu-id="15e43-162">[レポート処理プロパティの設定](set-report-processing-properties.md) </span><span class="sxs-lookup"><span data-stu-id="15e43-162">[Set Report Processing Properties](set-report-processing-properties.md) </span></span>  
 <span data-ttu-id="15e43-163">[レポート データ ソースに関する資格情報と接続情報を指定する](../report-data/specify-credential-and-connection-information-for-report-data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="15e43-163">[Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md) </span></span>  
 <span data-ttu-id="15e43-164">[レポート サーバー コンテンツの管理 &#40;SSRS ネイティブ モード&#41;](report-server-content-management-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="15e43-164">[Report Server Content Management &#40;SSRS Native Mode&#41;](report-server-content-management-ssrs-native-mode.md) </span></span>  
 [<span data-ttu-id="15e43-165">キャッシュの事前読み込み &#40;レポート マネージャー&#41;</span><span class="sxs-lookup"><span data-stu-id="15e43-165">Preload the Cache &#40;Report Manager&#41;</span></span>](preload-the-cache-report-manager.md)  
  
  
