---
title: レポート データ ソースに関する資格情報と接続情報を指定する | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- no credentials option [Reporting Services]
- impersonation [Reporting Services]
- user impersonation [Reporting Services]
- Windows authentication [Reporting Services]
- data sources [Reporting Services], security
- connection strings [Reporting Services]
- unattended report processing [Reporting Services]
- reports [Reporting Services], security
- remote data sources [Reporting Services]
- credentials [Reporting Services]
- authentication [Reporting Services]
- external data sources [Reporting Services]
- prompted credentials [Reporting Services]
- multiple connections
- stored credentials [Reporting Services]
- security [Reporting Services], data sources
- Windows integrated security [Reporting Services]
ms.assetid: fee1a663-a313-424a-aed2-5082bfd114b3
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 2d1e804282459972b21303cf795a9c3a88ea93d5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643196"
---
# <a name="specify-credential-and-connection-information-for-report-data-sources"></a><span data-ttu-id="bd8b2-102">レポート データ ソースに関する資格情報と接続情報を指定する</span><span class="sxs-lookup"><span data-stu-id="bd8b2-102">Specify Credential and Connection Information for Report Data Sources</span></span>
  <span data-ttu-id="bd8b2-103">レポート サーバーは、資格情報を使用して、レポートにコンテンツを提供したり、データ ドリブン サブスクリプションに受信者の情報を提供する外部データ ソースに接続します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-103">A report server uses credentials to connect to external data sources that provide content to reports or recipient information to a data-driven subscription.</span></span> <span data-ttu-id="bd8b2-104">Windows 認証、データベース認証、認証なし、またはカスタム認証を使用する資格情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-104">You can specify credentials that use Windows Authentication, database authentication, no authentication, or custom authentication.</span></span> <span data-ttu-id="bd8b2-105">ネットワーク経由で接続要求を送信するときに、レポート サーバーはユーザー アカウントまたは自動実行アカウントのいずれかの権限を借用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-105">When sending a connection request over the network, the report server will either impersonate a user account or the unattended execution account.</span></span> <span data-ttu-id="bd8b2-106">接続要求の実行時に使用されるセキュリティ コンテキストの詳細については、このトピックの「 [データ ソースの構成とネットワーク接続](#DataSourceConfigurationConnections) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-106">For more information about the security context under which a connection request is made, see [Data Source Configuration and Network Connections](#DataSourceConfigurationConnections) further on in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bd8b2-107">資格情報は、レポート サーバーにアクセスするユーザーを認証するためにも使用されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-107">Credentials are also used to authenticate users who access a report server.</span></span> <span data-ttu-id="bd8b2-108">レポート サーバーへのユーザーの認証に関する情報については、別のトピックで説明します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-108">Information about authenticating users to a report server is provided in another topic.</span></span>  
  
 <span data-ttu-id="bd8b2-109">レポートを作成すると、外部データ ソースへの接続が定義されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-109">The connection to an external data source is defined when you create the report.</span></span> <span data-ttu-id="bd8b2-110">レポートをパブリッシュした後は、この接続を個別に管理できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-110">It can be managed separately after the report is published.</span></span> <span data-ttu-id="bd8b2-111">動的な一覧からデータ ソースを選択できるようになる静的な接続文字列または式を指定できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-111">You can specify a static connection string or an expression that allows users to select a data source from a dynamic list.</span></span> <span data-ttu-id="bd8b2-112">データソースの種類と接続文字列を指定する方法の詳細については、「 [Reporting Services でのデータ接続、データソース、および接続](../data-connections-data-sources-and-connection-strings-in-reporting-services.md)文字列」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-112">For more information about how to specify a data source type and connection string, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span></span>  
  
## <a name="using-remote-data-sources"></a><span data-ttu-id="bd8b2-113">リモート データ ソースの使用</span><span class="sxs-lookup"><span data-stu-id="bd8b2-113">Using Remote Data Sources</span></span>  
 <span data-ttu-id="bd8b2-114">リモートのデータベース サーバーのデータをレポートに取得する場合、次の点を確認します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-114">If the report retrieves data from a remote database server, verify the following:</span></span>  
  
-   <span data-ttu-id="bd8b2-115">データベース サーバーに提供される資格情報が有効かどうか。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-115">The credentials provided to the database server are valid.</span></span> <span data-ttu-id="bd8b2-116">Windows ユーザー資格情報を使用している場合、ユーザーがサーバーとデータベースに対するアクセス許可を持っていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-116">If you are using Windows user credentials, make sure that the user has permission to the server and database.</span></span>  
  
-   <span data-ttu-id="bd8b2-117">データベース サーバーで使用するポートが開いている。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-117">Ports used by the database server are open.</span></span> <span data-ttu-id="bd8b2-118">外部コンピューター上の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] リレーショナル データベースにアクセスする場合、またはレポート サーバー データベースが外部の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスに置かれている場合は、外部コンピューターのポート 1433 および 1434 を開く必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-118">If you are accessing [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational databases on external computers, or if the report server database is on an external [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, you must open port 1433 and 1434 on the external computer.</span></span> <span data-ttu-id="bd8b2-119">ポートを開いた後、サーバーを必ず再起動してください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-119">Be sure to restart the server after you open ports.</span></span> <span data-ttu-id="bd8b2-120">詳しくは、「 [データベース エンジン アクセスを有効にするための Windows ファイアウォールを構成する](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-120">For more information, see [Configure a Windows Firewall for Database Engine Access](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span></span>  
  
-   <span data-ttu-id="bd8b2-121">リモート接続を有効にする。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-121">Remote connections must be enabled.</span></span> <span data-ttu-id="bd8b2-122">外部コンピューター上の SQL Server リレーショナル データベースにアクセスする場合、SQL Server 構成マネージャーを使用して、TCP によるリモート接続が有効であることを確認できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-122">If you are accessing SQL Server relational databases on external computers, you can use SQL Server Configuration Manager tool to verify that remote connections over TCP are enabled.</span></span>  
  
## <a name="ways-to-specify-credentials-for-connecting-to-remote-data-sources"></a><span data-ttu-id="bd8b2-123">リモート データ ソースへの接続に使用する資格情報の指定方法</span><span class="sxs-lookup"><span data-stu-id="bd8b2-123">Ways to Specify Credentials for Connecting to Remote Data Sources</span></span>  
 <span data-ttu-id="bd8b2-124">レポートにコンテンツを提供するデータ ソースは、通常リモート サーバーにホストされます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-124">The data sources that provide content to reports are usually hosted on remote servers.</span></span> <span data-ttu-id="bd8b2-125">レポートのデータを取得するには、ユーザーが事前に提供する一連の資格情報、または実行時に取得される一連の資格情報を使用して、レポート サーバーがリモート サーバーに接続する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-125">To retrieve data for a report, a report server must connect to the server using a set of credentials that you provide in advance or that are obtained at run time.</span></span> <span data-ttu-id="bd8b2-126">データ ソースを構成するときには、次の方法で資格情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-126">When configuring a data source, you can specify credentials in the following ways:</span></span>  
  
-   <span data-ttu-id="bd8b2-127">ユーザーに資格情報を要求する。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-127">Prompt the user for credentials.</span></span>  
  
-   <span data-ttu-id="bd8b2-128">資格情報を保存する。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-128">Store credentials.</span></span>  
  
-   <span data-ttu-id="bd8b2-129">Windows 統合セキュリティを使用する。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-129">Use Windows integrated security.</span></span>  
  
-   <span data-ttu-id="bd8b2-130">資格情報を使用しない。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-130">Use no credentials.</span></span>  
  
 <span data-ttu-id="bd8b2-131">ネットワーク環境によって、ユーザーがサポートできる接続の種類が決まります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-131">The network environment determines the kinds of connections you can support.</span></span> <span data-ttu-id="bd8b2-132">たとえば、Kerberos Version 5 プロトコルが有効になっている場合、Windows 認証で利用できる委任機能と権限の借用機能を使用して、複数のサーバーにまたがって接続をサポートできます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-132">For example, if the Kerberos version 5 protocol is enabled, you might be able to use the delegation and impersonation features available in Windows Authentication to support connections across multiple servers.</span></span> <span data-ttu-id="bd8b2-133">このようなセキュリティ機能がネットワークでサポートされていない場合は、接続の制限を回避する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-133">If your network does not support these security features, you will need to work around connection constraints.</span></span> <span data-ttu-id="bd8b2-134">委任機能と権限の借用機能が有効でない場合、Windows 資格情報の有効期限が切れる前に、1 つのコンピューター接続で Windows 資格情報を渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-134">If delegation and impersonation are not enabled, Windows credentials can be passed across one computer connection before they expire.</span></span> <span data-ttu-id="bd8b2-135">クライアント コンピューターからレポート サーバー コンピューターへのユーザー接続は、最初の接続としてカウントされます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-135">A user connection from a client computer to a report server computer counts as the first connection.</span></span> <span data-ttu-id="bd8b2-136">リモート サーバーからデータを取得するレポートをユーザーが開いた場合、そのログインは 2 回目の接続としてカウントされます。接続で統合セキュリティを使用するように指定している場合、委任機能が無効になっていると、そのログインが失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-136">If the user opens a report that retrieves data from a remote server, that login counts as a second connection and will fail if you specified the connection to use integrated security when delegation is not enabled.</span></span>  
  
 <span data-ttu-id="bd8b2-137">クライアント コンピューターから外部レポート データ ソースへのラウンドトリップを遂行するために複数の接続が必要な場合は、次の方法の中から選択して接続を正常に行います。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-137">If multiple connections are required to complete a round trip from the client computer to an external report data source, choose from the following strategies to make the connections succeed.</span></span>  
  
-   <span data-ttu-id="bd8b2-138">ドメインの委任機能と権限の借用機能を有効にして、資格情報を無制限に他のコンピューターに委任できるようにします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-138">Enable impersonation and delegation features in your domain so that credentials can be delegated to other computers without limit.</span></span>  
  
-   <span data-ttu-id="bd8b2-139">保存されている資格情報または要求された資格情報を使用して、レポート データの外部データ ソースに対してクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-139">Use stored credentials or prompted credentials to query external data sources for report data.</span></span> <span data-ttu-id="bd8b2-140">資格情報には Windows ドメイン アカウントまたはデータベース ログインのいずれかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-140">The credentials can be either a Windows domain account or a database login.</span></span>  
  
### <a name="prompted-credentials"></a><span data-ttu-id="bd8b2-141">資格情報の要求</span><span class="sxs-lookup"><span data-stu-id="bd8b2-141">Prompted Credentials</span></span>  
 <span data-ttu-id="bd8b2-142">要求された資格情報を使用するようにレポートのデータ ソース接続を構成した場合、レポートにアクセスするユーザーがデータを取得するには、それぞれがユーザー名とパスワードを入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-142">When you configure a report data source connection to use prompted credentials, each user who access the report must enter a user name and password to retrieve the data.</span></span> <span data-ttu-id="bd8b2-143">機密データを含むレポートには、この方法を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-143">This approach is recommended for reports that contain confidential data.</span></span> <span data-ttu-id="bd8b2-144">要求時に実行されるレポートでのみ、要求された資格情報を使用できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-144">Prompted credentials can be used only on reports that run on demand.</span></span> <span data-ttu-id="bd8b2-145">要求される資格情報は、Windows アカウントまたはデータベース ログインのいずれかです。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-145">Prompted credentials can be a Windows account or a database login.</span></span> <span data-ttu-id="bd8b2-146">Windows 認証を使用するには、 **[データ ソースへの接続時に Windows 資格情報として使用する]** チェック ボックスをオンにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-146">To use Windows Authentication, you must select **Use as Windows credentials when connecting to the data source**.</span></span> <span data-ttu-id="bd8b2-147">それ以外の場合、ユーザー認証のためにレポート サーバーからデータベース サーバーに資格情報が渡されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-147">Otherwise, the report server passes credentials to the database server for user authentication.</span></span> <span data-ttu-id="bd8b2-148">指定された資格情報をデータベース サーバーで認証できない場合、接続が失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-148">If the database server cannot authenticate the credentials that you provide, the connection will fail.</span></span>  
  
### <a name="windows-integrated-security"></a><span data-ttu-id="bd8b2-149">Windows 統合セキュリティ</span><span class="sxs-lookup"><span data-stu-id="bd8b2-149">Windows Integrated Security</span></span>  
 <span data-ttu-id="bd8b2-150">**[Windows 統合セキュリティ]** オプションがオンになっている場合、レポート サーバーから外部データ ソースをホストしているサーバーに、レポートにアクセスしているユーザーのセキュリティ トークンが渡されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-150">When you use the **Windows Integrated Security** option, the report server passes the security token of the user accessing the report to the server hosting the external data source.</span></span> <span data-ttu-id="bd8b2-151">この場合、ユーザーはユーザー名やパスワードを入力することを要求されません。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-151">In this case, the user is not prompted to type a user name or password.</span></span> <span data-ttu-id="bd8b2-152">権限の借用機能と委任機能が有効な場合、この方法をお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-152">This approach is recommended if impersonation and delegation features are enabled.</span></span> <span data-ttu-id="bd8b2-153">これらの機能が無効な場合、アクセスするすべてのサーバーが同じコンピューターに配置されている場合にのみ、この方法を使用してください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-153">If these features are not enabled, you should only use this approach if all the servers that you want to access are located on the same computer.</span></span>  
  
### <a name="stored-credentials"></a><span data-ttu-id="bd8b2-154">保存された資格情報</span><span class="sxs-lookup"><span data-stu-id="bd8b2-154">Stored Credentials</span></span>  
 <span data-ttu-id="bd8b2-155">外部データ ソースへのアクセスに使用する資格情報を保存することができます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-155">You can store the credentials used to access an external data source.</span></span> <span data-ttu-id="bd8b2-156">資格情報は、暗号化を元に戻せる状態でレポート サーバー データベースに保存されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-156">Credentials are stored in reversible encryption in the report server database.</span></span> <span data-ttu-id="bd8b2-157">レポートで使用されるデータ ソースごとに、1 セットの保存された資格情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-157">You can specify one set of stored credentials for each data source used in a report.</span></span> <span data-ttu-id="bd8b2-158">提供する資格情報によって、どのユーザーがレポートを実行しても同じデータが取得されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-158">The credentials you provide retrieve the same data for every user who runs the report.</span></span>  
  
 <span data-ttu-id="bd8b2-159">リモート データベース サーバーにアクセスするための戦略の一環として、保存された資格情報を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-159">Stored credentials are recommended as part of a strategy for accessing remote database servers.</span></span> <span data-ttu-id="bd8b2-160">サブスクリプションをサポートする場合、またはレポート履歴の生成やレポート スナップショットの更新をスケジュールする場合は、保存された資格情報が必要です。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-160">Stored credentials are required if you want to support subscriptions, or schedule report history generation or report snapshot refreshes.</span></span> <span data-ttu-id="bd8b2-161">レポートをバックグラウンド処理として実行する場合は、レポート サーバーがレポートを実行するエージェントです。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-161">When a report runs as a background process, the report server is the agent that executes the report.</span></span> <span data-ttu-id="bd8b2-162">指定されたユーザー コンテキストがないため、レポート サーバーはデータ ソースに接続するためにレポート サーバー データベースから資格情報を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-162">Because there is no user context in place, the report server must get credential information from the report server database in order to connect to a data source.</span></span>  
  
 <span data-ttu-id="bd8b2-163">指定するユーザー名とパスワードは、Windows 認証またはデータベース ログインのいずれかです。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-163">The user name and password that you specify can be Windows credentials or a database login.</span></span> <span data-ttu-id="bd8b2-164">Windows 資格情報を指定する場合、レポート サーバーによって、後続の認証用に Windows に資格情報が渡されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-164">If you specify Windows credentials, the report server passes the credentials to Windows for subsequent authentication.</span></span> <span data-ttu-id="bd8b2-165">それ以外の場合、認証用にデータベース サーバーに資格情報が渡されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-165">Otherwise, the credentials are passed to the database server for authentication.</span></span>  
  
#### <a name="how-to-grant-allow-log-on-locally-permissions-to-domain-user-accounts"></a><span data-ttu-id="bd8b2-166">ドメイン ユーザー アカウントに "ローカル ログオンを許可する" 権限を付与する方法</span><span class="sxs-lookup"><span data-stu-id="bd8b2-166">How to Grant "Allow log on locally" Permissions to Domain User Accounts</span></span>  
 <span data-ttu-id="bd8b2-167">保存済みの資格情報を使用して外部データ ソースに接続する場合、Windows ドメイン ユーザー アカウントにローカル ログオン権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-167">If you use stored credentials to connect to an external data source, the Windows domain user account must have permission to log on locally.</span></span> <span data-ttu-id="bd8b2-168">レポート サーバーはこの権限を利用して、レポート サーバー上のユーザーの権限を借用し、その借用元ユーザーとして外部データ ソースに要求を送信します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-168">This permission allows the report server to impersonate the user on the report server and send the request to the external data source as that impersonated user.</span></span>  
  
 <span data-ttu-id="bd8b2-169">この権限を付与するには、次の手順に従います。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-169">To grant this permission, do the following:</span></span>  
  
1.  <span data-ttu-id="bd8b2-170">レポート サーバー コンピューターで、 **[管理ツール]** の **[ローカル セキュリティ ポリシー]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-170">On the report server computer, in **Administrative Tools**, open **Local Security Policy**.</span></span>  
  
2.  <span data-ttu-id="bd8b2-171">**[セキュリティの設定]** の下の **[ローカル ポリシー]** を展開し、 **[ユーザー権利の割り当て]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-171">Under **Security Settings**, expand **Local Policies**, and then click **User Rights Assignment**.</span></span>  
  
3.  <span data-ttu-id="bd8b2-172">詳細ペインで **[ローカル ログオンを許可する]** を右クリックし、 **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-172">In the details pane, right-click **Allow log on locally** and then right-click **Properties**.</span></span>  
  
4.  <span data-ttu-id="bd8b2-173">**[ユーザーまたはグループの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-173">Click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="bd8b2-174">**[場所]** をクリックし、検索するドメインまたは別の場所を指定して、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-174">Click **Locations**, specify a domain or other location that you want to search, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="bd8b2-175">対話的なログインを許可する Windows アカウントを入力し、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-175">Enter the Windows account for which you want to allow interactive login, and then click **OK**.</span></span>  
  
7.  <span data-ttu-id="bd8b2-176">**[ローカル ログオンを許可するのプロパティ]** ダイアログ ボックスで、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-176">In the **Allow log on locally Properties** dialog box, click **OK**.</span></span>  
  
8.  <span data-ttu-id="bd8b2-177">選択したアカウントに、拒否する権限がないことを確認します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-177">Verify that the account you selected does not also have deny permissions:</span></span>  
  
    1.  <span data-ttu-id="bd8b2-178">**[ローカルでログオンを拒否する]** を右クリックし、 **[プロパティ]** を右クリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-178">Right-click **Deny log on locally** and then right-click **Properties**.</span></span>  
  
    2.  <span data-ttu-id="bd8b2-179">該当するアカウントが表示されている場合は、そのアカウントを選択して **[削除]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-179">If the account is listed, select it and then click **Remove**.</span></span>  
  
#### <a name="using-impersonation-with-stored-credentials"></a><span data-ttu-id="bd8b2-180">保存された資格情報での権限借用の使用</span><span class="sxs-lookup"><span data-stu-id="bd8b2-180">Using Impersonation with Stored Credentials</span></span>  
 <span data-ttu-id="bd8b2-181">資格情報を使用して、別のユーザーの ID の権限を借用することもできます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-181">You can also use credentials to impersonate the identity of another user.</span></span> <span data-ttu-id="bd8b2-182">SQL Server データベースの場合、権限借用のオプションを使用すると、 [SETUSER](/sql/t-sql/statements/setuser-transact-sql) 関数が設定されます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-182">For SQL Server databases, using the impersonation options sets the [SETUSER](/sql/t-sql/statements/setuser-transact-sql) function.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="bd8b2-183">サブスクリプションをサポートするレポート、またはスケジュールを使用してレポート履歴を生成したりレポート実行スナップショットを更新するレポートには権限の借用を使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-183">Do not use impersonation for reports that support subscriptions or that use schedules to generate report history or refresh a report execution snapshot.</span></span>  
  
### <a name="no-credentials"></a><span data-ttu-id="bd8b2-184">資格情報を使用しない</span><span class="sxs-lookup"><span data-stu-id="bd8b2-184">No Credentials</span></span>  
 <span data-ttu-id="bd8b2-185">資格情報を使用しないようにデータ ソース接続を構成できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-185">You can configure a data source connection to use no credentials.</span></span> <span data-ttu-id="bd8b2-186">常に資格情報を使用してデータ ソースにアクセスすることが推奨の方法です。資格情報を使用しない方法はお勧めしません。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-186">Microsoft recommends that you always use credentials to access a data sources; using no credentials is not advised.</span></span> <span data-ttu-id="bd8b2-187">ただし、以下の場合、資格情報を使用しないでレポートを実行することができます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-187">However, you may choose to run a report with no credentials in the following cases:</span></span>  
  
-   <span data-ttu-id="bd8b2-188">リモート データ ソースで資格情報が必要とされない。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-188">The remote data source does not require credentials.</span></span>  
  
-   <span data-ttu-id="bd8b2-189">資格情報が接続文字列で渡される (接続がセキュリティで保護されている場合にのみお勧めします)。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-189">The credentials are passed in the connection string (recommended only for secure connections).</span></span>  
  
-   <span data-ttu-id="bd8b2-190">レポートが、親レポートの資格情報を使用するサブレポートである。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-190">The report is a subreport that uses the credentials of the parent report.</span></span>  
  
 <span data-ttu-id="bd8b2-191">このような条件下では、レポート サーバーは、事前に定義する必要がある自動実行アカウントを使用して、リモート データ ソースに接続します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-191">Under these conditions, the report server connects to a remote data source using the unattended execution account that you must define in advance.</span></span> <span data-ttu-id="bd8b2-192">レポート サーバーはそのサービス資格情報を使用してリモート サーバーに接続しないため、レポート サーバーが接続のために使用できるアカウントを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-192">Because the report server does not connect to a remote server using its service credentials, you must specify an account that the report server can use to make the connection.</span></span> <span data-ttu-id="bd8b2-193">このアカウントの作成の詳細については、「[自動実行アカウントの構成 &#40;SSRS 構成マネージャー&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-193">For more information about creating this account, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span></span>  
  
##  <a name="data-source-configuration-and-network-connections"></a><a name="DataSourceConfigurationConnections"></a> <span data-ttu-id="bd8b2-194">データ ソースの構成とネットワーク接続</span><span class="sxs-lookup"><span data-stu-id="bd8b2-194">Data Source Configuration and Network Connections</span></span>  
 <span data-ttu-id="bd8b2-195">次の表は、資格情報の種類とデータ処理拡張機能の特定の組み合わせにおける接続方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-195">The following table shows how connections are made for specific combinations of credential types and data processing extensions.</span></span> <span data-ttu-id="bd8b2-196">カスタム データ処理拡張機能を使用している場合は、「 [カスタム データ処理拡張機能の接続を指定する](specify-connections-for-custom-data-processing-extensions.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-196">If you are using a custom data processing extension, see [Specify Connections for Custom Data Processing Extensions](specify-connections-for-custom-data-processing-extensions.md).</span></span>  
  
|<span data-ttu-id="bd8b2-197">**Type**</span><span class="sxs-lookup"><span data-stu-id="bd8b2-197">**Type**</span></span>|<span data-ttu-id="bd8b2-198">**ネットワーク接続のコンテキスト**</span><span class="sxs-lookup"><span data-stu-id="bd8b2-198">**Context for network connection**</span></span>|<span data-ttu-id="bd8b2-199">**データ ソースの種類**</span><span class="sxs-lookup"><span data-stu-id="bd8b2-199">**Data Source Types**</span></span><br /><br /> <span data-ttu-id="bd8b2-200">**(SQL Server、Oracle、ODBC、OLE DB、Analysis Services、XML、SAP NetWeaver BI、Hyperion Essbase)**</span><span class="sxs-lookup"><span data-stu-id="bd8b2-200">**(SQL Server, Oracle, ODBC, OLE DB, Analysis Services, XML, SAP NetWeaver BI, Hyperion Essbase)**</span></span>|  
|--------------|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="bd8b2-201">統合セキュリティ</span><span class="sxs-lookup"><span data-stu-id="bd8b2-201">Integrated security</span></span>|<span data-ttu-id="bd8b2-202">現在のユーザーを借用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-202">Impersonate the current user</span></span>|<span data-ttu-id="bd8b2-203">すべてのデータ ソースの種類で、現在のユーザー アカウントを使用して接続します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-203">For all data source types, connect using the current user account.</span></span>|  
|<span data-ttu-id="bd8b2-204">Windows 資格情報</span><span class="sxs-lookup"><span data-stu-id="bd8b2-204">Windows credentials</span></span>|<span data-ttu-id="bd8b2-205">指定したユーザーの権限を借用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-205">Impersonate the specified user</span></span>|<span data-ttu-id="bd8b2-206">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、Oracle、ODBC、および OLE DB の場合 : 権限を借用したユーザー アカウントを使用して接続します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-206">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Oracle, ODBC, and OLE DB: connect using the impersonated user account.</span></span>|  
|<span data-ttu-id="bd8b2-207">データベース資格情報</span><span class="sxs-lookup"><span data-stu-id="bd8b2-207">Database credentials</span></span>|<span data-ttu-id="bd8b2-208">自動実行アカウントまたはサービス アカウントの権限を借用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-208">Impersonate the unattended execution account or the service account.</span></span><br /><br /> <span data-ttu-id="bd8b2-209">(Reporting Services は、サービス ID を使用して接続要求を送信する際に管理者権限を削除します。)</span><span class="sxs-lookup"><span data-stu-id="bd8b2-209">(Reporting Services removes administrator permissions when sending the connection request using the service identity).</span></span>|<span data-ttu-id="bd8b2-210">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、Oracle、ODBC、OLE DB の場合:</span><span class="sxs-lookup"><span data-stu-id="bd8b2-210">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Oracle, ODBC, and OLE DB:</span></span><br /><br /> <span data-ttu-id="bd8b2-211">ユーザー名とパスワードを接続文字列に追加します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-211">Append the user name and password on the connection string.</span></span><br /><br /> <span data-ttu-id="bd8b2-212">[!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]の場合:</span><span class="sxs-lookup"><span data-stu-id="bd8b2-212">For [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]:</span></span><br /><br /> <span data-ttu-id="bd8b2-213">TCP/IP プロトコルを使用している場合は、接続が正常に行われます。それ以外の場合は、失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-213">The connection succeeds if you are using the TCP/IP protocol, otherwise it fails.</span></span><br /><br /> <span data-ttu-id="bd8b2-214">XML の場合 :</span><span class="sxs-lookup"><span data-stu-id="bd8b2-214">For XML:</span></span><br /><br /> <span data-ttu-id="bd8b2-215">データベース資格情報を使用している場合は、レポート サーバーで接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-215">Fail the connection on the report server if database credentials are used.</span></span>|  
|<span data-ttu-id="bd8b2-216">なし</span><span class="sxs-lookup"><span data-stu-id="bd8b2-216">None</span></span>|<span data-ttu-id="bd8b2-217">自動実行アカウントの権限を借用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-217">Impersonate the unattended execution account.</span></span>|<span data-ttu-id="bd8b2-218">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、Oracle、ODBC、OLE DB の場合:</span><span class="sxs-lookup"><span data-stu-id="bd8b2-218">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Oracle, ODBC, and OLE DB:</span></span><br /><br /> <span data-ttu-id="bd8b2-219">接続文字列で定義されている資格情報を使用します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-219">Use the credentials defined in the connection string.</span></span> <span data-ttu-id="bd8b2-220">自動実行アカウントが未定義の場合は、レポート サーバーで接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-220">The connection fails on the report server if the unattended execution account is undefined.</span></span><br /><br /> <span data-ttu-id="bd8b2-221">[!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]の場合:</span><span class="sxs-lookup"><span data-stu-id="bd8b2-221">For [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]:</span></span><br /><br /> <span data-ttu-id="bd8b2-222">自動実行アカウントが定義されていても、資格情報が指定されていない場合は、必ず接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-222">Always fail the connection if no credentials are specified, even if the unattended execution account is defined.</span></span><br /><br /> <span data-ttu-id="bd8b2-223">XML の場合 :</span><span class="sxs-lookup"><span data-stu-id="bd8b2-223">For XML:</span></span><br /><br /> <span data-ttu-id="bd8b2-224">自動実行アカウントが定義されている場合は、匿名ユーザーとして接続します。それ以外の場合は、接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-224">Connect as Anonymous User if the unattended execution account is defined; otherwise, fail the connection.</span></span>|  
  
## <a name="setting-credentials-programmatically"></a><span data-ttu-id="bd8b2-225">プログラム上での資格情報の設定</span><span class="sxs-lookup"><span data-stu-id="bd8b2-225">Setting Credentials Programmatically</span></span>  
 <span data-ttu-id="bd8b2-226">コード内で資格情報を設定して、レポートおよびレポート サーバーへのアクセスを制御できます。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-226">You can set credentials in your code to control access to reports and to the report server.</span></span> <span data-ttu-id="bd8b2-227">詳しくは、「 [データ ソースと接続のメソッド](../report-server-web-service/methods/data-sources-and-connection-methods.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="bd8b2-227">For more information, see [Data Sources and Connection Methods](../report-server-web-service/methods/data-sources-and-connection-methods.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bd8b2-228">参照</span><span class="sxs-lookup"><span data-stu-id="bd8b2-228">See Also</span></span>  
 <span data-ttu-id="bd8b2-229">[Reporting Services &#40;SSRS&#41;でサポートされるデータソース](../create-deploy-and-manage-mobile-and-paginated-reports.md) </span><span class="sxs-lookup"><span data-stu-id="bd8b2-229">[Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md) </span></span>  
 <span data-ttu-id="bd8b2-230">[Reporting Services のデータ接続、データソース、および接続文字列](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="bd8b2-230">[Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span></span>  
 <span data-ttu-id="bd8b2-231">[レポートデータソースの管理](../../integration-services/connection-manager/data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="bd8b2-231">[Manage Report Data Sources](../../integration-services/connection-manager/data-sources.md) </span></span>  
 <span data-ttu-id="bd8b2-232">[レポート マネージャー &#40;SSRS ネイティブ モード&#41;](../report-manager-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="bd8b2-232">[Report Manager  &#40;SSRS Native Mode&#41;](../report-manager-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="bd8b2-233">[共有データソース &#40;レポートマネージャーの作成、削除、または変更&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="bd8b2-233">[Create, Delete, or Modify a Shared Data Source &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span></span>  
 [<span data-ttu-id="bd8b2-234">レポートのデータ ソースのプロパティを構成する (レポート マネージャー)</span><span class="sxs-lookup"><span data-stu-id="bd8b2-234">Configure Data Source Properties for a Report  &#40;Report Manager&#41;</span></span>](configure-data-source-properties-for-a-report-report-manager.md)  
  
  
