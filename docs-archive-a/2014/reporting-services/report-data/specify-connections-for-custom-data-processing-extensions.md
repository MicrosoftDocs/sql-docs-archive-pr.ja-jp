---
title: カスタム データ処理拡張機能の接続を指定する | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- custom data processing extensions [Reporting Services]
- IDbConnection interface, connection strings
- impersonation [Reporting Services]
- IDbConnectionExtension interface, connection strings
- data sources [Reporting Services], security
- connection strings [Reporting Services]
- credentials [Reporting Services]
- authentication [Reporting Services]
- external data sources [Reporting Services]
- data processing extensions [Reporting Services], connections
ms.assetid: 2cddc9ea-0e28-4350-80ae-332412908e47
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 4f870baf84f3412fea0a217f034b6d74e7b6cb93
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738010"
---
# <a name="specify-connections-for-custom-data-processing-extensions"></a><span data-ttu-id="a395f-102">カスタム データ処理拡張機能の接続を指定する</span><span class="sxs-lookup"><span data-stu-id="a395f-102">Specify Connections for Custom Data Processing Extensions</span></span>
  <span data-ttu-id="a395f-103">サード パーティ製のカスタム データ処理拡張機能をレポート サーバー上で作成または使用して、サポートされているデータ ソースのデータ処理能力を向上したり、 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] の既定のインストールで使用できないその他の種類のデータ ソースをサポートしたりできます。</span><span class="sxs-lookup"><span data-stu-id="a395f-103">You can create or use third-party custom data processing extensions on a report server to enhance the data processing capability of supported data sources, or to support additional types of data sources that are not available in a default [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation.</span></span> <span data-ttu-id="a395f-104">接続の処理方法は実装によって異なります。</span><span class="sxs-lookup"><span data-stu-id="a395f-104">Connections are handled differently depending on the implementation.</span></span> <span data-ttu-id="a395f-105">データ処理拡張機能に使用できる実装は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="a395f-105">The following implementations are available for data processing extensions:</span></span>  
  
-   <span data-ttu-id="a395f-106">カスタム [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] データ プロバイダー (DB2.NET、Oracle、ODP.NET、または Teradata データ ソースからデータへアクセスしている場合は、カスタム .NET データ プロバイダーを使用している可能性があります)</span><span class="sxs-lookup"><span data-stu-id="a395f-106">Custom [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] data providers (if you are accessing data from DB2.NET, Oracle, ODP.NET, or Teradata data sources, you might be using a custom .NET data provider)</span></span>  
  
-   <span data-ttu-id="a395f-107"><xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> をサポートするカスタム データ処理拡張機能</span><span class="sxs-lookup"><span data-stu-id="a395f-107">Custom data processing extensions that support <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection></span></span>  
  
-   <span data-ttu-id="a395f-108"><xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> をサポートするカスタム データ処理拡張機能</span><span class="sxs-lookup"><span data-stu-id="a395f-108">Custom data processing extensions that support <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension></span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a395f-109">カスタム データ処理拡張機能の実装方法はサード パーティ プロバイダーに問い合わせてください。</span><span class="sxs-lookup"><span data-stu-id="a395f-109">Check with your third-party provider to find out how your custom data processing extension is implemented.</span></span>  
  
## <a name="impersonation-and-custom-data-processing-extensions"></a><span data-ttu-id="a395f-110">権限借用とカスタム データ処理拡張機能</span><span class="sxs-lookup"><span data-stu-id="a395f-110">Impersonation and Custom Data Processing Extensions</span></span>  
 <span data-ttu-id="a395f-111">権限借用を使用してカスタム データ処理拡張機能がデータ ソースへ接続する場合は、 <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> または <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> のインターフェイスで Open メソッドを使用して要求を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="a395f-111">If your custom data processing extension connects to data sources using impersonation, you must use the Open method on either the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> or <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> interfaces to make the request.</span></span> <span data-ttu-id="a395f-112">または、ユーザー ID オブジェクト (System.Security.Principal.WindowsIdentity) を格納後、他のデータ処理拡張機能 API でそのユーザー ID オブジェクトを再利用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-112">Alternately, you can store the user identity object (System.Security.Principal.WindowsIdentity) and then reuse it in the other data processing extension APIs.</span></span>  
  
 <span data-ttu-id="a395f-113">以前のリリースの [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]では、すべてのカスタム データ処理拡張機能はユーザーの権限借用により呼び出されました。</span><span class="sxs-lookup"><span data-stu-id="a395f-113">In previous releases of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], all custom data processing extensions were called under user impersonation.</span></span> <span data-ttu-id="a395f-114">このリリースでは、ユーザーの権限を借用している間に Open メソッドのみ呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-114">In this release, only the Open method will be called while impersonating the user.</span></span> <span data-ttu-id="a395f-115">統合セキュリティを必要とする既存のデータ処理拡張機能の場合は、Open メソッドを使用するように、またはユーザー ID オブジェクトを格納するようにコードを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a395f-115">If you have an existing data processing extension that requires integrated security, you must modify your code to use the Open method or store the user identity object.</span></span>  
  
## <a name="connections-for-custom-net-framework-data-providers"></a><span data-ttu-id="a395f-116">カスタム .NET Framework データ プロバイダーの接続</span><span class="sxs-lookup"><span data-stu-id="a395f-116">Connections for Custom .NET Framework Data Providers</span></span>  
 <span data-ttu-id="a395f-117">レポートを構成して特定のデータ ソースを使用する場合、データ ソースの種類、接続文字列、およびデータ ソースへのアクセスに使用される資格情報を決定するプロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="a395f-117">When configuring a report to use a specific data source, you set properties that determine the data source type, connection string, and credentials that are used to access the data source.</span></span> <span data-ttu-id="a395f-118">次の表では、 [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] データ プロバイダーでサポートされている資格情報の種類を示します。</span><span class="sxs-lookup"><span data-stu-id="a395f-118">The following table describes the credential types that are supported for [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] data providers.</span></span> <span data-ttu-id="a395f-119">レポート データ ソースのプロパティの設定の詳細については、「 [レポート データ ソースに関する資格情報と接続情報を指定する](specify-credential-and-connection-information-for-report-data-sources.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a395f-119">For more information about setting report data source properties, see [Specify Credential and Connection Information for Report Data Sources](specify-credential-and-connection-information-for-report-data-sources.md).</span></span>  
  
|<span data-ttu-id="a395f-120">[資格情報]</span><span class="sxs-lookup"><span data-stu-id="a395f-120">Credentials</span></span>|<span data-ttu-id="a395f-121">接続</span><span class="sxs-lookup"><span data-stu-id="a395f-121">Connections</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="a395f-122">統合セキュリティ</span><span class="sxs-lookup"><span data-stu-id="a395f-122">Integrated security</span></span>|<span data-ttu-id="a395f-123">データ プロバイダーがこの資格情報をサポートする場合は、Windows 統合セキュリティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-123">If your data provider supports it, you can use Windows integrated security.</span></span> <span data-ttu-id="a395f-124">現在のユーザーの資格情報を使用して要求が送信されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-124">The request is sent using the credentials of the current user.</span></span><br /><br /> <span data-ttu-id="a395f-125">接続文字列を定義する場合は、統合セキュリティを指定する引数を指定してください (たとえば、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータ ソースへ接続する場合は接続文字列に `Integrated Security=SSPI` を含めます)。</span><span class="sxs-lookup"><span data-stu-id="a395f-125">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="a395f-126">[Windows 認証]</span><span class="sxs-lookup"><span data-stu-id="a395f-126">Windows Authentication</span></span>|<span data-ttu-id="a395f-127">データ プロバイダーがこの資格情報をサポートする場合は、Windows ドメイン ユーザー アカウントを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-127">If your data provider supports it, you can use a Windows domain user account.</span></span> <span data-ttu-id="a395f-128">レポート サーバーでは、データ処理拡張機能が呼び出される前にユーザー アカウントの権限が借用されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-128">The report server impersonates the user account before the data processing extension is called.</span></span><br /><br /> <span data-ttu-id="a395f-129">接続文字列を定義する場合は、統合セキュリティを指定する引数を指定してください (たとえば、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータ ソースへ接続する場合は接続文字列に `Integrated Security=SSPI` を含めます)。</span><span class="sxs-lookup"><span data-stu-id="a395f-129">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="a395f-130">データベース資格情報</span><span class="sxs-lookup"><span data-stu-id="a395f-130">Database credentials</span></span>|<span data-ttu-id="a395f-131">データベース認証は、カスタム .NET データ プロバイダー経由の接続に対してはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="a395f-131">Database authentication is not supported for connections made through a custom .NET data provider.</span></span> <span data-ttu-id="a395f-132">すべての場合において、レポート サーバーは接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="a395f-132">The report server will fail the connection in all cases.</span></span>|  
|<span data-ttu-id="a395f-133">資格情報なし</span><span class="sxs-lookup"><span data-stu-id="a395f-133">No credentials</span></span>|<span data-ttu-id="a395f-134">カスタム .NET データ プロバイダーでは、資格情報なしのオプションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-134">You can use the no credentials option with custom .NET data providers.</span></span> <span data-ttu-id="a395f-135">自動実行アカウントが指定されている場合、使用する資格情報は接続文字列によって決定されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-135">If the unattended execution account is specified, the connection string determines the credentials that are used.</span></span> <span data-ttu-id="a395f-136">レポート サーバーでは、自動実行アカウントの権限が借用され、接続が行われます。</span><span class="sxs-lookup"><span data-stu-id="a395f-136">The report server impersonates the unattended execution account to make the connection.</span></span><br /><br /> <span data-ttu-id="a395f-137">自動実行アカウントが定義されていない場合、レポート サーバーは接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="a395f-137">If the unattended execution account is not defined, the report server will fail the connection.</span></span> <span data-ttu-id="a395f-138">アカウントの定義の詳細については、「 [自動実行アカウントの構成 (SSRS 構成マネージャー)](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a395f-138">For more information about defining the account, see [Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md).</span></span>|  
  
## <a name="connections-for-idbconnection"></a><span data-ttu-id="a395f-139">IDbConnection の接続</span><span class="sxs-lookup"><span data-stu-id="a395f-139">Connections for IDbConnection</span></span>  
 <span data-ttu-id="a395f-140"><xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> のみサポートするカスタム データ処理拡張機能を使用する場合、次の方法で接続を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a395f-140">If you are using a custom data processing extension that only supports <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection>, you must specify the connection in the following way:</span></span>  
  
1.  <span data-ttu-id="a395f-141">自動実行アカウントを構成する。</span><span class="sxs-lookup"><span data-stu-id="a395f-141">Configure the unattended execution account.</span></span> <span data-ttu-id="a395f-142">`IDbConnection` を使用する接続を行うためにはこのアカウントを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a395f-142">Configuring this account is required for connections made using `IDbConnection`.</span></span> <span data-ttu-id="a395f-143">レポート サーバーでは、接続時にアカウントの権限が借用されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-143">The report server impersonates the account when making the connection.</span></span>  
  
2.  <span data-ttu-id="a395f-144">**[資格情報なし]** を使用するためにデータ ソース プロパティをレポート上に構成します。</span><span class="sxs-lookup"><span data-stu-id="a395f-144">Configure the data source properties on the report to use **No credentials**.</span></span>  
  
3.  <span data-ttu-id="a395f-145">データ ソースへの接続に使用した資格情報を接続文字列に指定します。</span><span class="sxs-lookup"><span data-stu-id="a395f-145">Put the credentials used to connect to the data source in the connection string.</span></span>  
  
 <span data-ttu-id="a395f-146">`IDbConnection` を使用する場合には、統合セキュリティ、Windows ユーザー アカウント、およびデータベース資格情報はサポートされません。</span><span class="sxs-lookup"><span data-stu-id="a395f-146">When using `IDbConnection`, the following credential types are not supported: integrated security, Windows user accounts, and database credentials.</span></span> <span data-ttu-id="a395f-147">データ ソース接続にこれらのオプションを使用した場合、レポート サーバーは接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="a395f-147">If a data source connection uses these options, the connection will fail on the report server.</span></span>  
  
## <a name="connections-for-idbconnectionextension"></a><span data-ttu-id="a395f-148">IDbConnectionExtension の接続</span><span class="sxs-lookup"><span data-stu-id="a395f-148">Connections for IDbConnectionExtension</span></span>  
 <span data-ttu-id="a395f-149">カスタム データ処理拡張機能を使用し、 <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>がサポートされる場合、次の方法で接続を指定できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-149">If you are using a custom data processing extension and supports, <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, you can specify the connection in the following ways:</span></span>  
  
|<span data-ttu-id="a395f-150">[資格情報]</span><span class="sxs-lookup"><span data-stu-id="a395f-150">Credentials</span></span>|<span data-ttu-id="a395f-151">接続</span><span class="sxs-lookup"><span data-stu-id="a395f-151">Connections</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="a395f-152">統合セキュリティ</span><span class="sxs-lookup"><span data-stu-id="a395f-152">Integrated security</span></span>|<span data-ttu-id="a395f-153">データ プロバイダーがこの資格情報をサポートする場合は、`IDbConnectionExtension` を使用するカスタム データ処理拡張機能を持つ Windows 統合セキュリティを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-153">If your data provider supports it, you can use Windows integrated security with custom data processing extensions that use `IDbConnectionExtension`.</span></span><br /><br /> <span data-ttu-id="a395f-154">接続文字列を定義する場合は、統合セキュリティを指定する引数を指定してください (たとえば、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータ ソースへ接続する場合は接続文字列に `Integrated Security=SSPI` を含めます)。</span><span class="sxs-lookup"><span data-stu-id="a395f-154">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="a395f-155">[Windows 認証]</span><span class="sxs-lookup"><span data-stu-id="a395f-155">Windows Authentication</span></span>|<span data-ttu-id="a395f-156">データ プロバイダーがこの資格情報をサポートする場合は、`IDbConnectionExtension` を使用するカスタム データ処理拡張機能の Windows ドメイン ユーザー アカウントを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-156">If your data provider supports it, you can use a Windows domain user account for custom data processing extensions that use `IDbConnectionExtension`.</span></span><br /><br /> <span data-ttu-id="a395f-157">レポート サーバーでは、データ処理拡張機能が呼び出される前にユーザー アカウントの権限が借用されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-157">The report server impersonates the user account before the data processing extension is called.</span></span> <span data-ttu-id="a395f-158">接続文字列を定義する場合は、統合セキュリティを指定する引数を指定してください (たとえば、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータ ソースへ接続する場合は接続文字列に `Integrated Security=SSPI` を含めます)。</span><span class="sxs-lookup"><span data-stu-id="a395f-158">When defining the connection string, be sure to include arguments that specify integrated security (for example, a connection to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source might include `Integrated Security=SSPI` on the connection string).</span></span>|  
|<span data-ttu-id="a395f-159">データベース資格情報</span><span class="sxs-lookup"><span data-stu-id="a395f-159">Database credentials</span></span>|<span data-ttu-id="a395f-160">データベース認証を使用して、`IDbConnectionExtension` を使用するカスタム データ処理拡張機能の接続を構成できます。</span><span class="sxs-lookup"><span data-stu-id="a395f-160">You can use database authentication to configure connections for custom data processing extensions that use `IDbConnectionExtension`.</span></span>|  
|<span data-ttu-id="a395f-161">資格情報なし</span><span class="sxs-lookup"><span data-stu-id="a395f-161">No credentials</span></span>|<span data-ttu-id="a395f-162">自動実行アカウントが指定されている場合、使用する資格情報は接続文字列によって決定されます。</span><span class="sxs-lookup"><span data-stu-id="a395f-162">If the unattended execution account is specified, the connection string determines the credentials that are used.</span></span><br /><br /> <span data-ttu-id="a395f-163">自動実行アカウントが定義されていない場合、レポート サーバーは接続に失敗します。</span><span class="sxs-lookup"><span data-stu-id="a395f-163">If the unattended execution account is not defined, the report server will fail the connection.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a395f-164">参照</span><span class="sxs-lookup"><span data-stu-id="a395f-164">See Also</span></span>  
 <span data-ttu-id="a395f-165">[自動実行アカウントの構成 &#40;SSRS 構成マネージャー&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-165">[Configure the Unattended Execution Account &#40;SSRS Configuration Manager&#41;](../install-windows/configure-the-unattended-execution-account-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="a395f-166">[レポート データ ソースに関する資格情報と接続情報を指定する](specify-credential-and-connection-information-for-report-data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-166">[Specify Credential and Connection Information for Report Data Sources](specify-credential-and-connection-information-for-report-data-sources.md) </span></span>  
 <span data-ttu-id="a395f-167">[Reporting Services のデータ接続、データソース、および接続文字列](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-167">[Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span></span>  
 <span data-ttu-id="a395f-168">[データ処理拡張機能の実装](../extensions/data-processing/implementing-a-data-processing-extension.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-168">[Implementing a Data Processing Extension](../extensions/data-processing/implementing-a-data-processing-extension.md) </span></span>  
 <span data-ttu-id="a395f-169">[レポート マネージャー &#40;SSRS ネイティブ モード&#41;](../report-manager-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-169">[Report Manager  &#40;SSRS Native Mode&#41;](../report-manager-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="a395f-170">[共有データソース &#40;レポートマネージャーの作成、削除、または変更&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="a395f-170">[Create, Delete, or Modify a Shared Data Source &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span></span>  
 [<span data-ttu-id="a395f-171">レポートのデータ ソースのプロパティを構成する (レポート マネージャー)</span><span class="sxs-lookup"><span data-stu-id="a395f-171">Configure Data Source Properties for a Report  &#40;Report Manager&#41;</span></span>](configure-data-source-properties-for-a-report-report-manager.md)  
  
  
