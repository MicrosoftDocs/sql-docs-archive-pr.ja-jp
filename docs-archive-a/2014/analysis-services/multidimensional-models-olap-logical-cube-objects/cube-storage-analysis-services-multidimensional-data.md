---
title: Cube ストレージ (Analysis Services-多次元データ) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- measure groups [Analysis Services], cubes
- cubes [Analysis Services], storage
- linked measure groups [Analysis Services]
- storing data [Analysis Services], cubes
- partitions [Analysis Services], cubes
- storage [Analysis Services], cubes
ms.assetid: 1b1ad360-9a9b-4996-bee9-84238a2bb4ac
author: minewiskan
ms.author: owend
ms.openlocfilehash: eef1dd188b0038c637dc15750a6538c929359299
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87641903"
---
# <a name="cube-storage-analysis-services---multidimensional-data"></a><span data-ttu-id="7f43e-102">キューブのストレージ (Analysis Services - 多次元データ)</span><span class="sxs-lookup"><span data-stu-id="7f43e-102">Cube Storage (Analysis Services - Multidimensional Data)</span></span>
  <span data-ttu-id="7f43e-103">ストレージには、キューブのメタデータのみが含まれている場合も、ファクト テーブルのすべてのソース データだけでなく、メジャー グループに関連付けられたディメンションによって定義されている集計も含まれている場合もあります。</span><span class="sxs-lookup"><span data-stu-id="7f43e-103">Storage may include only the cube metadata, or may include all of the source data from the fact table as well as the aggregations defined by dimensions related to the measure group.</span></span> <span data-ttu-id="7f43e-104">格納されているデータ量は、選択したストレージ モードおよび集計の数によって異なります。</span><span class="sxs-lookup"><span data-stu-id="7f43e-104">The amount of data stored depends upon the storage mode selected and the number of aggregations.</span></span> <span data-ttu-id="7f43e-105">格納されているデータの量は、クエリのパフォーマンスに直接影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-105">The amount of data stored directly affects query performance.</span></span> [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="7f43e-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] では、キューブデータおよび集計の格納に必要な領域を最小限に抑えるために、いくつかの手法が使用されています。</span><span class="sxs-lookup"><span data-stu-id="7f43e-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses several techniques for minimizing the space required for storage of cube data and aggregations:</span></span>  
  
-   <span data-ttu-id="7f43e-107">ストレージ オプションを使用すると、キューブ データに最適なストレージ モードとストレージの場所を選択できる。</span><span class="sxs-lookup"><span data-stu-id="7f43e-107">Storage options enable you to select the storage modes and locations that are most appropriate for cube data.</span></span>  
  
-   <span data-ttu-id="7f43e-108">洗練されたアルゴリズムによって効率的に要約を行い、速度を維持してストレージ領域を最小限に抑える。</span><span class="sxs-lookup"><span data-stu-id="7f43e-108">A sophisticated algorithm designs efficient summary aggregations to minimize storage without sacrificing speed.</span></span>  
  
-   <span data-ttu-id="7f43e-109">空のセルにはストレージ領域を割り当てない。</span><span class="sxs-lookup"><span data-stu-id="7f43e-109">Storage is not allocated for empty cells.</span></span>  
  
 <span data-ttu-id="7f43e-110">ストレージは、パーティションごとに定義され、キューブ内の各メジャー グループに対して少なくとも 1 つのパーティションが存在します。</span><span class="sxs-lookup"><span data-stu-id="7f43e-110">Storage is defined on a partition-by-partition basis, and at least one partition exists for each measure group in a cube.</span></span> <span data-ttu-id="7f43e-111">詳細については、「[パーティション &#40;Analysis Services 多次元データ&#41;](partitions-analysis-services-multidimensional-data.md)」、「[パーティションストレージモードと処理](partitions-partition-storage-modes-and-processing.md)」、「[メジャーとメジャーグループ](../multidimensional-models/measures-and-measure-groups.md)」、および「[多次元モデルでのメジャーとメジャーグループの作成](../multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f43e-111">For more information, see [Partitions &#40;Analysis Services - Multidimensional Data&#41;](partitions-analysis-services-multidimensional-data.md), [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Measures and Measure Groups](../multidimensional-models/measures-and-measure-groups.md), and [Create Measures and Measure Groups in Multidimensional Models](../multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md).</span></span>  
  
## <a name="partition-storage"></a><span data-ttu-id="7f43e-112">パーティション ストレージ</span><span class="sxs-lookup"><span data-stu-id="7f43e-112">Partition Storage</span></span>  
 <span data-ttu-id="7f43e-113">メジャー グループのストレージは、複数のパーティションに分割できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-113">Storage for a measure group can be divided into multiple partitions.</span></span> <span data-ttu-id="7f43e-114">パーティションに分割すると、メジャー グループを 1 台のサーバー上または複数のサーバーにまたがる個別のセグメントに分散し、ストレージやクエリのパフォーマンスを最適化できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-114">Partitions enable you to distribute a measure group into discrete segments on a single server or across multiple servers, and to optimize storage and query performance.</span></span> <span data-ttu-id="7f43e-115">メジャー グループ内の各パーティションは、異なるデータ ソースを基にして、異なるストレージ設定を使用して格納できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-115">Each partition in a measure group can be based on a different data source and stored using different storage settings.</span></span>  
  
 <span data-ttu-id="7f43e-116">パーティションのデータ ソースは作成時に指定します。</span><span class="sxs-lookup"><span data-stu-id="7f43e-116">You specify the data source for a partition when you create it.</span></span> <span data-ttu-id="7f43e-117">また、既存のパーティションのデータ ソースを変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-117">You can also change the data source for any existing partition.</span></span> <span data-ttu-id="7f43e-118">メジャー グループは、列方向または行方向にパーティション分割できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-118">A measure group can be partitioned vertically or horizontally.</span></span> <span data-ttu-id="7f43e-119">列方向にパーティション分割されたメジャー グループの各パーティションは、1 つのソース テーブルのフィルターされたビューに基づいています。</span><span class="sxs-lookup"><span data-stu-id="7f43e-119">Each partition in a vertically partitioned measure group is based on a filtered view of a single source table.</span></span> <span data-ttu-id="7f43e-120">たとえば、メジャー グループが数年間のデータを含んでいる 1 つのテーブルに基づいている場合、各年のデータごとに個別のパーティションを作成できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-120">For example, if a measure group is based on a single table that contains several years of data, you could create a separate partition for each year's data.</span></span> <span data-ttu-id="7f43e-121">一方、行方向にパーティション分割されたメジャー グループの各パーティションは、個別のテーブルに基づいています。</span><span class="sxs-lookup"><span data-stu-id="7f43e-121">In contrast, each partition in a horizontally partitioned measure group is based on a separate table.</span></span> <span data-ttu-id="7f43e-122">データ ソースが個別のテーブルに各年のデータを格納している場合は、行方向のパーティション分割を使用します。</span><span class="sxs-lookup"><span data-stu-id="7f43e-122">You would use horizontal partitions if the data source stores each year's data in a separate table.</span></span>  
  
 <span data-ttu-id="7f43e-123">パーティションは最初、パーティションが作成されるメジャー グループと同じストレージ設定で作成されます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-123">Partitions are initially created with the same storage settings as the measure group in which they are created.</span></span> <span data-ttu-id="7f43e-124">ストレージ設定により、詳細および集計データを [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンスに多次元形式で格納するか、またはソース サーバーにリレーショナル形式で格納するか、あるいはその両方の組み合わせで格納するかが決まります。</span><span class="sxs-lookup"><span data-stu-id="7f43e-124">The storage settings determine whether the detail and aggregation data is stored in multidimensional format on the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], in relational format on the source server, or a combination of both.</span></span> <span data-ttu-id="7f43e-125">また、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] に格納されている多次元データへのソース データ変更について、プロアクティブ キャッシュを使用して自動的に処理するかどうかも、ストレージ設定によって決まります。</span><span class="sxs-lookup"><span data-stu-id="7f43e-125">Storage settings also determine whether proactive caching is used to automatically process source data changes to the multidimensional data stored on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="7f43e-126">キューブのパーティションは、ユーザーからは見えません。</span><span class="sxs-lookup"><span data-stu-id="7f43e-126">The partitions of a cube are not visible to the user.</span></span> <span data-ttu-id="7f43e-127">ただし、各種パーティションに対するストレージ設定の選択内容は、データの即時性、使用されるディスク領域の量、およびクエリのパフォーマンスに影響を及ぼすことがあります。</span><span class="sxs-lookup"><span data-stu-id="7f43e-127">However, the choice of storage settings for different partitions may affect the immediacy of data, the amount of disk space that is used, and query performance.</span></span> <span data-ttu-id="7f43e-128">パーティションは、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の複数のインスタンスに格納できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-128">Partitions can be stored on multiple instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="7f43e-129">これにより、キューブ ストレージをクラスター化して、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバー間でワークロードを分散できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-129">This provides a clustered approach to cube storage, and distributes workload across [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] servers.</span></span> <span data-ttu-id="7f43e-130">詳細については、「[パーティションストレージモードと処理](partitions-partition-storage-modes-and-processing.md)、[リモートパーティション](partitions-remote-partitions.md)、および[パーティション &#40;Analysis Services-多次元データ&#41;](partitions-analysis-services-multidimensional-data.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f43e-130">For more information, see [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Remote Partitions](partitions-remote-partitions.md), and [Partitions &#40;Analysis Services - Multidimensional Data&#41;](partitions-analysis-services-multidimensional-data.md).</span></span>  
  
## <a name="linked-measure-groups"></a><span data-ttu-id="7f43e-131">リンク メジャー グループ</span><span class="sxs-lookup"><span data-stu-id="7f43e-131">Linked Measure Groups</span></span>  
 <span data-ttu-id="7f43e-132">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の異なるインスタンスにキューブの複数のコピーを格納するために非常に大きなディスク領域が必要になる場合がありますが、メジャー グループのコピーをリンク メジャー グループに置き換えることで、必要な領域を大幅に削減できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-132">It can require considerable disk space to store multiple copies of a cube on different instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], but you can greatly reduce the space needed by replacing the copies of the measure group with linked measure groups.</span></span> <span data-ttu-id="7f43e-133">リンク メジャー グループは、同じまたは異なる [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンス上の別の [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] データベース内にあるキューブのメジャー グループに基づいています。</span><span class="sxs-lookup"><span data-stu-id="7f43e-133">A linked measure group is based on a measure group in a cube in another [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, on the same or a different instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="7f43e-134">リンク メジャー グループは、同じソース キューブのリンク ディメンションと共に使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-134">A linked measure group can also be used with linked dimensions from the same source cube.</span></span> <span data-ttu-id="7f43e-135">リンク ディメンションとリンク メジャー グループでは、ソース キューブの集計が使用され、独自のデータのストレージ容量はありません。</span><span class="sxs-lookup"><span data-stu-id="7f43e-135">The linked dimensions and measure groups use the aggregations of the source cube and have no data storage requirements of their own.</span></span> <span data-ttu-id="7f43e-136">このため、1 つのデータベースで基になるメジャー グループとディメンションを維持し、他のデータベースのキューブでリンク キューブとリンク ディメンションを作成すると、ストレージとして使用されるディスク領域を節約できます。</span><span class="sxs-lookup"><span data-stu-id="7f43e-136">Therefore, by maintaining the source measure groups and dimensions in one database, and creating linked cubes and dimensions in cubes in other databases, you can save disk space that otherwise would be used for storage.</span></span> <span data-ttu-id="7f43e-137">詳細については、「[リンクメジャーグループ](../multidimensional-models/linked-measure-groups.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7f43e-137">For more information, see [Linked Measure Groups](../multidimensional-models/linked-measure-groups.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f43e-138">参照</span><span class="sxs-lookup"><span data-stu-id="7f43e-138">See Also</span></span>  
 [<span data-ttu-id="7f43e-139">集計と集計デザイン</span><span class="sxs-lookup"><span data-stu-id="7f43e-139">Aggregations and Aggregation Designs</span></span>](aggregations-and-aggregation-designs.md)  
  
  
