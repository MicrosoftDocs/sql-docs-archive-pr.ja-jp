---
title: DirectQuery モード (SSAS テーブル) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.bidtoolset.realtime.f1
ms.assetid: 45ad2965-05ec-4fb1-a164-d8060b562ea5
author: minewiskan
ms.author: owend
ms.openlocfilehash: ceb58c211b52c1fbd184aafe316e5ea77d364529
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87712522"
---
# <a name="directquery-mode-ssas-tabular"></a><span data-ttu-id="08ebd-102">DirectQuery モード (SSAS テーブル)</span><span class="sxs-lookup"><span data-stu-id="08ebd-102">DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="08ebd-103">Analysis Services を使用すると、 *DirectQuery モード*を使用してリレーショナルデータベースシステムからデータを直接取得し、集計することによって、テーブルモデルからデータを取得し、レポートを作成できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-103">Analysis Services lets you retrieve data and create reports from a tabular model by retrieving data and aggregates directly from a relational database system, using *DirectQuery mode*.</span></span> <span data-ttu-id="08ebd-104">ここでは、メモリにのみ存在する標準テーブル モデルと、リレーショナル データ ソースにクエリを実行できるテーブル モデルの違いを紹介し、DirectQuery モードで使用するモデルを作成および配置する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-104">This topic introduces the differences between standard tabular models that reside only in memory and tabular models that can query a relational data source, and explains how you can author and deploy a model for use in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="08ebd-105">このトピックのセクション:</span><span class="sxs-lookup"><span data-stu-id="08ebd-105">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="08ebd-106">DirectQuery モードの利点</span><span class="sxs-lookup"><span data-stu-id="08ebd-106">Benefits of DirectQuery Mode</span></span>](#bkmk_Benefits)  
  
-   [<span data-ttu-id="08ebd-107">DirectQuery モードで使用するためのモデルの作成</span><span class="sxs-lookup"><span data-stu-id="08ebd-107">Authoring Models for Use with DirectQuery Mode</span></span>](#bkmk_Design)  
  
    -   [<span data-ttu-id="08ebd-108">DirectQuery モデルのデータ ソース</span><span class="sxs-lookup"><span data-stu-id="08ebd-108">Data Sources for DirectQuery Models</span></span>](directquery-mode-ssas-tabular.md#bkmk_DataSources)  
  
    -   [<span data-ttu-id="08ebd-109">DirectQuery モードでの検証とデザインの制限</span><span class="sxs-lookup"><span data-stu-id="08ebd-109">Validation and Design Restrictions for DirectQuery Mode</span></span>](#bkmk_Validation)  
  
    -   [<span data-ttu-id="08ebd-110">DirectQuery モデルでの数式の互換性</span><span class="sxs-lookup"><span data-stu-id="08ebd-110">Formula Compatibility for DirectQuery Models</span></span>](#bkmk_FormulaCompat)  
  
    -   [<span data-ttu-id="08ebd-111">DirectQuery モードでのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="08ebd-111">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
    -   [<span data-ttu-id="08ebd-112">DirectQuery モードでのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="08ebd-112">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
-   [<span data-ttu-id="08ebd-113">DirectQuery プロパティ</span><span class="sxs-lookup"><span data-stu-id="08ebd-113">DirectQuery Properties</span></span>](#bkmk_PropertyList)  
  
-   [<span data-ttu-id="08ebd-114">関連項目およびタスク</span><span class="sxs-lookup"><span data-stu-id="08ebd-114">Related Topics and Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits-of-directquery-mode"></a><a name="bkmk_Benefits"></a><span data-ttu-id="08ebd-115">DirectQuery モードの利点</span><span class="sxs-lookup"><span data-stu-id="08ebd-115">Benefits of DirectQuery Mode</span></span>  
 <span data-ttu-id="08ebd-116">既定では、テーブル モデルでは、インメモリ キャッシュを使用してデータを格納およびデータにクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-116">By default, tabular models use an in-memory cache to store and query data.</span></span> <span data-ttu-id="08ebd-117">テーブル モデルではメモリ内のデータを使用するため、複雑なクエリでも非常に高速に実行できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-117">Because tabular models use data that resides in memory, even complex queries can be incredibly fast.</span></span> <span data-ttu-id="08ebd-118">ただし、キャッシュされたデータの使用にはいくつかの欠点があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-118">However, there are some drawbacks to using cached data:</span></span>  
  
-   <span data-ttu-id="08ebd-119">ソース データが変更された場合、データは更新されません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-119">Data is not refreshed when the source data changes.</span></span> <span data-ttu-id="08ebd-120">データを更新するには、モデルを処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-120">You must process the model to get updates to the data.</span></span>  
  
-   <span data-ttu-id="08ebd-121">モデルをホストするコンピューターの電源をオフにすると、キャッシュがディスクに保存され、モデルの読み込み時または PowerPivot ファイルを開くときに再び開かれます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-121">When you turn off the computer that hosts the model, the cache is saved to disk and must be reopened when you load the model or open the PowerPivot file.</span></span> <span data-ttu-id="08ebd-122">保存と読み込みの操作は時間がかかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-122">The save and load operations can be time-consuming.</span></span>  
  
 <span data-ttu-id="08ebd-123">対照的に、DirectQuery モードでは、SQLServer データベースに格納されているデータを使用します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-123">In contrast, DirectQuery mode uses data that is stored in a SQL Server database.</span></span>  <span data-ttu-id="08ebd-124">一般には、モデルの作成時にすべてのデータまたはデータの小さなサンプルをキャッシュにインポートし、モデルの配置時に、モデルに対するクエリのデータ ソースをキャッシュされたデータではなく SQL Server にする必要があることを指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-124">Generally, you import all or a small sample of the data into the cache while authoring the model, and when you deploy the model, you specify that the data source for queries against the model should be SQL Server, not the cached data.</span></span> <span data-ttu-id="08ebd-125">データに対する DAX クエリは、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] によって、指定したリレーショナル データ ソースに対する同等の SQL ステートメントに変換されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-125">Any DAX queries on the data are translated by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] into equivalent SQL statements against the specified relational data source.</span></span>  
  
 <span data-ttu-id="08ebd-126">DirectQuery モードを使用したモデルの配置には、かなりの利点があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-126">There are many advantages to deploying a model using DirectQuery mode:</span></span>  
  
-   <span data-ttu-id="08ebd-127">大きすぎて Analysis Services サーバーのメモリに収まらないデータ セットのモデルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-127">It is possible to have a model over data sets that are too large to fit in memory on the Analysis Services server.</span></span>  
  
-   <span data-ttu-id="08ebd-128">データが最新であることが保証され、データの別のコピーを維持するための追加の管理オーバーヘッドがありません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-128">The data is guaranteed to be up-to-date, and there is no extra management overhead of having to maintain a separate copy of the data.</span></span> <span data-ttu-id="08ebd-129">基になるソース データに対する変更は、データ モデルに対するクエリに即時に反映できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-129">Changes to the underlying source data can be immediately reflected in queries against the data model.</span></span>  
  
-   <span data-ttu-id="08ebd-130">DirectQuery では、xVelocity メモリによって最適化された列インデックスで提供されるアクセラレーションなど、プロバイダー側のクエリ アクセラレーションを利用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-130">DirectQuery can take advantage of provider-side query acceleration, such as that provided by xVelocity memory optimized column indexes.</span></span>  
  
-   <span data-ttu-id="08ebd-131">バックエンド データベースによって適用されるセキュリティは、行レベル セキュリティを使用して適用されることが保証されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-131">Any security enforced by the back-end database is guaranteed to be enforced, using row-level security.</span></span> <span data-ttu-id="08ebd-132">対照的に、キャッシュされたデータを使用する場合は、サーバー上とまったく同様にキャッシュが保護されることを保証するのが困難な場合があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-132">In contrast, if you are using cached data, it can be difficult to ensure that the cache is secured exactly as on the server.</span></span>  
  
-   <span data-ttu-id="08ebd-133">複数のクエリを必要とする可能性のある複雑な数式がモデルに含まれる場合、Analysis Services は最適化を実行して、バックエンド データベースに対して実行されるクエリのクエリ プランができるだけ効率的になることを保証できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-133">If the model contains complex formulas that might require multiple queries, Analysis Services can perform optimization to ensure that the query plan for the query executed against the back-end database will be as efficient as possible.</span></span>  
  
##  <a name="authoring-models-for-use-with-directquery-mode"></a><a name="bkmk_Design"></a><span data-ttu-id="08ebd-134">DirectQuery モードで使用するためのモデルの作成</span><span class="sxs-lookup"><span data-stu-id="08ebd-134">Authoring Models for Use with DirectQuery Mode</span></span>  
 <span data-ttu-id="08ebd-135">テーブル モデルは、モデル デザイナー [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] を使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-135">Tabular models are authored by using the model designer [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="08ebd-136">モデル デザイナーはすべてのモデルをメモリに作成します。これは、モデリング時にデータが大きすぎてメモリに収まらない場合に、ワークスペース データベースで使用するキャッシュにデータのサブセットのみをインポートする必要があることを意味します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-136">The model designer creates all models in memory, which means that when you are modeling, if your data is too large to fit into memory, you should import only a subset of data into the cache used by the workspace database.</span></span>  
  
 <span data-ttu-id="08ebd-137">DirectQuery モードに切り替える準備ができたら、DirectQuery モードを有効にするプロパティを変更できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-137">When you are ready to switch to DirectQuery mode, you can change a property that enables DirectQuery mode.</span></span> <span data-ttu-id="08ebd-138">詳細については、「 [Enable DirectQuery Design Mode &#40;SSAS 表形式&#41;](enable-directquery-mode-in-ssdt.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-138">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>  
  
 <span data-ttu-id="08ebd-139">この操作を行うと、モデル デザイナーは、キャッシュされたデータの操作を継続できるハイブリッド モードで実行するようにワークスペース データベースを自動的に構成します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-139">When you do this, the model designer automatically configures the workspace database to run in a hybrid mode that lets you continue to work with the cached data.</span></span> <span data-ttu-id="08ebd-140">モデル デザイナーによって、モデル内の DirectQuery モードと互換性がない機能も通知されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-140">The model designer will also notify you of any features in your model that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="08ebd-141">考慮する必要のある主な要件を次の一覧にまとめます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-141">The following list summarizes the main requirements to keep in mind:</span></span>  
  
-   <span data-ttu-id="08ebd-142">**データソース:** DirectQuery モデルでは、1つの SQL Server データソースのデータのみを使用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-142">**Data sources:** DirectQuery models can only use data from a single SQL Server data source.</span></span> <span data-ttu-id="08ebd-143">モデルに対して DirectQuery モードがオンになると、コピーと貼り付け操作によって追加されたテーブルなど他の種類のデータをモデル デザイナーで使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-143">When DirectQuery mode has been turned on for a model, you can use no other types of data in the model designer, including tables added by copy-paste operations.</span></span> <span data-ttu-id="08ebd-144">他のすべてのインポート オプションが無効になります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-144">All other import options are disabled.</span></span> <span data-ttu-id="08ebd-145">クエリに含まれるテーブルは、SQL Server データ ソースに属している必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-145">Any tables included in a query must be part of the SQL Server data source.</span></span> <span data-ttu-id="08ebd-146">詳細については、「 [DirectQuery モデルのデータソース](directquery-mode-ssas-tabular.md#bkmk_DataSources)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-146">See [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources)for more information.</span></span>  
  
-   <span data-ttu-id="08ebd-147">**計算列のサポート:** 計算列は、DirectQuery モデルではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-147">**Support for calculated columns:** Calculated columns are not supported for DirectQuery models.</span></span> <span data-ttu-id="08ebd-148">ただし、データ セットを操作するメジャーと KPI を作成できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-148">However, you can create measures and KPIs, which operate over sets of data.</span></span> <span data-ttu-id="08ebd-149">詳細については、[検証](#bkmk_Validation)に関するセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-149">See the section on [validation](#bkmk_Validation) for more information.</span></span>  
  
-   <span data-ttu-id="08ebd-150">**DAX 関数の限定的な使用:** 一部の DAX 関数は DirectQuery モードで使用できないため、他の関数に置き換えるか、データソースの派生列を使用して値を作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-150">**Limited use of DAX functions:** Some DAX functions cannot be used in DirectQuery mode, so you must replace them with other functions, or create the values using derived columns in the data source.</span></span> <span data-ttu-id="08ebd-151">モデル デザイナーには、DirectQuery モードと互換性のない数式を作成したときに発生するエラーのデザイン時検証が用意されています。</span><span class="sxs-lookup"><span data-stu-id="08ebd-151">The model designer provides design-time validation for any errors that arise when you create formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="08ebd-152">詳細については、「[検証](#bkmk_Validation)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-152">See the following sections for more information: [Validation](#bkmk_Validation).</span></span>  
  
-   <span data-ttu-id="08ebd-153">**数式の互換性:** 特定の既知のケースでは、リレーショナルデータストアのみを使用する DirectQuery モデルと比較して、キャッシュモデルまたはハイブリッドモデルで異なる結果が返されることがあります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-153">**Formula compatibility:** In certain known cases, the same formula can return different results in a cached or hybrid model compared to a DirectQuery model that uses only the relational data store.</span></span> <span data-ttu-id="08ebd-154">これらの相違は、xVelocity メモリ内分析 (VertiPaq) エンジンと SQL Server 間のセマンティックの相違によるものです。</span><span class="sxs-lookup"><span data-stu-id="08ebd-154">These differences are a consequence of the semantic differences between the xVelocity in-memory analytics (VertiPaq) engine and SQL Server.</span></span> <span data-ttu-id="08ebd-155">これらの違いの詳細については、「[数式の互換性](#bkmk_FormulaCompat)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-155">For more information about these differences, see this section: [Formula Compatibility](#bkmk_FormulaCompat).</span></span>  
  
-   <span data-ttu-id="08ebd-156">**セキュリティ:** さまざまな方法を使用して、モデルの配置方法に応じて、モデルをセキュリティで保護することができます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-156">**Security:** You can use different methods to secure models depending on how they are deployed.</span></span> <span data-ttu-id="08ebd-157">テーブル モデルのキャッシュされたデータは、Analysis Services インスタンスのセキュリティ モデルを使用して保護されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-157">Cached data for tabular models is secured by using the security model of the Analysis Services instance.</span></span> <span data-ttu-id="08ebd-158">DirectQuery モデルはロールを使用して保護することもできますが、リレーショナル データ ストアに定義されているセキュリティも使用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-158">DirectQuery models can be secured by using roles, but you can also use security defined in the relational data store.</span></span> <span data-ttu-id="08ebd-159">DirectQuery のみのモデルに基づいてレポートを開くユーザーは、SQL Server のアクセス許可で許可されているデータのみ表示できるようにモデルを構成できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-159">The model can be configured so that users who open a report based on a DirectQuery-only model can see only the data that is allowed to them under their permissions in SQL Server.</span></span> <span data-ttu-id="08ebd-160">詳細については、「[セキュリティ](#bkmk_Security)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-160">See this section for more information: [Security](#bkmk_Security).</span></span>  
  
-   <span data-ttu-id="08ebd-161">**クライアントの制限:** モデルが DirectQuery モードの場合は、DAX を使用してのみクエリを実行できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-161">**Client restrictions:** When a model is in DirectQuery mode, it can only be queried by using DAX.</span></span> <span data-ttu-id="08ebd-162">MDX を使用してクエリを作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-162">You cannot use MDX to create queries.</span></span> <span data-ttu-id="08ebd-163">つまり、Excel では MDX を使用するため Excel PivotClient を使用できません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-163">This means that you cannot use the Excel Pivot Client, because Excel uses MDX.</span></span>  
  
     <span data-ttu-id="08ebd-164">ただし、では、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] dax テーブルクエリを XMLA Execute ステートメントの一部として使用する場合に、DirectQuery モデルに対するクエリを作成できます。詳細については、[Dax クエリ構文リファレンス] (/dax/dax-syntax-reference を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-164">However, you can create queries against a DirectQuery model in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] if you use a DAX table query as part of an XMLA Execute statement, For more information, see [DAX Query Syntax Reference](/dax/dax-syntax-reference</span></span>
  
 <span data-ttu-id="08ebd-165">デザインの問題をすべて解決し、モデルをテストすると、配置の準備ができます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-165">When you have resolved all the design issues and tested your model, you are ready for deployment.</span></span> <span data-ttu-id="08ebd-166">この時点で、モデルに対するクエリへの応答に優先する方法を設定できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-166">At this point, you can set the preferred method for answering queries against the model.</span></span> <span data-ttu-id="08ebd-167">ユーザーがキャッシュにアクセスできるようにしますか。または常にリレーショナル データ ソースのみ使用するようにしますか。</span><span class="sxs-lookup"><span data-stu-id="08ebd-167">Do you want users to have access to the cache, or always use only the relational data source?</span></span>  
  
 <span data-ttu-id="08ebd-168">*ハイブリッドモード*でモデルを配置した場合でも、キャッシュは引き続き使用でき、クエリに使用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-168">If you deploy the model in a *hybrid mode*, the cache is still available and can be used for queries.</span></span> <span data-ttu-id="08ebd-169">ハイブリッド モードには、多くのオプションが用意されています。</span><span class="sxs-lookup"><span data-stu-id="08ebd-169">A hybrid mode provides you with many options:</span></span>  
  
-   <span data-ttu-id="08ebd-170">キャッシュとリレーショナル データ ソースの両方が使用可能な場合は、優先される接続方法を設定できますが、最終的には、クライアントが DirectQueryMode 接続文字列プロパティを使用して、使用されるソースを制御します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-170">When both the cache and the relational data source are available, you can set the preferred connection method, but ultimately the client controls which source is used, using the DirectQueryMode connection string property.</span></span>  
  
-   <span data-ttu-id="08ebd-171">DirectQuery モードに使用されるプライマリ パーティションが処理されず、常にリレーショナル ソースが参照されるような方法で、キャッシュにパーティションを構成することもできます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-171">You can also configure partitions on the cache in such a way that the primary partition used for DirectQuery mode is never processed and must always reference the relational source.</span></span> <span data-ttu-id="08ebd-172">モデル デザインとレポート環境を最適化するために、多くの方法でパーティションを使用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-172">There are many ways to use partitions to optimize the model design and reporting experience.</span></span> <span data-ttu-id="08ebd-173">詳細については、「 [&#40;SSAS 表形式&#41;」の「パーティションと DirectQuery モード](define-partitions-in-directquery-models-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-173">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
-   <span data-ttu-id="08ebd-174">モデルが配置された後、優先される接続方法を変更できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-174">After the model has been deployed, you can change the preferred connection method.</span></span> <span data-ttu-id="08ebd-175">たとえば、テストにはハイブリッド モードを使用し、モデルを使用するレポートまたはクエリを完全にテストした後でのみ **DirectQuery のみ** のモードに切り替えることができます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-175">For example, you might use a hybrid mode for testing, and switch the model over to **DirectQuery only** mode only after thoroughly testing any reports or queries that use the model.</span></span> <span data-ttu-id="08ebd-176">詳しくは、「 [DirectQuery の優先接続方法の設定または変更](../set-or-change-the-preferred-connection-method-for-directquery.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-176">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>  
  
###  <a name="data-sources-for-directquery-models"></a><a name="bkmk_DataSources"></a><span data-ttu-id="08ebd-177">DirectQuery モデルのデータソース</span><span class="sxs-lookup"><span data-stu-id="08ebd-177">Data Sources for DirectQuery Models</span></span>  
 <span data-ttu-id="08ebd-178">デザイン環境を変更して DirectQuery モードを有効にするとすぐに、ワークスペース データベースのデータ ソースが検証されて、データ ソースが単一の SQL Server データ ソースから取得されたことが確認されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-178">As soon as you change the design environment to enable DirectQuery mode, the data sources for the workspace database are validated to ensure that they come from a single SQL Server data source.</span></span> <span data-ttu-id="08ebd-179">コピー貼り付けデータなど他のソースからのデータは、DirectQuery モデルでは許可されていません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-179">Data from other sources, including copy-pasted data, is not allowed in DirectQuery models.</span></span>  
  
 <span data-ttu-id="08ebd-180">DirectQuery モードでモデルを使用する場合は、レポートに必要なすべてのデータが指定した SQL Server データベースに格納されていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-180">If you intend to use the model in DirectQuery mode, you must ensure that all the data you need for reporting is stored in the specified SQL Server database.</span></span> <span data-ttu-id="08ebd-181">モデリングに必要なデータがそのソースで使用可能でない場合は、Integration Services またはその他のデータ ウェアハウジング ツールを使用して、DirectQuery データ ソースとして使用する SQL Server データベースにデータをインポートすることを検討してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-181">If the data you need for modeling is not available in that source, consider use of Integration Services or other data warehousing tools to import the data into a SQL Server database that serves as the DirectQuery data source.</span></span>  
  
###  <a name="validation-and-design-restrictions-for-directquery-mode"></a><a name="bkmk_Validation"></a><span data-ttu-id="08ebd-182">DirectQuery モードの検証と設計の制限</span><span class="sxs-lookup"><span data-stu-id="08ebd-182">Validation and Design Restrictions for DirectQuery Mode</span></span>  
 <span data-ttu-id="08ebd-183">DirectQuery モードで使用するモデルを作成する場合は、最初にデータの一部をキャッシュに読み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-183">When you author a model for use in DirectQuery mode, you must initially load some portion of the data into the cache.</span></span> <span data-ttu-id="08ebd-184">最終的に使用するデータが大きすぎてメモリに収まりきらない場合は、テーブルのインポートウィザードの [**プレビュー & フィルター** ] オプションを使用してデータのサブセットを選択するか、必要なデータを取得するための SQL スクリプトを記述します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-184">If the data you will eventually use is too large to fit into memory, you can use the **Preview & Filter** option in the Table Import wizard to select a subset of data, or write a SQL script to get the data that you want.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="08ebd-185">DirectQuery モードでは計算列の使用がサポートされないため、結合またはその他の操作を実行する列がある場合は、事前に計画し、データ インポート クエリまたはスクリプトの一部として列定義を作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-185">Because DirectQuery mode does not support the use of calculated columns, if there are columns that you wish to combine or perform other operations on, you should plan ahead and create the column definition as part of your data import query or script.</span></span>  
  
 <span data-ttu-id="08ebd-186">検証エラーを表示して解決するには、 **の** [エラー一覧] [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]を開きます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-186">To view and resolve validation errors, open the **Error List** in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="08ebd-187">DirectQuery モードの使用を妨げる重大なエラーが [**エラー** ] タブに表示されます。DirectQuery モードに変更する前に、これらのエラーを修正する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-187">Critical errors that prevent use of DirectQuery mode are displayed on the **Errors** tab. You must fix these errors before changing to DirectQuery mode.</span></span> <span data-ttu-id="08ebd-188">解決が難しい検証エラーは、通常、DirectQuery モードではサポートされない数式に関連します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-188">The validation errors that are more difficult to resolve typically are related to formulas that are not supported in DirectQuery mode.</span></span> <span data-ttu-id="08ebd-189">数式と計算列に関連するエラーの概要については、「[数式の互換性](#bkmk_FormulaCompat)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-189">See the section, [Formula Compatibility](#bkmk_FormulaCompat), for an overview of errors related to formulas and calculated columns.</span></span>  
  
 <span data-ttu-id="08ebd-190">DirectQuery アクセス用のモデルの作成時に考慮するその他の事項を次の一覧で説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-190">The following list describes other considerations to keep in mind when authoring a model for DirectQuery access:</span></span>  
  
-   <span data-ttu-id="08ebd-191">*DirectQuery のみ* のモードでは、レポートの結果は結果を表示するユーザーのセキュリティ コンテキストによって異なる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-191">When in *DirectQuery only* mode, the results in a report can vary depending on the security context of the user who is viewing the results.</span></span> <span data-ttu-id="08ebd-192">ユーザーが期待どおりの結果を得られるように、さまざまな資格情報でモデルをテストする必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-192">You should test models with different credentials to ensure that users get the expected results.</span></span>  
  
-   <span data-ttu-id="08ebd-193">ハイブリッド モードで動作するようにモデルを構成して、SQL Server のキャッシュまたはデータを使用できるようにするには、各ソースに接続するクライアントが異なる結果を参照する可能性がある (接続文字列に指定されたモードによって異なる) ことを認識する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-193">If you configure a model to operate in hybrid mode, which allows the use of either the cache or data from SQL Server, you should be aware of the possibility that clients connecting to each source might see different results, depending on the mode specified in the connection string.</span></span> <span data-ttu-id="08ebd-194">レポートを表示するユーザーに SQL Server のデータのみ表示されるようにする必要がある場合は、キャッシュをクリアするかモデルを DirectQueryOnly に変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-194">If you need to ensure that your report users see only data from SQL Server, you must clear the cache or change the model to DirectQueryOnly.</span></span>  
  
###  <a name="formula-compatibility-for-directquery-models"></a><a name="bkmk_FormulaCompat"></a><span data-ttu-id="08ebd-195">DirectQuery モデルの数式の互換性</span><span class="sxs-lookup"><span data-stu-id="08ebd-195">Formula Compatibility for DirectQuery Models</span></span>  
 <span data-ttu-id="08ebd-196">一部のモデルには DirectQuery モードではサポートされない数式が含まれており、検証エラーを防ぐためにモデルを再デザインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-196">Some models might contain formulas that are not supported in DirectQuery mode, and the model must be redesigned to prevent validation errors.</span></span> <span data-ttu-id="08ebd-197">DirectQuery モードでサポートされている数式の制限を次に示します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-197">Restrictions on formulas that are supported in DirectQuery mode include the following:</span></span>  
  
-   <span data-ttu-id="08ebd-198">計算列は、ハイブリッド モデルの場合でも、DirectQuery モードが有効になっているテーブル モデルではサポートされません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-198">Calculated columns are not supported in any tabular model that has DirectQuery mode enabled, not even hybrid models.</span></span> <span data-ttu-id="08ebd-199">モデルに計算列が必要な場合は、インポート定義で Transact-SQL を使用して派生列に変換することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-199">If you need calculated columns for a model, consider converting them to derived columns by using Transact-SQL in your import definition.</span></span>  
  
-   <span data-ttu-id="08ebd-200">DirectQuery モデルでは、メジャーで使用する DAX 数式の使用がサポートされます。これらの数式は、リレーショナル データ ストアに対するセットベースの操作に変換されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-200">DirectQuery models do support the use of DAX formulas for use in measures, which are converted to set-based operations against the relational data store.</span></span> <span data-ttu-id="08ebd-201">暗黙的なメジャーを使用して作成するすべてのメジャーがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-201">All measures that you create by using implicit measures are supported.</span></span>  
  
-   <span data-ttu-id="08ebd-202">すべての関数がサポートされるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-202">Not all functions are supported.</span></span> <span data-ttu-id="08ebd-203">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、DirectQuery モデルにクエリを実行するときにすべての DAX 数式およびメジャー定義を SQL ステートメントに変換するため、Transact-SQL に変換できない要素を含む数式はモデルで検証エラーをトリガーします。</span><span class="sxs-lookup"><span data-stu-id="08ebd-203">Because [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] converts all DAX formulas and measure definitions into SQL statements when querying a DirectQuery model, any formula containing elements that cannot be converted into Transact-SQL will trigger validation errors on the model.</span></span> <span data-ttu-id="08ebd-204">たとえば、タイム インテリジェンス関数はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-204">For example, time intelligence functions are not supported.</span></span> <span data-ttu-id="08ebd-205">統計関数などのサポートされている関数も、動作が異なる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-205">Even functions that are supported might behave differently, such as statistical functions.</span></span> <span data-ttu-id="08ebd-206">互換性の問題の完全な一覧については、「 [DirectQuery モードでの数式の互換性](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-206">For a complete list of compatibility issues, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
-   <span data-ttu-id="08ebd-207">モデル内の一部の数式は、モデルを DirectQuery モードに切り替えるときに検証できますが、キャッシュとリレーショナル データ ストアに対して実行したときに異なる結果を返します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-207">Some formulas in the model might validate when you switch the model to DirectQuery mode, but return different results when executed against the cache vs. the relational data store.</span></span> <span data-ttu-id="08ebd-208">これは、キャッシュに対する計算では Excel の動作をエミュレートすることを意図した多くの機能を含む xVelocity メモリ内分析 (VertiPaq) エンジンのセマンティクスが使用され、リレーショナル データ ストアに格納されているデータに対するクエリでは SQL Server のセマンティクスを使用する必要があるためです。</span><span class="sxs-lookup"><span data-stu-id="08ebd-208">This is because calculations against the cache use the semantics of the xVelocity in-memory analytics (VertiPaq) engine, which contains many features meant to emulate the behavior of Excel, whereas queries against data stored in the relational data store necessarily use the semantics of SQL Server.</span></span> <span data-ttu-id="08ebd-209">モデルがリアルタイムに配置されるときに異なる結果を返す可能性のある DAX 関数の一覧については、「 [DirectQuery モードでの数式の互換性](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-209">For a list of DAX functions that might return different results when the model is deployed to real-time, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
###  <a name="connecting-to-directquery-models"></a><a name="bkmk_Connecting"></a><span data-ttu-id="08ebd-210">DirectQuery モデルへの接続</span><span class="sxs-lookup"><span data-stu-id="08ebd-210">Connecting to DirectQuery Models</span></span>  
 <span data-ttu-id="08ebd-211">クエリ言語として MDX を使用するクライアントは、DirectQuery モードを使用するモデルに接続できません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-211">Clients that use MDX as the query language cannot connect to models that use DirectQuery mode.</span></span> <span data-ttu-id="08ebd-212">たとえば、DirectQuery モデルに対して MDX クエリを作成しようとした場合は、キューブが見つからない、または処理されていないことを示すエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-212">For example, if you attempt to create an MDX query against a DirectQuery model, you will get an error indicating that the cube cannot be found, or has not been processed.</span></span> <span data-ttu-id="08ebd-213">[!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)]、DAX 数式、または XMLA クエリを使用して、DirectQuery モデルに対するクエリを作成できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-213">You can create queries against DirectQuery models by using [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], DAX formulas, or XMLA queries.</span></span> <span data-ttu-id="08ebd-214">テーブルモデルに対してアドホッククエリを実行する方法の詳細については、「[テーブルモデルデータアクセス](tabular-model-data-access.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-214">For more information about how you can perform ad hoc queries against tabular models, see [Tabular Model Data Access](tabular-model-data-access.md).</span></span>  
  
 <span data-ttu-id="08ebd-215">ハイブリッド モデルを使用している場合は、接続文字列プロパティ DirectQueryMode を指定して、ユーザーがキャッシュに接続するか、それとも DirectQuery データを使用するかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-215">If you are using a hybrid model, you can specify whether users connect to the cache or use DirectQuery data by specifying the connection string property, DirectQueryMode.</span></span>  
  
###  <a name="security-in-directquery-mode"></a><a name="bkmk_Security"></a><span data-ttu-id="08ebd-216">DirectQuery モードでのセキュリティ</span><span class="sxs-lookup"><span data-stu-id="08ebd-216">Security in DirectQuery Mode</span></span>  
 <span data-ttu-id="08ebd-217">モデル作成時に、ソース データの取得に使用するアクセス許可を指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-217">During model authoring, you specify the permissions that are used to retrieve the source data.</span></span> <span data-ttu-id="08ebd-218">これは、多くの場合、自分の資格情報か、開発に使用されるアカウントになります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-218">This will often be your own credentials, or an account used for development.</span></span> <span data-ttu-id="08ebd-219">ただし、DirectQuery モードを使用するようにモデルを切り替えると、セキュリティ コンテキストはより複雑になります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-219">However, when you switch the model to use DirectQuery mode, the security context is more complex:</span></span>  
  
-   <span data-ttu-id="08ebd-220">ユーザーに、リレーショナル データ ストアのデータに必要なアクセス レベルがあるかどうかを検討します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-220">Consider whether users have the necessary level of access to the data in the relational data store.</span></span>  
  
-   <span data-ttu-id="08ebd-221">同じモデルまたはレポートを表示するユーザーには、ユーザーのセキュリティコンテキストによって異なるデータが表示される場合があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-221">Users who view the same model or report might see different data, depending on the user's security context.</span></span>  
  
-   <span data-ttu-id="08ebd-222">モデル キャッシュが保持されている場合、キャッシュは [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] セキュリティ モデル (ロール) を使用して保護されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-222">If the model cache has been preserved, the cache is secured using the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] security model (roles).</span></span> <span data-ttu-id="08ebd-223">キャッシュには、モデル デザイナーが表示権限を持ち、ユーザーが表示権限を持たないデータが含まれている場合があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-223">The cache might contain data that the model designer is privileged to see but the user is not.</span></span> <span data-ttu-id="08ebd-224">モデルおよびレポート デザイナーでキャッシュをクリアするか、ロールによってアクセスを制御することでこのデータを保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-224">Model and report designers should either clear the cache, or secure this data by controlling access via roles.</span></span>  
  
-   <span data-ttu-id="08ebd-225">キャッシュからクエリに応答するモデルは、データ ソースに接続するときに現在のユーザーの権限を借用できません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-225">A model that answers queries from the cache cannot impersonate the current user when connecting to the data source.</span></span> <span data-ttu-id="08ebd-226">データ ソースに接続するときに現在のユーザーの権限を借用する場合には、DirectQuery モードを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-226">If you want to impersonate the current user when connecting to the data source, you must use DirectQuery mode.</span></span>  
  
-   <span data-ttu-id="08ebd-227">レポート モデルにセキュリティが必要な場合は、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ロールを使用するか、またはデータ ソースに行レベルのアクセス許可を設定するという、2 つのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-227">If your report model requires security, you have two options: you can either use [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] roles, or you can set row-level permissions on the data source.</span></span> <span data-ttu-id="08ebd-228">テーブルへのアクセスの制御にはリレーショナル データ ソースのセキュリティが使用され、列レベルのセキュリティはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-228">Security in the relational data source is used to control access to tables, and column-level security is not supported.</span></span> <span data-ttu-id="08ebd-229">したがって、1 つの地域のユーザーが異なる地域の売上金額を表示する権限を持たない場合、Sales テーブルに基づくメジャーを含むレポートでは空白またはエラーが返されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-229">Therefore, if users in one region do not have permission to view sales figures from different regions, a report that includes a measure based on the Sales table would return blanks or an error.</span></span>  
  
 <span data-ttu-id="08ebd-230">DirectQuery のみのモデルでも、DirectQuery を使用してクエリに応答するハイブリッド モデルでも、権限借用設定プロパティによって、DirectQuery を使用してモデルに接続するときに使用される資格情報が指定されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-230">The impersonation settings property specifies the credentials used when you are connecting to a model using DirectQuery, either for a DirectQuery only model or for a hybrid model answering queries using DirectQuery.</span></span> <span data-ttu-id="08ebd-231">プロパティの値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="08ebd-231">The property has the following values:</span></span>  
  
 <span data-ttu-id="08ebd-232">**[Default]**</span><span class="sxs-lookup"><span data-stu-id="08ebd-232">**Default**</span></span>  
 <span data-ttu-id="08ebd-233">インポート ウィザードで指定した資格情報を使用して、データ ソースに接続します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-233">Uses the credentials specified in the import wizard to connect to the data source.</span></span> <span data-ttu-id="08ebd-234">これには、特定の Windows ユーザーまたはサービス アカウントを指定できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-234">This can be a specific Windows user or the service account.</span></span>  
  
 `ImpersonateCurrentUser`  
 <span data-ttu-id="08ebd-235">現在のユーザーの資格情報を使用して、データ ソースに接続します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-235">Uses the credentials of the current user to connect to the data source.</span></span>  
  
 <span data-ttu-id="08ebd-236">これらのプロパティを設定する方法の詳細については、「 [SSAS のデプロイシナリオ &#40;SSAS 表形式&#41;](../directquery-deployment-scenarios-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-236">For information on how to set these properties, see [DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;](../directquery-deployment-scenarios-ssas-tabular.md).</span></span>  
  
##  <a name="directquery-properties"></a><a name="bkmk_PropertyList"></a><span data-ttu-id="08ebd-237">DirectQuery のプロパティ</span><span class="sxs-lookup"><span data-stu-id="08ebd-237">DirectQuery Properties</span></span>  
 <span data-ttu-id="08ebd-238">DirectQuery を有効にし、モデルに対するクエリに使用されるデータのソースを制御するために [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] および [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] で設定できるプロパティの一覧を次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-238">The following table lists the properties that you can set in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], and in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], to enable DirectQuery and to control the source of data used for queries against the model.</span></span>  
  
|<span data-ttu-id="08ebd-239">プロパティ名</span><span class="sxs-lookup"><span data-stu-id="08ebd-239">Property name</span></span>|<span data-ttu-id="08ebd-240">説明</span><span class="sxs-lookup"><span data-stu-id="08ebd-240">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="08ebd-241">**DirectQueryMode プロパティ**</span><span class="sxs-lookup"><span data-stu-id="08ebd-241">**DirectQueryMode property**</span></span>|<span data-ttu-id="08ebd-242">このプロパティにより、モデル デザイナーで DirectQuery モードを使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-242">This property enables use of DirectQuery mode in the model designer.</span></span> <span data-ttu-id="08ebd-243">他の DirectQuery プロパティを変更するには、このプロパティを `On` に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-243">You must set this property to `On` to change any of the other DirectQuery properties.</span></span><br /><br /> <span data-ttu-id="08ebd-244">詳細については、「 [Enable DirectQuery Design Mode &#40;SSAS 表形式&#41;](enable-directquery-mode-in-ssdt.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-244">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>|  
|<span data-ttu-id="08ebd-245">**QueryMode プロパティ**</span><span class="sxs-lookup"><span data-stu-id="08ebd-245">**QueryMode property**</span></span>|<span data-ttu-id="08ebd-246">このプロパティでは、DirectQuery モデルの既定のクエリ メソッドを指定します。このプロパティは、モデルの配置時にモデル デザイナーで設定しますが、後でオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-246">This property specifies the default query method for a DirectQuery model, You set this property in the model designer when you deploy the model, but you can override it later.</span></span> <span data-ttu-id="08ebd-247">プロパティの値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="08ebd-247">The property has these values:</span></span><br /><br /> <span data-ttu-id="08ebd-248">[ **DirectQuery** ]: この設定では、モデルに対するすべてのクエリでリレーショナルデータソースのみを使用する必要があることを指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-248">**DirectQuery** - This setting specifies all queries to the model should use the relational data source only.</span></span><br /><br /> <span data-ttu-id="08ebd-249">**[DirectQuery (およびインメモリ)]** - クライアントから接続文字列で特に指定されていない限り、既定ではリレーショナル ソースを使用してクエリに応答する必要があることを指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-249">**DirectQuery with In-Memory** - This setting specifies, by default, queries should be answered by using the relational source, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="08ebd-250">**[インメモリ]** - キャッシュのみを使用してクエリに応答する必要があることを指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-250">**In-Memory** - This setting specifies  queries should be answered by using the cache only.</span></span><br /><br /> <span data-ttu-id="08ebd-251">**[インメモリ (および DirectQuery)]** - 既定で次のように指定します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-251">**In-Memory with DirectQuery** - This setting specifies, by default.</span></span> <span data-ttu-id="08ebd-252">クライアントから接続文字列で指定されていない限り、キャッシュを使用してクエリに応答する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-252">queries should be answered by using the cache, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <br /><br /> <span data-ttu-id="08ebd-253">詳しくは、「 [DirectQuery の優先接続方法の設定または変更](../set-or-change-the-preferred-connection-method-for-directquery.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-253">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="08ebd-254">**DirectQueryMode プロパティ**</span><span class="sxs-lookup"><span data-stu-id="08ebd-254">**DirectQueryMode property**</span></span>|<span data-ttu-id="08ebd-255">モデルが配置された後、[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] でこのプロパティを変更して、DirectQuery モデルで優先されるクエリ データ ソースを変更できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-255">After the model has been deployed, you can change the preferred query data source for a DirectQuery model, by changing this property in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]</span></span><br /><br /> <span data-ttu-id="08ebd-256">前のプロパティと同様に、このプロパティではモデルの既定のデータ ソースを指定します。値は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="08ebd-256">Like the previous property, this property specifies the default data source for the model, and has these values:</span></span><br /><br /> <span data-ttu-id="08ebd-257">**InMemory**: クエリでキャッシュのみを使用できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-257">**InMemory**: Queries can use the cache only.</span></span><br /><br /> <span data-ttu-id="08ebd-258">**Directquerywithinmemory**: クライアントからの接続文字列で特に指定されていない限り、既定ではクエリでリレーショナルデータソースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-258">**DirectQuerywithInMemory**: Queries use the relational data source by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="08ebd-259">**Inmemorywithdirectquery**: クライアントから接続文字列で特に指定されていない限り、既定ではクエリでキャッシュが使用されます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-259">**InMemorywithDirectQuery**: Queries use the cache by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="08ebd-260">(**DirectQuery**: クエリはリレーショナルデータソースのみを使用します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-260">(**DirectQuery**: Queries use the relational data source only.</span></span><br /><br /> <br /><br /> <span data-ttu-id="08ebd-261">詳しくは、「 [DirectQuery の優先接続方法の設定または変更](../set-or-change-the-preferred-connection-method-for-directquery.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-261">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="08ebd-262">**権限借用設定プロパティ**</span><span class="sxs-lookup"><span data-stu-id="08ebd-262">**Impersonation Settings property**</span></span>|<span data-ttu-id="08ebd-263">このプロパティでは、クエリ時に SQL Server データ ソースへの接続に使用される資格情報を定義します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-263">This property defines the credentials used to connect to the SQL Server data source at query time.</span></span> <span data-ttu-id="08ebd-264">このプロパティはモデル デザイナーで設定でき、モデルの配置後に値を変更できます。</span><span class="sxs-lookup"><span data-stu-id="08ebd-264">You can set this property in the model designer, and you can change the value later, after the model has been deployed.</span></span><br /><br /> <span data-ttu-id="08ebd-265">これらの資格情報は、リレーショナル データ ストアに対するクエリの応答にのみ使用されます。これらはハイブリッド モデルのキャッシュの処理に使用される資格情報と同じではありません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-265">Note that these credentials are used only for answering queries against the relational data store; they are not the same as the credentials used for processing the cache of a hybrid model.</span></span><br /><br /> <span data-ttu-id="08ebd-266">モデルをメモリ内でのみ使用する場合は、権限借用を使用できません。</span><span class="sxs-lookup"><span data-stu-id="08ebd-266">Impersonation cannot be used when the model is used within memory only.</span></span> <span data-ttu-id="08ebd-267">モデルで DirectQuery モードを使用していない限り、`ImpersonateCurrentUser` 設定は無効です。</span><span class="sxs-lookup"><span data-stu-id="08ebd-267">The setting `ImpersonateCurrentUser`, is invalid unless the model is using DirectQuery mode.</span></span>|  
  
 <span data-ttu-id="08ebd-268">また、モデルにパーティションが含まれる場合は、DirectQuery モードでクエリのソースとして使用するパーティションを 1 つ選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="08ebd-268">Additionally, if your model includes partitions, you must choose one partition to use as the source for queries in DirectQuery mode.</span></span> <span data-ttu-id="08ebd-269">詳細については、「 [&#40;SSAS 表形式&#41;」の「パーティションと DirectQuery モード](define-partitions-in-directquery-models-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="08ebd-269">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
##  <a name="related-topics-and-tasks"></a><a name="bkmk_related_tasks"></a><span data-ttu-id="08ebd-270">関連トピックとタスク</span><span class="sxs-lookup"><span data-stu-id="08ebd-270">Related Topics and Tasks</span></span>  
  
|<span data-ttu-id="08ebd-271">トピック</span><span class="sxs-lookup"><span data-stu-id="08ebd-271">Topic</span></span>|<span data-ttu-id="08ebd-272">説明</span><span class="sxs-lookup"><span data-stu-id="08ebd-272">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="08ebd-273">SSAS 表形式&#41;&#40;パーティションと DirectQuery モード</span><span class="sxs-lookup"><span data-stu-id="08ebd-273">Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;</span></span>](define-partitions-in-directquery-models-ssas-tabular.md)|<span data-ttu-id="08ebd-274">DirectQuery モード用に構成されたモデルでのパーティションの使用方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-274">Describes how partitions are used in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="08ebd-275">DirectQuery モードでの DAX 数式の互換性</span><span class="sxs-lookup"><span data-stu-id="08ebd-275">DAX Formula Compatibility in DirectQuery Mode</span></span>](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)|<span data-ttu-id="08ebd-276">DirectQuery モード用に構成されたモデルで使用できる数式の制限と互換性の要件について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-276">Describes restrictions and compatibility requirements on the formulas that you can use in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="08ebd-277">SSAS 表形式&#41;&#40;DirectQuery デザインモードを有効にする</span><span class="sxs-lookup"><span data-stu-id="08ebd-277">Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;</span></span>](enable-directquery-mode-in-ssdt.md)|<span data-ttu-id="08ebd-278">DirectQuery モードの使用をサポートするように、デザイン時の環境を変更する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-278">Describes how you can change the design-time environment so that it supports using DirectQuery mode</span></span>|  
|[<span data-ttu-id="08ebd-279">SSAS テーブル &#40;の DirectQuery パーティションの変更&#41;</span><span class="sxs-lookup"><span data-stu-id="08ebd-279">Change the DirectQuery Partition &#40;SSAS Tabular&#41;</span></span>](../change-the-directquery-partition-ssas-tabular.md)|<span data-ttu-id="08ebd-280">DirectQuery パーティションを変更する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-280">Describes how to change the DirectQuery partition.</span></span>|  
|[<span data-ttu-id="08ebd-281">DirectQuery の優先接続方法の設定または変更</span><span class="sxs-lookup"><span data-stu-id="08ebd-281">Set or Change the Preferred Connection Method for DirectQuery</span></span>](../set-or-change-the-preferred-connection-method-for-directquery.md)|<span data-ttu-id="08ebd-282">DirectQuery 用に構成されたモデルの接続方法の設定または変更方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-282">Describes how to set or change the connection method for models configured for DirectQuery.</span></span>|  
|[<span data-ttu-id="08ebd-283">SSAS 表形式&#41;&#40;DirectQuery デプロイシナリオ</span><span class="sxs-lookup"><span data-stu-id="08ebd-283">DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;</span></span>](../directquery-deployment-scenarios-ssas-tabular.md)|<span data-ttu-id="08ebd-284">DirectQuery の配置シナリオについて説明します。</span><span class="sxs-lookup"><span data-stu-id="08ebd-284">Describes DirectQuery deployment scenarios.</span></span>|  
|[<span data-ttu-id="08ebd-285">テーブル モデルのデータベースの In-Memory または DirectQuery アクセスの構成</span><span class="sxs-lookup"><span data-stu-id="08ebd-285">Configure In-Memory or DirectQuery Access for a Tabular Model Database</span></span>](enable-directquery-mode-in-ssms.md)|<span data-ttu-id="08ebd-286">DirectQuery 構成について</span><span class="sxs-lookup"><span data-stu-id="08ebd-286">Understand DirectQuery configurations</span></span>|  
|[<span data-ttu-id="08ebd-287">Analysis Services キャッシュのクリア</span><span class="sxs-lookup"><span data-stu-id="08ebd-287">Clear the Analysis Services Caches</span></span>](../instances/clear-the-analysis-services-caches.md)|<span data-ttu-id="08ebd-288">テーブル モデルのキャッシュのクリア</span><span class="sxs-lookup"><span data-stu-id="08ebd-288">Clear the cache of the tabular model</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="08ebd-289">参照</span><span class="sxs-lookup"><span data-stu-id="08ebd-289">See Also</span></span>  
 <span data-ttu-id="08ebd-290">[SSAS 表形式のパーティション &#40;&#41;](partitions-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="08ebd-290">[Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md) </span></span>  
 <span data-ttu-id="08ebd-291">[SSAS 表形式&#41;&#40;テーブルモデルプロジェクト](tabular-model-projects-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="08ebd-291">[Tabular Model Projects &#40;SSAS Tabular&#41;](tabular-model-projects-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="08ebd-292">Excel で分析 &#40;SSAS テーブル&#41;</span><span class="sxs-lookup"><span data-stu-id="08ebd-292">Analyze in Excel &#40;SSAS Tabular&#41;</span></span>](analyze-in-excel-ssas-tabular.md)  
