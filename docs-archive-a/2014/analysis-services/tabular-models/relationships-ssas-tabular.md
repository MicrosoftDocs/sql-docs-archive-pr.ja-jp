---
title: リレーションシップ (SSAS テーブル) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21e0144a-3cfd-4bc7-87ff-bb7d1800ed2f
author: minewiskan
ms.author: owend
ms.openlocfilehash: eac90102e4595bf19cbeb7eefc22e975ecf53610
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738821"
---
# <a name="relationships-ssas-tabular"></a><span data-ttu-id="6692c-102">リレーションシップ (SSAS テーブル)</span><span class="sxs-lookup"><span data-stu-id="6692c-102">Relationships (SSAS Tabular)</span></span>
  <span data-ttu-id="6692c-103">テーブル モデルでは、リレーションシップは 2 つのデータ テーブル間の接続を表します。</span><span class="sxs-lookup"><span data-stu-id="6692c-103">In tabular models, a relationship is a connection between two tables of data.</span></span> <span data-ttu-id="6692c-104">これにより、2 つのテーブルのデータの関連付けの方法が決まります。</span><span class="sxs-lookup"><span data-stu-id="6692c-104">The relationship establishes how the data in the two tables should be correlated.</span></span> <span data-ttu-id="6692c-105">たとえば、Customers テーブルと Orders テーブルを関連付けると、各注文に関連付けられた顧客名を表示できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-105">For example, a Customers table and an Orders table can be related in order to show the customer name that is associated with each order.</span></span>  
  
 <span data-ttu-id="6692c-106">テーブルのインポート ウィザードを使用して同じデータ ソースからインポートする場合に、データ ソースのテーブルに既に存在するリレーションシップをインポートするよう選択すると、そのリレーションシップはモデル内に再作成されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-106">When using the Table Import Wizard to import from the same data source, relationships that already exist in tables (at the data source) that you choose to import will be re-created in the model.</span></span> <span data-ttu-id="6692c-107">ダイアグラム ビューのモデル デザイナーまたは [リレーションシップの管理] ダイアログ ボックスを使用すると、自動的に検出および再作成されたリレーションシップを表示できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-107">You can view relationships that were detected and re-created automatically by using the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="6692c-108">また、ダイアグラム ビューのモデル デザイナーを使用するか、[リレーションシップの作成] ダイアログ ボックスまたは [リレーションシップの管理] ダイアログ ボックスを使用すると、テーブル間に新しいリレーションシップを手動で作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="6692c-108">You can also create new relationships between tables manually by using the model designer in Diagram View or by using the Create Relationship or Manage Relationships dialog box.</span></span>  
  
 <span data-ttu-id="6692c-109">インポート時に自動的に、または手動でテーブル間のリレーションシップを定義すると、関連付けられた列を使用してデータをフィルター処理したり、関連付けられたテーブル内の値を参照したりできるようになります。</span><span class="sxs-lookup"><span data-stu-id="6692c-109">After relationships between tables have been defined, either automatically during import or created manually, you will be able to filter data by using related columns and look up values in related tables.</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="6692c-110">モデルに多数のリレーションシップが含まれている場合に、テーブル間のリレーションシップを表示し、新しいリレーションシップを作成するには、ダイアグラム ビューを使用すると効果的です。</span><span class="sxs-lookup"><span data-stu-id="6692c-110">If your model contains many relationships, Diagram View can better help you better visualize and create new relationships between tables.</span></span>  
  
 <span data-ttu-id="6692c-111">このトピックのセクション:</span><span class="sxs-lookup"><span data-stu-id="6692c-111">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="6692c-112">メリット</span><span class="sxs-lookup"><span data-stu-id="6692c-112">Benefits</span></span>](#what)  
  
-   [<span data-ttu-id="6692c-113">リレーションシップの要件</span><span class="sxs-lookup"><span data-stu-id="6692c-113">Requirements for Relationships</span></span>](#requirements)  
  
-   [<span data-ttu-id="6692c-114">リレーションシップの推定</span><span class="sxs-lookup"><span data-stu-id="6692c-114">Inference of Relationships</span></span>](#detection)  
  
-   [<span data-ttu-id="6692c-115">データのインポート時のリレーションシップの検出</span><span class="sxs-lookup"><span data-stu-id="6692c-115">Detection of Relationships When Importing Data</span></span>](#bkmk_detection)  
  
-   [<span data-ttu-id="6692c-116">リレーションシップを手動で作成する</span><span class="sxs-lookup"><span data-stu-id="6692c-116">Manually Create Relationships</span></span>](#bkmk_manually_create)  
  
-   [<span data-ttu-id="6692c-117">値の重複などのエラー</span><span class="sxs-lookup"><span data-stu-id="6692c-117">Duplicate Values and Other Errors</span></span>](#bkmk_dupl_errors)  
  
-   [<span data-ttu-id="6692c-118">関連タスク</span><span class="sxs-lookup"><span data-stu-id="6692c-118">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="what"></a> <span data-ttu-id="6692c-119">利点</span><span class="sxs-lookup"><span data-stu-id="6692c-119">Benefits</span></span>  
 <span data-ttu-id="6692c-120">リレーションシップは、各テーブル内の 1 つ以上の列に基づく、2 つのデータ テーブル間の接続を表します。</span><span class="sxs-lookup"><span data-stu-id="6692c-120">A relationship is a connection between two tables of data, based on one or more columns in each table.</span></span> <span data-ttu-id="6692c-121">リレーションシップが有用である理由を理解するために、業務において顧客注文のデータを追跡する場合を考えます。</span><span class="sxs-lookup"><span data-stu-id="6692c-121">To see why relationships are useful, imagine that you track data for customer orders in your business.</span></span> <span data-ttu-id="6692c-122">すべてのデータは、次のような構造を持つ単一のテーブルで追跡できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-122">You could track all the data in a single table that has a structure like the following:</span></span>  
  
|<span data-ttu-id="6692c-123">CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-123">CustomerID</span></span>|<span data-ttu-id="6692c-124">名前</span><span class="sxs-lookup"><span data-stu-id="6692c-124">Name</span></span>|<span data-ttu-id="6692c-125">EMail</span><span class="sxs-lookup"><span data-stu-id="6692c-125">EMail</span></span>|<span data-ttu-id="6692c-126">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="6692c-126">DiscountRate</span></span>|<span data-ttu-id="6692c-127">OrderID</span><span class="sxs-lookup"><span data-stu-id="6692c-127">OrderID</span></span>|<span data-ttu-id="6692c-128">OrderDate</span><span class="sxs-lookup"><span data-stu-id="6692c-128">OrderDate</span></span>|<span data-ttu-id="6692c-129">Product</span><span class="sxs-lookup"><span data-stu-id="6692c-129">Product</span></span>|<span data-ttu-id="6692c-130">Quantity</span><span class="sxs-lookup"><span data-stu-id="6692c-130">Quantity</span></span>|  
|----------------|----------|-----------|------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="6692c-131">1</span><span class="sxs-lookup"><span data-stu-id="6692c-131">1</span></span>|<span data-ttu-id="6692c-132">Ashton</span><span class="sxs-lookup"><span data-stu-id="6692c-132">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="6692c-133">.05</span><span class="sxs-lookup"><span data-stu-id="6692c-133">.05</span></span>|<span data-ttu-id="6692c-134">256</span><span class="sxs-lookup"><span data-stu-id="6692c-134">256</span></span>|<span data-ttu-id="6692c-135">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="6692c-135">2010-01-07</span></span>|<span data-ttu-id="6692c-136">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="6692c-136">Compact Digital</span></span>|<span data-ttu-id="6692c-137">11</span><span class="sxs-lookup"><span data-stu-id="6692c-137">11</span></span>|  
|<span data-ttu-id="6692c-138">1</span><span class="sxs-lookup"><span data-stu-id="6692c-138">1</span></span>|<span data-ttu-id="6692c-139">Ashton</span><span class="sxs-lookup"><span data-stu-id="6692c-139">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="6692c-140">.05</span><span class="sxs-lookup"><span data-stu-id="6692c-140">.05</span></span>|<span data-ttu-id="6692c-141">255</span><span class="sxs-lookup"><span data-stu-id="6692c-141">255</span></span>|<span data-ttu-id="6692c-142">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="6692c-142">2010-01-03</span></span>|<span data-ttu-id="6692c-143">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="6692c-143">SLR Camera</span></span>|<span data-ttu-id="6692c-144">15</span><span class="sxs-lookup"><span data-stu-id="6692c-144">15</span></span>|  
|<span data-ttu-id="6692c-145">2</span><span class="sxs-lookup"><span data-stu-id="6692c-145">2</span></span>|<span data-ttu-id="6692c-146">Jaworski</span><span class="sxs-lookup"><span data-stu-id="6692c-146">Jaworski</span></span>|michal.jaworski@contoso.com|<span data-ttu-id="6692c-147">.10</span><span class="sxs-lookup"><span data-stu-id="6692c-147">.10</span></span>|<span data-ttu-id="6692c-148">254</span><span class="sxs-lookup"><span data-stu-id="6692c-148">254</span></span>|<span data-ttu-id="6692c-149">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="6692c-149">2010-01-03</span></span>|<span data-ttu-id="6692c-150">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="6692c-150">Budget Movie-Maker</span></span>|<span data-ttu-id="6692c-151">27</span><span class="sxs-lookup"><span data-stu-id="6692c-151">27</span></span>|  
  
 <span data-ttu-id="6692c-152">この方法でも機能しますが、すべての注文に対して顧客の電子メール アドレスなど冗長なデータを多数格納することになってしまいます。</span><span class="sxs-lookup"><span data-stu-id="6692c-152">This approach can work, but it involves storing a lot of redundant data, such as the customer e-mail address for every order.</span></span> <span data-ttu-id="6692c-153">ストレージは安価ですが、電子メール アドレスが変更された場合には、その顧客に関連する行をすべて更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-153">Storage is cheap, but you have to make sure you update every row for that customer if the e-mail address changes.</span></span> <span data-ttu-id="6692c-154">この問題に対する解決策の 1 つとして、データを複数のテーブルに分割し、それらのテーブル間のリレーションシップを定義する方法があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-154">One solution to this problem is to split the data into multiple tables and define relationships between those tables.</span></span> <span data-ttu-id="6692c-155">これは、 *などの* リレーショナル データベース [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]で使用されている方法です。</span><span class="sxs-lookup"><span data-stu-id="6692c-155">This is the approach used in *relational databases* like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="6692c-156">たとえば、モデルにインポートしたデータベースでは、次の 3 つの関連テーブルを使用して注文データを表すことができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-156">For example, a database that you import into a model might represent order data by using three related tables:</span></span>  
  
### <a name="customers"></a><span data-ttu-id="6692c-157">顧客</span><span class="sxs-lookup"><span data-stu-id="6692c-157">Customers</span></span>  
  
|<span data-ttu-id="6692c-158">CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-158">[CustomerID]</span></span>|<span data-ttu-id="6692c-159">名前</span><span class="sxs-lookup"><span data-stu-id="6692c-159">Name</span></span>|<span data-ttu-id="6692c-160">Email</span><span class="sxs-lookup"><span data-stu-id="6692c-160">Email</span></span>|  
|--------------------|----------|-----------|  
|<span data-ttu-id="6692c-161">1</span><span class="sxs-lookup"><span data-stu-id="6692c-161">1</span></span>|<span data-ttu-id="6692c-162">Ashton</span><span class="sxs-lookup"><span data-stu-id="6692c-162">Ashton</span></span>|chris.ashton@contoso.com|  
|<span data-ttu-id="6692c-163">2</span><span class="sxs-lookup"><span data-stu-id="6692c-163">2</span></span>|<span data-ttu-id="6692c-164">Jaworski</span><span class="sxs-lookup"><span data-stu-id="6692c-164">Jaworski</span></span>|michal.jaworski@contoso.com|  
  
### <a name="customerdiscounts"></a><span data-ttu-id="6692c-165">CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="6692c-165">CustomerDiscounts</span></span>  
  
|<span data-ttu-id="6692c-166">CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-166">[CustomerID]</span></span>|<span data-ttu-id="6692c-167">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="6692c-167">DiscountRate</span></span>|  
|--------------------|------------------|  
|<span data-ttu-id="6692c-168">1</span><span class="sxs-lookup"><span data-stu-id="6692c-168">1</span></span>|<span data-ttu-id="6692c-169">.05</span><span class="sxs-lookup"><span data-stu-id="6692c-169">.05</span></span>|  
|<span data-ttu-id="6692c-170">2</span><span class="sxs-lookup"><span data-stu-id="6692c-170">2</span></span>|<span data-ttu-id="6692c-171">.10</span><span class="sxs-lookup"><span data-stu-id="6692c-171">.10</span></span>|  
  
### <a name="orders"></a><span data-ttu-id="6692c-172">Orders</span><span class="sxs-lookup"><span data-stu-id="6692c-172">Orders</span></span>  
  
|<span data-ttu-id="6692c-173">CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-173">[CustomerID]</span></span>|<span data-ttu-id="6692c-174">OrderID</span><span class="sxs-lookup"><span data-stu-id="6692c-174">OrderID</span></span>|<span data-ttu-id="6692c-175">OrderDate</span><span class="sxs-lookup"><span data-stu-id="6692c-175">OrderDate</span></span>|<span data-ttu-id="6692c-176">Product</span><span class="sxs-lookup"><span data-stu-id="6692c-176">Product</span></span>|<span data-ttu-id="6692c-177">Quantity</span><span class="sxs-lookup"><span data-stu-id="6692c-177">Quantity</span></span>|  
|--------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="6692c-178">1</span><span class="sxs-lookup"><span data-stu-id="6692c-178">1</span></span>|<span data-ttu-id="6692c-179">256</span><span class="sxs-lookup"><span data-stu-id="6692c-179">256</span></span>|<span data-ttu-id="6692c-180">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="6692c-180">2010-01-07</span></span>|<span data-ttu-id="6692c-181">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="6692c-181">Compact Digital</span></span>|<span data-ttu-id="6692c-182">11</span><span class="sxs-lookup"><span data-stu-id="6692c-182">11</span></span>|  
|<span data-ttu-id="6692c-183">1</span><span class="sxs-lookup"><span data-stu-id="6692c-183">1</span></span>|<span data-ttu-id="6692c-184">255</span><span class="sxs-lookup"><span data-stu-id="6692c-184">255</span></span>|<span data-ttu-id="6692c-185">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="6692c-185">2010-01-03</span></span>|<span data-ttu-id="6692c-186">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="6692c-186">SLR Camera</span></span>|<span data-ttu-id="6692c-187">15</span><span class="sxs-lookup"><span data-stu-id="6692c-187">15</span></span>|  
|<span data-ttu-id="6692c-188">2</span><span class="sxs-lookup"><span data-stu-id="6692c-188">2</span></span>|<span data-ttu-id="6692c-189">254</span><span class="sxs-lookup"><span data-stu-id="6692c-189">254</span></span>|<span data-ttu-id="6692c-190">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="6692c-190">2010-01-03</span></span>|<span data-ttu-id="6692c-191">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="6692c-191">Budget Movie-Maker</span></span>|<span data-ttu-id="6692c-192">27</span><span class="sxs-lookup"><span data-stu-id="6692c-192">27</span></span>|  
  
 <span data-ttu-id="6692c-193">これらのテーブルを同じデータベースからインポートした場合、テーブルのインポート ウィザードではテーブル間のリレーションシップを角かっこ ([ ]) で囲んで示した列に基づいて検出できるため、モデル デザイナーでこれらのリレーションシップを再現できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-193">If you import these tables from the same database, the Table Import Wizard can detect the relationships between the tables based on the columns that are in [brackets], and can reproduce these relationships in the model designer.</span></span> <span data-ttu-id="6692c-194">詳細については、このトピックの「 [リレーションシップの自動検出と自動推定](#detection) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6692c-194">For more information, see [Automatic Detection and Inference of Relationships](#detection) in this topic.</span></span> <span data-ttu-id="6692c-195">複数のソースからテーブルをインポートした場合、「 [2 つのテーブル間のリレーションシップの作成 (SSAS テーブル)](create-a-relationship-between-two-tables-ssas-tabular.md)で使用されている方法です。</span><span class="sxs-lookup"><span data-stu-id="6692c-195">If you import tables from multiple sources, you can manually create relationships as described in [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
### <a name="columns-and-keys"></a><span data-ttu-id="6692c-196">列およびキー</span><span class="sxs-lookup"><span data-stu-id="6692c-196">Columns and Keys</span></span>  
 <span data-ttu-id="6692c-197">リレーションシップは、同じデータが格納されている各テーブルの列に基づきます。</span><span class="sxs-lookup"><span data-stu-id="6692c-197">Relationships are based on columns in each table that contain the same data.</span></span> <span data-ttu-id="6692c-198">たとえば、Customers テーブルと Orders テーブルにはどちらにも顧客 ID を格納する列が含まれているため、これらのテーブルは相互に関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-198">For example, the Customers and Orders tables can be related to each other because they both contain a column that stores a customer ID.</span></span> <span data-ttu-id="6692c-199">この例では列名が同じになっていますが、これは必須条件ではありません。</span><span class="sxs-lookup"><span data-stu-id="6692c-199">In the example, the column names are the same, but this is not a requirement.</span></span> <span data-ttu-id="6692c-200">Orders テーブルのすべての行に Customers テーブルにも格納されている ID が含まれていれば、一方の列名を CustomerID にして、もう一方の列名を CustomerNumber にすることもできます。</span><span class="sxs-lookup"><span data-stu-id="6692c-200">One could be CustomerID and another CustomerNumber, as long as all of the rows in the Orders table contain an ID that is also stored in the Customers table.</span></span>  
  
 <span data-ttu-id="6692c-201">リレーショナル データベースの *キー*にはいくつかの種類があります。これらは通常、特殊なプロパティを含む単なる列です。</span><span class="sxs-lookup"><span data-stu-id="6692c-201">In a relational database, there are several types of *keys*, which are typically just columns with special properties.</span></span> <span data-ttu-id="6692c-202">リレーショナル データベースでは次の 4 種類のキーを使用できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-202">The following four types of keys can be used in relational databases:</span></span>  
  
-   <span data-ttu-id="6692c-203">*主キー*: Customers テーブルの CustomerID のように、テーブル内の行を一意に識別します。</span><span class="sxs-lookup"><span data-stu-id="6692c-203">*Primary key*: uniquely identifies a row in a table, such as CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="6692c-204">*代替キー* ( *候補キー*): 主キー以外の一意の列。</span><span class="sxs-lookup"><span data-stu-id="6692c-204">*Alternate key* (or *candidate key*): a column other than the primary key that is unique.</span></span> <span data-ttu-id="6692c-205">たとえば、従業員 ID と社会保障番号が Employees テーブルに格納されることがありますが、これらは両方とも一意です。</span><span class="sxs-lookup"><span data-stu-id="6692c-205">For example, an Employees table might store an employee ID and a social security number, both of which are unique.</span></span>  
  
-   <span data-ttu-id="6692c-206">*外部キー*: Customers テーブルの CustomerID を参照する Orders テーブルの CustomerID のように、別のテーブル内にある一意の列を参照する列。</span><span class="sxs-lookup"><span data-stu-id="6692c-206">*Foreign key*: a column that refers to a unique column in another table, such as CustomerID in the Orders table, which refers to CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="6692c-207">*複合キー*: 複数の列で構成されるキー。</span><span class="sxs-lookup"><span data-stu-id="6692c-207">*Composite key*: a key that is composed of more than one column.</span></span> <span data-ttu-id="6692c-208">複合キーは、テーブル モデルではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="6692c-208">Composite keys are not supported in tabular models.</span></span> <span data-ttu-id="6692c-209">詳細については、このトピックの「複合キーと参照列」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6692c-209">For more information, see "Composite Keys and Lookup Columns" in this topic.</span></span>  
  
 <span data-ttu-id="6692c-210">テーブル モデルでは、主キーや代替キーを *関連する参照列*と呼びます (単に *参照列*とも呼びます)。</span><span class="sxs-lookup"><span data-stu-id="6692c-210">In tabular models, the primary key or alternate key is referred to as the *related lookup column*, or just *lookup column*.</span></span> <span data-ttu-id="6692c-211">テーブルに主キーと代替キーの両方がある場合は、どちらも参照列として使用できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-211">If a table has both a primary and alternate key, you can use either as the lookup column.</span></span> <span data-ttu-id="6692c-212">外部キーは、 *ソース列* または *列*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="6692c-212">The foreign key is referred to as the *source column* or just *column*.</span></span> <span data-ttu-id="6692c-213">上記の例では、Orders テーブルの CustomerID (列) と Customers テーブルの CustomerID (参照列) の間でリレーションシップが定義されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-213">In our example, a relationship would be defined between CustomerID in the Orders table (the column) and CustomerID (the lookup column) in the Customers table.</span></span> <span data-ttu-id="6692c-214">リレーショナル データベースからデータをインポートすると、モデル デザイナーでは、あるテーブルの外部キーと、別のテーブルの対応する主キーが既定により選択されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-214">If you import data from a relational database, by default the model designer chooses the foreign key from one table and the corresponding primary key from the other table.</span></span> <span data-ttu-id="6692c-215">ただし、参照列には、一意の値を持つ任意の列を使用できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-215">However, you can use any column that has unique values for the lookup column.</span></span>  
  
### <a name="types-of-relationships"></a><span data-ttu-id="6692c-216">リレーションシップの種類</span><span class="sxs-lookup"><span data-stu-id="6692c-216">Types of Relationships</span></span>  
 <span data-ttu-id="6692c-217">Customers と Orders のリレーションシップは、 *一対多リレーションシップ*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="6692c-217">The relationship between Customers and Orders is a *one-to-many relationship*.</span></span> <span data-ttu-id="6692c-218">各顧客は複数の注文を行うことができますが、1 つの注文に複数の顧客を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="6692c-218">Every customer can have multiple orders, but an order cannot have multiple customers.</span></span> <span data-ttu-id="6692c-219">リレーションシップのその他の種類として、 *一対一* と *多対多*があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-219">The other types of relationships are *one-to-one* and *many-to-many*.</span></span> <span data-ttu-id="6692c-220">顧客ごとに単一の割引率を定義する CustomerDiscounts テーブルは、Customers テーブルと一対一のリレーションシップを持ちます。</span><span class="sxs-lookup"><span data-stu-id="6692c-220">The CustomerDiscounts table, which defines a single discount rate for each customer, is in a one-to-one relationship with the Customers table.</span></span> <span data-ttu-id="6692c-221">多対多リレーションシップの例としては、製品と顧客の間の直接的なリレーションシップがあります。このリレーションシップでは、1 人の顧客が複数の製品を購入することができ、同じ製品を複数の顧客が購入することができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-221">An example of a many-to-many relationship is a direct relationship between Products and Customers, in which a customer can buy many products and the same product can be bought by many customers.</span></span> <span data-ttu-id="6692c-222">モデル デザイナーのユーザー インターフェイスでは、多対多リレーションシップはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="6692c-222">The model designer does not support many-to-many relationships in the user interface.</span></span> <span data-ttu-id="6692c-223">詳細については、このトピックの「[多対多リレーションシップ](#bkmk_many_to_many)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6692c-223">For more information, see "[Many-to-Many Relationships](#bkmk_many_to_many)" in this topic.</span></span>  
  
 <span data-ttu-id="6692c-224">次の表は、3 つのテーブル間のリレーションシップを示しています。</span><span class="sxs-lookup"><span data-stu-id="6692c-224">The following table shows the relationships between the three tables:</span></span>  
  
|<span data-ttu-id="6692c-225">リレーションシップ</span><span class="sxs-lookup"><span data-stu-id="6692c-225">Relationship</span></span>|<span data-ttu-id="6692c-226">Type</span><span class="sxs-lookup"><span data-stu-id="6692c-226">Type</span></span>|<span data-ttu-id="6692c-227">参照列</span><span class="sxs-lookup"><span data-stu-id="6692c-227">Lookup Column</span></span>|<span data-ttu-id="6692c-228">列</span><span class="sxs-lookup"><span data-stu-id="6692c-228">Column</span></span>|  
|------------------|----------|-------------------|------------|  
|<span data-ttu-id="6692c-229">Customers-CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="6692c-229">Customers-CustomerDiscounts</span></span>|<span data-ttu-id="6692c-230">一対一</span><span class="sxs-lookup"><span data-stu-id="6692c-230">one-to-one</span></span>|<span data-ttu-id="6692c-231">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-231">Customers.CustomerID</span></span>|<span data-ttu-id="6692c-232">CustomerDiscounts.CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-232">CustomerDiscounts.CustomerID</span></span>|  
|<span data-ttu-id="6692c-233">Customers-Orders</span><span class="sxs-lookup"><span data-stu-id="6692c-233">Customers-Orders</span></span>|<span data-ttu-id="6692c-234">一対多</span><span class="sxs-lookup"><span data-stu-id="6692c-234">one-to-many</span></span>|<span data-ttu-id="6692c-235">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-235">Customers.CustomerID</span></span>|<span data-ttu-id="6692c-236">Orders.CustomerID</span><span class="sxs-lookup"><span data-stu-id="6692c-236">Orders.CustomerID</span></span>|  
  
### <a name="relationships-and-performance"></a><span data-ttu-id="6692c-237">リレーションシップとパフォーマンス</span><span class="sxs-lookup"><span data-stu-id="6692c-237">Relationships and Performance</span></span>  
 <span data-ttu-id="6692c-238">通常、リレーションシップを作成した後は、新しく作成されたリレーションシップのテーブル内の列を使用する式をモデル デザイナーで再計算する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-238">After any relationship has been created, the model designer typically must recalculate any formulas that use columns from tables in the newly created relationship.</span></span> <span data-ttu-id="6692c-239">データの量およびリレーションシップの複雑さによっては、この処理に時間がかかることがあります。</span><span class="sxs-lookup"><span data-stu-id="6692c-239">Processing can take some time depending on the amount of data and the complexity of the relationships.</span></span>  
  
##  <a name="requirements-for-relationships"></a><a name="requirements"></a> <span data-ttu-id="6692c-240">リレーションシップの要件</span><span class="sxs-lookup"><span data-stu-id="6692c-240">Requirements for Relationships</span></span>  
 <span data-ttu-id="6692c-241">モデル デザイナーには、リレーションシップの作成時に従う必要がある要件がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="6692c-241">The model designer has several requirements that must be followed when creating relationships:</span></span>  
  
### <a name="single-active-relationship-between-tables"></a><span data-ttu-id="6692c-242">テーブル間に 1 つのアクティブなリレーションシップ</span><span class="sxs-lookup"><span data-stu-id="6692c-242">Single Active Relationship between Tables</span></span>  
 <span data-ttu-id="6692c-243">複数のリレーションシップを作成すると、テーブル間の依存関係があいまいになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-243">Multiple relationships could result in ambiguous dependencies between tables.</span></span> <span data-ttu-id="6692c-244">正確な計算を作成するには、テーブル間のパスを 1 つにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-244">To create accurate calculations, you need a single path from one table to the next.</span></span> <span data-ttu-id="6692c-245">そのため、テーブルの各ペアの間に作成できるアクティブなリレーションシップは 1 つだけです。</span><span class="sxs-lookup"><span data-stu-id="6692c-245">Therefore, there can be only one active relationship between each pair of tables.</span></span> <span data-ttu-id="6692c-246">たとえば、AdventureWorks DW 2012 の DimDate テーブルには、FactInternetSales テーブルの 3 つの異なる列 (OrderDate、DueDate、および ShipDate) に関連付けられた DateKey 列が含まれています。</span><span class="sxs-lookup"><span data-stu-id="6692c-246">For example, in AdventureWorks DW 2012, the table, DimDate, contains a column, DateKey, that is related to three different columns in the table, FactInternetSales: OrderDate, DueDate, and ShipDate.</span></span> <span data-ttu-id="6692c-247">これらのテーブルをインポートしようとした場合、最初のリレーションシップは正常に作成されますが、同じ列を使用する後続のリレーションシップに関して次のエラーが出力されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-247">If you attempt to import these tables, the first relationship is created successfully, but you will receive the following error on successive relationships that involve the same column:</span></span>  
  
 <span data-ttu-id="6692c-248">\*リレーションシップ: テーブル [列 1]-> テーブル [列 2]-状態: エラー-理由: テーブルとの間にリレーションシップを作成することはできません。 \<table 1> \<table 2></span><span class="sxs-lookup"><span data-stu-id="6692c-248">\* Relationship: table[column 1]-> table[column 2]   - Status: error   - Reason: A relationship cannot be created between tables \<table 1> and \<table 2>.</span></span> <span data-ttu-id="6692c-249">2 つのテーブル間に作成できる直接的または間接的なリレーションシップは 1 つだけです。</span><span class="sxs-lookup"><span data-stu-id="6692c-249">Only one direct or indirect relationship can exist between two tables.</span></span>  
  
 <span data-ttu-id="6692c-250">2 つのテーブルの間に複数のリレーションシップが存在している場合は、参照列を含むテーブルのコピーを複数インポートし、テーブルの各ペアの間にリレーションシップを 1 つ作成します。</span><span class="sxs-lookup"><span data-stu-id="6692c-250">If you have two tables and multiple relationships between them, then you will need to import multiple copies of the table that contains the lookup column, and create one relationship between each pair of tables.</span></span>  
  
 <span data-ttu-id="6692c-251">テーブル間の非アクティブなリレーションシップは複数作成できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-251">There can be many inactive relationships between tables.</span></span> <span data-ttu-id="6692c-252">テーブル間で使用するパスは、レポート クライアントによってクエリ時に指定されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-252">The path to use between tables is specified by the reporting client at query time.</span></span>  
  
### <a name="one-relationship-for-each-source-column"></a><span data-ttu-id="6692c-253">ソース列ごとに 1 つのリレーションシップ</span><span class="sxs-lookup"><span data-stu-id="6692c-253">One Relationship for Each Source Column</span></span>  
 <span data-ttu-id="6692c-254">ソース列は、複数のリレーションシップに参加できません。</span><span class="sxs-lookup"><span data-stu-id="6692c-254">A source column cannot participate in multiple relationships.</span></span> <span data-ttu-id="6692c-255">既に 1 つのリレーションシップである列をソース列として使用している場合、別のテーブルの別の関連参照列に関連付けるためにその列を使用するには、その列のコピーを作成して新しいリレーションシップに使用します。</span><span class="sxs-lookup"><span data-stu-id="6692c-255">If you have used a column as a source column in one relationship already, but want to use that column to connect to another related lookup column in a different table, you can create a copy of the column, and use that column for the new relationship.</span></span>  
  
 <span data-ttu-id="6692c-256">計算列で DAX 数式を使用すると、値がまったく同じ列のコピーを簡単に作成できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-256">It is easy to create a copy of a column that has the exact same values, by using a DAX formula in a calculated column.</span></span> <span data-ttu-id="6692c-257">詳細については、「[計算列の作成 (SSAS テーブル)](ssas-calculated-columns-create-a-calculated-column.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6692c-257">For more information, see [Create a Calculated Column &#40;SSAS Tabular&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span></span>  
  
### <a name="unique-identifier-for-each-table"></a><span data-ttu-id="6692c-258">テーブルごとに一意の識別子</span><span class="sxs-lookup"><span data-stu-id="6692c-258">Unique Identifier for Each Table</span></span>  
 <span data-ttu-id="6692c-259">各テーブルには、各行を一意に識別する列を 1 つ含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-259">Each table must have a single column that uniquely identifies each row in that table.</span></span> <span data-ttu-id="6692c-260">この列は、通常、主キーと呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="6692c-260">This column is often referred to as the primary key.</span></span>  
  
### <a name="unique-lookup-columns"></a><span data-ttu-id="6692c-261">一意の参照列</span><span class="sxs-lookup"><span data-stu-id="6692c-261">Unique Lookup Columns</span></span>  
 <span data-ttu-id="6692c-262">参照列のデータ値は一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-262">The data values in the lookup column must be unique.</span></span> <span data-ttu-id="6692c-263">つまり、参照列に重複値を格納することはできません。</span><span class="sxs-lookup"><span data-stu-id="6692c-263">In other words, the column cannot contain duplicates.</span></span> <span data-ttu-id="6692c-264">テーブル モデルの場合、null と空の文字列は、明確なデータ値である空白と同じものとして扱われます。</span><span class="sxs-lookup"><span data-stu-id="6692c-264">In Tabular models, nulls and empty strings are equivalent to a blank, which is a distinct data value.</span></span> <span data-ttu-id="6692c-265">つまり、参照列には複数の null を格納できません。</span><span class="sxs-lookup"><span data-stu-id="6692c-265">This means that you cannot have multiple nulls in the lookup column.</span></span>  
  
### <a name="compatible-data-types"></a><span data-ttu-id="6692c-266">互換性のあるデータ型</span><span class="sxs-lookup"><span data-stu-id="6692c-266">Compatible Data Types</span></span>  
 <span data-ttu-id="6692c-267">ソース列と参照列のデータ型には互換性がある必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-267">The data types in the source column and lookup column must be compatible.</span></span> <span data-ttu-id="6692c-268">データ型の詳細については、「[サポートされているデータ型 (SSAS テーブル)](data-types-supported-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6692c-268">For more information about data types, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
### <a name="composite-keys-and-lookup-columns"></a><span data-ttu-id="6692c-269">複合キーと参照列</span><span class="sxs-lookup"><span data-stu-id="6692c-269">Composite Keys and Lookup Columns</span></span>  
 <span data-ttu-id="6692c-270">テーブル モデルでは複合キーを使用できません。テーブルの各行を一意に識別する列は常に 1 つである必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-270">You cannot use composite keys in a tabular model; you must always have one column that uniquely identifies each row in the table.</span></span> <span data-ttu-id="6692c-271">複合キーに基づく既存のリレーションシップを持つテーブルをインポートしようとすると、このリレーションシップはテーブル モデルで作成できないため、テーブルのインポート ウィザードでは無視されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-271">If you try to import tables that have an existing relationship based on a composite key, the Table Import Wizard will ignore that relationship because it cannot be created in the tabular model.</span></span>  
  
 <span data-ttu-id="6692c-272">モデル デザイナーで 2 つのテーブル間のリレーションシップを作成する必要がある場合に、主キーと外部キーを定義する列が複数あるときは、リレーションシップを作成する前に、値を組み合わせて 1 つのキー列を作成しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-272">If you want to create a relationship between two tables in the model designer, and there are multiple columns defining the primary and foreign keys, you must combine the values to create a single key column before creating the relationship.</span></span> <span data-ttu-id="6692c-273">これはデータをインポートする前に行うことができます。また、モデル デザイナーで計算列を作成することによっても行うことができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-273">You can do this before you import the data, or you can do this in the model designer by creating a calculated column.</span></span>  
  
###  <a name="many-to-many-relationships"></a><a name="bkmk_many_to_many"></a><span data-ttu-id="6692c-274">多対多リレーションシップ</span><span class="sxs-lookup"><span data-stu-id="6692c-274">Many-to-Many Relationships</span></span>  
 <span data-ttu-id="6692c-275">テーブル モデルは多対多リレーションシップをサポートしていないため、モデル デザイナー内に *交差テーブル* を追加することはできません。</span><span class="sxs-lookup"><span data-stu-id="6692c-275">Tabular models do not support many-to-many relationships, and you cannot add *junction tables* in the model designer.</span></span> <span data-ttu-id="6692c-276">ただし、DAX 関数を使用して、多対多リレーションシップをモデル化することができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-276">However, you can use DAX functions to model many-to-many relationships.</span></span>  
  
### <a name="self-joins-and-loops"></a><span data-ttu-id="6692c-277">自己結合とループ</span><span class="sxs-lookup"><span data-stu-id="6692c-277">Self-Joins and Loops</span></span>  
 <span data-ttu-id="6692c-278">自己結合はテーブル モデルのテーブルでは許可されていません。</span><span class="sxs-lookup"><span data-stu-id="6692c-278">Self-joins are not permitted in tabular model tables.</span></span> <span data-ttu-id="6692c-279">自己結合は、テーブルとそれ自体との間の再帰的なリレーションシップです。</span><span class="sxs-lookup"><span data-stu-id="6692c-279">A self-join is a recursive relationship between a table and itself.</span></span> <span data-ttu-id="6692c-280">自己結合は、親子階層を定義するためによく使用されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-280">Self-joins are often used to define parent-child hierarchies.</span></span> <span data-ttu-id="6692c-281">たとえば、Employees テーブルの自己結合を行うと、業務の管理チェーンを示す階層を生成できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-281">For example, you could join an Employees table to itself to produce a hierarchy that shows the management chain at a business.</span></span>  
  
 <span data-ttu-id="6692c-282">モデル デザイナーでは、モデル内のリレーションシップの間にループを作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="6692c-282">The model designer does not allow loops to be created among relationships in a model.</span></span> <span data-ttu-id="6692c-283">つまり、以下に示すリレーションシップのセットは禁止されています。</span><span class="sxs-lookup"><span data-stu-id="6692c-283">In other words, the following set of relationships is prohibited.</span></span>  
  
 <span data-ttu-id="6692c-284">テーブル 1 の列 a   から   テーブル 2 の列 f</span><span class="sxs-lookup"><span data-stu-id="6692c-284">Table 1, column a   to   Table 2, column f</span></span>  
  
 <span data-ttu-id="6692c-285">テーブル 2 の列 f   から   テーブル 3 の列 n</span><span class="sxs-lookup"><span data-stu-id="6692c-285">Table 2, column f   to   Table 3, column n</span></span>  
  
 <span data-ttu-id="6692c-286">テーブル 3 の列 n   から   テーブル 1 の列 a</span><span class="sxs-lookup"><span data-stu-id="6692c-286">Table 3, column n   to   Table 1, column a</span></span>  
  
 <span data-ttu-id="6692c-287">結果的にループが作成されるリレーションシップを作成しようとすると、エラーが生成されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-287">If you try to create a relationship that would result in a loop being created, an error is generated.</span></span>  
  
##  <a name="inference-of-relationships"></a><a name="detection"></a><span data-ttu-id="6692c-288">リレーションシップの推論</span><span class="sxs-lookup"><span data-stu-id="6692c-288">Inference of Relationships</span></span>  
 <span data-ttu-id="6692c-289">テーブル間のリレーションシップは、自動的に連結される場合もあります。</span><span class="sxs-lookup"><span data-stu-id="6692c-289">In some cases, relationships between tables are automatically chained.</span></span> <span data-ttu-id="6692c-290">たとえば、次に示す最初の 2 セットのテーブルの間にリレーションシップを作成すると、他の 2 つのテーブルとの間にリレーションシップが存在すると推定され、自動的にリレーションシップが確立されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-290">For example, if you create a relationship between the first two sets of tables below, a relationship is inferred to exist between the other two tables, and a relationship is automatically established.</span></span>  
  
 <span data-ttu-id="6692c-291">Products と Category: 手動で作成</span><span class="sxs-lookup"><span data-stu-id="6692c-291">Products and Category -- created manually</span></span>  
  
 <span data-ttu-id="6692c-292">Category と SubCategory: 手動で作成</span><span class="sxs-lookup"><span data-stu-id="6692c-292">Category and SubCategory -- created manually</span></span>  
  
 <span data-ttu-id="6692c-293">Products と SubCategory: リレーションシップの推定</span><span class="sxs-lookup"><span data-stu-id="6692c-293">Products and SubCategory -- relationship is inferred</span></span>  
  
 <span data-ttu-id="6692c-294">リレーションシップを自動的に連結するには、上記のように、リレーションシップを一方向にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-294">In order for relationships to be automatically chained, the relationships must go in one direction, as shown above.</span></span> <span data-ttu-id="6692c-295">たとえば最初に、Sales と Products および Sales と Customers の間にリレーションシップが存在している場合は、リレーションシップは推定されません。</span><span class="sxs-lookup"><span data-stu-id="6692c-295">If the initial relationships were between, for example, Sales and Products, and Sales and Customers, a relationship is not inferred.</span></span> <span data-ttu-id="6692c-296">これは、Products と Customers の間のリレーションシップが多対多リレーションシップであるためです。</span><span class="sxs-lookup"><span data-stu-id="6692c-296">This is because the relationship between Products and Customers is a many-to-many relationship.</span></span>  
  
##  <a name="detection-of-relationships-when-importing-data"></a><a name="bkmk_detection"></a> <span data-ttu-id="6692c-297">データのインポート時のリレーションシップの検出</span><span class="sxs-lookup"><span data-stu-id="6692c-297">Detection of Relationships When Importing Data</span></span>  
 <span data-ttu-id="6692c-298">リレーショナル データ ソース テーブルからインポートすると、テーブルのインポート ウィザードによって、それらのソース テーブル内の既存のリレーションシップがソース スキーマ データに基づいて検出されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-298">When you import from a relational data source table, the Table Import Wizard detects existing relationships in those source tables based on the source schema data.</span></span> <span data-ttu-id="6692c-299">関連するテーブルがインポートされた場合は、それらのリレーションシップがモデルに複製されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-299">If related tables are imported, those relationships will be duplicated in the model.</span></span>  
  
##  <a name="manually-create-relationships"></a><a name="bkmk_manually_create"></a> <span data-ttu-id="6692c-300">リレーションシップの手動作成</span><span class="sxs-lookup"><span data-stu-id="6692c-300">Manually Create Relationships</span></span>  
 <span data-ttu-id="6692c-301">単一のリレーショナル データ ソース内のテーブル間のほとんどのリレーションシップは自動的に検出され、テーブル モデルで作成されますが、モデル テーブル間のリレーションシップを手動で作成する必要がある場合も数多くあります。</span><span class="sxs-lookup"><span data-stu-id="6692c-301">While most relationships between tables in a single relational data source will be detected automatically, and created in the tabular model, there are also many instances where you must manually create relationships between model tables.</span></span>  
  
 <span data-ttu-id="6692c-302">モデルに複数のソースのデータが含まれる場合は、リレーションシップの手動作成が必要になる可能性が高くなります。</span><span class="sxs-lookup"><span data-stu-id="6692c-302">If your model contains data from multiple sources, you will likely have to manually create relationships.</span></span> <span data-ttu-id="6692c-303">たとえば、Customers、CustomerDiscounts、および Orders テーブルをリレーショナル データソースからインポートできます。</span><span class="sxs-lookup"><span data-stu-id="6692c-303">For example, you may import Customers, CustomerDiscounts, and Orders tables from a relational data source.</span></span> <span data-ttu-id="6692c-304">ソースでこれらのテーブル間に存在するリレーションシップは、モデルに自動的に作成されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-304">Relationships existing between those tables at the source are automatically created in the model.</span></span> <span data-ttu-id="6692c-305">たとえば、別のソースから別のテーブルを追加し、Microsoft Excel のブックに Geography テーブルの地域データをインポートできます。</span><span class="sxs-lookup"><span data-stu-id="6692c-305">You may then add another table from a different source, for example, you import region data from a Geography table in a Microsoft Excel workbook.</span></span> <span data-ttu-id="6692c-306">次に、Customers テーブルの列と Geography テーブルの列との間にリレーションシップを手動で作成できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-306">You can then manually create a relationship between a column in the Customers table and a column in the Geography table.</span></span>  
  
 <span data-ttu-id="6692c-307">テーブル モデルでリレーションシップを手動で作成するには、ダイアグラム ビューのモデル デザイナーまたは [リレーションシップの管理] ダイアログ ボックスを使用できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-307">To manually create relationships in a tabular model, you can use the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="6692c-308">ダイアグラム ビューでは、テーブル間のリレーションシップと共にグラフィカルな形式でテーブルが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-308">The diagram view displays tables, with relationships between them, in a graphical format.</span></span> <span data-ttu-id="6692c-309">1 つのテーブルの列をクリックし、カーソルを別のテーブルにドラッグして、テーブル間のリレーションシップを正しい順序で簡単に作成できます。</span><span class="sxs-lookup"><span data-stu-id="6692c-309">You can click a column in one table and drag the cursor to another table to easily create a relationship, in the correct order, between the tables.</span></span> <span data-ttu-id="6692c-310">[リレーションシップの管理] ダイアログ ボックスでは、テーブル間のリレーションシップが単純なテーブル形式で表示されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-310">The Manage Relationships dialog box displays relationships between tables in a simple table format.</span></span> <span data-ttu-id="6692c-311">リレーションシップを手動で作成する方法については、「 [2 つのテーブル間のリレーションシップの作成 (SSAS テーブル)](create-a-relationship-between-two-tables-ssas-tabular.md)で使用されている方法です。</span><span class="sxs-lookup"><span data-stu-id="6692c-311">To learn how to manually create relationships, see [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
##  <a name="duplicate-values-and-other-errors"></a><a name="bkmk_dupl_errors"></a><span data-ttu-id="6692c-312">重複した値とその他のエラー</span><span class="sxs-lookup"><span data-stu-id="6692c-312">Duplicate Values and Other Errors</span></span>  
 <span data-ttu-id="6692c-313">リレーションシップで使用できない列を選択すると、その列の横に赤い X が表示されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-313">If you choose a column that cannot be used in the relationship, a red X appears next to the column.</span></span> <span data-ttu-id="6692c-314">エラー アイコンの上にカーソルを置くと、問題の詳細を示すメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="6692c-314">You can pause the cursor over the error icon to view a message that provides more information about the problem.</span></span> <span data-ttu-id="6692c-315">選択した列間のリレーションシップを作成できない原因となる問題には、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="6692c-315">Problems that can make it impossible to create a relationship between the selected columns include the following:</span></span>  
  
|<span data-ttu-id="6692c-316">問題またはメッセージ</span><span class="sxs-lookup"><span data-stu-id="6692c-316">Problem or message</span></span>|<span data-ttu-id="6692c-317">解像度</span><span class="sxs-lookup"><span data-stu-id="6692c-317">Resolution</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="6692c-318">選択した両方の列に重複する値が含まれるため、リレーションシップを作成できない。</span><span class="sxs-lookup"><span data-stu-id="6692c-318">The relationship cannot be created because both columns selected contain duplicate values.</span></span>|<span data-ttu-id="6692c-319">有効なリレーションシップを作成するには、選択したペアの少なくとも一方の列には一意の値のみが含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-319">To create a valid relationship, at least one column of the pair that you select must contain only unique values.</span></span><br /><br /> <span data-ttu-id="6692c-320">列を編集して重複値を削除するか、一意の値を含む列が **[関連する参照列]** として使用されるように、列の順序を逆にすることができます。</span><span class="sxs-lookup"><span data-stu-id="6692c-320">You can either edit the columns to remove duplicates, or you can reverse the order of the columns so that the column that contains the unique values is used as the **Related Lookup Column**.</span></span>|  
|<span data-ttu-id="6692c-321">列に NULL 値または空の値が含まれている。</span><span class="sxs-lookup"><span data-stu-id="6692c-321">The column contains a null or empty value.</span></span>|<span data-ttu-id="6692c-322">データ列を NULL 値で相互に結合することはできません。</span><span class="sxs-lookup"><span data-stu-id="6692c-322">Data columns cannot be joined to each other on a null value.</span></span> <span data-ttu-id="6692c-323">すべての行で、リレーションシップに使用されている両方の列に値が含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="6692c-323">For every row, there must be a value in both of the columns that are used in a relationship.</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="6692c-324">関連タスク</span><span class="sxs-lookup"><span data-stu-id="6692c-324">Related Tasks</span></span>  
  
|<span data-ttu-id="6692c-325">トピック</span><span class="sxs-lookup"><span data-stu-id="6692c-325">Topic</span></span>|<span data-ttu-id="6692c-326">説明</span><span class="sxs-lookup"><span data-stu-id="6692c-326">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="6692c-327">2 つのテーブル間のリレーションシップの作成 &#40;SSAS テーブル&#41;</span><span class="sxs-lookup"><span data-stu-id="6692c-327">Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;</span></span>](create-a-relationship-between-two-tables-ssas-tabular.md)|<span data-ttu-id="6692c-328">2 つのテーブル間のリレーションシップを手動で作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="6692c-328">Describes how to manually create a relationship between two tables.</span></span>|  
|[<span data-ttu-id="6692c-329">リレーションシップの削除 (SSAS テーブル)</span><span class="sxs-lookup"><span data-stu-id="6692c-329">Delete Relationships &#40;SSAS Tabular&#41;</span></span>](relationships-ssas-tabular.md)|<span data-ttu-id="6692c-330">リレーションシップを削除する方法とリレーションシップの削除がもたらす影響について説明します。</span><span class="sxs-lookup"><span data-stu-id="6692c-330">Describes how to delete a relationship and the ramifications of deleting relationships.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="6692c-331">参照</span><span class="sxs-lookup"><span data-stu-id="6692c-331">See Also</span></span>  
 <span data-ttu-id="6692c-332">[SSAS 表形式のテーブルと列 &#40;&#41;](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="6692c-332">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="6692c-333">データのインポート &#40;SSAS テーブル&#41;</span><span class="sxs-lookup"><span data-stu-id="6692c-333">Import Data &#40;SSAS Tabular&#41;</span></span>](../import-data-ssas-tabular.md)  
  
  
