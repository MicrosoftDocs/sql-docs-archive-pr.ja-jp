---
title: ロール (SSAS テーブル) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e547382a-c064-4bc6-818c-5127890af334
author: minewiskan
ms.author: owend
ms.openlocfilehash: 0293bf6d9ac4ee71df34ece92672311ca9f90436
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87711049"
---
# <a name="roles-ssas-tabular"></a><span data-ttu-id="86540-102">ロール (SSAS テーブル)</span><span class="sxs-lookup"><span data-stu-id="86540-102">Roles (SSAS Tabular)</span></span>
  <span data-ttu-id="86540-103">テーブル モデルでは、ロールはあるモデルのメンバー アクセス許可を定義します。</span><span class="sxs-lookup"><span data-stu-id="86540-103">Roles, in tabular models, define member permissions for a model.</span></span> <span data-ttu-id="86540-104">各ロールには、Windows ユーザー名または Windows グループ別のメンバー、および権限 (読み取り、処理、および管理者) があります。</span><span class="sxs-lookup"><span data-stu-id="86540-104">Each role contains members, by Windows username or by Windows group, and permissions (read, process, administrator).</span></span> <span data-ttu-id="86540-105">ロールのメンバーは、ロール権限によって定義されたとおりにモデル上で各種操作を実行できます。</span><span class="sxs-lookup"><span data-stu-id="86540-105">Members of the role can perform actions on the model as defined by the role permission.</span></span> <span data-ttu-id="86540-106">読み取り権限を付与して定義されたロールでは、行レベル フィルターを使用して行レベルでのセキュリティを向上させることもできます。</span><span class="sxs-lookup"><span data-stu-id="86540-106">Roles defined with read permissions can also provide additional security at the row-level by using row-level filters.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="86540-107">ユーザーがレポート生成用またはデータ分析用のクライアント アプリケーションを使用して任意の配置済みモデルに接続できるようにするため、それらのユーザーがメンバーである、最低でも読み取り権限はあるロールを 1 つ以上作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="86540-107">In-order for users to connect to a deployed model by using a reporting or data analysis client application, you must create at least one role with at least Read permission to which those users are members.</span></span>  
  
 <span data-ttu-id="86540-108">このトピックで提供する情報は、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]で [ロール マネージャー] ダイアログ ボックスを使用してロールを定義するテーブル モデル作成者向けです。</span><span class="sxs-lookup"><span data-stu-id="86540-108">Information in this topic is meant for tabular model authors who define roles by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="86540-109">モデル作成時に定義されたロールは、モデル ワークスペース データベースに適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-109">Roles defined during model authoring apply to the model workspace database.</span></span> <span data-ttu-id="86540-110">モデル データベースの配置が完了した後は、モデル データベース管理者は [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]を使用してロール メンバーの管理 (追加、編集、削除) を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="86540-110">After a model database has been deployed, model database administrators can manage (add, edit, delete) role members using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="86540-111">配置済みデータベースでのロールのメンバーの管理については、「[テーブル モデル ロール &#40;SSAS テーブル&#41;](tabular-model-roles-ssas-tabular.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="86540-111">To learn about managing members of roles in a deployed database, see [Tabular Model Roles &#40;SSAS Tabular&#41;](tabular-model-roles-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="86540-112">「[テーブル モデリング &#40;Adventure Works チュートリアル&#41;](../tabular-modeling-adventure-works-tutorial.md)」には、この機能の使用方法に関する追加情報とレッスンが含まれます。</span><span class="sxs-lookup"><span data-stu-id="86540-112">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) includes additional information and lessons on how to use this feature.</span></span>  
  
 <span data-ttu-id="86540-113">このトピックのセクション:</span><span class="sxs-lookup"><span data-stu-id="86540-113">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="86540-114">ロールについて</span><span class="sxs-lookup"><span data-stu-id="86540-114">Understanding Roles</span></span>](#bkmk_underst)  
  
-   [<span data-ttu-id="86540-115">アクセス許可</span><span class="sxs-lookup"><span data-stu-id="86540-115">Permissions</span></span>](#bkmk_permissions)  
  
-   [<span data-ttu-id="86540-116">行フィルター</span><span class="sxs-lookup"><span data-stu-id="86540-116">Row Filters</span></span>](#bkmk_rowfliters)  
  
-   [<span data-ttu-id="86540-117">ロールのテスト</span><span class="sxs-lookup"><span data-stu-id="86540-117">Testing Roles</span></span>](#bkmk_testroles)  
  
-   [<span data-ttu-id="86540-118">関連タスク</span><span class="sxs-lookup"><span data-stu-id="86540-118">Related Tasks</span></span>](#bkmk_rt)  
  
##  <a name="understanding-roles"></a><a name="bkmk_underst"></a><span data-ttu-id="86540-119">ロールについて</span><span class="sxs-lookup"><span data-stu-id="86540-119">Understanding Roles</span></span>  
 <span data-ttu-id="86540-120">ロールは [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 、およびデータのセキュリティを管理するために、で使用され [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="86540-120">Roles are used in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to manage security for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and data.</span></span> <span data-ttu-id="86540-121">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]には、次の 2 種類のロールがあります。</span><span class="sxs-lookup"><span data-stu-id="86540-121">There are two types of roles in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="86540-122">サーバー ロール。管理者が [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]インスタンスにアクセスできるようにするための固定ロールです。</span><span class="sxs-lookup"><span data-stu-id="86540-122">The server role, a fixed role that provides administrator access to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="86540-123">データベース ロール。管理者以外のユーザーによるモデル データベースとデータへのアクセスを制限するために、モデル作成者と管理者によって定義されるロールです。</span><span class="sxs-lookup"><span data-stu-id="86540-123">Database roles, roles defined by model authors and administrators to control access to a model database and data for non-administrator users.</span></span>  
  
 <span data-ttu-id="86540-124">テーブル モデル向けに定義されているロールは、データベース ロールです。</span><span class="sxs-lookup"><span data-stu-id="86540-124">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="86540-125">つまり、このロールに含まれるメンバーは Windows ユーザーまたは Windows グループで構成され、これらのユーザーまたはグループは、このロールのメンバーがモデル データベースに対して実行できる操作が定義された特定の権限を持っています。</span><span class="sxs-lookup"><span data-stu-id="86540-125">That is, the roles contain members consisting of Windows users or groups that have specific permissions that define the action those members can take on the model database.</span></span> <span data-ttu-id="86540-126">データベース ロールは、データベース内に個別のオブジェクトとして作成され、そのロールが作成されたデータベースにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-126">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span> <span data-ttu-id="86540-127">Windows ユーザーまたは Windows グループあるいはその両方は、モデル作成者によりこのロールに組み込まれます。このモデル作成者には、既定ではワークスペース データベース サーバー上での管理者権限があります。これは、配置済みモデルを対象とし、管理者ごとに異なります。</span><span class="sxs-lookup"><span data-stu-id="86540-127">Windows users and/or Windows groups are included in the role by the model author, which, by default, has Administrator permissions on the workspace database server; for a deployed model, by an administrator.</span></span>  
  
 <span data-ttu-id="86540-128">テーブル モデルでのロールは、行フィルターでさらに定義できます。</span><span class="sxs-lookup"><span data-stu-id="86540-128">Roles in tabular models can be further defined with row filters.</span></span> <span data-ttu-id="86540-129">行フィルターでは、DAX 式を使用して、テーブル内の行とユーザーがクエリを実行できる多くの方向の関連行を定義します。</span><span class="sxs-lookup"><span data-stu-id="86540-129">Row filters use DAX expressions to define the rows in a table, and any related rows in the many direction, that a user can query.</span></span> <span data-ttu-id="86540-130">DAX 式を使用する行フィルターを定義できるのは、読み取りおよび読み取りと処理の権限に対してだけです。</span><span class="sxs-lookup"><span data-stu-id="86540-130">Row filters using DAX expressions can only be defined for the Read and Read and Process permissions.</span></span> <span data-ttu-id="86540-131">詳しくは、後の「 [行フィルター](#bkmk_rowfliters) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="86540-131">For more information, see [Row Filters](#bkmk_rowfliters) later in this topic.</span></span>  
  
 <span data-ttu-id="86540-132">既定では、テーブル モデル プロジェクトの新規作成時点では、モデル プロジェクトにロールはありません。</span><span class="sxs-lookup"><span data-stu-id="86540-132">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="86540-133">ロールは、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]の [ロール マネージャー] ダイアログ ボックスを使用して定義できます。</span><span class="sxs-lookup"><span data-stu-id="86540-133">Roles can be defined by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="86540-134">モデルを作成しているときにロールを定義すると、それらのロールはモデル ワークスペース データベースに適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-134">When roles are defined during model authoring, they are applied to the model workspace database.</span></span> <span data-ttu-id="86540-135">モデルを配置すると、同じロールが配置済みモデルに適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-135">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="86540-136">モデルの配置が完了した後、サーバー ロール ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 管理者) のメンバーとデータベース管理者は、そのモデルに関連付けられたロールおよび各ロールに関連付けられたメンバーを [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]を使用して管理できます。</span><span class="sxs-lookup"><span data-stu-id="86540-136">After a model has been deployed, members of the server role ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Administrator) and database administrators can manage the roles associated with the model and the members associated with each role by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="86540-137">DirectQuery モード用に構成されたモデルのために定義されたロールでは、行フィルターを使用できません。ただし、各ロールに対して定義された権限は適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-137">Roles defined for a model configured for DirectQuery mode cannot use row filters, however, permissions defined for each role will apply.</span></span>  
  
##  <a name="permissions"></a><a name="bkmk_permissions"></a> <span data-ttu-id="86540-138">Permissions</span><span class="sxs-lookup"><span data-stu-id="86540-138">Permissions</span></span>  
 <span data-ttu-id="86540-139">各ロールに定義済みデータベース権限が 1 つ存在します (読み取りと処理を組み合わせた権限を除きます)。</span><span class="sxs-lookup"><span data-stu-id="86540-139">Each role has a single defined database permission (except for the combined Read and Process permission).</span></span> <span data-ttu-id="86540-140">既定では、新しいロールの権限は [なし] です。</span><span class="sxs-lookup"><span data-stu-id="86540-140">By default, a new role will have the None permission.</span></span> <span data-ttu-id="86540-141">つまり、メンバーが権限のないロールに追加されると、別の権限が与えられるまで、データベースの変更、処理操作の実行、データの照会、およびデータベースの表示を行うことはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-141">That is, once members are added to the role with the None permission, they cannot modify the database, run a process operation, query data, or see the database unless a different permission is granted.</span></span>  
  
 <span data-ttu-id="86540-142">Windows グループまたは Windows ユーザーは、任意の数のロール (各ロールには異なる権限がある) のメンバーになることができます。</span><span class="sxs-lookup"><span data-stu-id="86540-142">A Windows group or user can be a member of any number of roles, each role with a different permission.</span></span> <span data-ttu-id="86540-143">ある 1 人のユーザーが、複数個のロールのメンバーである場合、各ロールに対して定義された権限は累積されます。</span><span class="sxs-lookup"><span data-stu-id="86540-143">When a user is a member of multiple roles, the permissions defined for each role are cumulative.</span></span> <span data-ttu-id="86540-144">たとえば、あるユーザーが読み取り権限を持つロールのメンバーであると同時に、権限のないロールのメンバーでもある場合、そのユーザーは読み取り権限を持つことになります。</span><span class="sxs-lookup"><span data-stu-id="86540-144">For example, if a user is a member of a role with the Read permission, and also a member of a role with None permission, that user will have Read permissions.</span></span>  
  
 <span data-ttu-id="86540-145">各ロールに対して、次のうちいずれかの権限を定義できます。</span><span class="sxs-lookup"><span data-stu-id="86540-145">Each role can have one the following permissions defined:</span></span>  
  
|<span data-ttu-id="86540-146">アクセス許可</span><span class="sxs-lookup"><span data-stu-id="86540-146">Permissions</span></span>|<span data-ttu-id="86540-147">説明</span><span class="sxs-lookup"><span data-stu-id="86540-147">Description</span></span>|<span data-ttu-id="86540-148">DAX を使用する行フィルター</span><span class="sxs-lookup"><span data-stu-id="86540-148">Row  filters using DAX</span></span>|  
|-----------------|-----------------|----------------------------|  
|<span data-ttu-id="86540-149">なし</span><span class="sxs-lookup"><span data-stu-id="86540-149">None</span></span>|<span data-ttu-id="86540-150">メンバーは、モデルのデータベース スキーマを変更したり、データを照会したりすることはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-150">Members cannot make any modifications to the model database schema and cannot query data.</span></span>|<span data-ttu-id="86540-151">行フィルターは適用されません。</span><span class="sxs-lookup"><span data-stu-id="86540-151">Row filters do not apply.</span></span> <span data-ttu-id="86540-152">このロールのユーザーには、データは表示されません。</span><span class="sxs-lookup"><span data-stu-id="86540-152">No data is visible to users in this role</span></span>|  
|<span data-ttu-id="86540-153">Read</span><span class="sxs-lookup"><span data-stu-id="86540-153">Read</span></span>|<span data-ttu-id="86540-154">メンバーは、(行フィルターに基づいて) データに対してクエリを実行できますが、SSMS のモデル データベースを表示することはできず、モデルのデータベース スキーマを変更することはできません。また、ユーザーはモデルを処理できません。</span><span class="sxs-lookup"><span data-stu-id="86540-154">Members are allowed to query data (based on row filters) but cannot see the model database in SSMS, cannot make any changes to the model database schema, and the user cannot process the model.</span></span>|<span data-ttu-id="86540-155">行フィルターが適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-155">Row filters can be applied.</span></span> <span data-ttu-id="86540-156">行フィルター DAX 式で指定されたデータのみがユーザーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="86540-156">Only data specified in the row filter DAX formula is visible to users.</span></span>|  
|<span data-ttu-id="86540-157">Read and Process (読み取りとプロセス)</span><span class="sxs-lookup"><span data-stu-id="86540-157">Read and Process</span></span>|<span data-ttu-id="86540-158">メンバーは、(行レベル フィルターに基づいて) データを照会でき、処理コマンドを埋め込んだパッケージまたはスクリプトを実行することで処理操作を実行できますが、データベースを変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-158">Members are allowed to query data (based on row-level filters) and run process operations by running a script or package that contains a process command, but cannot make any changes to the database.</span></span> <span data-ttu-id="86540-159">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]でモデル データベースを表示することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-159">Cannot view the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="86540-160">行フィルターが適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-160">Row filters can be applied.</span></span> <span data-ttu-id="86540-161">行フィルター DAX 式で指定されたデータのみ照会できます。</span><span class="sxs-lookup"><span data-stu-id="86540-161">Only data specified in the row filter DAX formula can be queried.</span></span>|  
|<span data-ttu-id="86540-162">Process</span><span class="sxs-lookup"><span data-stu-id="86540-162">Process</span></span>|<span data-ttu-id="86540-163">メンバーは、処理コマンドを埋め込んだパッケージまたはスクリプトを実行することで、処理操作を実行できます。</span><span class="sxs-lookup"><span data-stu-id="86540-163">Members can run process operations by running a script or package that contains a process command.</span></span> <span data-ttu-id="86540-164">モデルのデータベース スキーマを変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-164">Cannot modify the model database schema.</span></span> <span data-ttu-id="86540-165">データを照会することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-165">Cannot query data.</span></span> <span data-ttu-id="86540-166">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]でモデル データベースを照会することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-166">Cannot query the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="86540-167">行フィルターは適用されません。</span><span class="sxs-lookup"><span data-stu-id="86540-167">Row filters do not apply.</span></span> <span data-ttu-id="86540-168">この役割ではデータを照会できません。</span><span class="sxs-lookup"><span data-stu-id="86540-168">No data can be queried in this role</span></span>|  
|<span data-ttu-id="86540-169">管理者</span><span class="sxs-lookup"><span data-stu-id="86540-169">Administrator</span></span>|<span data-ttu-id="86540-170">メンバーは、モデル デザイナー、レポート クライアント、および [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]でモデル スキーマを変更したり、すべてのデータを照会したりできます。</span><span class="sxs-lookup"><span data-stu-id="86540-170">Members can make modifications to the model schema and can query all data in the model designer, reporting client, and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="86540-171">行フィルターは適用されません。</span><span class="sxs-lookup"><span data-stu-id="86540-171">Row filters do not apply.</span></span> <span data-ttu-id="86540-172">この役割ではすべてのデータを照会することはできません。</span><span class="sxs-lookup"><span data-stu-id="86540-172">All data can be queried in this role.</span></span>|  
  
##  <a name="row-filters"></a><a name="bkmk_rowfliters"></a><span data-ttu-id="86540-173">行フィルター</span><span class="sxs-lookup"><span data-stu-id="86540-173">Row Filters</span></span>  
 <span data-ttu-id="86540-174">行フィルターは、特定のロールのメンバーがクエリできるテーブル内の行を定義します。</span><span class="sxs-lookup"><span data-stu-id="86540-174">Row filters define which rows in a table can be queried by members of a particular role.</span></span> <span data-ttu-id="86540-175">行フィルターは、DAX 式を使用してモデル内の各テーブルに対して定義されます。</span><span class="sxs-lookup"><span data-stu-id="86540-175">Row filters are defined for each table in a model by using DAX formulas.</span></span>  
  
 <span data-ttu-id="86540-176">行フィルターは、Read (読み取り) アクセス許可および Read and Process (読み取りとプロセス) アクセス許可を持つロールに対してのみ定義できます。</span><span class="sxs-lookup"><span data-stu-id="86540-176">Row filters can be defined only for roles with Read and Read and Process permissions.</span></span> <span data-ttu-id="86540-177">既定では、ある特定のテーブルに対して行フィルターが定義されていない場合、読み取り権限または読み取りと処理の権限を持つロールのメンバーは、別のテーブルからのクロスフィルター処理が適用されていない限り、テーブル内のすべての行を照会できます。</span><span class="sxs-lookup"><span data-stu-id="86540-177">By default, if a row filter is not defined for a particular table, members of a role that has Read or Read and Process permission can query all rows in the table unless cross-filtering applies from another table.</span></span>  
  
 <span data-ttu-id="86540-178">ある特定のテーブルに対して行フィルターが定義されると、DAX 式 (これは TRUE/FALSE 値に評価される必要がある) によりその特定のロールのメンバーが照会できる行が定義されます。</span><span class="sxs-lookup"><span data-stu-id="86540-178">Once a row filter is defined for a particular table, a DAX formula, which must evaluate to a TRUE/FALSE value, defines the rows that can be queried by members of that particular role.</span></span> <span data-ttu-id="86540-179">DAX 式に含まれていない行は照会できません。</span><span class="sxs-lookup"><span data-stu-id="86540-179">Rows not included in the DAX formula will cannot be queried.</span></span> <span data-ttu-id="86540-180">たとえば、Sales ロールのメンバーの場合、 *= customers [Country] = "USA"* という行フィルター式を持つ customers テーブルでは、米国内の顧客のみが表示されています。</span><span class="sxs-lookup"><span data-stu-id="86540-180">For example, for members of the Sales role, the Customers table with the following row filters expression, *=Customers [Country] = "USA"*, members of the Sales role, will only be able to see customers in the USA.</span></span>  
  
 <span data-ttu-id="86540-181">行フィルターは、指定行と関連行に適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-181">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="86540-182">1 つのテーブルに複数のリレーションシップがある場合、フィルターによりセキュリティがアクティブなリレーションシップに適用されます。</span><span class="sxs-lookup"><span data-stu-id="86540-182">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="86540-183">行フィルターには、関連テーブルに対して定義された他の行フィルターと類似する点があります。次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="86540-183">Row filters will be intersected with other row filers defined for related tables, for example:</span></span>  
  
|<span data-ttu-id="86540-184">テーブル</span><span class="sxs-lookup"><span data-stu-id="86540-184">Table</span></span>|<span data-ttu-id="86540-185">DAX 式</span><span class="sxs-lookup"><span data-stu-id="86540-185">DAX expression</span></span>|  
|-----------|--------------------|  
|<span data-ttu-id="86540-186">リージョン</span><span class="sxs-lookup"><span data-stu-id="86540-186">Region</span></span>|<span data-ttu-id="86540-187">=Region[Country]="USA"</span><span class="sxs-lookup"><span data-stu-id="86540-187">=Region[Country]="USA"</span></span>|  
|<span data-ttu-id="86540-188">ProductCategory</span><span class="sxs-lookup"><span data-stu-id="86540-188">ProductCategory</span></span>|<span data-ttu-id="86540-189">=ProductCategory[Name]="Bicycles"</span><span class="sxs-lookup"><span data-stu-id="86540-189">=ProductCategory[Name]="Bicycles"</span></span>|  
|<span data-ttu-id="86540-190">トランザクション</span><span class="sxs-lookup"><span data-stu-id="86540-190">Transactions</span></span>|<span data-ttu-id="86540-191">=Transactions[Year]=2008</span><span class="sxs-lookup"><span data-stu-id="86540-191">=Transactions[Year]=2008</span></span>|  
  
 <span data-ttu-id="86540-192">Transactions テーブルに対するこれらの権限の実質的な影響は、顧客が米国内に存在し、製品カテゴリが自転車で、しかも年度が 2008 であるデータ行をメンバーが照会できることです。</span><span class="sxs-lookup"><span data-stu-id="86540-192">The net effect of these permissions on the Transactions table is that members will be allowed to query rows of data where the customer is in the USA, and the product category is bicycles, and the year is 2008.</span></span> <span data-ttu-id="86540-193">メンバーは、顧客が米国外にいるか、製品が自転車でないか、または年度が 2008 年でないトランザクションは照会できません。ただし、これらの権限を付与された別のロールのメンバーである場合を除きます。</span><span class="sxs-lookup"><span data-stu-id="86540-193">Users would not be able to query any transactions outside of the USA, or any transactions that are not bicycles, or any transactions not in 2008 unless they are a member of another role that grants these permissions.</span></span>  
  
 <span data-ttu-id="86540-194">フィルター *=FALSE()* を使用して、テーブル全体のすべての行へのアクセスを拒否できます。</span><span class="sxs-lookup"><span data-stu-id="86540-194">You can use the filter, *=FALSE()*, to deny access to all rows for an entire table.</span></span>  
  
### <a name="dynamic-security"></a><span data-ttu-id="86540-195">動的なセキュリティ</span><span class="sxs-lookup"><span data-stu-id="86540-195">Dynamic Security</span></span>  
 <span data-ttu-id="86540-196">動的なセキュリティには、現在ログオンしているユーザーの名前、または接続文字列から返された CustomData プロパティに基づいて、行レベルのセキュリティを定義する方法が用意されています。</span><span class="sxs-lookup"><span data-stu-id="86540-196">Dynamic security provides a way to define row level security based on the user name of the user currently logged on or the CustomData property returned from a connection string.</span></span> <span data-ttu-id="86540-197">動的なセキュリティを実装するために、ユーザーのログイン値 (Windows ユーザー名) および特定の権限を定義できるフィールドを含むテーブルをモデルに含める必要があります。たとえば、ログイン ID (domain\username) と、各従業員の部署の値を含む dimEmployees テーブルなどです。</span><span class="sxs-lookup"><span data-stu-id="86540-197">In order to implement dynamic security, you must include in your model a table with login (Windows user name) values for users as well as a field that can be used to define a particular permission; for example, a dimEmployees table with a login ID (domain\username) as well as a department value for each employee.</span></span>  
  
 <span data-ttu-id="86540-198">動的なセキュリティを実装する場合、DAX 式に次の関数を使用すると、現在ログオンしているユーザーの名前、または接続文字列の CustomData プロパティが返されます。</span><span class="sxs-lookup"><span data-stu-id="86540-198">To implement dynamic security, you can use the following functions as part of a DAX formula to return the user name of the user currently logged on, or the CustomData property in a connection string:</span></span>  
  
|<span data-ttu-id="86540-199">機能</span><span class="sxs-lookup"><span data-stu-id="86540-199">Function</span></span>|<span data-ttu-id="86540-200">説明</span><span class="sxs-lookup"><span data-stu-id="86540-200">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="86540-201">ユーザー名関数 &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="86540-201">USERNAME Function &#40;DAX&#41;</span></span>](/dax/username-function-dax)|<span data-ttu-id="86540-202">現在ログオンしているユーザーの domain\username を返します。</span><span class="sxs-lookup"><span data-stu-id="86540-202">Returns the domain\ username of the user currently logged on.</span></span>|  
|[<span data-ttu-id="86540-203">CUSTOMDATA 関数 &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="86540-203">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)|<span data-ttu-id="86540-204">接続文字列の CustomData プロパティを返します。</span><span class="sxs-lookup"><span data-stu-id="86540-204">Returns the CustomData property in a connection string.</span></span>|  
  
 <span data-ttu-id="86540-205">LOOKUPVALUE 関数を使用すると、USERNAME 関数で返されるユーザー名または CustomData 関数で返される文字列と同じ Windows ユーザー名を含む列の値が返されます。</span><span class="sxs-lookup"><span data-stu-id="86540-205">You can use the LOOKUPVALUE function to return values for a column in which the Windows user name is the same as the user name returned by the USERNAME function or a string returned by the CustomData function.</span></span> <span data-ttu-id="86540-206">同じテーブルまたは関連テーブルの中で、LOOKUPVALUE で返された値と一致する値だけが照会されるように制限できます。</span><span class="sxs-lookup"><span data-stu-id="86540-206">Queries can then be restricted where the values returned by LOOKUPVALUE match values in the same or related table.</span></span>  
  
 <span data-ttu-id="86540-207">たとえば、次の式を使用します。</span><span class="sxs-lookup"><span data-stu-id="86540-207">For example, using this formula:</span></span>  
  
 `='dimDepartmentGroup'[DepartmentGroupId]=LOOKUPVALUE('dimEmployees'[DepartmentGroupId], 'dimEmployees'[LoginId], USERNAME(), 'dimEmployees'[LoginId], 'dimDepartmentGroup'[DepartmentGroupId])`  
  
 <span data-ttu-id="86540-208">この LOOKUPVALUE 関数では、USERNAME で返される現在ログオンしているユーザーの LoginID と同じ dimEmployees[LoginId] を持つ dimEmployees[DepartmentId] 列の値が返されます。dimEmployees[DepartmentId] と dimDepartmentGroup[DepartmentId] の値は同じです。</span><span class="sxs-lookup"><span data-stu-id="86540-208">The LOOKUPVALUE function returns values for the dimEmployees[DepartmentId] column where the dimEmployees[LoginId] is the same as the LoginID of the user currently logged on, returned by USERNAME, and values for dimEmployees[DepartmentId] are the same as values for dimDepartmentGroup[DepartmentId].</span></span> <span data-ttu-id="86540-209">次に、LOOKUPVALUE で返された DepartmentId の値を使用して、dimDepartment テーブル、および DepartmentId で関連付けられたすべてのテーブルで、クエリ対象の行を制限します。</span><span class="sxs-lookup"><span data-stu-id="86540-209">The values in DepartmentId returned by LOOKUPVALUE are then used to restrict the rows queried in the dimDepartment table, and any tables related by DepartmentId.</span></span> <span data-ttu-id="86540-210">LOOKUPVALUE 関数で返された DepartmentId の値にも含まれる DepartmentId を持つ行だけが返されます。</span><span class="sxs-lookup"><span data-stu-id="86540-210">Only rows where DepartmentId are also in the values for the DepartmentId returned by LOOKUPVALUE function are returned.</span></span>  
  
 <span data-ttu-id="86540-211">**dimEmployees**</span><span class="sxs-lookup"><span data-stu-id="86540-211">**dimEmployees**</span></span>  
  
|<span data-ttu-id="86540-212">LastName</span><span class="sxs-lookup"><span data-stu-id="86540-212">LastName</span></span>|<span data-ttu-id="86540-213">FirstName</span><span class="sxs-lookup"><span data-stu-id="86540-213">FirstName</span></span>|<span data-ttu-id="86540-214">LoginID</span><span class="sxs-lookup"><span data-stu-id="86540-214">LoginID</span></span>|<span data-ttu-id="86540-215">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="86540-215">DepartmentName</span></span>|<span data-ttu-id="86540-216">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="86540-216">DepartmentId</span></span>|  
|--------------|---------------|-------------|--------------------|------------------|  
|<span data-ttu-id="86540-217">Brown</span><span class="sxs-lookup"><span data-stu-id="86540-217">Brown</span></span>|<span data-ttu-id="86540-218">Kevin</span><span class="sxs-lookup"><span data-stu-id="86540-218">Kevin</span></span>|<span data-ttu-id="86540-219">Adventure-works\kevin0</span><span class="sxs-lookup"><span data-stu-id="86540-219">Adventure-works\kevin0</span></span>|<span data-ttu-id="86540-220">Marketing</span><span class="sxs-lookup"><span data-stu-id="86540-220">Marketing</span></span>|<span data-ttu-id="86540-221">7</span><span class="sxs-lookup"><span data-stu-id="86540-221">7</span></span>|  
|<span data-ttu-id="86540-222">Bradley</span><span class="sxs-lookup"><span data-stu-id="86540-222">Bradley</span></span>|<span data-ttu-id="86540-223">David</span><span class="sxs-lookup"><span data-stu-id="86540-223">David</span></span>|<span data-ttu-id="86540-224">Adventure-works\david0</span><span class="sxs-lookup"><span data-stu-id="86540-224">Adventure-works\david0</span></span>|<span data-ttu-id="86540-225">Marketing</span><span class="sxs-lookup"><span data-stu-id="86540-225">Marketing</span></span>|<span data-ttu-id="86540-226">7</span><span class="sxs-lookup"><span data-stu-id="86540-226">7</span></span>|  
|<span data-ttu-id="86540-227">Dobney</span><span class="sxs-lookup"><span data-stu-id="86540-227">Dobney</span></span>|<span data-ttu-id="86540-228">JoLynn</span><span class="sxs-lookup"><span data-stu-id="86540-228">JoLynn</span></span>|<span data-ttu-id="86540-229">Adventure-works\JoLynn0</span><span class="sxs-lookup"><span data-stu-id="86540-229">Adventure-works\JoLynn0</span></span>|<span data-ttu-id="86540-230">実稼働</span><span class="sxs-lookup"><span data-stu-id="86540-230">Production</span></span>|<span data-ttu-id="86540-231">4</span><span class="sxs-lookup"><span data-stu-id="86540-231">4</span></span>|  
|<span data-ttu-id="86540-232">Baretto DeMattos</span><span class="sxs-lookup"><span data-stu-id="86540-232">Baretto DeMattos</span></span>|<span data-ttu-id="86540-233">Paula</span><span class="sxs-lookup"><span data-stu-id="86540-233">Paula</span></span>|<span data-ttu-id="86540-234">Adventure-works\Paula0</span><span class="sxs-lookup"><span data-stu-id="86540-234">Adventure-works\Paula0</span></span>|<span data-ttu-id="86540-235">Human Resources</span><span class="sxs-lookup"><span data-stu-id="86540-235">Human Resources</span></span>|<span data-ttu-id="86540-236">2</span><span class="sxs-lookup"><span data-stu-id="86540-236">2</span></span>|  
  
 <span data-ttu-id="86540-237">**dimDepartment**</span><span class="sxs-lookup"><span data-stu-id="86540-237">**dimDepartment**</span></span>  
  
|<span data-ttu-id="86540-238">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="86540-238">DepartmentId</span></span>|<span data-ttu-id="86540-239">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="86540-239">DepartmentName</span></span>|  
|------------------|--------------------|  
|<span data-ttu-id="86540-240">1</span><span class="sxs-lookup"><span data-stu-id="86540-240">1</span></span>|<span data-ttu-id="86540-241">企業</span><span class="sxs-lookup"><span data-stu-id="86540-241">Corporate</span></span>|  
|<span data-ttu-id="86540-242">2</span><span class="sxs-lookup"><span data-stu-id="86540-242">2</span></span>|<span data-ttu-id="86540-243">Executive General and Administration</span><span class="sxs-lookup"><span data-stu-id="86540-243">Executive General and Administration</span></span>|  
|<span data-ttu-id="86540-244">3</span><span class="sxs-lookup"><span data-stu-id="86540-244">3</span></span>|<span data-ttu-id="86540-245">Inventory Management</span><span class="sxs-lookup"><span data-stu-id="86540-245">Inventory Management</span></span>|  
|<span data-ttu-id="86540-246">4</span><span class="sxs-lookup"><span data-stu-id="86540-246">4</span></span>|<span data-ttu-id="86540-247">製造</span><span class="sxs-lookup"><span data-stu-id="86540-247">Manufacturing</span></span>|  
|<span data-ttu-id="86540-248">5</span><span class="sxs-lookup"><span data-stu-id="86540-248">5</span></span>|<span data-ttu-id="86540-249">品質保証</span><span class="sxs-lookup"><span data-stu-id="86540-249">Quality Assurance</span></span>|  
|<span data-ttu-id="86540-250">6</span><span class="sxs-lookup"><span data-stu-id="86540-250">6</span></span>|<span data-ttu-id="86540-251">Research and Development</span><span class="sxs-lookup"><span data-stu-id="86540-251">Research and Development</span></span>|  
|<span data-ttu-id="86540-252">7</span><span class="sxs-lookup"><span data-stu-id="86540-252">7</span></span>|<span data-ttu-id="86540-253">営業/マーケティング</span><span class="sxs-lookup"><span data-stu-id="86540-253">Sales and Marketing</span></span>|  
  
##  <a name="testing-roles"></a><a name="bkmk_testroles"></a><span data-ttu-id="86540-254">ロールのテスト</span><span class="sxs-lookup"><span data-stu-id="86540-254">Testing Roles</span></span>  
 <span data-ttu-id="86540-255">モデル プロジェクトの作成時に、Excel で分析機能を使用して、定義したロールの有効性をテストできます。</span><span class="sxs-lookup"><span data-stu-id="86540-255">When authoring a model project, you can use the Analyze in Excel feature to test the efficacy of the roles you have defined.</span></span> <span data-ttu-id="86540-256">モデル デザイナーで **[モデル]** メニューの **[Excel で分析]** をクリックすると、Excel が開く前に **[資格情報とパースペクティブの選択]** ダイアログ ボックスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="86540-256">From the **Model** menu in the model designer, when you click **Analyze in Excel**, before Excel opens, the **Choose Credentials and Perspective** dialog box appears.</span></span> <span data-ttu-id="86540-257">このダイアログ ボックスでは、データ ソースとしてワークスペース モデルに接続するために使用する、現在のユーザー名、別のユーザー名、ロール、およびパースペクティブを指定できます。</span><span class="sxs-lookup"><span data-stu-id="86540-257">In this dialog, you can specify the current username, a different username, a role, and a perspective with which you will use to connect to the workspace model as a data source.</span></span> <span data-ttu-id="86540-258">詳しくは、後の「 [Excel で分析 &#40;SSAS テーブル&#41;](analyze-in-excel-ssas-tabular.md)で [ロール マネージャー] ダイアログ ボックスを使用してロールを定義するテーブル モデル作成者向けです。</span><span class="sxs-lookup"><span data-stu-id="86540-258">For more information, see [Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_rt"></a> <span data-ttu-id="86540-259">関連タスク</span><span class="sxs-lookup"><span data-stu-id="86540-259">Related Tasks</span></span>  
  
|<span data-ttu-id="86540-260">トピック</span><span class="sxs-lookup"><span data-stu-id="86540-260">Topic</span></span>|<span data-ttu-id="86540-261">説明</span><span class="sxs-lookup"><span data-stu-id="86540-261">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="86540-262">ロールの作成および管理 &#40;SSAS テーブル&#41;</span><span class="sxs-lookup"><span data-stu-id="86540-262">Create and Manage Roles &#40;SSAS Tabular&#41;</span></span>](create-and-manage-roles-ssas-tabular.md)|<span data-ttu-id="86540-263">このトピックのタスクでは、 **[ロール マネージャー]** ダイアログ ボックスを使用して、ロールを作成し管理する方法について説明されています。</span><span class="sxs-lookup"><span data-stu-id="86540-263">Tasks in this topic describe how to create and manage roles by using the **Role Manager** dialog box.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="86540-264">参照</span><span class="sxs-lookup"><span data-stu-id="86540-264">See Also</span></span>  
 <span data-ttu-id="86540-265">[SSAS テーブル&#41;&#40;パースペクティブ](perspectives-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="86540-265">[Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md) </span></span>  
 <span data-ttu-id="86540-266">[Excel での分析 &#40;SSAS 表形式&#41;](analyze-in-excel-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="86540-266">[Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md) </span></span>  
 <span data-ttu-id="86540-267">[ユーザー名関数 &#40;DAX&#41;](/dax/username-function-dax) </span><span class="sxs-lookup"><span data-stu-id="86540-267">[USERNAME Function &#40;DAX&#41;](/dax/username-function-dax) </span></span>  
 <span data-ttu-id="86540-268">[LOOKUPVALUE 関数 &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span><span class="sxs-lookup"><span data-stu-id="86540-268">[LOOKUPVALUE Function &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span></span>  
 [<span data-ttu-id="86540-269">CUSTOMDATA 関数 &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="86540-269">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)  
  
  
