---
title: スレッドプールのプロパティ |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- PriorityRatio property
- threads [Analysis Services]
- MinThreads property
- NumThreads property
- MaxThreads property
- Concurrency property
ms.assetid: e2697bb6-6d3f-4621-b9fd-575ac39c2185
author: minewiskan
ms.author: owend
ms.openlocfilehash: 3a7c8ab1ae97cc00e7c46060db85fa48eff700ab
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736930"
---
# <a name="thread-pool-properties"></a><span data-ttu-id="d790b-102">スレッド プール プロパティ</span><span class="sxs-lookup"><span data-stu-id="d790b-102">Thread Pool Properties</span></span>
  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="d790b-103">は、多くの操作でマルチスレッドを使用し、複数のジョブを並列実行することによって、サーバーの全体的なパフォーマンスを向上させます。</span><span class="sxs-lookup"><span data-stu-id="d790b-103">uses multi-threading for many operations, improving overall server performance by running multiple jobs in parallel.</span></span> <span data-ttu-id="d790b-104">スレッドをより効率的に管理するために、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はスレッド プールを使用してスレッドの事前割り当てを実行し、次のジョブがスレッドを容易に利用できるようにします。</span><span class="sxs-lookup"><span data-stu-id="d790b-104">To manage threads more efficiently, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses thread pools to preallocate threads and facilitate thread availability for the next job.</span></span>

 <span data-ttu-id="d790b-105">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の各インスタンスは、スレッド プールの独自セットを維持します。</span><span class="sxs-lookup"><span data-stu-id="d790b-105">Each instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] maintains its own set of thread pools.</span></span> <span data-ttu-id="d790b-106">テーブル インスタンスと多次元インスタンスでは、スレッド プールの使用方法が大幅に異なります。</span><span class="sxs-lookup"><span data-stu-id="d790b-106">There are significant differences in how tabular and multidimensional instances use thread pools.</span></span> <span data-ttu-id="d790b-107">最も重要な違いは、多次元ソリューションのみがスレッドプールを使用することです `IOProcess` 。</span><span class="sxs-lookup"><span data-stu-id="d790b-107">The most important difference is that only multidimensional solutions use the `IOProcess` thread pool.</span></span> <span data-ttu-id="d790b-108">したがって、このトピックで説明する `PerNumaNode` プロパティは、表形式インスタンスに当てはまりません。</span><span class="sxs-lookup"><span data-stu-id="d790b-108">As such, the `PerNumaNode` property, described in this topic, is not meaningful for Tabular instances.</span></span>

 <span data-ttu-id="d790b-109">このトピックは、次のセクションで構成されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-109">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="d790b-110">Analysis Services におけるスレッド管理</span><span class="sxs-lookup"><span data-stu-id="d790b-110">Thread Management in Analysis Services</span></span>](#bkmk_threadarch)

-   [<span data-ttu-id="d790b-111">スレッド プール プロパティに関するリファレンス</span><span class="sxs-lookup"><span data-stu-id="d790b-111">Thread Pool Property Reference</span></span>](#bkmk_propref)

-   [<span data-ttu-id="d790b-112">GroupAffinity をプロセッサグループのプロセッサに関係付けスレッドに設定する</span><span class="sxs-lookup"><span data-stu-id="d790b-112">Set GroupAffinity to affinitize threads to processors in a processor group</span></span>](#bkmk_groupaffinity)

-   [<span data-ttu-id="d790b-113">NUMA ノード内のプロセッサに IO スレッドを関連付けるための PerNumaNode の設定</span><span class="sxs-lookup"><span data-stu-id="d790b-113">Set PerNumaNode to affinitize IO threads to processors in a NUMA node</span></span>](#bkmk_pernumanode)

-   [<span data-ttu-id="d790b-114">現在のスレッド プールの設定の確認</span><span class="sxs-lookup"><span data-stu-id="d790b-114">Determine current thread pool settings</span></span>](#bkmk_currentsettings)

-   [<span data-ttu-id="d790b-115">依存プロパティまたは関連プロパティ</span><span class="sxs-lookup"><span data-stu-id="d790b-115">Dependent or Related Properties</span></span>](#bkmk_related)

-   [<span data-ttu-id="d790b-116">MSMDSRV.INI の概要</span><span class="sxs-lookup"><span data-stu-id="d790b-116">About MSMDSRV.INI</span></span>](#bkmk_msmdrsrvini)

> [!NOTE]
>  <span data-ttu-id="d790b-117">NUMA システムに対する表形式の配置は、このトピックの範囲外です。</span><span class="sxs-lookup"><span data-stu-id="d790b-117">Tabular deployment on NUMA systems is out of scope for this topic.</span></span> <span data-ttu-id="d790b-118">NUMA システムに対して表形式のソリューションを正常に配置できますが、表形式のモデルが採用しているインメモリ データベース テクノロジのパフォーマンス特性による利点は、高度にスケールアップされたアーキテクチャでは制約を受ける可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d790b-118">Although tabular solutions can be successfully deployed on NUMA systems, the performance characteristics of the in-memory database technology used by tabular models may show limited benefits on a highly scaled up architectures.</span></span> <span data-ttu-id="d790b-119">詳しくは、「 [Analysis Services ケース スタディ: 大規模なコマーシャル ソリューションでテーブル モデルを使用する](https://msdn.microsoft.com/library/dn751533.aspx) 」および「 [表形式のソリューションに関するハードウェアのサイズ設定](https://go.microsoft.com/fwlink/?LinkId=330359)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-119">For more information, see [Analysis Services Case Study: Using Tabular Models in Large-scale Commercial Solutions](https://msdn.microsoft.com/library/dn751533.aspx) and [Hardware Sizing a Tabular Solution](https://go.microsoft.com/fwlink/?LinkId=330359).</span></span>

##  <a name="thread-management-in-analysis-services"></a><a name="bkmk_threadarch"></a><span data-ttu-id="d790b-120">Analysis Services でのスレッド管理</span><span class="sxs-lookup"><span data-stu-id="d790b-120">Thread Management in Analysis Services</span></span>
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="d790b-121">はマルチスレッドを使用して、並列実行されるタスクの数を増やすことにより、使用可能な CPU リソースを活用します。</span><span class="sxs-lookup"><span data-stu-id="d790b-121">uses multi-threading to take advantage of the available CPU resources by increasing the number of tasks executing in parallel.</span></span> <span data-ttu-id="d790b-122">ストレージ エンジンはマルチスレッド化されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-122">The storage engine is multi-threaded.</span></span> <span data-ttu-id="d790b-123">ストレージ エンジン内で実行されるマルチ スレッドのジョブには、オブジェクトの並列処理、ストレージ エンジンにパブリッシュされた独立したクエリの処理、クエリによって要求されたデータ値を返す処理などがあります。</span><span class="sxs-lookup"><span data-stu-id="d790b-123">Examples of multi-threaded jobs that execute within the storage engine include processing objects in parallel or handling discrete queries that have been pushed to the storage engine, or returning data values requested by a query.</span></span> <span data-ttu-id="d790b-124">数式エンジンは、実行する計算に順次処理という性質があるため、シングル スレッド化されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-124">The formula engine, due to the serial nature of the calculations it evaluates, is single threaded.</span></span> <span data-ttu-id="d790b-125">各クエリは主にシングル スレッド内で実行され、データを要求し、多くの場合はストレージ エンジンから返されるデータを待ちます。</span><span class="sxs-lookup"><span data-stu-id="d790b-125">Each query executes primarily on a single thread, requesting and often waiting for data returned by the storage engine.</span></span> <span data-ttu-id="d790b-126">クエリ スレッドは実行に長い時間を要する傾向があり、クエリ全体が完了した後にのみ解放されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-126">Query threads have longer executions, and are released only after the entire query is completed.</span></span>

 <span data-ttu-id="d790b-127">[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 以降のバージョンの既定では、上位エディションの Windows および SQL Server で実行されている [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、640 個を最大として、システム上で使用可能なすべての論理プロセッサを使用します。</span><span class="sxs-lookup"><span data-stu-id="d790b-127">By default, on versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] and later, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use all available logical processors, up to 640 on systems running higher editions of Windows and SQL Server.</span></span> <span data-ttu-id="d790b-128">起動時に、msmdsrv.exe プロセスは 1 つの特定プロセッサ グループに割り当てられますが、時間の経過に伴って、スレッドは任意のプロセッサ グループ内にある任意の論理プロセッサに対してスケジュールされる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d790b-128">Upon start up, the msmdsrv.exe process will be assigned to a specific processor group, but over time threads can be scheduled on any logical processor, in any processor group.</span></span>

 <span data-ttu-id="d790b-129">多数のプロセッサを使用した場合の副次的な影響の 1 つとして、クエリと処理の負荷が複数のプロセッサに分散され、共有データ構造に関する競合が増加するために、パフォーマンスの低下が発生する可能性があることが挙げられます。</span><span class="sxs-lookup"><span data-stu-id="d790b-129">One side-effect of using a large number of processors is that you can sometimes experience performance degradation as query and processing loads are spread out across a large number of processors and contention for shared data structures increase.</span></span> <span data-ttu-id="d790b-130">この現象が発生する可能性があるのは、特に NUMA アーキテクチャを使用するハイエンド システムですが、データを集中的に使用する複数のアプリケーションを同じハードウェア上で実行する非 NUMA システムにも当てはまります。</span><span class="sxs-lookup"><span data-stu-id="d790b-130">This can occur particularly on high-end systems that use NUMA architecture, but also on non-NUMA systems running multiple data intensive applications on the same hardware.</span></span>

 <span data-ttu-id="d790b-131">この問題を緩和するために、特定の [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 操作の種類と、特定の論理プロセッサ セットの間で関係を設定することができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-131">To alleviate this problem, you can set affinity between types of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] operations and a specific set of logical processors.</span></span> <span data-ttu-id="d790b-132">`GroupAffinity` プロパティを使用すると、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の管理対象であるスレッド プールの種類ごとに、どのシステム リソースを使用するかを指定するカスタム関係マスクを作成できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-132">The `GroupAffinity` property lets you create custom affinity masks that specify which system resource to use for each of the thread pool types managed by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>

 <span data-ttu-id="d790b-133">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のさまざまなワークロードに使用する次の 5 つのスレッド プールのいずれに対しても、カスタム関係を設定できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-133">Custom affinity can be set on any of the five thread pools used for various [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] workloads:</span></span>

-   <span data-ttu-id="d790b-134">**Parsing \ Short**  は、短い要求用の解析プールです。</span><span class="sxs-lookup"><span data-stu-id="d790b-134">**Parsing \ Short**  is a parsing pool for short requests.</span></span> <span data-ttu-id="d790b-135">単一のネットワーク メッセージ内に収まる要求は、短い要求と見なされます。</span><span class="sxs-lookup"><span data-stu-id="d790b-135">Requests that fit within a single network message are considered short.</span></span>

-   <span data-ttu-id="d790b-136">**Parsing \ Long**  は、単一のネットワーク メッセージ内に収まらない他のすべての要求用の解析プールです。</span><span class="sxs-lookup"><span data-stu-id="d790b-136">**Parsing \ Long**  is a parsing pool for all other requests that do not fit within a single network message.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="d790b-137">いずれかの解析プールに属するスレッドは、クエリの実行に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-137">A thread from either parsing pool can be used to execute a query.</span></span> <span data-ttu-id="d790b-138">高速検出要求やキャンセル要求など、短時間で実行されるクエリは、クエリ スレッド プールにキュー登録される代わりに、直ちに実行されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-138">Queries that execute quickly, such as a fast Discover or Cancel request, are sometimes executed immediately rather than queued to the Query thread pool.</span></span>

-   <span data-ttu-id="d790b-139">`Query`は、解析スレッドプールによって処理されないすべての要求を実行するスレッドプールです。</span><span class="sxs-lookup"><span data-stu-id="d790b-139">`Query` is the thread pool that executes all requests that are not handled by the parsing thread pool.</span></span> <span data-ttu-id="d790b-140">このスレッド プールに属するスレッドは、検出、MDX、DAX、DMX、DDL コマンドなど、あらゆる種類の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="d790b-140">Threads in this thread pool will execute all types of operations, such as Discovers, MDX, DAX, DMX, and DDL commands.</span></span>

-   <span data-ttu-id="d790b-141">`IOProcess`は、多次元エンジン内のストレージエンジンクエリに関連付けられている IO ジョブに使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-141">`IOProcess` is used for IO jobs associated with storage engine queries in the multidimensional engine.</span></span> <span data-ttu-id="d790b-142">これらのスレッドによって実行される作業は、他のスレッドに依存しないことが予期されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-142">The work done by these threads is expected to not have dependencies on other threads.</span></span> <span data-ttu-id="d790b-143">これらのスレッドは通常、パーティションの単一セグメントをスキャンや、セグメント データに対するフィルター処理と集計を実行します。</span><span class="sxs-lookup"><span data-stu-id="d790b-143">These threads will typically be scanning a single segment of a partition and performing filtering and aggregation on the segment data.</span></span> <span data-ttu-id="d790b-144">`IOProcess`スレッドは、特に NUMA ハードウェア構成に依存します。</span><span class="sxs-lookup"><span data-stu-id="d790b-144">`IOProcess` threads are particularly sensitive to NUMA hardware configurations.</span></span> <span data-ttu-id="d790b-145">そのため、このスレッドプールには、必要に応じて `PerNumaNode` パフォーマンスを調整するために使用できる構成プロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="d790b-145">As such, this thread pool has the `PerNumaNode` configuration property which can be used to tune the performance if needed.</span></span>

-   <span data-ttu-id="d790b-146">`Process`は、集計、インデックス作成、コミット操作など、長期間のストレージエンジンジョブを対象としています。</span><span class="sxs-lookup"><span data-stu-id="d790b-146">`Process` is for longer duration storage engine jobs, including aggregations, indexing, and commit operations.</span></span> <span data-ttu-id="d790b-147">ROLAP ストレージ モードも、Processing スレッド プールに属するスレッドを使用します。</span><span class="sxs-lookup"><span data-stu-id="d790b-147">ROLAP storage mode also uses threads from the Processing thread pool.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-148">Msmdsrv.ini には、セクションにスレッドプールの設定がありますが、には意図的に記載 `VertiPaq` `VertiPaq` \\ `ThreadPool` \\ `GroupAffinity` `ThreadPool` \\ `CPUs` されていません。</span><span class="sxs-lookup"><span data-stu-id="d790b-148">Although Msmdsrv.ini has thread pool settings in the `VertiPaq` section, `VertiPaq`\\`ThreadPool`\\`GroupAffinity` and `ThreadPool`\\`CPUs` are purposely undocumented.</span></span> <span data-ttu-id="d790b-149">これらのプロパティは現時点で動作しておらず、将来使用するために予約されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-149">These properties are currently inoperative and are reserved for future use.</span></span>

 <span data-ttu-id="d790b-150">要求を処理する際に、作業の実行に必要とされる場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はスレッド プールの上限を超えて追加のスレッドを要求することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-150">To service requests, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] may exceed the maximum thread pool limit, requesting additional threads if they are necessary to perform the work.</span></span> <span data-ttu-id="d790b-151">ただし、スレッドが自らのタスクの実行を完了した時点で、現在のスレッド数が上限を超えている場合は、そのスレッドはスレッド プールに返される代わりに、単純に終了されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-151">However, when a thread finishes executing its task, if the current count of threads is greater than the maximum limit, the thread is simply ended, rather than returned to the thread pool.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-152">特定のデッドロック状態が発生する場合のみ、スレッド プールの最大数を上回ると、保護が開始されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-152">Exceeding the maximum thread pool count is a protection invoked only when certain deadlock conditions arise.</span></span> <span data-ttu-id="d790b-153">最大値を超えるランナウェイ スレッド作成を防止するために、最大値に達した後は (短い遅延の後) スレッドが徐々に作成されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-153">To prevent runaway thread creation beyond the maximum, threads are created gradually (after a short delay) after the maximum limit has been reached.</span></span> <span data-ttu-id="d790b-154">スレッドの最大数を超えると、タスクの実行速度が低下する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d790b-154">Exceeding maximum thread count can lead to a slowdown in task execution.</span></span> <span data-ttu-id="d790b-155">パフォーマンス カウンターによって示されるスレッド数が常にスレッド プールの最大サイズを上回っている場合は、システムによって要求されるコンカレンシーの度合いに比べてスレッド プールのサイズが小さすぎることを示すインジケーターと見なすこともできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-155">If the performance counters show the thread counts are regularly beyond the thread pool maximum size, you might consider that as an indicator that thread pool sizes are too small for the degree of concurrency being requested from the system.</span></span>

 <span data-ttu-id="d790b-156">既定では、スレッド プールのサイズは [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]によって決まり、コアの数に基づく値になります。</span><span class="sxs-lookup"><span data-stu-id="d790b-156">By default, thread pool size is determined by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and is based on the number of cores.</span></span> <span data-ttu-id="d790b-157">サーバーの起動後に msmdsrv.log ファイルを参照すると、選択済みの既定値を確認できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-157">You can observe the selected default values by examining the msmdsrv.log file after server startup.</span></span> <span data-ttu-id="d790b-158">パフォーマンス チューニングの練習として、クエリまたは処理のパフォーマンスを向上させる目的で、スレッド プールのサイズを大きくする方針を選択することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-158">As a performance tuning exercise, you might choose to increase the size of the thread pool, as well as other properties, to improve query or processing performance.</span></span>

##  <a name="thread-pool-property-reference"></a><a name="bkmk_propref"></a><span data-ttu-id="d790b-159">スレッドプールのプロパティのリファレンス</span><span class="sxs-lookup"><span data-stu-id="d790b-159">Thread Pool Property Reference</span></span>
 <span data-ttu-id="d790b-160">ここでは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の各インスタンスの msmdsrv.ini ファイル内で検索するスレッド プール プロパティについて説明します。</span><span class="sxs-lookup"><span data-stu-id="d790b-160">This section describes the thread pool properties found in the msmdsrv.ini file of each [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="d790b-161">これらのプロパティのサブセットは、SQL Server Management Studio 内でも表示されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-161">A subset of these properties also appears in SQL Server Management Studio.</span></span>

 <span data-ttu-id="d790b-162">プロパティは、アルファベット順に示しています。</span><span class="sxs-lookup"><span data-stu-id="d790b-162">Properties are listed in alphabetical order.</span></span>

|<span data-ttu-id="d790b-163">名前</span><span class="sxs-lookup"><span data-stu-id="d790b-163">Name</span></span>|<span data-ttu-id="d790b-164">Type</span><span class="sxs-lookup"><span data-stu-id="d790b-164">Type</span></span>|<span data-ttu-id="d790b-165">説明</span><span class="sxs-lookup"><span data-stu-id="d790b-165">Description</span></span>|<span data-ttu-id="d790b-166">Default</span><span class="sxs-lookup"><span data-stu-id="d790b-166">Default</span></span>|<span data-ttu-id="d790b-167">ガイダンス</span><span class="sxs-lookup"><span data-stu-id="d790b-167">Guidance</span></span>|
|----------|----------|-----------------|-------------|--------------|
|`IOProcess` \ `Concurrency`|<span data-ttu-id="d790b-168">double</span><span class="sxs-lookup"><span data-stu-id="d790b-168">double</span></span>|<span data-ttu-id="d790b-169">一度にキューに登録できるスレッド数のターゲットを設定するアルゴリズムを決定する、倍精度浮動小数点値です。</span><span class="sxs-lookup"><span data-stu-id="d790b-169">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="d790b-170">2.0</span><span class="sxs-lookup"><span data-stu-id="d790b-170">2.0</span></span>|<span data-ttu-id="d790b-171">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-171">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-172">Concurrency はスレッド プールを初期化するために使用され、それらのプールは Windows 内の IO 完了ポートを使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-172">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="d790b-173">詳しくは、「 [I/O 完了ポート](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-173">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span><br /><br /> <span data-ttu-id="d790b-174">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-174">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `GroupAffinity`|<span data-ttu-id="d790b-175">string</span><span class="sxs-lookup"><span data-stu-id="d790b-175">string</span></span>|<span data-ttu-id="d790b-176">システムのプロセッサ グループに対応する 16 進値の配列です。IOProcess スレッド プールのスレッドと各プロセッサ グループの論理プロセッサとの関係を設定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-176">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of threads in the IOProcess thread pool to logical processors in each processor group.</span></span>|<span data-ttu-id="d790b-177">なし</span><span class="sxs-lookup"><span data-stu-id="d790b-177">none</span></span>|<span data-ttu-id="d790b-178">このプロパティを使用して、カスタム関係を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-178">You can use this property to create custom affinities.</span></span> <span data-ttu-id="d790b-179">既定では、このプロパティは空です。</span><span class="sxs-lookup"><span data-stu-id="d790b-179">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="d790b-180">詳細については、「 [プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定](#bkmk_groupaffinity) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-180">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span><br /><br /> <span data-ttu-id="d790b-181">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-181">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `MaxThreads`|<span data-ttu-id="d790b-182">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-182">int</span></span>|<span data-ttu-id="d790b-183">スレッド プールに含めるスレッドの最大数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-183">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="d790b-184">0</span><span class="sxs-lookup"><span data-stu-id="d790b-184">0</span></span>|<span data-ttu-id="d790b-185">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-185">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-186">既定では、サーバーはこの値を 64、または論理プロセッサ数の 10 倍のうち、どちらか大きい方に設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-186">By default, the server either sets this value to 64, or to 10 times the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="d790b-187">たとえば、ハイパースレッディングが有効な 4 コアのシステムでは、スレッド プールの最大値は 80 スレッドです。</span><span class="sxs-lookup"><span data-stu-id="d790b-187">For example, on a 4-core system with hyperthreading, the thread pool maximum is 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-188">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-188">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="d790b-189">たとえば、32 個の論理プロセッサが存在するサーバーでこの値を -10 に設定すると、最大値は 320 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-189">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="d790b-190">最大値は、以前に定義したカスタムの関係マスクごとに使用可能なプロセッサに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-190">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="d790b-191">たとえば、32 個のプロセッサのうち 8 個を使用するようにスレッド プールの関係を既に設定している場合、MaxThreads を -10 に設定すると、スレッド プールの上限は 10 x 8 で 80 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-191">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-192">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-192">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-193">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-193">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span><br /><br /> <span data-ttu-id="d790b-194">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-194">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `MinThreads`|<span data-ttu-id="d790b-195">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-195">int</span></span>|<span data-ttu-id="d790b-196">スレッド プールに事前に割り当てるスレッドの最小数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-196">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="d790b-197">0</span><span class="sxs-lookup"><span data-stu-id="d790b-197">0</span></span>|<span data-ttu-id="d790b-198">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-198">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-199">既定では、最小値は 1 です。</span><span class="sxs-lookup"><span data-stu-id="d790b-199">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="d790b-200">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-200">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="d790b-201">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-201">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-202">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-202">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span><br /><br /> <span data-ttu-id="d790b-203">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-203">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `PerNumaNode`|<span data-ttu-id="d790b-204">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-204">int</span></span>|<span data-ttu-id="d790b-205">msmdsrv プロセスを対象にして作成されるスレッド プールの数を決定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-205">A signed 32-bit integer that determines the number of thread pools created for the msmdsrv process.</span></span>|<span data-ttu-id="d790b-206">-1</span><span class="sxs-lookup"><span data-stu-id="d790b-206">-1</span></span>|<span data-ttu-id="d790b-207">有効な値は、-1、0、1、2 です。</span><span class="sxs-lookup"><span data-stu-id="d790b-207">Valid values are -1, 0, 1, 2</span></span><br /><br /> <span data-ttu-id="d790b-208">-1 = NUMA ノードの数に基づいて、サーバーが選択する IO スレッド プールの方針が異なります。</span><span class="sxs-lookup"><span data-stu-id="d790b-208">-1 = The server selects a different IO Thread Pool strategy based on the number of NUMA nodes.</span></span> <span data-ttu-id="d790b-209">NUMA ノード数が 4 未満のシステムでは、サーバーの動作は 0 の場合と同じです (1 つの IOProcess スレッド プールがシステム用に作成されます)。</span><span class="sxs-lookup"><span data-stu-id="d790b-209">On systems having fewer than 4 NUMA nodes, the server behavior is the same as 0 (one IOProcess thread pool is created for the system).</span></span> <span data-ttu-id="d790b-210">ノード数が 4 以上のシステムでは、値が 1 の場合の動作と同じです (各ノードに対して IOProcess スレッド プールが作成されます)。</span><span class="sxs-lookup"><span data-stu-id="d790b-210">On systems having 4 or more nodes, the behavior is the same as 1 (IOProcess thread pools are created for each node).</span></span><br /><br /> <span data-ttu-id="d790b-211">0 = NUMA ノードごとのスレッド プールを無効にし、msmdsrv.exe プロセスが使用する IOProcess スレッド プールは 1 つだけ存在するようになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-211">0 = Disables per NUMA node thread pools so that there is only one IOProcess thread pool used by the msmdsrv.exe process.</span></span><br /><br /> <span data-ttu-id="d790b-212">1 = NUMA ノードごとに 1 つの IOProcess スレッド プールを有効にします。</span><span class="sxs-lookup"><span data-stu-id="d790b-212">1 = Enables one IOProcess thread pool per NUMA node.</span></span><br /><br /> <span data-ttu-id="d790b-213">2 = 論理プロセッサごとに 1 つの IOProcess スレッド プール。</span><span class="sxs-lookup"><span data-stu-id="d790b-213">2 = One IOProcess thread pool per logical processor.</span></span> <span data-ttu-id="d790b-214">各スレッド プール内のスレッドは、論理プロセッサの NUMA ノードに関連付けられ、論理プロセッサに対して最適なプロセッサが設定されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-214">Threads in each thread pool are affinitized to the NUMA node of the logical processor, with the ideal processor set to the logical processor.</span></span><br /><br /> <span data-ttu-id="d790b-215">詳細については、「 [NUMA ノード内のプロセッサに IO スレッドを関連付けるための PerNumaNode の設定](#bkmk_pernumanode) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-215">See [Set PerNumaNode to affinitize IO threads to processors in a NUMA node](#bkmk_pernumanode) for details.</span></span><br /><br /> <span data-ttu-id="d790b-216">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-216">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `PriorityRatio`|<span data-ttu-id="d790b-217">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-217">int</span></span>|<span data-ttu-id="d790b-218">優先順位の高いキューが空でない場合も、優先順位の低いスレッドが時折実行されるようにする目的で使用できる、32 ビット符号付き整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-218">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="d790b-219">2</span><span class="sxs-lookup"><span data-stu-id="d790b-219">2</span></span>|<span data-ttu-id="d790b-220">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-220">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-221">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-221">Applies to multidimensional models only.</span></span>|
|`IOProcess` \ `StackSizeKB`|<span data-ttu-id="d790b-222">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-222">int</span></span>|<span data-ttu-id="d790b-223">スレッド実行中にメモリ割り当てを調整するために使用できる、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-223">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="d790b-224">0</span><span class="sxs-lookup"><span data-stu-id="d790b-224">0</span></span>|<span data-ttu-id="d790b-225">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-225">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-226">多次元モデルにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-226">Applies to multidimensional models only.</span></span>|
|<span data-ttu-id="d790b-227">**解析**  \ `Long` \ `Concurrency`</span><span class="sxs-lookup"><span data-stu-id="d790b-227">**Parsing**  \ `Long` \ `Concurrency`</span></span>|<span data-ttu-id="d790b-228">double</span><span class="sxs-lookup"><span data-stu-id="d790b-228">double</span></span>|<span data-ttu-id="d790b-229">一度にキューに登録できるスレッド数のターゲットを設定するアルゴリズムを決定する、倍精度浮動小数点値です。</span><span class="sxs-lookup"><span data-stu-id="d790b-229">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="d790b-230">2.0</span><span class="sxs-lookup"><span data-stu-id="d790b-230">2.0</span></span>|<span data-ttu-id="d790b-231">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-231">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-232">Concurrency はスレッド プールを初期化するために使用され、それらのプールは Windows 内の IO 完了ポートを使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-232">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="d790b-233">詳しくは、「 [I/O 完了ポート](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-233">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|<span data-ttu-id="d790b-234">**解析**  \ `Long` \ `GroupAffinity`</span><span class="sxs-lookup"><span data-stu-id="d790b-234">**Parsing**  \ `Long` \ `GroupAffinity`</span></span>|<span data-ttu-id="d790b-235">string</span><span class="sxs-lookup"><span data-stu-id="d790b-235">string</span></span>|<span data-ttu-id="d790b-236">システムのプロセッサ グループに対応する 16 進値の配列です。解析スレッドと各プロセッサ グループの論理プロセッサとの関係を設定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-236">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of parsing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="d790b-237">なし</span><span class="sxs-lookup"><span data-stu-id="d790b-237">none</span></span>|<span data-ttu-id="d790b-238">このプロパティを使用して、カスタム関係を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-238">You can use this property to create custom affinities.</span></span> <span data-ttu-id="d790b-239">既定では、このプロパティは空です。</span><span class="sxs-lookup"><span data-stu-id="d790b-239">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="d790b-240">詳細については、「 [プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定](#bkmk_groupaffinity) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-240">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|<span data-ttu-id="d790b-241">**解析**  \ `Long` \ `NumThreads`</span><span class="sxs-lookup"><span data-stu-id="d790b-241">**Parsing**  \ `Long` \ `NumThreads`</span></span>|<span data-ttu-id="d790b-242">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-242">int</span></span>|<span data-ttu-id="d790b-243">長いコマンドに対して作成可能なスレッドの数を定義する、符号付き 32 ビット整数のプロパティです。</span><span class="sxs-lookup"><span data-stu-id="d790b-243">A signed 32-bit integer property that defines the number of threads that can be created for long commands.</span></span>|<span data-ttu-id="d790b-244">0</span><span class="sxs-lookup"><span data-stu-id="d790b-244">0</span></span>|<span data-ttu-id="d790b-245">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-245">0 indicates that the server determines the defaults.</span></span> <span data-ttu-id="d790b-246">既定の動作では、`NumThreads` を、4 という絶対値、または論理プロセッサ数の 2 倍のうち、どちらか大きい方に設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-246">The default behavior is to set `NumThreads` to an absolute value of 4, or 2 times the number of logical processors, whichever is higher.</span></span><br /><br /> <span data-ttu-id="d790b-247">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-247">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="d790b-248">たとえば、32 個の論理プロセッサが存在するサーバーでこの値を -10 に設定すると、最大値は 320 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-248">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="d790b-249">最大値は、以前に定義したカスタムの関係マスクごとに使用可能なプロセッサに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-249">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="d790b-250">たとえば、32 個のプロセッサのうち 8 個を使用するようにスレッド プールの関係を既に設定している場合、NumThreads を -10 に設定すると、スレッド プールの上限は 10 x 8 で 80 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-250">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set NumThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-251">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-251">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span>|
|<span data-ttu-id="d790b-252">**解析**  \ `Long` \ `PriorityRatio`</span><span class="sxs-lookup"><span data-stu-id="d790b-252">**Parsing**  \ `Long` \ `PriorityRatio`</span></span>|<span data-ttu-id="d790b-253">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-253">int</span></span>|<span data-ttu-id="d790b-254">優先順位の高いキューが空でない場合も、優先順位の低いスレッドが時折実行されるようにする目的で使用できる、32 ビット符号付き整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-254">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="d790b-255">0</span><span class="sxs-lookup"><span data-stu-id="d790b-255">0</span></span>|<span data-ttu-id="d790b-256">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-256">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="d790b-257">**解析**  \ `Long` \ `StackSizeKB`</span><span class="sxs-lookup"><span data-stu-id="d790b-257">**Parsing**  \ `Long` \ `StackSizeKB`</span></span>|<span data-ttu-id="d790b-258">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-258">int</span></span>|<span data-ttu-id="d790b-259">スレッド実行中にメモリ割り当てを調整するために使用できる、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-259">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="d790b-260">0</span><span class="sxs-lookup"><span data-stu-id="d790b-260">0</span></span>|<span data-ttu-id="d790b-261">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-261">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="d790b-262">**解析**  \ `Short` \ `Concurrency`</span><span class="sxs-lookup"><span data-stu-id="d790b-262">**Parsing**  \ `Short` \ `Concurrency`</span></span>|<span data-ttu-id="d790b-263">double</span><span class="sxs-lookup"><span data-stu-id="d790b-263">double</span></span>|<span data-ttu-id="d790b-264">一度にキューに登録できるスレッド数のターゲットを設定するアルゴリズムを決定する、倍精度浮動小数点値です。</span><span class="sxs-lookup"><span data-stu-id="d790b-264">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="d790b-265">2.0</span><span class="sxs-lookup"><span data-stu-id="d790b-265">2.0</span></span>|<span data-ttu-id="d790b-266">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-266">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-267">Concurrency はスレッド プールを初期化するために使用され、それらのプールは Windows 内の IO 完了ポートを使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-267">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="d790b-268">詳しくは、「 [I/O 完了ポート](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-268">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|<span data-ttu-id="d790b-269">**解析**  \ `Short` \ `GroupAffinity`</span><span class="sxs-lookup"><span data-stu-id="d790b-269">**Parsing**  \ `Short` \ `GroupAffinity`</span></span>|<span data-ttu-id="d790b-270">string</span><span class="sxs-lookup"><span data-stu-id="d790b-270">string</span></span>|<span data-ttu-id="d790b-271">システムのプロセッサ グループに対応する 16 進値の配列です。解析スレッドと各プロセッサ グループの論理プロセッサとの関係を設定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-271">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of parsing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="d790b-272">なし</span><span class="sxs-lookup"><span data-stu-id="d790b-272">none</span></span>|<span data-ttu-id="d790b-273">このプロパティを使用して、カスタム関係を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-273">You can use this property to create custom affinities.</span></span> <span data-ttu-id="d790b-274">既定では、このプロパティは空です。</span><span class="sxs-lookup"><span data-stu-id="d790b-274">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="d790b-275">詳細については、「 [プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定](#bkmk_groupaffinity) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-275">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|<span data-ttu-id="d790b-276">**解析**  \ `Short` \ `NumThreads`</span><span class="sxs-lookup"><span data-stu-id="d790b-276">**Parsing**  \ `Short` \ `NumThreads`</span></span>|<span data-ttu-id="d790b-277">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-277">int</span></span>|<span data-ttu-id="d790b-278">短いコマンドに対して作成可能なスレッドの数を定義する、符号付き 32 ビット整数のプロパティです。</span><span class="sxs-lookup"><span data-stu-id="d790b-278">A signed 32-bit integer property that defines the number of threads that can be created for short commands.</span></span>|<span data-ttu-id="d790b-279">0</span><span class="sxs-lookup"><span data-stu-id="d790b-279">0</span></span>|<span data-ttu-id="d790b-280">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-280">0 indicates that the server determines the defaults.</span></span> <span data-ttu-id="d790b-281">既定の動作では、`NumThreads` を、4 という絶対値、または論理プロセッサ数の 2 倍のうち、どちらか大きい方に設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-281">The default behavior is to set `NumThreads` to an absolute value of 4, or 2 times the number of logical processors, whichever is higher.</span></span><br /><br /> <span data-ttu-id="d790b-282">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-282">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="d790b-283">たとえば、32 個の論理プロセッサが存在するサーバーでこの値を -10 に設定すると、最大値は 320 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-283">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="d790b-284">最大値は、以前に定義したカスタムの関係マスクごとに使用可能なプロセッサに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-284">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="d790b-285">たとえば、32 個のプロセッサのうち 8 個を使用するようにスレッド プールの関係を既に設定している場合、NumThreads を -10 に設定すると、スレッド プールの上限は 10 x 8 で 80 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-285">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set NumThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-286">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-286">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span>|
|<span data-ttu-id="d790b-287">**解析**  \ `Short` \ `PriorityRatio`</span><span class="sxs-lookup"><span data-stu-id="d790b-287">**Parsing**  \ `Short` \ `PriorityRatio`</span></span>|<span data-ttu-id="d790b-288">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-288">int</span></span>|<span data-ttu-id="d790b-289">優先順位の高いキューが空でない場合も、優先順位の低いスレッドが時折実行されるようにする目的で使用できる、32 ビット符号付き整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-289">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="d790b-290">0</span><span class="sxs-lookup"><span data-stu-id="d790b-290">0</span></span>|<span data-ttu-id="d790b-291">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-291">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|<span data-ttu-id="d790b-292">**解析**  \ `Short` \ `StackSizeKB`</span><span class="sxs-lookup"><span data-stu-id="d790b-292">**Parsing**  \ `Short` \ `StackSizeKB`</span></span>|<span data-ttu-id="d790b-293">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-293">int</span></span>|<span data-ttu-id="d790b-294">スレッド実行中にメモリ割り当てを調整するために使用できる、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-294">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="d790b-295">64 ×論理プロセッサ数</span><span class="sxs-lookup"><span data-stu-id="d790b-295">64 \* logical processors</span></span>|<span data-ttu-id="d790b-296">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-296">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Process` \ `Concurrency`|<span data-ttu-id="d790b-297">double</span><span class="sxs-lookup"><span data-stu-id="d790b-297">double</span></span>|<span data-ttu-id="d790b-298">一度にキューに登録できるスレッド数のターゲットを設定するアルゴリズムを決定する、倍精度浮動小数点値です。</span><span class="sxs-lookup"><span data-stu-id="d790b-298">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="d790b-299">2.0</span><span class="sxs-lookup"><span data-stu-id="d790b-299">2.0</span></span>|<span data-ttu-id="d790b-300">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-300">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-301">Concurrency はスレッド プールを初期化するために使用され、それらのプールは Windows 内の IO 完了ポートを使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-301">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="d790b-302">詳しくは、「 [I/O 完了ポート](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-302">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|`Process` \ `GroupAffinity`|<span data-ttu-id="d790b-303">string</span><span class="sxs-lookup"><span data-stu-id="d790b-303">string</span></span>|<span data-ttu-id="d790b-304">システムのプロセッサ グループに対応する 16 進値の配列です。処理スレッドと各プロセッサ グループの論理プロセッサとの関係を設定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-304">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of processing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="d790b-305">なし</span><span class="sxs-lookup"><span data-stu-id="d790b-305">none</span></span>|<span data-ttu-id="d790b-306">このプロパティを使用して、カスタム関係を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-306">You can use this property to create custom affinities.</span></span> <span data-ttu-id="d790b-307">既定では、このプロパティは空です。</span><span class="sxs-lookup"><span data-stu-id="d790b-307">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="d790b-308">詳細については、「 [プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定](#bkmk_groupaffinity) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-308">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|`Process` \ `MaxThreads`|<span data-ttu-id="d790b-309">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-309">int</span></span>|<span data-ttu-id="d790b-310">スレッド プールに含めるスレッドの最大数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-310">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="d790b-311">0</span><span class="sxs-lookup"><span data-stu-id="d790b-311">0</span></span>|<span data-ttu-id="d790b-312">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-312">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-313">既定では、サーバーはこの値を、64 という絶対値、または論理プロセッサ数のうち、どちらか大きい方に設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-313">By default, the server either sets this value to an absolute value of 64, or the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="d790b-314">たとえば、ハイパースレッディングが有効な 64 コアのシステム (つまり、128 個の論理プロセッサが存在) では、スレッド プールの最大値は 128 スレッドです。</span><span class="sxs-lookup"><span data-stu-id="d790b-314">For example, on a 64-core system with hyperthreading enabled (resulting in 128 logical processors), the thread pool maximum is 128 threads.</span></span><br /><br /> <span data-ttu-id="d790b-315">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-315">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="d790b-316">たとえば、32 個の論理プロセッサが存在するサーバーでこの値を -10 に設定すると、最大値は 320 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-316">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="d790b-317">最大値は、以前に定義したカスタムの関係マスクごとに使用可能なプロセッサに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-317">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="d790b-318">たとえば、32 個のプロセッサのうち 8 個を使用するようにスレッド プールの関係を既に設定している場合、MaxThreads を -10 に設定すると、スレッド プールの上限は 10 x 8 で 80 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-318">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-319">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-319">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-320">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-320">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Process` \ `MinThreads`|<span data-ttu-id="d790b-321">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-321">int</span></span>|<span data-ttu-id="d790b-322">スレッド プールに事前に割り当てるスレッドの最小数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-322">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="d790b-323">0</span><span class="sxs-lookup"><span data-stu-id="d790b-323">0</span></span>|<span data-ttu-id="d790b-324">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-324">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-325">既定では、最小値は 1 です。</span><span class="sxs-lookup"><span data-stu-id="d790b-325">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="d790b-326">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-326">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="d790b-327">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-327">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-328">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-328">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Process` \ `PriorityRatio`|<span data-ttu-id="d790b-329">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-329">int</span></span>|<span data-ttu-id="d790b-330">優先順位の高いキューが空でない場合も、優先順位の低いスレッドが時折実行されるようにする目的で使用できる、32 ビット符号付き整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-330">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="d790b-331">2</span><span class="sxs-lookup"><span data-stu-id="d790b-331">2</span></span>|<span data-ttu-id="d790b-332">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-332">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Process` \ `StackSizeKB`|<span data-ttu-id="d790b-333">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-333">int</span></span>|<span data-ttu-id="d790b-334">スレッド実行中にメモリ割り当てを調整するために使用できる、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-334">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="d790b-335">0</span><span class="sxs-lookup"><span data-stu-id="d790b-335">0</span></span>|<span data-ttu-id="d790b-336">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-336">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Query`  \ `Concurrency`|<span data-ttu-id="d790b-337">double</span><span class="sxs-lookup"><span data-stu-id="d790b-337">double</span></span>|<span data-ttu-id="d790b-338">一度にキューに登録できるスレッド数のターゲットを設定するアルゴリズムを決定する、倍精度浮動小数点値です。</span><span class="sxs-lookup"><span data-stu-id="d790b-338">A double-precision floating point value that determines the algorithm for setting a target on the number of threads that can be queued at one time.</span></span>|<span data-ttu-id="d790b-339">2.0</span><span class="sxs-lookup"><span data-stu-id="d790b-339">2.0</span></span>|<span data-ttu-id="d790b-340">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-340">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span><br /><br /> <span data-ttu-id="d790b-341">Concurrency はスレッド プールを初期化するために使用され、それらのプールは Windows 内の IO 完了ポートを使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-341">Concurrency is used to initialize thread pools, which are implemented using IO Completion Ports in Windows.</span></span> <span data-ttu-id="d790b-342">詳しくは、「 [I/O 完了ポート](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-342">See [I/O Completion Ports](https://msdn.microsoft.com/library/windows/desktop/aa365198\(v=vs.85\).aspx) for details.</span></span>|
|`Query` \ `GroupAffinity`|<span data-ttu-id="d790b-343">string</span><span class="sxs-lookup"><span data-stu-id="d790b-343">string</span></span>|<span data-ttu-id="d790b-344">システムのプロセッサ グループに対応する 16 進値の配列です。処理スレッドと各プロセッサ グループの論理プロセッサとの関係を設定するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-344">An array of hexadecimal values that correspond to processor groups on the system, used to set affinity of processing threads to logical processors in each processor group.</span></span>|<span data-ttu-id="d790b-345">なし</span><span class="sxs-lookup"><span data-stu-id="d790b-345">none</span></span>|<span data-ttu-id="d790b-346">このプロパティを使用して、カスタム関係を作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-346">You can use this property to create custom affinities.</span></span> <span data-ttu-id="d790b-347">既定では、このプロパティは空です。</span><span class="sxs-lookup"><span data-stu-id="d790b-347">The property is empty by default.</span></span><br /><br /> <span data-ttu-id="d790b-348">詳細については、「 [プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定](#bkmk_groupaffinity) 」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-348">See [Set GroupAffinity to affinitize threads to processors in a processor group](#bkmk_groupaffinity) for details.</span></span>|
|`Query`  \ `MaxThreads`|<span data-ttu-id="d790b-349">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-349">int</span></span>|<span data-ttu-id="d790b-350">スレッド プールに含めるスレッドの最大数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-350">A signed 32-bit integer that specifies the maximum number of threads to include in the thread pool.</span></span>|<span data-ttu-id="d790b-351">0</span><span class="sxs-lookup"><span data-stu-id="d790b-351">0</span></span>|<span data-ttu-id="d790b-352">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-352">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-353">既定では、サーバーはこの値を、10 という絶対値、または論理プロセッサ数の 2 倍のうち、どちらか大きい方に設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-353">By default, the server either sets this value to an absolute value of 10, or 2 times the number of logical processors, whichever is higher.</span></span> <span data-ttu-id="d790b-354">たとえば、ハイパースレッディングが有効な 4 コアのシステムでは、最大スレッド数は 16 です。</span><span class="sxs-lookup"><span data-stu-id="d790b-354">For example, on a 4-core system with hyperthreading, the maximum thread count is 16.</span></span><br /><br /> <span data-ttu-id="d790b-355">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-355">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span> <span data-ttu-id="d790b-356">たとえば、32 個の論理プロセッサが存在するサーバーでこの値を -10 に設定すると、最大値は 320 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-356">For example, when set to -10 on a server having 32 logical processors, the maximum is 320 threads.</span></span><br /><br /> <span data-ttu-id="d790b-357">最大値は、以前に定義したカスタムの関係マスクごとに使用可能なプロセッサに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-357">The maximum value is subject to available processors per any custom affinity masks that you previously defined.</span></span> <span data-ttu-id="d790b-358">たとえば、32 個のプロセッサのうち 8 個を使用するようにスレッド プールの関係を既に設定している場合、MaxThreads を -10 に設定すると、スレッド プールの上限は 10 x 8 で 80 スレッドになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-358">For example, if you already set thread pool affinity to use 8 out of 32 processors, and you now set MaxThreads to -10, then the upper bound on the thread pool would 10 times 8, or 80 threads.</span></span><br /><br /> <span data-ttu-id="d790b-359">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-359">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-360">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-360">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Query` \ `MinThreads`|<span data-ttu-id="d790b-361">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-361">int</span></span>|<span data-ttu-id="d790b-362">スレッド プールに事前に割り当てるスレッドの最小数を指定する、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-362">A signed 32-bit integer that specifies the minimum number of threads to preallocate for the thread pool.</span></span>|<span data-ttu-id="d790b-363">0</span><span class="sxs-lookup"><span data-stu-id="d790b-363">0</span></span>|<span data-ttu-id="d790b-364">0 は、サーバーが既定値を決定することを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-364">0 indicates the server determines the defaults.</span></span> <span data-ttu-id="d790b-365">既定では、最小値は 1 です。</span><span class="sxs-lookup"><span data-stu-id="d790b-365">By default, the minimum is 1.</span></span><br /><br /> <span data-ttu-id="d790b-366">この値を負の値に設定した場合は、サーバーはこの値に論理プロセッサ数を掛けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-366">If you set this value to a negative value, the server multiples that value by the number of logical processors.</span></span><br /><br /> <span data-ttu-id="d790b-367">このスレッド プールのプロパティで使用する実際の値は、サービスの起動時に msmdsrv log ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-367">The actual values used for this thread pool property are written to the msmdsrv log file upon service start up.</span></span><br /><br /> <span data-ttu-id="d790b-368">スレッド プールの設定のチューニングに関する詳細については、「 [Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-368">More information about tuning the thread pool settings can be found in the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx).</span></span>|
|`Query` \ `PriorityRatio`|<span data-ttu-id="d790b-369">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-369">int</span></span>|<span data-ttu-id="d790b-370">優先順位の高いキューが空でない場合も、優先順位の低いスレッドが時折実行されるようにする目的で使用できる、32 ビット符号付き整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-370">A signed 32-bit integer that can be used to ensure that lower priority threads are sometimes executed even when a higher priority queue is not empty.</span></span>|<span data-ttu-id="d790b-371">2</span><span class="sxs-lookup"><span data-stu-id="d790b-371">2</span></span>|<span data-ttu-id="d790b-372">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-372">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|
|`Query`  \ `StackSizeKB`|<span data-ttu-id="d790b-373">INT</span><span class="sxs-lookup"><span data-stu-id="d790b-373">int</span></span>|<span data-ttu-id="d790b-374">スレッド実行中にメモリ割り当てを調整するために使用できる、符号付き 32 ビット整数です。</span><span class="sxs-lookup"><span data-stu-id="d790b-374">A signed 32-bit integer that can be used to adjust memory allocation during thread execution.</span></span>|<span data-ttu-id="d790b-375">0</span><span class="sxs-lookup"><span data-stu-id="d790b-375">0</span></span>|<span data-ttu-id="d790b-376">詳細プロパティです。 [!INCLUDE[msCoName](../../includes/msconame-md.md)] サポートの指示がない限り、変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="d790b-376">An advanced property that you should not change, except under the guidance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] support.</span></span>|

##  <a name="set-groupaffinity-to-affinitize-threads-to-processors-in-a-processor-group"></a><a name="bkmk_groupaffinity"></a> <span data-ttu-id="d790b-377">プロセッサ グループ内のプロセッサにスレッドを関連付けるための GroupAffinity の設定</span><span class="sxs-lookup"><span data-stu-id="d790b-377">Set GroupAffinity to affinitize threads to processors in a processor group</span></span>
 <span data-ttu-id="d790b-378">`GroupAffinity` は、高度なチューニングの目的で用意されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-378">`GroupAffinity` is provided for advanced tuning purposes.</span></span> <span data-ttu-id="d790b-379">`GroupAffinity` プロパティを使用して、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のスレッド プールと特定のプロセッサ間の関係を設定できます。ただし、ほとんどのインストール環境では、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、使用可能な論理プロセッサをすべて使用できる場合にパフォーマンスが最も高くなります。</span><span class="sxs-lookup"><span data-stu-id="d790b-379">You can use the `GroupAffinity` property to set affinity between [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] thread pools and specific processors; however, for most installations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] performs best when it can use all available logical processors.</span></span> <span data-ttu-id="d790b-380">したがって、既定ではグループ関係は指定されていません。</span><span class="sxs-lookup"><span data-stu-id="d790b-380">Accordingly, group affinity is unspecified by default.</span></span>

 <span data-ttu-id="d790b-381">パフォーマンス テストの結果、CPU 最適化が必要なことが示された場合は、Windows Server リソース マネージャーを使用して論理プロセッサとサーバー プロセスの間で関係を設定するなど、より高度なアプローチを考慮することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-381">Should performance testing indicate a need for CPU optimization, you might consider a higher level approach, such as using Windows Server Resource Manager to set affinity between logical processors and a server process.</span></span> <span data-ttu-id="d790b-382">このようなアプローチは、個別のスレッド プールに対してカスタム関係を定義する場合より、実装と管理が容易です。</span><span class="sxs-lookup"><span data-stu-id="d790b-382">Such an approach can be simpler to implement and manage than defining custom affinities for individual thread pools.</span></span>

 <span data-ttu-id="d790b-383">このアプローチが不十分な場合は、スレッド プールに対してカスタム関係を定義することで、精度を高めることができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-383">If that approach is insufficient, you can achieve greater precision by defining custom affinities for thread pools.</span></span> <span data-ttu-id="d790b-384">多くの場合、関係設定のカスタマイズは、スレッド プールが非常に多くのプロセッサに分散されることによってパフォーマンスの低下が発生する大規模なマルチコア システム (NUMA または NUMA 以外) で推奨されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-384">Customizing affinity settings is more likely to be recommended on large multi-core systems (either NUMA or non-NUMA) experiencing performance degradation due to thread pools spread out over too-wide a range of processors.</span></span> <span data-ttu-id="d790b-385">論理プロセッサ数が 64 未満のシステムで `GroupAffinity` を設定することもできますが、利点はごくわずかであり、パフォーマンスが低下する可能性さえあります。</span><span class="sxs-lookup"><span data-stu-id="d790b-385">Although you can set `GroupAffinity` on systems having fewer than 64 logical processors, the benefit is negligible and might even degrade performance.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-386">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のエディションごとに使用できるコアの数が制限されており、`GroupAffinity` はその制約を受けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-386">`GroupAffinity` is constrained by editions that limit the number of cores used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="d790b-387">起動時に、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はエディション情報と `GroupAffinity` プロパティを使用して、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] が管理する 5 つの各スレッド プールの関係マスクを計算します。</span><span class="sxs-lookup"><span data-stu-id="d790b-387">At startup, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses edition information and the `GroupAffinity` properties to compute affinity masks for each of the 5 thread pools managed by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="d790b-388">Standard Edition では最大 16 個のコアを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-388">Standard edition can use a maximum of 16 cores.</span></span> <span data-ttu-id="d790b-389">16 個よりも多くのコアを使用する大規模なマルチコア システムに [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] をインストールした場合、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] が使用するコアは 16 個に限られます。</span><span class="sxs-lookup"><span data-stu-id="d790b-389">If you install [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] standard edition on a large multi-core system that has more than 16 cores, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will only use 16 of them.</span></span> <span data-ttu-id="d790b-390">以前のバージョンの Enterprise インスタンスをアップグレードした場合、コアは 20 個に制限されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-390">If you upgrade an Enterprise instance of an earlier version, you will be limited to 20 cores.</span></span> <span data-ttu-id="d790b-391">各エディションとライセンスの詳細については、「 [SQL Server 2012 のライセンスの概要](https://go.microsoft.com/fwlink/?LinkId=246061)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-391">For more information about editions and licensing, see [SQL Server 2012 Licensing Overview](https://go.microsoft.com/fwlink/?LinkId=246061).</span></span>

### <a name="syntax"></a><span data-ttu-id="d790b-392">構文</span><span class="sxs-lookup"><span data-stu-id="d790b-392">Syntax</span></span>
 <span data-ttu-id="d790b-393">この値は、各プロセッサ グループに対応する 16 進数であり、この 16 進数は、特定のスレッド プールに対応するスレッドを割り当てるときに [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] が最初に使用しようとする論理プロセッサを表します。</span><span class="sxs-lookup"><span data-stu-id="d790b-393">The value is hexadecimal for each processor group, with the hexadecimal representing the logical processors that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] attempts to use first when allocating threads for a given thread pool.</span></span>

 <span data-ttu-id="d790b-394">**論理プロセッサに対応するビットマスク**</span><span class="sxs-lookup"><span data-stu-id="d790b-394">**Bitmask for Logical Processors**</span></span>

 <span data-ttu-id="d790b-395">単一のプロセッサ グループ内で最大 64 個の論理プロセッサを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-395">You can have up to 64 logical processors within a single processor group.</span></span> <span data-ttu-id="d790b-396">グループ内の各論理プロセッサに対応するビットマスクが 1 (または 0) である場合は、スレッド プールがその論理プロセッサを使用します (または、使用しません)。</span><span class="sxs-lookup"><span data-stu-id="d790b-396">The bitmask is 1 (or 0) for each logical processor in the group that is used (or not used) by a thread pool.</span></span> <span data-ttu-id="d790b-397">ビットマスクを計算した後、の値として16進値を計算し `GroupAffinity` ます。</span><span class="sxs-lookup"><span data-stu-id="d790b-397">Once you compute the bitmask, you then calculate the hexadecimal value as the value for `GroupAffinity`.</span></span>

 <span data-ttu-id="d790b-398">**複数のプロセッサ グループ**</span><span class="sxs-lookup"><span data-stu-id="d790b-398">**Multiple processor groups**</span></span>

 <span data-ttu-id="d790b-399">プロセッサ グループは、システムの起動時に決定されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-399">Processor groups are determined on system startup.</span></span> <span data-ttu-id="d790b-400">`GroupAffinity`コンマ区切りの一覧で、各プロセッサグループの16進値を受け入れます。</span><span class="sxs-lookup"><span data-stu-id="d790b-400">`GroupAffinity` accepts hexadecimal values for each processor group in a comma delimited list.</span></span> <span data-ttu-id="d790b-401">複数のプロセッサ グループ (ハイエンド システムでは最大 10) が存在している場合は、0x0 を指定することにより、個別のグループをバイパスすることができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-401">Given multiple processor groups (up to 10 on higher end systems), you can bypass individual groups by specifying 0x0.</span></span> <span data-ttu-id="d790b-402">たとえば、4 つのプロセッサ グループ (0、1、2、3) が存在する 1 台のシステムでは、1 番目および 3 番目の値として 0x0 と入力すると、グループ 0 とグループ 2 を除外できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-402">For example, on a system with four processor groups (0, 1, 2, 3), you could exclude groups 0 and 2 by entering 0x0 for the first and third values.</span></span>

 `<GroupAffinity>0x0, 0xFF, 0x0, 0xFF</GroupAffinity>`

### <a name="steps-for-computing-the-processor-affinity-mask"></a><span data-ttu-id="d790b-403">プロセッサの affinity mask を計算する手順</span><span class="sxs-lookup"><span data-stu-id="d790b-403">Steps for computing the processor affinity mask</span></span>
 <span data-ttu-id="d790b-404">`GroupAffinity`は、msmdsrv.ini または SQL Server Management Studio のサーバープロパティページで設定できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-404">You can set `GroupAffinity` in msmdsrv.ini or in server property pages in SQL Server Management Studio.</span></span>

1.  <span data-ttu-id="d790b-405">**プロセッサ数とプロセッサ グループ数を特定します。**</span><span class="sxs-lookup"><span data-stu-id="d790b-405">**Determine the number of processors and processor groups**</span></span>

     <span data-ttu-id="d790b-406">[winsysinternals から Coreinfo ユーティリティ](https://technet.microsoft.com/sysinternals/cc835722.aspx)をダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-406">You can download [Coreinfo utility from winsysinternals](https://technet.microsoft.com/sysinternals/cc835722.aspx).</span></span>

     <span data-ttu-id="d790b-407">**coreinfo** を実行し、Logical Processor to Group Map セクションからこの情報を取得します。</span><span class="sxs-lookup"><span data-stu-id="d790b-407">Run **coreinfo** to get this information from the Logical Processor to Group Map section.</span></span> <span data-ttu-id="d790b-408">論理プロセッサごとに単独の行が生成されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-408">A separate line is generated for each logical processor.</span></span>

2.  <span data-ttu-id="d790b-409">次のように、右から左に向かってプロセッサに番号を付けます。 `7654 3210`</span><span class="sxs-lookup"><span data-stu-id="d790b-409">Sequence the processors, from right to left: `7654 3210`</span></span>

     <span data-ttu-id="d790b-410">この例では 8 個のプロセッサ (0 ～ 7) のみを示していますが、1 つのプロセッサ グループは最大 64 の論理プロセッサを使用することができ、1 台のエンタープライズ クラス Windows サーバーで最大 10 個のプロセッサ グループを存在させることができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-410">The example shows only 8 processors (0 through 7), but a processor group can have a maximum of 64 logical processors, and there can be up to 10 processor groups in an enterprise-class Windows server.</span></span>

3.  <span data-ttu-id="d790b-411">**使用するプロセッサ グループに対応するビットマスクの計算**</span><span class="sxs-lookup"><span data-stu-id="d790b-411">**Compute the bitmask for the processor groups you want to use**</span></span>

     `7654 3210`

     <span data-ttu-id="d790b-412">論理プロセッサを除外するか使用するかに応じて、各桁を 0 または 1 で置き換えます。</span><span class="sxs-lookup"><span data-stu-id="d790b-412">Replace the number with a 0 or 1, depending on whether you want to exclude or include the logical processor.</span></span> <span data-ttu-id="d790b-413">8 個のプロセッサが存在する 1 台のシステムで、Analysis Services でプロセッサ 7、6、5、4、および 1 を使用する場合は、計算は次のようになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-413">On a system having eight processors, your calculation might look like this if you wanted to use processors 7, 6, 5, 4, and 1 for Analysis Services:</span></span>

     `1111 0010`

4.  <span data-ttu-id="d790b-414">**2 進数から 16 進値への変換**</span><span class="sxs-lookup"><span data-stu-id="d790b-414">**Convert the binary number to a Hex value**</span></span>

     <span data-ttu-id="d790b-415">16 進対応の計算機または変換ツールを使用し、2 進数をそれに対応する 16 進数に変換します。</span><span class="sxs-lookup"><span data-stu-id="d790b-415">Using a calculator or conversion tool, convert the binary number to its hexadecimal equivalent.</span></span> <span data-ttu-id="d790b-416">この例では、 `1111 0010` を `0xF2`に変換します。</span><span class="sxs-lookup"><span data-stu-id="d790b-416">In our example, `1111 0010` converts to `0xF2`.</span></span>

5.  <span data-ttu-id="d790b-417">**GroupAffinity プロパティに、この 16 進値を入力します。**</span><span class="sxs-lookup"><span data-stu-id="d790b-417">**Enter the hex value in the GroupAffinity property**</span></span>

     <span data-ttu-id="d790b-418">msmdsrv.ini または Management Studio のサーバープロパティページで、 `GroupAffinity` 手順 4. で計算した値をに設定します。</span><span class="sxs-lookup"><span data-stu-id="d790b-418">In msmdsrv.ini or in the server property page in Management Studio, set `GroupAffinity` to the value calculated in step 4.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="d790b-419">設定 `GroupAffinity` は、複数のステップを含む手動タスクです。</span><span class="sxs-lookup"><span data-stu-id="d790b-419">Setting `GroupAffinity` is a manual task encompassing multiple steps.</span></span> <span data-ttu-id="d790b-420">計算時に `GroupAffinity` は、計算を注意深く確認してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-420">When computing `GroupAffinity`, check your calculations carefully.</span></span> <span data-ttu-id="d790b-421">マスク全体が無効な場合は [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] からエラーが返されますが、有効な設定と無効な設定が組み合わされている場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] がプロパティを無視する結果になります。</span><span class="sxs-lookup"><span data-stu-id="d790b-421">Although [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will return an error if the entire mask is invalid, a combination of valid and invalid settings results in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignoring the property.</span></span> <span data-ttu-id="d790b-422">たとえば、ビットマスクに余分な値が含まれている場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はその設定を無視し、システム上にあるすべてのプロセッサを使用します。</span><span class="sxs-lookup"><span data-stu-id="d790b-422">For example, if the bitmask includes extra values, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ignores the setting, using all processors on the system.</span></span> <span data-ttu-id="d790b-423">このアクションが発生したことを通知するエラーや警告はありませんが、msmdsrv.log ファイルを調べることで実際の関係の設定方法を確認できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-423">There is no error or warning to alert you when this action occurs, but you can check the msmdsrv.log file to learn how the affinities are actually set.</span></span>

##  <a name="set-pernumanode-to-affinitize-io-threads-to-processors-in-a-numa-node"></a><a name="bkmk_pernumanode"></a><span data-ttu-id="d790b-424">PerNumaNode を NUMA ノードのプロセッサに関係付け IO スレッドに設定する</span><span class="sxs-lookup"><span data-stu-id="d790b-424">Set PerNumaNode to affinitize IO threads to processors in a NUMA node</span></span>
 <span data-ttu-id="d790b-425">多次元 Analysis Services インスタンスの場合は、スレッドプールでを設定して、 `PerNumaNode` `IOProcess` スレッドのスケジューリングと実行をさらに最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-425">For multidimensional Analysis Services instances, you can set `PerNumaNode` on the `IOProcess` thread pool to further optimize thread scheduling and execution.</span></span> <span data-ttu-id="d790b-426">`GroupAffinity`では、特定のスレッドプールに使用する論理プロセッサのセットを識別します。では、 `PerNumaNode` 複数のスレッドプールを作成するかどうかを指定し、さらに、許可されている論理プロセッサのサブセットにさらに関連付けられるようにします。</span><span class="sxs-lookup"><span data-stu-id="d790b-426">Whereas `GroupAffinity` identifies which set of logical processors to use for a given thread pool, `PerNumaNode` goes one step further by specifying whether to create multiple thread pools, further affinitized to some subset of the allowed logical processors.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-427">Windows Server 2012 でタスク マネージャーを起動し、コンピューター上の NUMA ノード数を表示します。</span><span class="sxs-lookup"><span data-stu-id="d790b-427">On Windows Server 2012, use Task Manager to view the number of NUMA nodes on the computer.</span></span> <span data-ttu-id="d790b-428">タスク マネージャーの [パフォーマンス] タブで、 **[CPU]** を選択し、グラフ領域を右クリックして NUMA ノードを表示します。</span><span class="sxs-lookup"><span data-stu-id="d790b-428">In Task Manager, on the Performance tab, select **CPU** and then right-click the graph area to view NUMA nodes.</span></span> <span data-ttu-id="d790b-429">もう 1 つの方法として、Windows Sysinternals から Coreinfo ユーティリティを [ダウンロード](https://technet.microsoft.com/sysinternals/cc835722.aspx) し、NUMA ノードと各ノードの論理プロセッサを返す `coreinfo -n` を実行します。</span><span class="sxs-lookup"><span data-stu-id="d790b-429">Alternatively, [download](https://technet.microsoft.com/sysinternals/cc835722.aspx) the Coreinfo utility from Windows Sysinternals and run `coreinfo -n` to return NUMA nodes and logical processors in each node.</span></span>

 <span data-ttu-id="d790b-430">の有効な値 `PerNumaNode` は、このトピックの「[スレッドプールのプロパティのリファレンス](#bkmk_propref)」で説明されているように、-1、0、1、2です。</span><span class="sxs-lookup"><span data-stu-id="d790b-430">Valid values for `PerNumaNode` are -1, 0, 1, 2, as described in the [Thread Pool Property Reference](#bkmk_propref) section in this topic.</span></span>

### <a name="default-recommended"></a><span data-ttu-id="d790b-431">既定 (推奨)</span><span class="sxs-lookup"><span data-stu-id="d790b-431">Default (Recommended)</span></span>
 <span data-ttu-id="d790b-432">NUMA ノードが存在するシステムでは、PerNumaNode=-1 という既定の設定を使用し、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] がノード数に基づいてスレッド プール数とスレッド関係を調整できるようにすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="d790b-432">On systems having NUMA nodes, we recommend using the default setting of PerNumaNode=-1, allowing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to adjust the number of thread pools and their thread affinity based on node count.</span></span> <span data-ttu-id="d790b-433">システムのノード数が4未満の場合、は [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] = 0 で記述された動作を実装し `PerNumaNode` `PerNumaNode` ます。一方、= 1 は、4つ以上のノードを持つシステムで使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-433">If the system has fewer than 4 nodes, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] implements the behaviors described by `PerNumaNode`=0, whereas `PerNumaNode`=1 is used on systems having 4 or more nodes.</span></span>

### <a name="choosing-a-value"></a><span data-ttu-id="d790b-434">値の選択</span><span class="sxs-lookup"><span data-stu-id="d790b-434">Choosing a value</span></span>
 <span data-ttu-id="d790b-435">既定値をオーバーライドして別の有効な値を使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="d790b-435">You can also override the default to use another valid value.</span></span>

 <span data-ttu-id="d790b-436">**PerNumaNode=0 の設定**</span><span class="sxs-lookup"><span data-stu-id="d790b-436">**Setting PerNumaNode=0**</span></span>

 <span data-ttu-id="d790b-437">NUMA ノードは無視されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-437">NUMA nodes are ignored.</span></span> <span data-ttu-id="d790b-438">IOProcess スレッド プールは 1 つしか存在しなくなり、そのスレッド プール内のすべてのスレッドがすべての論理プロセッサに関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="d790b-438">There will be just one IOProcess thread pool, and all threads in that thread pool will be affinitized to all logical processors.</span></span> <span data-ttu-id="d790b-439">既定 (PerNumaNode=-1) では、コンピューターの NUMA ノード数が 4 未満の場合はこれが有効な設定です。</span><span class="sxs-lookup"><span data-stu-id="d790b-439">By default (where PerNumaNode=-1), this is the operative setting if the computer has fewer than 4 NUMA nodes.</span></span>

 <span data-ttu-id="d790b-440">![Numa、プロセッサ、およびスレッドプールの対応](../media/ssas-threadpool-numaex0.PNG "Numa、プロセッサ、およびスレッドプールの対応")</span><span class="sxs-lookup"><span data-stu-id="d790b-440">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex0.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="d790b-441">**PerNumaNode=1 の設定**</span><span class="sxs-lookup"><span data-stu-id="d790b-441">**Setting PerNumaNode=1**</span></span>

 <span data-ttu-id="d790b-442">NUMA ノードごとに IOProcess スレッド プールが作成されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-442">IOProcess thread pools are created for each NUMA node.</span></span> <span data-ttu-id="d790b-443">個別のスレッド プールを用意すると、NUMA ノード上のローカル キャッシュなど、ローカル リソースへの連携アクセスが改善されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-443">Having separate thread pools improves coordinated access to local resources, such as local cache on a NUMA node.</span></span>

 <span data-ttu-id="d790b-444">![Numa、プロセッサ、およびスレッドプールの対応](../media/ssas-threadpool-numaex1.PNG "Numa、プロセッサ、およびスレッドプールの対応")</span><span class="sxs-lookup"><span data-stu-id="d790b-444">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex1.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="d790b-445">**PerNumaNode=2 の設定**</span><span class="sxs-lookup"><span data-stu-id="d790b-445">**Setting PerNumaNode=2**</span></span>

 <span data-ttu-id="d790b-446">この設定を使用するのは、集中的な [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ワークロードを実行している高度なハイエンド システムのみです。</span><span class="sxs-lookup"><span data-stu-id="d790b-446">This setting is for very high-end systems running intensive [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] workloads.</span></span> <span data-ttu-id="d790b-447">このプロパティは IOProcess スレッド プールの関係を非常に細かなレベルで設定し、個別のスレッド プールを作成して論理プロセッサ レベルで関連付けます。</span><span class="sxs-lookup"><span data-stu-id="d790b-447">This property sets IOProcess thread pool affinity at its most granular level, creating and affinitizing separate thread pools at the logical processor level.</span></span>

 <span data-ttu-id="d790b-448">次の例では、4つの NUMA ノードと32の論理プロセッサを搭載したシステムで、 `PerNumaNode` を2に設定すると、32 IOProcess スレッドプールが生成されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-448">In the following example, on a system having 4 NUMA nodes and 32 logical processors, setting `PerNumaNode` to 2 would result in 32 IOProcess thread pools.</span></span> <span data-ttu-id="d790b-449">最初の 8 個のスレッド プール内にあるスレッドは、いずれも NUMA ノード 0 内の論理プロセッサに関連付けられますが、最適なプロセッサは 0、1、2、...最大で 7 まで設定されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-449">The threads in the first 8 thread pools would be affinitized to all the logical processors in the NUMA node 0, but with the ideal processor set to 0, 1, 2, up to 7.</span></span> <span data-ttu-id="d790b-450">続く 8 個のスレッド プールは、いずれも NUMA ノード 1 内の論理プロセッサに関連付けられますが、最適なプロセッサは 8、9、10、...最大で 15 まで設定されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-450">The next 8 thread pools would be affinitized to all the logical processors in NUMA node 1, with the ideal processor set to 8, 9, 10, up to 15, and so on.</span></span>

 <span data-ttu-id="d790b-451">![Numa、プロセッサ、およびスレッドプールの対応](../media/ssas-threadpool-numaex2.PNG "Numa、プロセッサ、およびスレッドプールの対応")</span><span class="sxs-lookup"><span data-stu-id="d790b-451">![Numa, processor and thread pool correspondence](../media/ssas-threadpool-numaex2.PNG "Numa, processor and thread pool correspondence")</span></span>

 <span data-ttu-id="d790b-452">この関係レベルでは、スケジューラは必ず、優先 NUMA ノード内にある最適な論理プロセッサを最初に使用しようとします。</span><span class="sxs-lookup"><span data-stu-id="d790b-452">At this level of affinity, the scheduler always attempts to use the ideal logical processor first, within the preferred NUMA node.</span></span> <span data-ttu-id="d790b-453">その論理プロセッサが使用できない場合は、スケジューラは同じノード内にある別のプロセッサを選択するか、他のスレッドが使用できない場合は同じプロセッサ グループ内にある別のプロセッサを選択します。</span><span class="sxs-lookup"><span data-stu-id="d790b-453">If the logical processor is unavailable, the scheduler chooses another processor within the same node, or within the same processor group if no other threads are available.</span></span> <span data-ttu-id="d790b-454">詳細と例については、「 [Analysis Services 2012 の構成設定 (Wordpress ブログ)](https://go.microsoft.com/fwlink/?LinkId=330387)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-454">For more information and examples, see [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387).</span></span>

###  <a name="work-distribution-among-ioprocess-threads"></a><a name="bkmk_workdistrib"></a><span data-ttu-id="d790b-455">IOProcess スレッド間での作業の分散</span><span class="sxs-lookup"><span data-stu-id="d790b-455">Work distribution among IOProcess threads</span></span>
 <span data-ttu-id="d790b-456">プロパティを設定するかどうかを検討すると `PerNumaNode` 、スレッドの使用方法を把握することで、 `IOProcess` より詳細な情報に基づいた決定を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="d790b-456">As you consider whether to set the `PerNumaNode` property, knowing how `IOProcess` threads are used can help you make a more informed decision.</span></span>

 <span data-ttu-id="d790b-457">これ `IOProcess` は、多次元エンジン内のストレージエンジンクエリに関連付けられている IO ジョブに使用されることを思い出してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-457">Recall that `IOProcess` is used for IO jobs associated with storage engine queries in the multidimensional engine.</span></span>

 <span data-ttu-id="d790b-458">セグメントをスキャンするときに、エンジンはセグメントが属するパーティションを特定し、パーティションで使用されるスレッド プールのキューにセグメント ジョブを登録しようとします。</span><span class="sxs-lookup"><span data-stu-id="d790b-458">When a segment is scanned, the engine identifies the partition to which the segment belongs, and attempts to queue the segment job to the thread pool used by the partition.</span></span> <span data-ttu-id="d790b-459">通常は、パーティションに属するすべてのセグメントが同じスレッド プールのキューにタスクを登録します。</span><span class="sxs-lookup"><span data-stu-id="d790b-459">In general, all segments belonging to a partition will queue their tasks to the same thread pool.</span></span> <span data-ttu-id="d790b-460">NUMA システムでは、パーティションのすべてのスキャンで、その NUMA ノードにローカルで割り当てられているファイル システム キャッシュのメモリが使用されるため、この動作は特に便利です。</span><span class="sxs-lookup"><span data-stu-id="d790b-460">On NUMA systems, this behavior is particularly advantageous because all scans for a partition will use memory in the file system cache that is allocated locally to that NUMA node.</span></span>

 <span data-ttu-id="d790b-461">以下のシナリオに示す調整を行うと、NUMA システムでクエリのパフォーマンスを向上させることができる場合があります。</span><span class="sxs-lookup"><span data-stu-id="d790b-461">The following scenarios suggest adjustments that can sometimes improve query performance on NUMA systems:</span></span>

-   <span data-ttu-id="d790b-462">パーティション分割が不十分な (たとえば、単一のパーティションを持つ) メジャー グループでは、パーティションの数を増やします。</span><span class="sxs-lookup"><span data-stu-id="d790b-462">For measure groups that are under-partitioned (for example, having a single partition), increase the number of partitions.</span></span> <span data-ttu-id="d790b-463">パーティションを 1 つだけ使用すると、エンジンは常に 1 つのスレッド プール (スレッド プール 0) のキューにタスクを登録します。</span><span class="sxs-lookup"><span data-stu-id="d790b-463">Using just one partition will cause the engine to always queue tasks to one thread pool (thread pool 0).</span></span> <span data-ttu-id="d790b-464">パーティションをさらに追加すると、エンジンは追加のスレッド プールを使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="d790b-464">Adding more partitions allows the engine to use additional thread pools.</span></span>

     <span data-ttu-id="d790b-465">または、追加のパーティションを作成できない場合は、 `PerNumaNode` スレッドプール0で使用可能なスレッドの数を増やす方法として = 0 を設定してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-465">Alternatively, if you cannot create additional partitions, try setting `PerNumaNode`=0 as a way to increase the number of threads available to thread pool 0.</span></span>

-   <span data-ttu-id="d790b-466">セグメントスキャンが複数のパーティションに均等に分散されているデータベースでは、を `PerNumaNode` 1 または2に設定すると、 `IOProcess` システムによって使用されるスレッドプールの全体的な数が増えるため、クエリのパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="d790b-466">For databases in which segment scans are evenly distributed across multiple partitions, setting `PerNumaNode` to 1 or 2 can improve query performance because it increases the overall number of `IOProcess` thread pools used by the system.</span></span>

-   <span data-ttu-id="d790b-467">複数のパーティションを持つソリューションで、1つだけが大きなスキャンを実行する場合は、= 0 を設定して、 `PerNumaNode` パフォーマンスが向上するかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="d790b-467">For solutions that have multiple partitions, but only one is heavily scanned, try setting `PerNumaNode`=0 to see if it improves performance.</span></span>

 <span data-ttu-id="d790b-468">パーティションとディメンションの両方のスキャンでスレッドプールが使用され `IOProcess` ますが、ディメンションスキャンではスレッドプール0のみが使用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-468">Although both partition and dimension scans use the `IOProcess` thread pool, dimension scans only use thread pool 0.</span></span> <span data-ttu-id="d790b-469">そのため、このスレッド プールにやや不均等な負荷がかかる可能性があります。ただし、ディメンション スキャンは非常に高速で頻度も低い傾向があるため、不均衡は一時的なものです。</span><span class="sxs-lookup"><span data-stu-id="d790b-469">This can result in a slightly uneven load on that thread pool, but the imbalance should be temporary, as dimension scans tend to be very fast and infrequent.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-470">サーバー プロパティを変更するときは、現在のインスタンスで実行されているすべてのデータベースに構成オプションが適用されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-470">When changing a server property, remember that the configuration option applies to all databases running on the current instance.</span></span> <span data-ttu-id="d790b-471">最も重要なデータベースまたは最も数が多いデータベースにメリットがもたらされる設定を選択します。</span><span class="sxs-lookup"><span data-stu-id="d790b-471">Choose settings that benefit the most important databases, or the greatest number of databases.</span></span> <span data-ttu-id="d790b-472">データベース レベルでプロセッサの関係を設定することはできません。また、個々のパーティションと特定のプロセッサ間の関係を設定することもできません。</span><span class="sxs-lookup"><span data-stu-id="d790b-472">You cannot set processor affinity at the database level, nor can you set affinity between individual partitions and specific processors.</span></span>

 <span data-ttu-id="d790b-473">ジョブ アーキテクチャの詳細については、「 [SQL Server 2008 Analysis Services パフォーマンス ガイド](https://www.microsoft.com/download/details.aspx?id=17303)」のセクション 2.2 をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-473">For more information about job architecture, see section 2.2 in [SQL Server 2008 Analysis Services Performance Guide](https://www.microsoft.com/download/details.aspx?id=17303).</span></span>

##  <a name="dependent-or-related-properties"></a><a name="bkmk_related"></a><span data-ttu-id="d790b-474">依存プロパティまたは関連プロパティ</span><span class="sxs-lookup"><span data-stu-id="d790b-474">Dependent or Related Properties</span></span>
 <span data-ttu-id="d790b-475">[Analysis Services 操作ガイド](https://msdn.microsoft.com/library/hh226085.aspx)のセクション2.4 で説明されているように、処理スレッドプールを増やす場合は、設定と設定に値が設定されていることを確認して、増加した `CoordinatorExecutionMode` スレッドプールサイズを最大限に活用できるようにする必要があり `CoordinatorQueryMaxThreads` ます。</span><span class="sxs-lookup"><span data-stu-id="d790b-475">As explained in section 2.4 of the [Analysis Services Operations Guide](https://msdn.microsoft.com/library/hh226085.aspx), if you increase the processing thread pool, you should make sure that the `CoordinatorExecutionMode` settings, as well as the `CoordinatorQueryMaxThreads` settings, have values that enable you to make full use of the increased thread pool size.</span></span>

 <span data-ttu-id="d790b-476">Analysis Services はコーディネーター スレッドを使用して、処理またはクエリの要求を完了するために必要なデータを収集します。</span><span class="sxs-lookup"><span data-stu-id="d790b-476">Analysis Services uses a coordinator thread for gathering the data needed to complete a processing or query request.</span></span> <span data-ttu-id="d790b-477">コーディネーターは最初に、各パーティションに対して、操作する必要のある 1 つのジョブをキューに登録します。</span><span class="sxs-lookup"><span data-stu-id="d790b-477">The coordinator first queues up one job for each partition that must be touched.</span></span> <span data-ttu-id="d790b-478">その後、パーティション内でスキャンする必要のあるセグメントの総数に応じて、これらのジョブのそれぞれは引き続き他のジョブをキューに登録します。</span><span class="sxs-lookup"><span data-stu-id="d790b-478">Each of those jobs then continues to queue up more jobs, depending on the total number of segments that must be scanned in the partition.</span></span>

 <span data-ttu-id="d790b-479">`CoordinatorExecutionMode` の既定値は -4 であり、コアあたり 4 つの並列ジョブに制限され、ストレージ エンジン内のサブキューブ要求によって並列実行できるコーディネーター ジョブの総数が制限されることを意味します。</span><span class="sxs-lookup"><span data-stu-id="d790b-479">The default value for `CoordinatorExecutionMode` is -4, meaning a limit of 4 jobs in parallel per core, which constrains the total number of coordinator jobs that can be executed in parallel by a subcube request in the storage engine.</span></span>

 <span data-ttu-id="d790b-480">`CoordinatorQueryMaxThreads` の既定値は 16 であり、各パーティションに対して並列実行できるセグメント ジョブの数が制限されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-480">The default value for `CoordinatorQueryMaxThreads` is 16, which limits the number of segment jobs that can be executed in parallel for each partition.</span></span>

##  <a name="determine-current-thread-pool-settings"></a><a name="bkmk_currentsettings"></a><span data-ttu-id="d790b-481">現在のスレッドプールの設定を確認する</span><span class="sxs-lookup"><span data-stu-id="d790b-481">Determine current thread pool settings</span></span>
 <span data-ttu-id="d790b-482">各サービスの起動時に、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は現在のスレッド プール設定を msmdsrv.log ファイルに出力し、その中には最小スレッド数と最大スレッド数、プロセッサ関係マスク、およびコンカレンシー数が含まれます。</span><span class="sxs-lookup"><span data-stu-id="d790b-482">At each service startup, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] outputs the current thread pool settings into the msmdsrv.log file, including minimum and maximum threads, processor affinity mask, and concurrency.</span></span>

 <span data-ttu-id="d790b-483">次の例は、ログ ファイルからの抽出であり、ハイパースレッディングが有効になっている 4 コアのシステムでの Query スレッド プールに関する既定の設定 (MinThread=0、MaxThread=0、Concurrency=2) を示しています。</span><span class="sxs-lookup"><span data-stu-id="d790b-483">The following example is an excerpt from the log file, showing the default settings for the Query thread pool (MinThread=0, MaxThread=0, Concurrency=2), on a 4-core system with hyper-threading enabled.</span></span> <span data-ttu-id="d790b-484">関係マスクは 0xFF であり、8 つの論理プロセッサを表しています。</span><span class="sxs-lookup"><span data-stu-id="d790b-484">The affinity mask is 0xFF, indicating 8 logical processors.</span></span> <span data-ttu-id="d790b-485">マスクに対して先頭の 0 が追加されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-485">Notice that leading zeros are prepended to the mask.</span></span> <span data-ttu-id="d790b-486">先頭の 0 は無視できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-486">You can ignore the leading zeros.</span></span>

 `"10/28/2013 9:20:52 AM) Message: The Query thread pool now has 1 minimum threads, 16 maximum threads, and a concurrency of 16.  Its thread pool affinity mask is 0x00000000000000ff. (Source: \\?\C:\Program Files\Microsoft SQL Server\MSAS11.MSSQLSERVER\OLAP\Log\msmdsrv.log, Type: 1, Category: 289, Event ID: 0x4121000A)"`

 <span data-ttu-id="d790b-487">**MinThread** と **MaxThread** を設定するアルゴリズムが、システム構成、特にプロセッサ数を組み込んでいることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-487">Recall that the algorithm for setting **MinThread** and **MaxThread** incorporates system configuration, particularly the number of processors.</span></span> <span data-ttu-id="d790b-488">次のブログ投稿は、値の計算方法に関する洞察を示しています。「 [Analysis Services 2012 の構成設定 (Wordpress ブログ)](https://go.microsoft.com/fwlink/?LinkId=330387)」。</span><span class="sxs-lookup"><span data-stu-id="d790b-488">The following blog post offers insights into how the values are calculated: [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387).</span></span> <span data-ttu-id="d790b-489">これらの設定と動作が、それ以降のリリースで調整される可能性があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-489">Note that these settings and behaviors are subject to adjustment in subsequent releases.</span></span>

 <span data-ttu-id="d790b-490">次の一覧に、プロセッサのさまざまな組み合わせを対象にした、他の関係マスクの設定例を示します。</span><span class="sxs-lookup"><span data-stu-id="d790b-490">The following list shows examples of other affinity mask settings, for different combinations of processors:</span></span>

-   <span data-ttu-id="d790b-491">8 コアのシステムでプロセッサ 3-2-1-0 との関係を設定すると、ビットマスクは 00001111 になり、対応する 16 進値は 0xF です</span><span class="sxs-lookup"><span data-stu-id="d790b-491">Affinity for processors 3-2-1-0 on an 8 core system results in this bitmask: 00001111, and a hexadecimal value: 0xF</span></span>

-   <span data-ttu-id="d790b-492">8 コアのシステムでプロセッサ 7-6-5-4 との関係を設定すると、ビットマスクは 11110000 になり、対応する 16 進値は 0xF0 です</span><span class="sxs-lookup"><span data-stu-id="d790b-492">Affinity for processors 7-6-5-4 on an 8 core system results in this bitmask: 11110000, and a hexadecimal value: 0xF0</span></span>

-   <span data-ttu-id="d790b-493">8 コアのシステムでプロセッサ 5-4-3-2 との関係を設定すると、ビットマスクは 00111100 になり、対応する 16 進値は 0x3C です</span><span class="sxs-lookup"><span data-stu-id="d790b-493">Affinity for processors 5-4-3-2 on an 8 core system results in this bitmask: 00111100, and a hexadecimal value: 0x3C</span></span>

-   <span data-ttu-id="d790b-494">8 コアのシステムでプロセッサ 7-6-1-0 との関係を設定すると、ビットマスクは 11000011 になり、対応する 16 進値は 0xC3 です</span><span class="sxs-lookup"><span data-stu-id="d790b-494">Affinity for processors 7-6-1-0 on an 8 core system results in this bitmask: 11000011, and a hexadecimal value: 0xC3</span></span>

 <span data-ttu-id="d790b-495">システムに複数のプロセッサ グループが存在する場合は、グループごとに個別の関係マスクが生成され、コンマ区切りリストの形式で表現されることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d790b-495">Recall that on systems having multiple processor groups, a separate affinity mask is generated for each group, in a comma separated list.</span></span>

##  <a name="about-msmdsrvini"></a><a name="bkmk_msmdrsrvini"></a><span data-ttu-id="d790b-496">MSMDSRV.INI について</span><span class="sxs-lookup"><span data-stu-id="d790b-496">About MSMDSRV.INI</span></span>
 <span data-ttu-id="d790b-497">msmdsrv.ini ファイルには、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンスの構成設定が含まれます。これらの構成設定は、そのインスタンスで実行されるすべてのデータベースに影響します。</span><span class="sxs-lookup"><span data-stu-id="d790b-497">The msmdsrv.ini file contains configuration settings for an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, affecting all databases running on that instance.</span></span> <span data-ttu-id="d790b-498">サーバー構成プロパティを使用して、他のすべてのデータベースを除外し、1 つのデータベースのパフォーマンスだけを最適化することはできません。</span><span class="sxs-lookup"><span data-stu-id="d790b-498">You cannot use server configuration properties to optimize performance of just one database to the exclusion of all others.</span></span> <span data-ttu-id="d790b-499">ただし、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の複数のインスタンスをインストールし、類似する特性やワークロードを共有するデータベースにメリットをもたらすプロパティを使用するように各インスタンスを構成できます。</span><span class="sxs-lookup"><span data-stu-id="d790b-499">However, you can install multiple instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and configure each instance to use properties that benefit databases sharing similar characteristics or workloads.</span></span>

 <span data-ttu-id="d790b-500">すべてのサーバー構成プロパティが、msmdsrv.ini ファイル内に含まれています。</span><span class="sxs-lookup"><span data-stu-id="d790b-500">All server configuration properties are included in the msmdsrv.ini file.</span></span> <span data-ttu-id="d790b-501">変更される可能性の高い一部のプロパティは、SSMS のような管理ツール内でも表示されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-501">Subsets of the properties more likely to be modified also appear in administration tools, such as SSMS.</span></span>

 <span data-ttu-id="d790b-502">msmdsrv.ini の内容は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]のテーブル インスタンスと多次元インスタンスの両方で同一です。</span><span class="sxs-lookup"><span data-stu-id="d790b-502">The contents of msmdsrv.ini are identical for both Tabular and Multidimensional instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="d790b-503">ただし、一部の設定はどちらか 1 つのモードのみに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d790b-503">However, some settings apply to one mode only.</span></span> <span data-ttu-id="d790b-504">サーバー モードに基づく動作の違いは、プロパティ リファレンスのドキュメントに記載されています。</span><span class="sxs-lookup"><span data-stu-id="d790b-504">Differences in behavior based on server mode are noted in property reference documentation.</span></span>

> [!NOTE]
>  <span data-ttu-id="d790b-505"> プロパティの設定方法については、「 [Configure Server Properties in Analysis Services](server-properties-in-analysis-services.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d790b-505">For instructions on how to set properties, see [Configure Server Properties in Analysis Services](server-properties-in-analysis-services.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="d790b-506">参照</span><span class="sxs-lookup"><span data-stu-id="d790b-506">See Also</span></span>
 <span data-ttu-id="d790b-507">[プロセスとスレッドについて](/windows/desktop/ProcThread/about-processes-and-threads)[複数プロセッサ](/windows/desktop/ProcThread/multiple-processors)[プロセッサグループ](/windows/desktop/ProcThread/processor-groups) [Analysis Services SQL Server 2012 でのスレッドプールの変更](https://blogs.msdn.com/b/psssql/archive/2012/01/31/analysis-services-thread-pool-changes-in-sql-server-2012.aspx) [Analysis Services 2012 構成設定 (Wordpress ブログ)](https://go.microsoft.com/fwlink/?LinkId=330387) [64 プロセッサを超えるシステムのサポート](https://msdn.microsoft.com/library/windows/hardware/gg463349.aspx) [SQL Server 2008 R2 Analysis Services 操作ガイド](https://go.microsoft.com/fwlink/?LinkID=225539)</span><span class="sxs-lookup"><span data-stu-id="d790b-507">[About Processes and Threads](/windows/desktop/ProcThread/about-processes-and-threads) [Multiple Processors](/windows/desktop/ProcThread/multiple-processors) [Processor Groups](/windows/desktop/ProcThread/processor-groups) [Analysis Services Thread Pool Changes in SQL Server 2012](https://blogs.msdn.com/b/psssql/archive/2012/01/31/analysis-services-thread-pool-changes-in-sql-server-2012.aspx) [Analysis Services 2012 Configuration settings (Wordpress Blog)](https://go.microsoft.com/fwlink/?LinkId=330387) [Supporting Systems That Have More Than 64 Processors](https://msdn.microsoft.com/library/windows/hardware/gg463349.aspx) [SQL Server 2008 R2 Analysis Services Operations Guide](https://go.microsoft.com/fwlink/?LinkID=225539)</span></span>


