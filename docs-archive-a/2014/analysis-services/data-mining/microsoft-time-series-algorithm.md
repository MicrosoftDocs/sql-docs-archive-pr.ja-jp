---
title: Microsoft タイムシリーズアルゴリズム |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ARTXP
- time series algorithms [Analysis Services]
- ARIMA
- time series [Analysis Services]
- algorithms [data mining]
- cross predictions
- series [Analysis Services]
- regression algorithms [Analysis Services]
ms.assetid: 642297cc-f32a-499b-b26e-fdc7ee24361e
author: minewiskan
ms.author: owend
ms.openlocfilehash: d840d581fe4dba1ce9d65dfef6878a1e5a697864
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87634730"
---
# <a name="microsoft-time-series-algorithm"></a><span data-ttu-id="a3d96-102">Microsoft Time Series アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="a3d96-102">Microsoft Time Series Algorithm</span></span>
  <span data-ttu-id="a3d96-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)]タイムシリーズアルゴリズムでは、製品売上などの連続値を予測するために最適化された回帰アルゴリズムが、時間の経過と共に提供されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm provides regression algorithms that are optimized for the forecasting of continuous values, such as product sales, over time.</span></span> <span data-ttu-id="a3d96-104">デシジョン ツリーなどの他の [!INCLUDE[msCoName](../../includes/msconame-md.md)] アルゴリズムでは、傾向を予測するために新しい情報を含む列を追加する必要がありますが、タイム シリーズ モデルでは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-104">Whereas other [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, such as decision trees, require additional columns of new information as input to predict a trend, a time series model does not.</span></span> <span data-ttu-id="a3d96-105">タイム シリーズ モデルでは、モデルの作成に使用された元のデータセットのみを使用して傾向を予測できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-105">A time series model can predict trends based only on the original dataset that is used to create the model.</span></span> <span data-ttu-id="a3d96-106">予測を実行するときに新しいデータをモデルに追加することで、新しいデータを自動的に傾向分析に組み込むこともできます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-106">You can also add new data to the model when you make a prediction and automatically incorporate the new data in the trend analysis.</span></span>  
  
 <span data-ttu-id="a3d96-107">次の図は、4 つの販売地域における一定期間の製品売上を予測するための一般的なモデルを示しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-107">The following diagram shows a typical model for forecasting sales of a product in four different sales regions over time.</span></span> <span data-ttu-id="a3d96-108">図に示したモデルでは、各地域の売上が赤、黄、紫、青の線で表されています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-108">The model that is shown in the diagram shows sales for each region plotted as red, yellow, purple, and blue lines.</span></span> <span data-ttu-id="a3d96-109">各地域を表す線は、次の 2 つの部分で構成されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-109">The line for each region has two parts:</span></span>  
  
-   <span data-ttu-id="a3d96-110">縦線の左側は、履歴情報です。アルゴリズムによるモデルの作成に使用されたデータを表します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-110">Historical information appears to the left of the vertical line and represents the data that the algorithm uses to create the model.</span></span>  
  
-   <span data-ttu-id="a3d96-111">縦線の右側は、予測情報です。モデルによる予測を表します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-111">Predicted information appears to the right of the vertical line and represents the forecast that the model makes.</span></span>  
  
 <span data-ttu-id="a3d96-112">ソース データと予測データの組み合わせを *シリーズ*と呼びます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-112">The combination of the source data and the prediction data is called a *series*.</span></span>  
  
 <span data-ttu-id="a3d96-113">![タイム シリーズの例](../media/time-series.gif "タイム シリーズの例")</span><span class="sxs-lookup"><span data-stu-id="a3d96-113">![An example of a time series](../media/time-series.gif "An example of a time series")</span></span>  
  
 <span data-ttu-id="a3d96-114">[!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムには、クロス予測を実行できる重要な機能があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-114">An important feature of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm is that it can perform cross prediction.</span></span> <span data-ttu-id="a3d96-115">2 つの別個の関連するシリーズを持つアルゴリズムをトレーニングする場合、結果として得られるモデルを使用して、一方のシリーズの結果をもう一方のシリーズの動作に基づいて予測できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-115">If you train the algorithm with two separate, but related, series, you can use the resulting model to predict the outcome of one series based on the behavior of the other series.</span></span> <span data-ttu-id="a3d96-116">たとえば、ある製品の実際の売上が、別の製品の売上の予測に影響を与える場合があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-116">For example, the observed sales of one product can influence the forecasted sales of another product.</span></span> <span data-ttu-id="a3d96-117">複数のシリーズに適用できる汎用モデルの作成には、クロス予測も有効です。</span><span class="sxs-lookup"><span data-stu-id="a3d96-117">Cross prediction is also useful for creating a general model that can be applied to multiple series.</span></span> <span data-ttu-id="a3d96-118">たとえば、シリーズのデータ品質がよくないため、特定地域の予測が安定しないとします。</span><span class="sxs-lookup"><span data-stu-id="a3d96-118">For example, the predictions for a particular region are unstable because the series lacks good quality data.</span></span> <span data-ttu-id="a3d96-119">4 つすべての地域の平均値を使用して汎用モデルをトレーニングし、そのモデルを個々のシリーズに適用することで、各地域でより安定した予測を実行できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-119">You could train a general model on an average of all four regions, and then apply the model to the individual series to create more stable predictions for each region.</span></span>  
  
## <a name="example"></a><span data-ttu-id="a3d96-120">例</span><span class="sxs-lookup"><span data-stu-id="a3d96-120">Example</span></span>  
 <span data-ttu-id="a3d96-121">[!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] の経営陣は、来年の自転車の売上を月ごとに予測することを希望しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-121">The management team at [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] wants to predict monthly bicycle sales for the coming year.</span></span> <span data-ttu-id="a3d96-122">特に、ある自転車モデルの売上から別のモデルの売上を予測できるかどうかということに関心があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-122">The company is especially interested in whether the sale of one bike model can be used to predict the sale of another model.</span></span> <span data-ttu-id="a3d96-123">過去 3 年間の履歴データに対して [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムを使用すると、将来の自転車の売上を予測するデータ マイニング モデルを生成できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-123">By using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm on historical data from the past three years, the company can produce a data mining model that forecasts future bike sales.</span></span> <span data-ttu-id="a3d96-124">また、クロス予測を実行して、個々の自転車モデルの売上傾向が関連しているかどうかを確認することもできます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-124">Additionally, the company can perform cross predictions to see whether the sales trends of individual bike models are related.</span></span>  
  
 <span data-ttu-id="a3d96-125">この会社では、四半期ごとに最新の売上データを使ってモデルを更新し、予測を更新して、最新の傾向をモデル化することを計画しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-125">Each quarter, the company plans to update the model with recent sales data and update their predictions to model recent trends.</span></span> <span data-ttu-id="a3d96-126">売上データを正確に更新していない、または一貫して更新していない販売店のデータを修正するために、汎用予測モデルを作成し、それを使用して全地域の予測を作成します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-126">To correct for stores that do not accurately or consistently update sales data, they will create a general prediction model, and use that to create predictions for all regions.</span></span>  
  
## <a name="how-the-algorithm-works"></a><span data-ttu-id="a3d96-127">アルゴリズムの動作</span><span class="sxs-lookup"><span data-stu-id="a3d96-127">How the Algorithm Works</span></span>  
 <span data-ttu-id="a3d96-128">では、 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイムシリーズアルゴリズムでは、artxp という1つのアルゴリズムが使用されていました。</span><span class="sxs-lookup"><span data-stu-id="a3d96-128">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm used a single algorithm, ARTXP.</span></span> <span data-ttu-id="a3d96-129">ARTXP アルゴリズムは短期的な予測に適しているため、シリーズ内で最も近い値を予測するために使用されました。</span><span class="sxs-lookup"><span data-stu-id="a3d96-129">The ARTXP algorithm was optimized for short-term predictions, and therefore, predicted the next likely value in a series.</span></span> <span data-ttu-id="a3d96-130">以降 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイムシリーズアルゴリズムでは、artxp アルゴリズムと2番目のアルゴリズム ARIMA の両方が使用されています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-130">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses both the ARTXP algorithm and a second algorithm, ARIMA.</span></span> <span data-ttu-id="a3d96-131">ARIMA アルゴリズムは、長期的な予測に適しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-131">The ARIMA algorithm is optimized for long-term prediction.</span></span> <span data-ttu-id="a3d96-132">ARTXP アルゴリズムと ARIMA アルゴリズムの実装の詳細については、「 [Microsoft Time Series アルゴリズム テクニカル リファレンス](microsoft-time-series-algorithm-technical-reference.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-132">For a detailed explanation about the implementation of the ARTXP and ARIMA algorithms, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
 <span data-ttu-id="a3d96-133">既定では、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムはアルゴリズムを組み合わせて使用し、パターンの分析と予測を実行します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-133">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses a mix of the algorithms when it analyzes patterns and making predictions.</span></span> <span data-ttu-id="a3d96-134">このアルゴリズムでは、同じデータに対して2つの異なるモデルをトレーニングします。一方のモデルでは ARTXP アルゴリズムを使用し、もう1つのモデルでは ARIMA アルゴリズムを使用します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-134">The algorithm trains two separate models on the same data: one model uses the ARTXP algorithm and one model uses the ARIMA algorithm.</span></span> <span data-ttu-id="a3d96-135">この 2 つのモデルの結果を統合して、さまざまな数のタイム スライスに対して最適な予測を出力します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-135">The algorithm then blends the results of the two models to yield the best prediction over a variable number of time slices.</span></span> <span data-ttu-id="a3d96-136">ARTXP アルゴリズムは短期的な予測に適しているため、予測シリーズの初めのうちに高い割合で使用されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-136">Because ARTXP is best for short-term predictions, it is weighted more heavily at the beginning of a series of predictions.</span></span> <span data-ttu-id="a3d96-137">一方、さらに将来のタイム スライスを予測対象とするにつれて、ARIMA が使用される割合が高くなります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-137">However, as the time slices that you are predicting move further into the future, ARIMA is weighted more heavily.</span></span>  
  
 <span data-ttu-id="a3d96-138">また、アルゴリズムの組み合わせを調整して、時系列内で短期と長期のどちらの予測を重視するかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-138">You can also control the mix of algorithms to favor either short- or long-term prediction in the times series.</span></span> <span data-ttu-id="a3d96-139">Standard 以降では、 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイムシリーズアルゴリズムで次の設定のいずれかを使用するように指定できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-139">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] Standard, you can specify that the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm use one of the following settings:</span></span>  
  
-   <span data-ttu-id="a3d96-140">ARTXP のみを使用し、短期的な予測を行う。</span><span class="sxs-lookup"><span data-stu-id="a3d96-140">Use only ARTXP for short-term prediction.</span></span>  
  
-   <span data-ttu-id="a3d96-141">ARIMA のみを使用し、長期的な予測を行う。</span><span class="sxs-lookup"><span data-stu-id="a3d96-141">Use only ARIMA for long-term prediction.</span></span>  
  
-   <span data-ttu-id="a3d96-142">2 つのアルゴリズムを組み合わせて使用する (既定)。</span><span class="sxs-lookup"><span data-stu-id="a3d96-142">Use the default blending of the two algorithms.</span></span>  
  
 <span data-ttu-id="a3d96-143">以降では [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] 、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイムシリーズアルゴリズムによって予測のモデルがどのようにブレンドされるかをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-143">Beginning in [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can customize how the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the models for prediction.</span></span> <span data-ttu-id="a3d96-144">2 つのアルゴリズムを混用するモデルを使用する場合、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムでは次の方法で 2 つのアルゴリズムを組み合わせます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-144">When you use a mixed model, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the two algorithms in the following way:</span></span>  
  
-   <span data-ttu-id="a3d96-145">最初のいくつかの予測は、常に ARTXP のみを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-145">Only ARTXP is always used for making the first couple of predictions.</span></span>  
  
-   <span data-ttu-id="a3d96-146">その後で、ARIMA と ARTXP を組み合わせて使用します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-146">After the first couple of predictions, a combination of ARIMA and ARTXP is used.</span></span>  
  
-   <span data-ttu-id="a3d96-147">予測期間の値が増えるにつれ、予測に使用される ARIMA の割合が増えていき、最終的には ARTXP が使用されなくなります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-147">As the number of prediction steps increases, predictions rely more heavily on ARIMA until ARTXP is no longer used.</span></span>  
  
-   <span data-ttu-id="a3d96-148">PREDICTION_SMOOTHING パラメーターを設定することで、アルゴリズムの混用を開始するポイント、ARTXP の割合を減らす速度、ARIMA の割合を増やす速度を指定します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-148">You control the mixing point, the rate at which the weight of ARTXP is decreased, and the weight of ARIMA is increased by setting the PREDICTION_SMOOTHING parameter.</span></span>  
  
 <span data-ttu-id="a3d96-149">2 つのアルゴリズムを使用することで、データの周期性を複数レベルで検出できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-149">Both algorithms can detect seasonality in data at multiple levels.</span></span> <span data-ttu-id="a3d96-150">たとえば、データに年周期性があり、さらに月周期性もある場合があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-150">For example, your data might contain monthly cycles nested within yearly cycles.</span></span> <span data-ttu-id="a3d96-151">このような周期性を検出するために、周期性のヒントを指定することや、アルゴリズムでの周期性の自動検出を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-151">To detect these seasonal cycles, you can either provide a periodicity hint or specify that the algorithm should automatically detect periodicity.</span></span>  
  
 <span data-ttu-id="a3d96-152">周期性に加え、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムには、周期性の検出、予測の実行、事例の分析の際の動作を制御するパラメーターが他にもあります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-152">In addition to periodicity, there are several other parameters that control the behavior of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm when it detects periodicity, makes predictions, or analyzes cases.</span></span> <span data-ttu-id="a3d96-153">アルゴリズムのパラメーターを設定する方法については、「 [Microsoft Time Series アルゴリズム テクニカル リファレンス](microsoft-time-series-algorithm-technical-reference.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-153">For information about how to set algorithm parameters, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
## <a name="data-required-for-time-series-models"></a><span data-ttu-id="a3d96-154">タイム シリーズ モデルに必要なデータ</span><span class="sxs-lookup"><span data-stu-id="a3d96-154">Data Required for Time Series Models</span></span>  
 <span data-ttu-id="a3d96-155">データ マイニング モデルのトレーニングに使用するデータを用意する際には、特定のモデルにおける要件と、データの使用方法を把握しておいてください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-155">When you prepare data for use in training any data mining model, make sure that you understand the requirements for the particular model and how the data is used.</span></span>  
  
 <span data-ttu-id="a3d96-156">各予測モデルには、ケース シリーズが含まれている必要があります。これは、変更が発生するタイム スライスや他のシリーズを指定する列です。</span><span class="sxs-lookup"><span data-stu-id="a3d96-156">Each forecasting model must contain a case series, which is the column that specifies the time slices or other series over which change occurs.</span></span> <span data-ttu-id="a3d96-157">たとえば、前に示した図のデータは数か月間の自転車の売上履歴および売上予測のシリーズを示しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-157">For example, the data in the previous diagram shows the series for historical and forecasted bicycle sales over a period of several months.</span></span> <span data-ttu-id="a3d96-158">このモデルの場合、各地域がシリーズであり、日付の列にタイム シリーズが含まれます。このタイム シリーズはケース シリーズでもあります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-158">For this model, each region is a series, and the date column contains the time series, which is also the case series.</span></span> <span data-ttu-id="a3d96-159">他のモデルでは、ケース シリーズはテキスト フィールドである場合や、顧客 ID や取引 ID などの識別子である場合があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-159">In other models, the case series can be a text field or some identifier such as a customer ID or transaction ID.</span></span> <span data-ttu-id="a3d96-160">しかし、タイム シリーズ モデルでは常に日付や時刻など、ケース シリーズに対応する固有の数値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-160">However, a time series model must always use a date, time, or some other unique numeric value for its case series.</span></span>  
  
 <span data-ttu-id="a3d96-161">タイム シリーズ モデルの要件は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="a3d96-161">The requirements for a time series model are as follows:</span></span>  
  
-   <span data-ttu-id="a3d96-162">**1 つの Key Time 列** 各モデルには、ケース シリーズとして使用される数値列または日付列が 1 つ含まれている必要があります。これにより、モデルで使用されるタイム スライスを定義します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-162">**A single key time column** Each model must contain one numeric or date column that is used as the case series, which defines the time slices that the model will use.</span></span> <span data-ttu-id="a3d96-163">Key Time 列のデータ型は、datetime データ型または numeric データ型になります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-163">The data type for the key time column can be either a datetime data type or a numeric data type.</span></span> <span data-ttu-id="a3d96-164">ただし、この列には連続的な値が含まれる必要があります。また、値は各シリーズで一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-164">However, the column must contain continuous values, and the values must be unique for each series.</span></span> <span data-ttu-id="a3d96-165">タイム シリーズ モデルに対応するケース シリーズは 2 つの列に格納することはできません。たとえば、年の列と月の列などです。</span><span class="sxs-lookup"><span data-stu-id="a3d96-165">The case series for a time series model cannot be stored in two columns, such as a Year column and a Month column.</span></span>  
  
-   <span data-ttu-id="a3d96-166">**予測可能列** 各モデルには、アルゴリズムでタイム シリーズ モデルの作成に使用される予測可能列が 1 つ以上必要です。</span><span class="sxs-lookup"><span data-stu-id="a3d96-166">**A predictable column** Each model must contain at least one predictable column around which the algorithm will build the time series model.</span></span> <span data-ttu-id="a3d96-167">予測可能列のデータ型には、連続値が含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-167">The data type of the predictable column must have continuous values.</span></span> <span data-ttu-id="a3d96-168">たとえば、収入、売上、気温などの数値属性が時間の経過と共にどう変化するかを予測することができます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-168">For example, you can predict how numeric attributes, such as income, sales, or temperature, change over time.</span></span> <span data-ttu-id="a3d96-169">しかし、購入状況や教育水準など、孤立した値を含む列は予測可能列として使用できません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-169">However, you cannot use a column that contains discrete values, such as purchasing status or level of education, as the predictable column.</span></span>  
  
-   <span data-ttu-id="a3d96-170">**シリーズ キー列 (省略可能)** 各モデルには、シリーズを識別する一意の値を含むキー列を追加できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-170">**An optional series key column** Each model can have an additional key column that contains unique values that identify a series.</span></span> <span data-ttu-id="a3d96-171">このオプションのシリーズ キー列には、一意の値が含まれている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-171">The optional series key column must contain unique values.</span></span> <span data-ttu-id="a3d96-172">たとえば、すべてのタイム スライスで各製品名に対応するレコードが 1 つのみであれば、多数の製品モデルの売上を 1 つのモデルに含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-172">For example, a single model can contain sales for many product models, as long as there is only one record for each product name for every time slice.</span></span>  
  
 <span data-ttu-id="a3d96-173">[!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ モデルの入力データを定義する方法はいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-173">You can define input data for the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series model in several different ways.</span></span> <span data-ttu-id="a3d96-174">ただし、入力ケースの形式はマイニング モデルの定義に影響するため、ビジネス ニーズを考慮し、それに応じてデータを準備しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-174">However, because the format of the input cases affects the definition of the mining model, you must consider your business needs and prepare your data accordingly.</span></span> <span data-ttu-id="a3d96-175">次の 2 つの例は、入力データがモデルにどのように影響するかを示しています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-175">The following two examples illustrate how the input data affects the model.</span></span> <span data-ttu-id="a3d96-176">どちらの例でも、完成したマイニング モデルには 4 つの独自のシリーズに対応するパターンが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-176">In both examples, the completed mining model contains patterns for four distinct series:</span></span>  
  
-   <span data-ttu-id="a3d96-177">製品 A の売上</span><span class="sxs-lookup"><span data-stu-id="a3d96-177">Sales for Product A</span></span>  
  
-   <span data-ttu-id="a3d96-178">製品 B の売上</span><span class="sxs-lookup"><span data-stu-id="a3d96-178">Sales for Product B</span></span>  
  
-   <span data-ttu-id="a3d96-179">製品 A の数量</span><span class="sxs-lookup"><span data-stu-id="a3d96-179">Volume for Product A</span></span>  
  
-   <span data-ttu-id="a3d96-180">製品 B の数量</span><span class="sxs-lookup"><span data-stu-id="a3d96-180">Volume for Product B</span></span>  
  
 <span data-ttu-id="a3d96-181">どちらの例でも、各製品の今後の売上と数量を新しく予測できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-181">In both examples, you can predict new future sales and volume for each product.</span></span> <span data-ttu-id="a3d96-182">製品または時間について新しい値を予測することはできません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-182">You cannot predict new values for product or for time.</span></span>  
  
### <a name="example-1-time-series-data-set-with-series-represented-as-column-values"></a><span data-ttu-id="a3d96-183">例 1: 列値として表されるシリーズを含むタイム シリーズ データ セット</span><span class="sxs-lookup"><span data-stu-id="a3d96-183">Example 1: Time Series Data Set with Series Represented as Column Values</span></span>  
 <span data-ttu-id="a3d96-184">この例では、次の入力ケースのテーブルを使用します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-184">This example uses the following table of input cases:</span></span>  
  
|<span data-ttu-id="a3d96-185">TimeID</span><span class="sxs-lookup"><span data-stu-id="a3d96-185">TimeID</span></span>|<span data-ttu-id="a3d96-186">Product</span><span class="sxs-lookup"><span data-stu-id="a3d96-186">Product</span></span>|<span data-ttu-id="a3d96-187">Sales</span><span class="sxs-lookup"><span data-stu-id="a3d96-187">Sales</span></span>|<span data-ttu-id="a3d96-188">ボリューム</span><span class="sxs-lookup"><span data-stu-id="a3d96-188">Volume</span></span>|  
|------------|-------------|-----------|------------|  
|<span data-ttu-id="a3d96-189">1/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-189">1/2001</span></span>|<span data-ttu-id="a3d96-190">A</span><span class="sxs-lookup"><span data-stu-id="a3d96-190">A</span></span>|<span data-ttu-id="a3d96-191">1000</span><span class="sxs-lookup"><span data-stu-id="a3d96-191">1000</span></span>|<span data-ttu-id="a3d96-192">600</span><span class="sxs-lookup"><span data-stu-id="a3d96-192">600</span></span>|  
|<span data-ttu-id="a3d96-193">2/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-193">2/2001</span></span>|<span data-ttu-id="a3d96-194">A</span><span class="sxs-lookup"><span data-stu-id="a3d96-194">A</span></span>|<span data-ttu-id="a3d96-195">1100</span><span class="sxs-lookup"><span data-stu-id="a3d96-195">1100</span></span>|<span data-ttu-id="a3d96-196">500</span><span class="sxs-lookup"><span data-stu-id="a3d96-196">500</span></span>|  
|<span data-ttu-id="a3d96-197">1/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-197">1/2001</span></span>|<span data-ttu-id="a3d96-198">B</span><span class="sxs-lookup"><span data-stu-id="a3d96-198">B</span></span>|<span data-ttu-id="a3d96-199">500</span><span class="sxs-lookup"><span data-stu-id="a3d96-199">500</span></span>|<span data-ttu-id="a3d96-200">900</span><span class="sxs-lookup"><span data-stu-id="a3d96-200">900</span></span>|  
|<span data-ttu-id="a3d96-201">2/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-201">2/2001</span></span>|<span data-ttu-id="a3d96-202">B</span><span class="sxs-lookup"><span data-stu-id="a3d96-202">B</span></span>|<span data-ttu-id="a3d96-203">300</span><span class="sxs-lookup"><span data-stu-id="a3d96-203">300</span></span>|<span data-ttu-id="a3d96-204">890</span><span class="sxs-lookup"><span data-stu-id="a3d96-204">890</span></span>|  
  
 <span data-ttu-id="a3d96-205">表の TimeID 列には時刻識別子が入っており、1 日あたり 2 つのエントリがあります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-205">The TimeID column in the table contains a time identifier, and has two entries for each day.</span></span> <span data-ttu-id="a3d96-206">TimeID 列がケース シリーズになります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-206">The TimeID column becomes the case series.</span></span> <span data-ttu-id="a3d96-207">したがって、タイム シリーズ モデルの Key Time 列として、この列を指定します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-207">Therefore, you would designate this column as the key time column for the time series model.</span></span>  
  
 <span data-ttu-id="a3d96-208">Product 列では、データベース内の製品を定義します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-208">The Product column defines a product in the database.</span></span> <span data-ttu-id="a3d96-209">この列に製品シリーズが含まれています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-209">This column contains the product series.</span></span> <span data-ttu-id="a3d96-210">したがって、タイム シリーズ モデルの 2 つ目のキーとして、この列を指定します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-210">Therefore, you would designate this column as a second key for the time series model.</span></span>  
  
 <span data-ttu-id="a3d96-211">Sales 列は 1 日の指定製品の総利益を示し、Volume 列は倉庫に残っている指定製品の数量を示します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-211">The Sales column describes the gross profits of the specified product for one day, and the Volume column describes the quantity of the specified product that remains in the warehouse.</span></span> <span data-ttu-id="a3d96-212">この 2 つの列に、モデルのトレーニングに使用されるデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-212">These two columns contain the data that is used to train the model.</span></span> <span data-ttu-id="a3d96-213">Sales と Volume の両方が、Product 列の各シリーズの予測可能な属性になります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-213">Both Sales and Volume  can be predictable attributes for each series in the Product column.</span></span>  
  
### <a name="example-2-time-series-data-set-with-each-series-in-separate-column"></a><span data-ttu-id="a3d96-214">例 2: 各シリーズが別の列に含まれるタイム シリーズ データ セット</span><span class="sxs-lookup"><span data-stu-id="a3d96-214">Example 2: Time Series Data Set with Each Series in Separate Column</span></span>  
 <span data-ttu-id="a3d96-215">この例では最初の例と基本的に同じ入力データを使用しますが、次の表に示すように、入力データの構成が異なります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-215">Although this example uses basically the same input data as the first example, the input data is structured differently, as shown in the following table:</span></span>  
  
|<span data-ttu-id="a3d96-216">TimeID</span><span class="sxs-lookup"><span data-stu-id="a3d96-216">TimeID</span></span>|<span data-ttu-id="a3d96-217">A_Sales</span><span class="sxs-lookup"><span data-stu-id="a3d96-217">A_Sales</span></span>|<span data-ttu-id="a3d96-218">A_Volume</span><span class="sxs-lookup"><span data-stu-id="a3d96-218">A_Volume</span></span>|<span data-ttu-id="a3d96-219">B_Sales</span><span class="sxs-lookup"><span data-stu-id="a3d96-219">B_Sales</span></span>|<span data-ttu-id="a3d96-220">B_Volume</span><span class="sxs-lookup"><span data-stu-id="a3d96-220">B_Volume</span></span>|  
|------------|--------------|---------------|--------------|---------------|  
|<span data-ttu-id="a3d96-221">1/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-221">1/2001</span></span>|<span data-ttu-id="a3d96-222">1000</span><span class="sxs-lookup"><span data-stu-id="a3d96-222">1000</span></span>|<span data-ttu-id="a3d96-223">600</span><span class="sxs-lookup"><span data-stu-id="a3d96-223">600</span></span>|<span data-ttu-id="a3d96-224">500</span><span class="sxs-lookup"><span data-stu-id="a3d96-224">500</span></span>|<span data-ttu-id="a3d96-225">900</span><span class="sxs-lookup"><span data-stu-id="a3d96-225">900</span></span>|  
|<span data-ttu-id="a3d96-226">2/2001</span><span class="sxs-lookup"><span data-stu-id="a3d96-226">2/2001</span></span>|<span data-ttu-id="a3d96-227">1100</span><span class="sxs-lookup"><span data-stu-id="a3d96-227">1100</span></span>|<span data-ttu-id="a3d96-228">500</span><span class="sxs-lookup"><span data-stu-id="a3d96-228">500</span></span>|<span data-ttu-id="a3d96-229">300</span><span class="sxs-lookup"><span data-stu-id="a3d96-229">300</span></span>|<span data-ttu-id="a3d96-230">890</span><span class="sxs-lookup"><span data-stu-id="a3d96-230">890</span></span>|  
  
 <span data-ttu-id="a3d96-231">このテーブルでも、TimeID 列にタイム シリーズ モデルのケース シリーズが含まれ、これを Key Time 列として指定します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-231">In this table, the TimeID column still contains the case series for the time series model, which you designate as the key time column.</span></span> <span data-ttu-id="a3d96-232">ただし、前の例での Sales 列と Volume 列がそれぞれ 2 つの列に分けられ、その各列の前に製品名が付けられています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-232">However, the previous Sales and Volume columns are now split into two columns and each of those columns are preceded by the product name.</span></span> <span data-ttu-id="a3d96-233">このため、TimeID 列の各日には 1 つのエントリしか存在しません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-233">As a result, only a single entry exists for each day in the TimeID column.</span></span> <span data-ttu-id="a3d96-234">これにより、タイム シリーズ モデルには、A_Sales、A_Volume、B_Sales、および B_Volume という 4 つの予測可能列が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-234">This creates a time series model that would contain four predictable columns: A_Sales, A_Volume, B_Sales, and B_Volume.</span></span>  
  
 <span data-ttu-id="a3d96-235">さらに、製品名が独立した列に分けられたため、シリーズ キー列を追加指定する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-235">Furthermore, because you have separated the products into different columns, you do not have to specify an additional series key column.</span></span> <span data-ttu-id="a3d96-236">モデル内のすべての列が、ケース シリーズ列または予測可能列になります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-236">All the columns in the model are either a case series column or a predictable column.</span></span>  
  
## <a name="viewing-a-time-series-model"></a><span data-ttu-id="a3d96-237">タイム シリーズ モデルの表示</span><span class="sxs-lookup"><span data-stu-id="a3d96-237">Viewing a Time Series Model</span></span>  
 <span data-ttu-id="a3d96-238">モデルのトレーニング後、結果がパターンのセットとして保存されます。これを参照したり、これを使用して予測を実行したりできます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-238">After the model has been trained, the results are stored as a set of patterns, which you can explore or use to make predictions.</span></span>  
  
 <span data-ttu-id="a3d96-239">モデルを参照するには、 [タイム シリーズ ビューアー](browse-a-model-using-the-microsoft-time-series-viewer.md)を使用します。</span><span class="sxs-lookup"><span data-stu-id="a3d96-239">To explore the model, you can use the [Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md).</span></span> <span data-ttu-id="a3d96-240">タイム シリーズ ビューアーには、将来の予測を表示するグラフと、データの周期的構造のツリー ビューが表示されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-240">The viewer includes a chart that displays future predictions, and a tree view of the periodic structures in the data.</span></span>  
  
 <span data-ttu-id="a3d96-241">予測の計算方法の詳細を知るには、 [Microsoft 汎用コンテンツ ツリー ビューアー](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)でモデルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-241">If you want to know more about how the predictions are calculated, you can browse the model in the [Microsoft Generic Content Tree Viewer](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span></span> <span data-ttu-id="a3d96-242">モデルに保存される内容には、ARIMA アルゴリズムと ARTXP アルゴリズムで検出された周期的構造や、アルゴリズムの配分に使用された数式、その他の統計情報などの詳細が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-242">The content stored for the model includes details such as the periodic structures detected by the ARIMA and ARTXP algorithms, the equation used to blend the algorithms, and other statistics.</span></span>  
  
## <a name="creating-time-series-predictions"></a><span data-ttu-id="a3d96-243">時系列予測の作成</span><span class="sxs-lookup"><span data-stu-id="a3d96-243">Creating Time Series Predictions</span></span>  
 <span data-ttu-id="a3d96-244">既定では、タイム シリーズ モデルを表示すると、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] にはそのシリーズに対応する 5 個の予測が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-244">By default, when you view a time series model, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] shows you five predictions for the series.</span></span> <span data-ttu-id="a3d96-245">ただし、さまざまな数の予測を返すクエリを作成することや、予測に列を追加して説明的な統計情報を返すこともできます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-245">However, you can create queries to return a variable number of predictions, and you can extra columns to the predictions to return descriptive statistics.</span></span> <span data-ttu-id="a3d96-246">タイム シリーズ モデルに対するクエリの作成方法については、「 [タイム シリーズ モデルのクエリ例](time-series-model-query-examples.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-246">For information about how to create queries against a time series model, see [Time Series Model Query Examples](time-series-model-query-examples.md).</span></span> <span data-ttu-id="a3d96-247">データ マイニング拡張機能 (DMX) を使用してタイム シリーズ予測を作成する方法の例については、「[PredictTimeSeries (DMX)](/sql/dmx/predicttimeseries-dmx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a3d96-247">For examples of how to use Data Mining Extensions (DMX) to make time series predictions, see [PredictTimeSeries &#40;DMX&#41;](/sql/dmx/predicttimeseries-dmx).</span></span>  
  
 <span data-ttu-id="a3d96-248">[!INCLUDE[msCoName](../../includes/msconame-md.md)] タイム シリーズ アルゴリズムを使用して予測を実行する際には、次に示す制限事項や要件も考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-248">When using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm to make predictions, you should consider the following additional restrictions and requirements:</span></span>  
  
-   <span data-ttu-id="a3d96-249">クロス予測は、アルゴリズムを混用するモデルを使用する場合や、ARTXP アルゴリズムに基づいたモデルを使用する場合にのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="a3d96-249">Cross-prediction is only available when you use a mixed model, or a model based on the ARTXP algorithm.</span></span> <span data-ttu-id="a3d96-250">ARIMA アルゴリズムのみに基づいたモデルを使用する場合、クロス予測は実行できません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-250">If you use a model based only on the ARIMA algorithm, cross-prediction is not possible.</span></span>  
  
-   <span data-ttu-id="a3d96-251">タイム シリーズ モデルでは、サーバーで 64 ビットのオペレーティング システムが使用されているかどうかに応じて、予測が大きく変わる場合があります。</span><span class="sxs-lookup"><span data-stu-id="a3d96-251">A time series model can make predictions that differ, sometimes significantly, depending on the 64-bit operating system that the server uses.</span></span> <span data-ttu-id="a3d96-252">この違いが発生する原因は、 [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]ベースのシステムにおける浮動小数点演算の数値の表示方法と処理方法が、 [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)]ベースのシステムにおける方法と異なるためです。</span><span class="sxs-lookup"><span data-stu-id="a3d96-252">These differences occur due to the way that an [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]-based system represents and handles numbers for floating-point arithmetic, which differs from the way that an [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)]-based system does these calculations.</span></span> <span data-ttu-id="a3d96-253">予測結果がオペレーティング システムによって変わる可能性があるため、運用時に使用するものと同じオペレーティング システムでモデルを評価することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a3d96-253">Because prediction results can be specific to the operating system, we recommend that you evaluate models on the same operating system that you will use in production.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="a3d96-254">解説</span><span class="sxs-lookup"><span data-stu-id="a3d96-254">Remarks</span></span>  
  
-   <span data-ttu-id="a3d96-255">Predictive Model Markup Language (PMML) を使用したマイニング モデルの作成はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-255">Does not support using the Predictive Model Markup Language (PMML) to create mining models.</span></span>  
  
-   <span data-ttu-id="a3d96-256">OLAP マイニング モデルの使用がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-256">Supports the use of OLAP mining models.</span></span>  
  
-   <span data-ttu-id="a3d96-257">データ マイニング ディメンションの作成はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="a3d96-257">Does not support the creation of data mining dimensions.</span></span>  
  
-   <span data-ttu-id="a3d96-258">ドリルスルーがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="a3d96-258">Supports drillthrough.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a3d96-259">参照</span><span class="sxs-lookup"><span data-stu-id="a3d96-259">See Also</span></span>  
 <span data-ttu-id="a3d96-260">[データマイニングアルゴリズム &#40;Analysis Services-データマイニング&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="a3d96-260">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="a3d96-261">[Microsoft タイムシリーズビューアーを使用したモデルの参照](browse-a-model-using-the-microsoft-time-series-viewer.md) </span><span class="sxs-lookup"><span data-stu-id="a3d96-261">[Browse a Model Using the Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md) </span></span>  
 <span data-ttu-id="a3d96-262">[Microsoft タイムシリーズアルゴリズムテクニカルリファレンス](microsoft-time-series-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="a3d96-262">[Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="a3d96-263">[タイムシリーズモデルのクエリ例](time-series-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="a3d96-263">[Time Series Model Query Examples](time-series-model-query-examples.md) </span></span>  
 [<span data-ttu-id="a3d96-264">タイム シリーズ モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;</span><span class="sxs-lookup"><span data-stu-id="a3d96-264">Mining Model Content for Time Series Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-time-series-models-analysis-services-data-mining.md)  
  
  
