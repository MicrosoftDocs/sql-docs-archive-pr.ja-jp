---
title: OLAP マイニング構造を作成する |Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21cbdc9d-d33c-4026-b9ef-1be2bd92b3b1
author: minewiskan
ms.author: owend
ms.openlocfilehash: c470af6865bf6bb44202b73ffd70cf3c7c1ee8e2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643020"
---
# <a name="create-an-olap-mining-structure"></a><span data-ttu-id="538ed-102">Create an OLAP Mining Structure</span><span class="sxs-lookup"><span data-stu-id="538ed-102">Create an OLAP Mining Structure</span></span>
  <span data-ttu-id="538ed-103">OLAP キューブまたはその他の多次元データ ストアに基づいてデータ マイニング モデルを作成することには、多くの利点があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-103">There are many advantages to creating a data mining model based on an OLAP cube or other multidimensional data store.</span></span> <span data-ttu-id="538ed-104">OLAP ソリューションには、適切に整理、クリーンアップ、および書式設定された大量のデータが既に含まれています。ただし、データが複雑なため、アドホック探索でユーザーが有意なパターンを見つけることは困難です。</span><span class="sxs-lookup"><span data-stu-id="538ed-104">An OLAP solution already contains huge amounts of data that is well organized, cleaned and properly formatted; however, the complexity of the data is such that users are unlikely to find meaningful patterns by ad hoc exploration.</span></span> <span data-ttu-id="538ed-105">データ マイニングは、新しい相関関係を発見し、実用的な洞察力を得るための手段を提供します。</span><span class="sxs-lookup"><span data-stu-id="538ed-105">Data mining offers the ability to discover new correlations and provide actionable insight.</span></span>  
  
 <span data-ttu-id="538ed-106">このトピックでは、既存の多次元ソリューションのディメンションおよび関連メジャーに基づいて OLAP マイニング構造を作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="538ed-106">This topic describes how to create an OLAP mining structure, based on a dimension and related measures in an existing multidimensional solution.</span></span>  
  
 [<span data-ttu-id="538ed-107">必要条件</span><span class="sxs-lookup"><span data-stu-id="538ed-107">Requirements</span></span>](#bkmk_Reqs)  
  
 [<span data-ttu-id="538ed-108">OLAP データ マイニング プロセスの概要</span><span class="sxs-lookup"><span data-stu-id="538ed-108">Overview of OLAP Data Mining Process</span></span>](#bkmk_Overview)  
  
 [<span data-ttu-id="538ed-109">OLAP ソリューションでのデータ マイニングの使用に関するシナリオ</span><span class="sxs-lookup"><span data-stu-id="538ed-109">Scenarios for Using Data Mining in OLAP Solutions</span></span>](#bkmk_OLAP_Scenarios)  
  
 [<span data-ttu-id="538ed-110">フィルター</span><span class="sxs-lookup"><span data-stu-id="538ed-110">Filters</span></span>](#bkmk_Filters)  
  
 [<span data-ttu-id="538ed-111">入れ子になったテーブルの使用</span><span class="sxs-lookup"><span data-stu-id="538ed-111">Using Nested Tables</span></span>](#bkmk_Nested)  
  
 [<span data-ttu-id="538ed-112">データ マイニング ディメンション</span><span class="sxs-lookup"><span data-stu-id="538ed-112">Data Mining Dimensions</span></span>](#bkmk_DMDimension)  
  
##  <a name="requirements-for-olap-mining-structure-and-models"></a><a name="bkmk_Reqs"></a><span data-ttu-id="538ed-113">OLAP マイニング構造およびモデルの要件</span><span class="sxs-lookup"><span data-stu-id="538ed-113">Requirements for OLAP Mining Structure and Models</span></span>  
 <span data-ttu-id="538ed-114">OLAP マイニング モデルをデザインしている場合、データ ソースは、キューブを作成するために使用したデータベース内に既に存在しています。</span><span class="sxs-lookup"><span data-stu-id="538ed-114">If you are designing an OLAP mining model, your data source already exists, in the database that was used to build the cube.</span></span> <span data-ttu-id="538ed-115">リモート キューブに接続してデータ マイニング オブジェクトを作成することはできません。キューブ オブジェクトは、データベースと同じソリューション内で作成対象のマイニング構造として使用可能である必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-115">You cannot connect to a remote cube and build data mining objects; the cube objects must be available within the same solution as the database as the mining structure that you will build.</span></span>  
  
 <span data-ttu-id="538ed-116">元のプロジェクト ファイルがない場合、または元のプロジェクト ファイルを変更したくない場合は、Visual Studio の **[サーバーからインポート (多次元またはデータ マイニング)]** オプションを使用して、メタデータおよびソリューション オブジェクトのコピーを取得します。</span><span class="sxs-lookup"><span data-stu-id="538ed-116">If you do not have the original project files, or do not wish to alter them, you can use the option in Visual Studio, **Import from Server (Multidimensional or Data Mining)**, to get a copy of the metadata and solution objects.</span></span> <span data-ttu-id="538ed-117">これにより、既存のオブジェクトに影響を与えることなく、配置ターゲットの変更、データ ソースの編集、およびキューブ オブジェクトの操作を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="538ed-117">You can then modify the deployment target, edit data sources, and work with the cube objects without affecting the existing objects.</span></span>  
  
 <span data-ttu-id="538ed-118">詳細については、「 [Analysis Services インポート ウィザードを使用したデータ マイニング プロジェクトのインポート](import-a-data-mining-project-using-the-analysis-services-import-wizard.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="538ed-118">For more information, see [Import a Data Mining Project using the Analysis Services Import Wizard](import-a-data-mining-project-using-the-analysis-services-import-wizard.md).</span></span>  
  
##  <a name="overview-of-olap-data-mining-process"></a><a name="bkmk_Overview"></a><span data-ttu-id="538ed-119">OLAP データマイニングプロセスの概要</span><span class="sxs-lookup"><span data-stu-id="538ed-119">Overview of OLAP Data Mining Process</span></span>  
 <span data-ttu-id="538ed-120">ソリューション エクスプローラーで **[マイニング構造]** ノードを右クリックし、  **[新しいマイニング構造]** をクリックして、データ マイニング ウィザードを起動します。</span><span class="sxs-lookup"><span data-stu-id="538ed-120">Start the Data Mining Wizard by right-clicking the **Mining Structures** node in Solution Explorer, and selecting  **New Mining Structure**.</span></span> <span data-ttu-id="538ed-121">ウィザードに従って次の手順を実行して、新しい構造およびモデルの構造を作成します。</span><span class="sxs-lookup"><span data-stu-id="538ed-121">The wizard guides you through the following steps to create the structure for a new structure and model:</span></span>  
  
1.  <span data-ttu-id="538ed-122">**[定義方法の選択]**: データ ソースの種類を選択し、 **[既存のキューブを使用する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-122">**Select the Definition Method**: Here you select a data source type, and choose **From existing cube**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="538ed-123">既に説明したように、ソースとして使用する OLAP キューブは、マイニング構造と同じデータベース内に存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-123">The OLAP cube that you use as a source must exist within the same database as the mining structure, as described above.</span></span> <span data-ttu-id="538ed-124">さらに、PowerPivot for Excel アドインによって作成されたキューブは、データ マイニング用のソースとして使用できません。</span><span class="sxs-lookup"><span data-stu-id="538ed-124">Also, you cannot use a cube created by the PowerPivot for Excel add-in as a source for data mining.</span></span>  
  
2.  <span data-ttu-id="538ed-125">**[データ マイニング構造の作成]**: 構造のみを作成するか、構造と共にマイニング モデルも作成するかを決定します。</span><span class="sxs-lookup"><span data-stu-id="538ed-125">**Create the Data Mining Structure**: Determine whether you will build just a structure, or a structure with a mining model.</span></span>  
  
     <span data-ttu-id="538ed-126">さらに、データ分析用に適切なアルゴリズムを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-126">You must also choose an appropriate algorithm for analyzing your data.</span></span> <span data-ttu-id="538ed-127">特定のタスクに関して最適なアルゴリズムを判別するためのガイダンスについては、ハイパーリンクの「データ マイニング アルゴリズム (Analysis Services - データ マイニング)」(ms help://SQL111033/as_1devconc/html/ed1fc83b-b98c-437e-bf53-4ff001b92d64.htm) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="538ed-127">For guidance on which algorithm is best for certain tasks, see  HYPERLINK "ms-help://SQL111033/as_1devconc/html/ed1fc83b-b98c-437e-bf53-4ff001b92d64.htm" Data Mining Algorithms (Analysis Services - Data Mining).</span></span>  
  
3.  <span data-ttu-id="538ed-128">**[ソース キューブ ディメンションの選択]**: この手順は、データ ソースを選択する手順と同じです。</span><span class="sxs-lookup"><span data-stu-id="538ed-128">**Select the Source Cube Dimension**: This step is the same as selecting a data source.</span></span> <span data-ttu-id="538ed-129">モデルのトレーニングに使用される最も重要なデータを含む 1 つのディメンションを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-129">You need to choose the single dimension that contains the most important data used for in training your model.</span></span> <span data-ttu-id="538ed-130">後で他のディメンションからデータを追加したり、ディメンションをフィルター処理したりできます。</span><span class="sxs-lookup"><span data-stu-id="538ed-130">You can add data from other dimensions later, or filter the dimension.</span></span>  
  
4.  <span data-ttu-id="538ed-131">**[ケース キーの選択]**: 選択したディメンション内で、ケース データの一意識別子として使用する属性 (列) を選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-131">**Select the Case Key**: Within the dimension that you just selected, choose an attribute (column) to serve as the unique identifier for your case data.</span></span>  
  
     <span data-ttu-id="538ed-132">通常は 1 つの列が自動的に選択されますが、複数のキーがある場合は列を変更できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-132">Typically a column will be pre-selected for you, but you can change the column if in fact there are multiple keys.</span></span>  
  
5.  <span data-ttu-id="538ed-133">**[ケース レベル列の選択]**: 選択したディメンションの属性と、分析用に関連するメジャーを選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-133">**Selecting Case Level Columns**: Here you choose the attributes from the selected dimension, and the related measures, that are relevant to your analysis.</span></span> <span data-ttu-id="538ed-134">この手順は、テーブルから列を選択する手順と同じです。</span><span class="sxs-lookup"><span data-stu-id="538ed-134">This step is equivalent to selecting columns from a table.</span></span>  
  
     <span data-ttu-id="538ed-135">選択したディメンションの属性を使用して作成されたすべてのメジャーが自動的に選択されるので、選択内容を確認してください。</span><span class="sxs-lookup"><span data-stu-id="538ed-135">The wizard automatically includes for your review and selection any measures that were created using attributes from the selected dimension.</span></span>  
  
     <span data-ttu-id="538ed-136">たとえば、顧客の地理的な場所に基づいて運送費を計算するメジャーがキューブに含まれていて、その Customer ディメンションをモデリングのメインデータソースとして選択した場合、メジャーはモデルに追加する候補として提案されます。</span><span class="sxs-lookup"><span data-stu-id="538ed-136">For example, if your cube contains a measure that calculates freight cost based on the customer's geographical location, and you chose the Customer dimension as your main data source for modeling, the measure will be proposed as a candidate for adding to the model.</span></span> <span data-ttu-id="538ed-137">既に属性に直接基づいているメジャーを追加しすぎないように注意してください。メジャー式に定義されているように、列の間には既に 1 つの暗黙的リレーションシップが存在しています。この (期待される) 相関関係の強度により、検出できた可能性がある他のリレーションシップがわかりにくくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="538ed-137">Beware of adding too many measures that are already directly based on attributes, as there is already one implicit relationship between the columns, as defined in the measure formula, and the strength of this (expected) correlation can obscure other relationships that you might otherwise discover.</span></span>  
  
6.  <span data-ttu-id="538ed-138">**[マイニング モデル列の使用法の指定]**: 構造に追加した属性またはメジャーごとに、属性を予測用に使用するかまたは入力として使用するかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-138">**Specify Mining Model Column Usage**: For each attribute or measure that you added to the structure, you must specify whether the attribute should be used for prediction, or used as input.</span></span> <span data-ttu-id="538ed-139">これらのオプションを選択しない場合、データは処理されますが分析には使用されません。ただし、後でドリルスルーを有効にした場合はバックグラウンド データとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-139">If you do not select either of these options, the data will be processed but will not be used for analysis; however, it will be available as background data in case you later enable drillthrough.</span></span>  
  
7.  <span data-ttu-id="538ed-140">**[入れ子になっているテーブルの追加]**: クリックして、関連するテーブルを追加します。</span><span class="sxs-lookup"><span data-stu-id="538ed-140">**Add nested tables**: Click to add related tables.</span></span> <span data-ttu-id="538ed-141">**[メジャー グループ ディメンションの選択]** ダイアログ ボックスでは、現在のディメンションに関連するディメンションの中から 1 つだけディメンションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-141">In the **Select a Measure Group Dimension** dialog box, you can choose a single dimension from among the dimensions that are related to the current dimension.</span></span>  
  
     <span data-ttu-id="538ed-142">次に、 **[入れ子になったテーブル キーの選択]** ダイアログ ボックスを使用して、ケース データを含むディメンションに新しいディメンションをどのように関連付けるかを定義します。</span><span class="sxs-lookup"><span data-stu-id="538ed-142">Next, you use the **Select a Nested Table Key** dialog box to define how the new dimension is related to the dimension that contains the case data.</span></span>  
  
     <span data-ttu-id="538ed-143">**[入れ子になったテーブル列の選択]** ダイアログ ボックスを使用して、新しいディメンションから分析に使用する属性およびメジャーを選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-143">Use the **Select Nested Table Columns** dialog box to choose the attributes and measures from the new dimension that you want to use in analysis.</span></span> <span data-ttu-id="538ed-144">さらに、入れ子になった属性を予測に使用するかどうかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-144">You must also specify whether the nested attribute will be used for prediction.</span></span>  
  
     <span data-ttu-id="538ed-145">必要な入れ子になった属性をすべて追加したら、 **[マイニング モデル列の使用法の指定]** ページに戻り、 **[次へ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="538ed-145">After you have added all the nested attributes you might need, return to the page, **Specify Mining Model Column Usage**, and click **Next**.</span></span>  
  
8.  <span data-ttu-id="538ed-146">**[列のコンテンツおよびデータ型の指定]**: この段階で、分析に使用するすべてのデータが追加されています。それぞれの属性に対して、 *データ型* と *コンテンツの種類* を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-146">**Specify Columns Content and Data Type**: By this point, you have added all the data that will be used for analysis, and must specify the *data type* and *content type* for each attribute.</span></span>  
  
     <span data-ttu-id="538ed-147">OLAP モデルの場合、データ型を自動的に検出するオプションはありません。これは、データ型が既に多次元ソリューションで定義されていて、変更することができないためです。</span><span class="sxs-lookup"><span data-stu-id="538ed-147">In an OLAP model, you do not have the option to automatically detect data types, because the data type is already defined by the multidimensional solution and cannot be changed.</span></span> <span data-ttu-id="538ed-148">キーも自動的に識別されます。</span><span class="sxs-lookup"><span data-stu-id="538ed-148">Keys are also automatically identified.</span></span> <span data-ttu-id="538ed-149">詳細については、「[データ型 (データ マイニング)](data-types-data-mining.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="538ed-149">For more information, see  [Data Types &#40;Data Mining&#41;](data-types-data-mining.md).</span></span>  
  
     <span data-ttu-id="538ed-150">モデルで使用するそれぞれの列に対して選択した *コンテンツの種類* により、アルゴリズムにおけるデータの処理方法が決まります。</span><span class="sxs-lookup"><span data-stu-id="538ed-150">The *content type* that you choose for each column that you use in the model tells the algorithm how the data should be processed.</span></span> <span data-ttu-id="538ed-151">詳細については、「[コンテンツの種類 (データ マイニング)](content-types-data-mining.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="538ed-151">For more information, see [Content Types &#40;Data Mining&#41;](content-types-data-mining.md).</span></span>  
  
9. <span data-ttu-id="538ed-152">**[ソース キューブのスライス]**: ここでは、データのサブセットのみを選択し、対象を絞ったモデルをトレーニングするための、キューブのフィルターを定義できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-152">**Slicing the source cube**: Here you can define filters in a cube to select just a subset of data and train models that are more targeted.</span></span>  
  
     <span data-ttu-id="538ed-153">キューブをフィルター処理するには、フィルター処理するディメンションを選択します。次に、使用する条件を含む階層レベルを選択し、フィルターとして使用する条件を入力します。</span><span class="sxs-lookup"><span data-stu-id="538ed-153">You filter a cube by choosing the dimension to filter on, selecting the level of the hierarchy that contains the criteria you want to use, and then typing a condition to use as the filter.</span></span>  
  
10. <span data-ttu-id="538ed-154">**[テスト セットの作成]**: このページでは、モデルのテスト用に使用するデータの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="538ed-154">**Create Testing Set**: On this page, you can tell the wizard how much data should be set aside for use in testing the model.</span></span> <span data-ttu-id="538ed-155">データで複数のモデルがサポートされている場合は、同じデータに対してすべてのモデルをテストできるように予約データセットを作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="538ed-155">If your data will support multiple models, it is a good idea to create a holdout data set, so that all models can be tested on the same data.</span></span>  
  
     <span data-ttu-id="538ed-156">詳細については、「 [テストおよび検証 (データ マイニング)](testing-and-validation-data-mining.md)" テンプレートを使用して、データ マイニング プロジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="538ed-156">For more information, see [Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md).</span></span>  
  
11. <span data-ttu-id="538ed-157">**[ウィザードの完了]**: このページでは、新しいマイニング構造と関連マイニング モデルに名前を付け、構造とモデルを保存します。</span><span class="sxs-lookup"><span data-stu-id="538ed-157">**Completing the Wizard**: On this page, you give a name to the new mining structure and the associated mining model, and save the structure and model.</span></span>  
  
     <span data-ttu-id="538ed-158">さらにこのページでは、次のオプションを設定できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-158">On this page, you can also can set the following options:</span></span>  
  
    -   <span data-ttu-id="538ed-159">**[ドリルスルーを許可する]**</span><span class="sxs-lookup"><span data-stu-id="538ed-159">**Allow drillthrough**</span></span>  
  
    -   <span data-ttu-id="538ed-160">**[マイニング モデル ディメンションを作成する]**</span><span class="sxs-lookup"><span data-stu-id="538ed-160">**Create mining model dimension**</span></span>  
  
    -   <span data-ttu-id="538ed-161">**[マイニング モデル ディメンションを使用してキューブを作成する]**</span><span class="sxs-lookup"><span data-stu-id="538ed-161">**Create cube using mining model dimension**</span></span>  
  
     <span data-ttu-id="538ed-162">これらのオプションの詳細については、このトピックの後半の「 [データ マイニング ディメンションおよびドリルスルーについて](#bkmk_DMDimension)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="538ed-162">To learn more about these options, see the section later in this topic, [Understanding Data Mining Dimensions and Drillthrough](#bkmk_DMDimension).</span></span>  
  
 <span data-ttu-id="538ed-163">この段階で、マイニング構造とそのモデルは単なるメタデータです。結果を得るには、これらの両方を処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-163">At this point the mining structure and its model are just metadata; you will need to process them both to get results.</span></span>  
  
##  <a name="scenarios-for-use-of-data-mining-with-olap-data"></a><a name="bkmk_OLAP_Scenarios"></a><span data-ttu-id="538ed-164">OLAP データでデータマイニングを使用するシナリオ</span><span class="sxs-lookup"><span data-stu-id="538ed-164">Scenarios for Use of Data Mining with OLAP Data</span></span>  
 <span data-ttu-id="538ed-165">OLAP キューブには多数のメンバーおよびディメンションが含まれていることが多く、データ マイニングをどこから始めたらよいか判断するのが難しい場合があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-165">OLAP cubes frequently contain so many members and dimensions that it can be difficult to know where to begin with data mining.</span></span> <span data-ttu-id="538ed-166">キューブ内のパターンを手動で識別しやすくするには、通常、目的のディメンションを 1 つ特定してから、そのディメンションに関連するパターンを調べます。</span><span class="sxs-lookup"><span data-stu-id="538ed-166">To help identify the patterns that the cubes contain, typically you identify a single dimension of interest, and then begin to explore patterns related to that dimension.</span></span> <span data-ttu-id="538ed-167">次の表は、一般的な OLAP データ マイニング タスクの一覧で、各タスクを適用できるサンプル シナリオの説明、各タスクに使用するデータ マイニング アルゴリズムを示しています。</span><span class="sxs-lookup"><span data-stu-id="538ed-167">The following table lists several common OLAP data mining tasks, describes sample scenarios in which you might apply each task, and identifies the data mining algorithm to use for each task.</span></span>  
  
|<span data-ttu-id="538ed-168">タスク</span><span class="sxs-lookup"><span data-stu-id="538ed-168">Task</span></span>|<span data-ttu-id="538ed-169">サンプル シナリオ</span><span class="sxs-lookup"><span data-stu-id="538ed-169">Sample scenario</span></span>|<span data-ttu-id="538ed-170">アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="538ed-170">Algorithm</span></span>|  
|----------|---------------------|---------------|  
|<span data-ttu-id="538ed-171">クラスターへのメンバーのグループ化</span><span class="sxs-lookup"><span data-stu-id="538ed-171">Group members into clusters</span></span>|<span data-ttu-id="538ed-172">顧客メンバーのプロパティ、顧客が購入する製品、顧客が費やす金額に基づいて顧客ディメンションを分割します。</span><span class="sxs-lookup"><span data-stu-id="538ed-172">Segment a customer dimension based on customer member properties, the products that the customers buy, and the amount of money that the customers spend.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="538ed-173">クラスタリング アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="538ed-173">Clustering Algorithm</span></span>|  
|<span data-ttu-id="538ed-174">興味深いメンバーまたは異常なメンバーの検索</span><span class="sxs-lookup"><span data-stu-id="538ed-174">Find interesting or abnormal members</span></span>|<span data-ttu-id="538ed-175">売上、利益、店舗の場所、店舗の規模に基づいて、Store ディメンション内の興味深い店舗または異常な店舗を識別します。</span><span class="sxs-lookup"><span data-stu-id="538ed-175">Identify interesting or abnormal stores in a store dimension based on sales, profit, store location, and store size.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="538ed-176">デシジョン ツリー アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="538ed-176">Decision Trees Algorithm</span></span>|  
|<span data-ttu-id="538ed-177">興味深いセルまたは異常なセルの検索</span><span class="sxs-lookup"><span data-stu-id="538ed-177">Find interesting or abnormal cells</span></span>|<span data-ttu-id="538ed-178">一般的な傾向に反している店舗売上を識別します。</span><span class="sxs-lookup"><span data-stu-id="538ed-178">Identify store sales that go against typical trends over time.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="538ed-179">タイム シリーズ アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="538ed-179">Time Series Algorithm</span></span>|  
|<span data-ttu-id="538ed-180">相関関係の検索</span><span class="sxs-lookup"><span data-stu-id="538ed-180">Find correlations</span></span>|<span data-ttu-id="538ed-181">地域、コンピューターの種類、OS、購入日など、サーバーのダウンタイムに関連する要因を識別します。</span><span class="sxs-lookup"><span data-stu-id="538ed-181">Identify factors that are related to server downtime, including region, machine type, OS, or purchase date.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="538ed-182">Naïve Bayes アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="538ed-182">Naïve Bayes algorithm</span></span>|  
  
##  <a name="slicing-a-cube-vs-filtering-models"></a><a name="bkmk_Filters"></a><span data-ttu-id="538ed-183">キューブのスライスとモデルのフィルター処理</span><span class="sxs-lookup"><span data-stu-id="538ed-183">Slicing a Cube vs. Filtering Models</span></span>  
 <span data-ttu-id="538ed-184">モデルを作成しているときにキューブをスライスすることは、リレーショナル マイニング モデルにフィルターを作成することと似ています。</span><span class="sxs-lookup"><span data-stu-id="538ed-184">Slicing the cube while you are building a model is like creating a filter on a relational mining model.</span></span> <span data-ttu-id="538ed-185">リレーショナル モデルでは、データ ソースのフィルターは、SQL ステートメントの WHERE 句として定義されます。キューブでは、エディターを使用して、MDX を使用するフィルター ステートメントを作成します。</span><span class="sxs-lookup"><span data-stu-id="538ed-185">In a relational model, the filter on the data source is defined as a WHERE clause on a SQL statement; in a cube, you use the editor to create filter statements using MDX.</span></span>  
  
 <span data-ttu-id="538ed-186">たとえば、全世界における製品の売上に関する情報が含まれているキューブがある一方で、マーケティング キャンペーン用にイギリス在住の 31 歳以上の女性客を対象とする分析に基づいてモデルを作成したい場合があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-186">For example, a cube might contains information about purchases of products worldwide, but for your marketing campaign, you want to create a model based on analysis of female customers over 30 who live in the United Kingdom.</span></span>  
  
 <span data-ttu-id="538ed-187">このシナリオでは、2 つのフィルターを作成します。</span><span class="sxs-lookup"><span data-stu-id="538ed-187">In this scenario, you would create two filters:</span></span>  
  
-   <span data-ttu-id="538ed-188">最初のフィルターでは、Geography ディメンションを選択し、Region の階層を選択します。次に、[**フィルター式**] ボックスの一覧から、使用可能な値から "英国" を選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-188">For the first filter, you would choose the Geography dimension, choose the hierarchy for Region, and then use the **Filter Expression** list to choose "United Kingdom" from the possible values.</span></span>  
  
-   <span data-ttu-id="538ed-189">2番目のフィルターでは、Customer ディメンションを選択し、性別属性を選択して、属性値の一覧から [女性] を選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-189">For the second filter, you would choose the Customer dimension, select the Gender attribute, and select "Female" from the list of attribute values.</span></span>  
  
 <span data-ttu-id="538ed-190">マイニング構造を作成した後は、キューブ データとフィルター条件の両方の定義を変更できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-190">After the mining structure has been created, you can modify both the definition of the cube data and the filter criteria.</span></span> <span data-ttu-id="538ed-191">詳しくは、「 [Filter the Source Cube for a Mining Structure](../filter-the-source-cube-for-a-mining-structure.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="538ed-191">For more information, see [Filter the Source Cube for a Mining Structure](../filter-the-source-cube-for-a-mining-structure.md).</span></span>  
  
 <span data-ttu-id="538ed-192">**[マイニング構造]** タブと **[マイニング モデル]** タブのどちらでも、 **[キューブ スライスの定義]** をクリックして既存のマイニング構造にフィルターを追加できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-192">Both the **Mining Structure** tab and the **Mining Model** tab provide an option to add a filter to an existing mining structure, by clicking **Define a Cube Slice**.</span></span> <span data-ttu-id="538ed-193">**[キューブのスライス]** ダイアログ ボックスでは、ドロップダウン リストから値を選択して有効な MDX フィルター式を作成できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-193">The **Slice Cube** dialog box helps you build a valid MDX filter expression by choosing value from dropdown lists.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="538ed-194">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]ではキューブをデザインおよび参照するためのインターフェイスが変更されている点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="538ed-194">Note that the interface for designing and browsing cubes has been changed in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="538ed-195">詳細については、「 [キューブ内のデータおよびメタデータの参照](../multidimensional-models/browse-data-and-metadata-in-cube.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="538ed-195">For more information, see [Browse data and metadata in Cube](../multidimensional-models/browse-data-and-metadata-in-cube.md).</span></span>  
  
 <span data-ttu-id="538ed-196">キューブには、マイニング モデルに必要なデータを返すために必要な数のフィルターを追加できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-196">You can add as many filters on the cube as are required to return the data that you need for the mining model.</span></span> <span data-ttu-id="538ed-197">また、個々のキューブ スライスでスライスを定義することもできます。</span><span class="sxs-lookup"><span data-stu-id="538ed-197">You can also define slices on individual cube slices.</span></span> <span data-ttu-id="538ed-198">たとえば、製品に基づいている 2 つの入れ子になったテーブルが構造に含まれている場合は、2004 年 3 月で 1 つのテーブルをスライスし、2004 年 4 月で別のテーブルをスライスできます。</span><span class="sxs-lookup"><span data-stu-id="538ed-198">For example, if your structure contains two nested tables that are based on products, you could slice one table on March 2004 and the other table on April 2004.</span></span> <span data-ttu-id="538ed-199">結果として得られるモデルは、3 月の購入に基づいて 4 月に購入を予測するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-199">The resulting model could then be used to predict purchases made in April based on the purchases that were made in March.</span></span>  
  
##  <a name="using-nested-tables-in-an-olap-mining-model"></a><a name="bkmk_Nested"></a><span data-ttu-id="538ed-200">OLAP マイニングモデルでの入れ子になったテーブルの使用</span><span class="sxs-lookup"><span data-stu-id="538ed-200">Using Nested Tables in an OLAP Mining Model</span></span>  
 <span data-ttu-id="538ed-201">データ マイニング ウィザードを使用してキューブ データに基づくモデルを作成する場合、入れ子になったテーブルを追加できます。そのためには、関連するディメンションの名前を指定し、モデルに追加する属性またはメジャーを選択します。</span><span class="sxs-lookup"><span data-stu-id="538ed-201">When you use the Data Mining Wizard to build a model based on cube data, you can add nested tables by specifying the names of related dimensions and then choosing the attributes or measures to add to the model</span></span>  
  
 <span data-ttu-id="538ed-202">たとえば、ケース データに使用するメイン ディメンションが Customer の場合、過去に顧客によって複数の製品が注文されていることが考えられ、キューブでは既に注文ファクト テーブルを介して各顧客が多くの製品にリンクされているため、Products ディメンションを関連ディメンションとして追加します。</span><span class="sxs-lookup"><span data-stu-id="538ed-202">For example, if the main dimension used for case data is Customer, you might add as a related dimension the Products dimension, because you expect that a customer might have ordered multiple products over time, and the cube already links each customer to the many products via the order fact tables.</span></span>  
  
 <span data-ttu-id="538ed-203">入れ子になっているテーブルを追加するには、ウィザードの **[マイニング モデル列の使用法の指定]** ページで **[入れ子になっているテーブルの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="538ed-203">You add nested tables in the **Specify Mining Model Column Usage** page of the wizard, by clicking **Add Nested Tables**.</span></span> <span data-ttu-id="538ed-204">関連するディメンションとメジャーを選択するためのダイアログ ボックスが開きます。</span><span class="sxs-lookup"><span data-stu-id="538ed-204">A dialog box opens that guides you through process of choosing a related dimension, as well as any measures.</span></span> <span data-ttu-id="538ed-205">ケースおよび入れ子になったディメンションは、外部キーを使用して関連付ける必要があります。メジャーには、ケースまたは入れ子になったテーブルに既に含まれているいずれかの属性を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-205">The case and nested dimensions must be related by a foreign key, and measures must use one of the attributes that are already included in the case or nested tables.</span></span> <span data-ttu-id="538ed-206">残念ながら、これらの制限によってスコープが絞り込まれることはほとんどありません。そのため、モデリングに役立つ属性のみを選択するように注意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-206">Unfortunately, these restrictions really don't do much to narrow the scope, so you must be careful to select only those attributes that are useful for modeling.</span></span>  
  
 <span data-ttu-id="538ed-207">入れ子になったテーブルに追加するそれぞれの属性またはメジャーに対して、 **[入れ子になったテーブル列の選択]** ダイアログ ボックスで **[予測可能]** または **[入力]** を選択して、入れ子になった属性を予測に使用するかどうかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-207">For each attribute or measure that you add to the nested table, you must specify whether the nested attribute will be used for prediction or not, by selecting **Predictable** or **Input** in the **Select Nested Table Columns** dialog box.</span></span> <span data-ttu-id="538ed-208">これらのオプションを選択しない場合、データはマイニング構造に追加されますが、分析には使用されません。</span><span class="sxs-lookup"><span data-stu-id="538ed-208">If you do not select either of these options, the data will be added to the mining structure but not used for analysis.</span></span>  
  
 <span data-ttu-id="538ed-209">さらに、それぞれの属性およびメジャーに対して、属性が連続属性、不連続属性、または分離属性かどうかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-209">For each attribute and measure, you must also specify whether the attribute is discrete, discretized, or continuous.</span></span> <span data-ttu-id="538ed-210">ウィザードでは属性のデータ型に基づいて既定値が自動的に選択されますが、アルゴリズム要件によってはこれらの既定値を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-210">The wizard will preselect a default based on the data type of the attribute, but you might need to change these, depending on the algorithm requirements.</span></span> <span data-ttu-id="538ed-211">選択したアルゴリズムと互換性のないコンテンツの種類を選択した場合 (たとえば、単純な Bayes モデルで連続する数値型を使用した場合)、モデルを処理しようとするまでエラーメッセージは表示されません。</span><span class="sxs-lookup"><span data-stu-id="538ed-211">If you choose a content type that is not compatible with the algorithm you have chosen (for example, you use a continuous numeric type with a Naïve Bayes model), you won't get an error message till you try to process the model.</span></span>  
  
 <span data-ttu-id="538ed-212">これらのオプションの設定が完了すると、ウィザードによって入れ子になったテーブルがケース テーブルに追加されます。</span><span class="sxs-lookup"><span data-stu-id="538ed-212">When you are done setting these options, the wizard adds the nested table to the case table.</span></span> <span data-ttu-id="538ed-213">入れ子になったテーブルの既定の名前は、入れ子になったディメンション名ですが、入れ子になったテーブルとその列は名前を変更できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-213">The default name for the nested table is the nested dimension name, but you can rename the nested table and its columns.</span></span> <span data-ttu-id="538ed-214">この操作を繰り返すことにより、複数の入れ子になったテーブルをマイニング構造に追加できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-214">You can repeat this process to add multiple nested tables to the mining structure.</span></span>  
  
 <span data-ttu-id="538ed-215">このような入れ子になったテーブル データを使用する能力は、SQL Server データ マイニングで提供される非常に強力な機能の 1 つです。キューブにおいては、関連するデータのサブセットの使用に関して無限の可能性があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-215">The ability to use nested table data like this is a feature of SQL Server data mining that is particularly powerful, and in a cube, there are almost limitless possibilities for using related subsets of data.</span></span>  
  
##  <a name="understanding-data-mining-dimensions-and-drillthrough"></a><a name="bkmk_DMDimension"></a><span data-ttu-id="538ed-216">データマイニングディメンションおよびドリルスルーについて</span><span class="sxs-lookup"><span data-stu-id="538ed-216">Understanding Data Mining Dimensions and Drillthrough</span></span>  
 <span data-ttu-id="538ed-217">**[ドリルスルーを許可する]** オプションを使用すると、モデルを参照している間に基になるキューブ データに対するクエリを実行できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-217">The option, **Allow drillthrough**, lets you run queries against the underlying cube data while you are browsing the model.</span></span> <span data-ttu-id="538ed-218">データは新しいデータ マイニング ディメンションに含まれていませんが、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] データベースはデータ バインディングを使用してソース キューブから情報を取得できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-218">The data is not contained in the new data mining dimension, but the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database can use the data bindings to retrieve the information from the source cube.</span></span>  
  
 <span data-ttu-id="538ed-219">**[マイニング モデル ディメンションを作成する]** オプションを使用すると、既存のキューブ内にアルゴリズムによって検出されたパターンを格納する新しいディメンションを生成できます。</span><span class="sxs-lookup"><span data-stu-id="538ed-219">The option, **Create mining model dimension**, lets you generate a new dimension within the existing cube that contains the patterns discovered by the algorithm.</span></span> <span data-ttu-id="538ed-220">新しいディメンション内の階層は、主にモデルの種類によって決まります。</span><span class="sxs-lookup"><span data-stu-id="538ed-220">The hierarchy within the new dimension is determined largely by the model type.</span></span> <span data-ttu-id="538ed-221">たとえば、クラスタリング モデルの表現は非常にフラットで、階層の最上位に [(すべて)] ノードがあり、各クラスターはその次のレベルにあります。</span><span class="sxs-lookup"><span data-stu-id="538ed-221">For example, the representation of a clustering model is fairly flat, with the (All) node at the top of the hierarchy and each cluster in the next level.</span></span> <span data-ttu-id="538ed-222">これに対し、デシジョン ツリー モデルに対して作成されたディメンションは、ツリーの分岐を表す非常に深い階層を持つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="538ed-222">In contrast, the dimension that is created for a decision tree model might have a very deep hierarchy, representing the branching of the tree.</span></span>  
  
 <span data-ttu-id="538ed-223">**[マイニング モデル ディメンションを使用してキューブを作成する]** オプションを使用すると、新しいデータ マイニング ディメンションを新しいキューブにエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="538ed-223">The option, **Create cube using mining model dimension**, lets you export the new data mining dimension into a new cube.</span></span> <span data-ttu-id="538ed-224">データ マイニング ディメンションでのドリルスルーに必要なすべてのオブジェクトが自動的に含められます。</span><span class="sxs-lookup"><span data-stu-id="538ed-224">Any objects that are required for drillthrough on the data mining dimension will be included automatically.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="538ed-225">データ マイニング ディメンションの作成をサポートするモデルは、Microsoft クラスタリング アルゴリズム、Microsoft デシジョン ツリー アルゴリズム、または Microsoft アソシエーション アルゴリズムに基づくモデルのみです。</span><span class="sxs-lookup"><span data-stu-id="538ed-225">Only these model types support the creation of data mining dimensions: models based on the Microsoft Clustering algorithm, the Microsoft Decision Trees algorithm, or the Microsoft Association algorithm.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="538ed-226">参照</span><span class="sxs-lookup"><span data-stu-id="538ed-226">See Also</span></span>  
 <span data-ttu-id="538ed-227">[データマイニングアルゴリズム &#40;Analysis Services-データマイニング&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="538ed-227">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="538ed-228">[マイニング構造列](mining-structure-columns.md) </span><span class="sxs-lookup"><span data-stu-id="538ed-228">[Mining Structure Columns](mining-structure-columns.md) </span></span>  
 <span data-ttu-id="538ed-229">[マイニングモデル列](mining-model-columns.md) </span><span class="sxs-lookup"><span data-stu-id="538ed-229">[Mining Model Columns](mining-model-columns.md) </span></span>  
 <span data-ttu-id="538ed-230">[マイニングモデルのプロパティ](mining-model-properties.md) </span><span class="sxs-lookup"><span data-stu-id="538ed-230">[Mining Model Properties](mining-model-properties.md) </span></span>  
 [<span data-ttu-id="538ed-231">マイニング構造と構造列のプロパティ</span><span class="sxs-lookup"><span data-stu-id="538ed-231">Properties for Mining Structure and Structure Columns</span></span>](properties-for-mining-structure-and-structure-columns.md)  
  
  
