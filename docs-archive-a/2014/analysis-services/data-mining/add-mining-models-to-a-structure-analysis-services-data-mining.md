---
title: 構造へのマイニングモデルの追加 (Analysis Services データマイニング) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining structures [Analysis Services], creating
- mining models [Analysis Services], creating
- mining models [Analysis Services], modifying
ms.assetid: a175daa5-58ea-474c-a82f-9648c5155dc8
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2cc504016ac378a66795e7522365bd570cfca84d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632798"
---
# <a name="add-mining-models-to-a-structure-analysis-services---data-mining"></a><span data-ttu-id="a76de-102">マイニング モデルを構造に追加する (Analysis Services - データ マイニング)</span><span class="sxs-lookup"><span data-stu-id="a76de-102">Add Mining Models to a Structure (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="a76de-103">1 つのマイニング構造で複数のマイニング モデルをサポートできるようになっています。</span><span class="sxs-lookup"><span data-stu-id="a76de-103">A mining structure is intended to support multiple mining models.</span></span> <span data-ttu-id="a76de-104">そのため、ウィザードの完了後、構造を開いて新しいマイニング モデルを追加できます。</span><span class="sxs-lookup"><span data-stu-id="a76de-104">Therefore, after you finish the wizard, you can open the structure and add new mining models.</span></span> <span data-ttu-id="a76de-105">作成した各モデルで、別のアルゴリズムの使用、パラメーターの変更、または別のデータのサブセットを使用するためのフィルターの適用が可能です。</span><span class="sxs-lookup"><span data-stu-id="a76de-105">Each time that you create a model, you can use a different algorithm, change the parameters, or apply filters to use a different subset of the data.</span></span>  
  
## <a name="adding-new-mining-models"></a><span data-ttu-id="a76de-106">新しいマイニング モデルの追加</span><span class="sxs-lookup"><span data-stu-id="a76de-106">Adding New Mining Models</span></span>  
 <span data-ttu-id="a76de-107">データ マイニング ウィザードを使用して新しいマイニング モデルを作成する場合、既定では、まずマイニング構造を作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-107">When you use the Data Mining Wizard to create a new mining model, by default you must always create a mining structure first.</span></span> <span data-ttu-id="a76de-108">次に、ウィザードにより、構造に初期マイニング モデルを追加するためのオプションが示されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-108">The wizard then gives you the option to add an initial mining model to the structure.</span></span> <span data-ttu-id="a76de-109">ただし、モデルをすぐに作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a76de-109">However, you don't need to create a model right away.</span></span> <span data-ttu-id="a76de-110">構造のみを作成する場合は、予測可能な属性として使用する列や、具体的なモデルにおけるデータの使用方法について、決定する必要がありません。</span><span class="sxs-lookup"><span data-stu-id="a76de-110">If you create the structure only, you do not need to make a decision about which column to use as the predictable attribute, or how to use the data in a particular model.</span></span> <span data-ttu-id="a76de-111">将来使用するために一般的なデータ構造のみを設定しておくと、後で [データ マイニング デザイナー](data-mining-designer.md) を使用して、構造に基づく新しいマイニング モデルを追加できます。</span><span class="sxs-lookup"><span data-stu-id="a76de-111">Instead, you just set up the general data structure that you want to use in future, and later you can use [Data Mining Designer](data-mining-designer.md) to add new mining models that are based on the structure.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a76de-112">DMX の CREATE MINING MODEL ステートメントは、マイニング モデルから始まります。</span><span class="sxs-lookup"><span data-stu-id="a76de-112">In DMX, the CREATE MINING MODEL statement  begins with the mining model.</span></span> <span data-ttu-id="a76de-113">つまり、ユーザーがマイニング モデルを定義すると、基になる構造が [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] によって自動的に生成されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-113">That is, you define your choice of mining model, and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] automatically generates the underlying structure.</span></span> <span data-ttu-id="a76de-114">後で ALTER STRUCTURE... を使用して、その構造に新しいマイニングモデルを追加できます。モデルステートメントを追加します。</span><span class="sxs-lookup"><span data-stu-id="a76de-114">Later you can continue to add new mining models to that structure, by using the ALTER STRUCTURE... ADD MODEL statement.</span></span>  
  
## <a name="choosing-an-algorithm"></a><span data-ttu-id="a76de-115">アルゴリズムの選択</span><span class="sxs-lookup"><span data-stu-id="a76de-115">Choosing an Algorithm</span></span>  
 <span data-ttu-id="a76de-116">既存の構造に新しいモデルを追加する場合、最初にすることは、そのモデルで使用するデータ マイニング アルゴリズムの選択です。</span><span class="sxs-lookup"><span data-stu-id="a76de-116">When you add a new model to an existing structure, the first thing you should do is select a data mining algorithm to use in that model.</span></span> <span data-ttu-id="a76de-117">各アルゴリズムは異なる種類の解析を実行し、異なる要件を持つため、アルゴリズムの選択は重要です。</span><span class="sxs-lookup"><span data-stu-id="a76de-117">Choosing the algorithm is important because each algorithm performs a different type of analysis and has different requirements.</span></span>  
  
 <span data-ttu-id="a76de-118">データと互換性のないアルゴリズムを選択すると、警告が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-118">When you select an algorithm that is incompatible with your data, you will get a warning.</span></span> <span data-ttu-id="a76de-119">場合によっては、アルゴリズムで処理できない列を無視する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-119">In some cases, you might need to ignore columns that cannot be processed by the algorithm.</span></span> <span data-ttu-id="a76de-120">また、アルゴリズムが自動的に調整を行う場合もあります。</span><span class="sxs-lookup"><span data-stu-id="a76de-120">In other cases, the algorithm will automatically make the adjustments for you.</span></span> <span data-ttu-id="a76de-121">たとえば、構造に数値データが含まれていて、アルゴリズムは不連続値しか処理できない場合、数値が不連続な範囲に自動的にグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-121">For example, if your structure contains numeric data, and the algorithm can only work with discrete values, it will group the numeric values into discrete ranges for you.</span></span> <span data-ttu-id="a76de-122">場合によっては、キーを選択するか予測可能な属性を選択して、先に手動でデータを修正する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-122">In some cases, you might need to manually fix the data first, by choosing a key or choosing a predictable attribute.</span></span>  
  
 <span data-ttu-id="a76de-123">新しいモデルを作成するときに、アルゴリズムを変更する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a76de-123">You do not need to change the algorithm when you create a new model.</span></span> <span data-ttu-id="a76de-124">多くの場合、同じアルゴリズムを使用しても、データのフィルター処理や、クラスタリング手法、最小のアイテムセットのサイズなどのパラメーターの変更によって、大きく異なる結果が得られます。</span><span class="sxs-lookup"><span data-stu-id="a76de-124">Often you can get very different results by using the same algorithm, but filtering the data, or changing a parameter such as the clustering method or the minimum itemset size.</span></span> <span data-ttu-id="a76de-125">どのパラメーターで最適な結果が生成されるかを確認するために、複数のモデルを試してみることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a76de-125">We recommend that you experiment with multiple models to see which parameters produce the best results.</span></span>  
  
 <span data-ttu-id="a76de-126">新しいモデルはすべて、使用前に処理する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="a76de-126">Note that all new models need to be processed before you can use them.</span></span>  
  
## <a name="specifying-the-usage-of-columns-in-a-new-mining-model"></a><span data-ttu-id="a76de-127">新しいマイニング モデルでの列の使用方法の指定</span><span class="sxs-lookup"><span data-stu-id="a76de-127">Specifying the Usage of Columns in a New Mining Model</span></span>  
 <span data-ttu-id="a76de-128">既存のマイニング構造に新しいマイニング モデルを追加するときには、データの各列をモデルでどのように使用するかを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-128">When you add new mining models to an existing mining structure, you must specify how each column of data should be used by the model.</span></span> <span data-ttu-id="a76de-129">モデルのために選択したアルゴリズムの種類によっては、それらの選択の一部が既定で行われる場合があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-129">Depending on the type of algorithm you choose for the model, some of these choices may be made by default.</span></span> <span data-ttu-id="a76de-130">列の使用法を指定しないと、列はマイニング構造に含まれません。</span><span class="sxs-lookup"><span data-stu-id="a76de-130">If you do not specify a usage type for a column, the column will not be included in the mining structure.</span></span> <span data-ttu-id="a76de-131">ただし、モデルでドリルスルーがサポートされていれば、その列のデータをドリルスルーで引き続き使用できます。</span><span class="sxs-lookup"><span data-stu-id="a76de-131">However, the data in the column can still be available for drillthrough, if the model supports it.</span></span>  
  
 <span data-ttu-id="a76de-132">モデルによって使用されるマイニング構造の列は ([無視] に設定されていない場合)、キー、入力列、予測可能列、またはモデルへの入力としても使用される値を持つ予測可能列である必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-132">Columns from the mining structure that are used by the model (if not set to Ignore) must be a key, an input column, a predictable column, or a predictable column the values of which are also used as inputs to the model.</span></span>  
  
-   <span data-ttu-id="a76de-133">キー列には、テーブルの行ごとに一意識別子が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a76de-133">Key columns contain a unique identifier for each row in a table.</span></span> <span data-ttu-id="a76de-134">シーケンス クラスター アルゴリズムやタイム シリーズ アルゴリズムに基づいたマイニング モデルなどでは、複数のキー列を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a76de-134">Some mining models, such as those based on the sequence clustering or time series algorithms, can contain multiple key columns.</span></span> <span data-ttu-id="a76de-135">ただし、これらの複数のキーは、リレーショナルな意味では複合キーではありませんが、時系列およびシーケンス クラスター分析をサポートするために選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-135">However, these multiple keys are not compound keys in the relational sense, but instead must be selected so as to provide support for time series and sequence clustering analysis.</span></span>  
  
-   <span data-ttu-id="a76de-136">入力列は、予測を行うための情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="a76de-136">Input columns provide the information from which predictions are made.</span></span> <span data-ttu-id="a76de-137">データ マイニング ウィザードでは、予測可能列を選択した場合に使用できる **[候補検索]** 機能が提供されています。</span><span class="sxs-lookup"><span data-stu-id="a76de-137">The Data Mining Wizard provides the **Suggest** feature, which is enabled when you select a predictable column.</span></span> <span data-ttu-id="a76de-138">このボタンをクリックすると、ウィザードが予測可能な値をサンプリングし、構造内の他のどの列が適切な変数になるかを判別します。</span><span class="sxs-lookup"><span data-stu-id="a76de-138">If you click this button, the wizard will sample the predictable values and determine which of the other columns in the structure make good variables.</span></span> <span data-ttu-id="a76de-139">キー列や、一意の値が多い他の列は除外され、結果との関連性があることがわかった列が提示されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-139">It will reject key columns or other columns with many unique values, and suggest columns that appear to be correlated with the outcome.</span></span>  
  
     <span data-ttu-id="a76de-140">この機能は、マイニング モデルの構築には必要がない列もデータセットに含まれている場合に、特に便利です。</span><span class="sxs-lookup"><span data-stu-id="a76de-140">This feature is particularly handy when datasets contain more columns than you really need to build a mining model.</span></span> <span data-ttu-id="a76de-141">**[候補検索]** 機能では、データセット内の各列と予測可能列の間のリレーションシップを説明する 0 ～ 1 の数値スコアが計算されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-141">The **Suggest** feature calculates a numeric score, from 0 to 1, that describes the relationship between each column in the dataset and the predictable column.</span></span> <span data-ttu-id="a76de-142">このスコアに基づいて、マイニング モデルの入力として使用する列が提示されます。</span><span class="sxs-lookup"><span data-stu-id="a76de-142">Based on this score, the feature suggests columns to use as input for the mining model.</span></span> <span data-ttu-id="a76de-143">**[候補検索]** 機能を使用する場合は、提示された列を使用する、必要に応じて選択を変更する、または提示を無視することができます。</span><span class="sxs-lookup"><span data-stu-id="a76de-143">If you use the **Suggest** feature, you can use the suggested columns, modify the selections to fit your needs, or ignore the suggestions.</span></span>  
  
-   <span data-ttu-id="a76de-144">予測可能列には、マイニング モデルで予測しようとする情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="a76de-144">Predictable columns contain the information that you try to predict in the mining model.</span></span> <span data-ttu-id="a76de-145">予測可能な属性として、複数の列を選択できます。</span><span class="sxs-lookup"><span data-stu-id="a76de-145">You can select multiple columns as the predictable attributes.</span></span> <span data-ttu-id="a76de-146">予測可能な属性がオプションである点で、クラスタリング モデルは例外です。</span><span class="sxs-lookup"><span data-stu-id="a76de-146">Clustering models are the exception in that a predictable attribute is optional.</span></span>  
  
     <span data-ttu-id="a76de-147">モデルの種類によっては、予測可能列は特定のデータ型でなければならない場合があります。たとえば、線形回帰モデルでは予測値として数値列が必要であり、Naïve Bayes アルゴリズムでは不連続値が必要です (すべての入力も不連続である必要があります)。</span><span class="sxs-lookup"><span data-stu-id="a76de-147">Depending on the model type, the predictable column might need to be a specific data type: for example, a linear regression model requires a numeric column as the predicted value; Naïve Bayes algorithm requires a discrete value (and all the inputs must be discrete as well).</span></span>  
  
## <a name="specifying-column-content"></a><span data-ttu-id="a76de-148">列のコンテンツの指定</span><span class="sxs-lookup"><span data-stu-id="a76de-148">Specifying Column Content</span></span>  
 <span data-ttu-id="a76de-149">一部の列に対しては、 *列のコンテンツ*も指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-149">For some columns, you might also need to specify the *column content*.</span></span> <span data-ttu-id="a76de-150">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータ マイニングでは、各データ列の Content Type プロパティによって、その列のデータの処理方法をアルゴリズムに指示します。</span><span class="sxs-lookup"><span data-stu-id="a76de-150">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data mining, the Content Type property of each data columns tells the algorithm how it should process the data in that column.</span></span> <span data-ttu-id="a76de-151">たとえば、Income 列がデータにある場合、コンテンツの種類を Continuous に設定することによって、連続する数値が列に含まれていることを示す必要があります。</span><span class="sxs-lookup"><span data-stu-id="a76de-151">For example, if your data has an Income column, you must specify that the column contains continuous numbers by setting the content type to Continuous.</span></span> <span data-ttu-id="a76de-152">一方、コンテンツの種類を Discretized に設定し、必要に応じて正確なバケット数を指定することによって、Income 列内の数値を複数のバケットにグループ化するよう指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="a76de-152">However, you could also specify that the numbers in the Income column be grouped into buckets by setting the content type to Discretized and optionally specifying the exact number of buckets.</span></span> <span data-ttu-id="a76de-153">列の処理方法が異なる複数のモデルを作成できます。たとえば、あるモデルでは顧客を 3 つの年齢層のバケットに分け、別のモデルでは顧客を 10 の年齢層のバケットに分けることができます。</span><span class="sxs-lookup"><span data-stu-id="a76de-153">You can create different models that handle columns differently: for example, you might try one model that buckets customers into three age groups, and another model that buckets customers into 10 age groups.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a76de-154">参照</span><span class="sxs-lookup"><span data-stu-id="a76de-154">See Also</span></span>  
 <span data-ttu-id="a76de-155">[マイニング構造 &#40;Analysis Services-データマイニング&#41;](mining-structures-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="a76de-155">[Mining Structures &#40;Analysis Services - Data Mining&#41;](mining-structures-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="a76de-156">[リレーショナルマイニング構造の作成](create-a-relational-mining-structure.md) </span><span class="sxs-lookup"><span data-stu-id="a76de-156">[Create a Relational Mining Structure](create-a-relational-mining-structure.md) </span></span>  
 <span data-ttu-id="a76de-157">[マイニングモデルのプロパティ](mining-model-properties.md) </span><span class="sxs-lookup"><span data-stu-id="a76de-157">[Mining Model Properties](mining-model-properties.md) </span></span>  
 [<span data-ttu-id="a76de-158">マイニング モデル列</span><span class="sxs-lookup"><span data-stu-id="a76de-158">Mining Model Columns</span></span>](mining-model-columns.md)  
  
  
