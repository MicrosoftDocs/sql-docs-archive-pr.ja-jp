---
title: Microsoft シーケンスクラスターアルゴリズム |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- clusters [Analysis Services]
- algorithms [data mining]
- sequence clustering algorithms [Analysis Services]
- sequence [Analysis Services]
ms.assetid: ae779a1f-0adb-4857-afbd-a15543dff299
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4999c8237f1f3c98de8479343d73ada90d680d00
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87631352"
---
# <a name="microsoft-sequence-clustering-algorithm"></a><span data-ttu-id="e62ec-102">「Microsoft シーケンス クラスター アルゴリズム」</span><span class="sxs-lookup"><span data-stu-id="e62ec-102">Microsoft Sequence Clustering Algorithm</span></span>
  <span data-ttu-id="e62ec-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)]シーケンスクラスターアルゴリズムは、によって提供されるシーケンス分析アルゴリズムです [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="e62ec-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm is a sequence analysis algorithm provided by [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="e62ec-104">このアルゴリズムを使用して、次のパスまたは*シーケンス*によってリンクできるイベントを含むデータを探索できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-104">You can use this algorithm to explore data that contains events that can be linked by following paths, or *sequences*.</span></span> <span data-ttu-id="e62ec-105">このアルゴリズムは、同一の複数のシーケンスをグループ化またはクラスター化することによって、最も一般的なシーケンスを見つけます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-105">The algorithm finds the most common sequences by grouping, or clustering, sequences that are identical.</span></span> <span data-ttu-id="e62ec-106">次に、シーケンスを含むデータの例をいくつか示します。このようなシーケンスはデータ マイニングで使用して、一般的な問題やビジネス シナリオの理解を深めることができます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-106">The following are some examples of data that contain sequences which might be used for data mining, to provide insight about common problems or business scenarios:</span></span>  
  
-   <span data-ttu-id="e62ec-107">ユーザーによる Web サイト閲覧時に作成されるクリック パス</span><span class="sxs-lookup"><span data-stu-id="e62ec-107">Click paths that are created when users navigate or browse a Web site.</span></span>  
  
-   <span data-ttu-id="e62ec-108">ハード ディスク障害やサーバーのデッドロックなどの事象に先立つイベントを示すログ</span><span class="sxs-lookup"><span data-stu-id="e62ec-108">Logs that list events preceding an incident, such as hard disk failure or server deadlocks.</span></span>  
  
-   <span data-ttu-id="e62ec-109">オンラインの小売店舗で顧客が商品を買い物かごに追加する順序を示すトランザクション レコード</span><span class="sxs-lookup"><span data-stu-id="e62ec-109">Transaction records that describe the order in which a customer adds items to a shopping cart at an online retailer.</span></span>  
  
-   <span data-ttu-id="e62ec-110">サービスのキャンセルやその他の好ましくない結果を予測するために顧客 (または患者) の操作を記録したレコード</span><span class="sxs-lookup"><span data-stu-id="e62ec-110">Records that follow customer (or patient) interactions over time, to predict service cancellations or other poor outcomes.</span></span>  
  
 <span data-ttu-id="e62ec-111">このアルゴリズムは、多くの点で [!INCLUDE[msCoName](../../includes/msconame-md.md)] クラスター アルゴリズムに似ています。</span><span class="sxs-lookup"><span data-stu-id="e62ec-111">This algorithm is similar in many ways to the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Clustering algorithm.</span></span> <span data-ttu-id="e62ec-112">ただし [!INCLUDE[msCoName](../../includes/msconame-md.md)] シーケンス クラスター アルゴリズムでは、類似する属性を含むケースのクラスターを検索する代わりに、シーケンス内の類似するパスを含むケースのクラスターを検索します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-112">However, instead of finding clusters of cases that contain similar attributes, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm finds clusters of cases that contain similar paths in a sequence.</span></span>  
  
## <a name="example"></a><span data-ttu-id="e62ec-113">例</span><span class="sxs-lookup"><span data-stu-id="e62ec-113">Example</span></span>  
 <span data-ttu-id="e62ec-114">[!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)]Web サイトは、サイトのユーザーがアクセスするページ、およびページがアクセスされる順序に関する情報を収集します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-114">The [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] Web site collects information about what pages site users visit, and about the order in which the pages are visited.</span></span> <span data-ttu-id="e62ec-115">顧客は、サイトにログインしてオンラインで注文することができます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-115">Because the company provides online ordering, customers must log in to the site.</span></span> <span data-ttu-id="e62ec-116">これにより、各顧客プロファイルに対するクリック情報が得られます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-116">This provides the company with click information for each customer profile.</span></span> <span data-ttu-id="e62ec-117">このデータに対して [!INCLUDE[msCoName](../../includes/msconame-md.md)] シーケンス クラスター アルゴリズムを使用することによって、類似したクリックのパターンまたはシーケンスを持つ顧客のグループ (クラスター) を検出できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-117">By using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm on this data, the company can find groups, or clusters, of customers who have similar patterns or sequences of clicks.</span></span> <span data-ttu-id="e62ec-118">次に、これらのクラスターを使用して、顧客の Web サイト内での移動状況の分析、特定の製品の売上に最も密接に関連しているページの識別、次に閲覧される可能性が高いページの予測などが実行できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-118">The company can then use these clusters to analyze how users move through the Web site, to identify which pages are most closely related to the sale of a particular product, and to predict which pages are most likely to be visited next.</span></span>  
  
## <a name="how-the-algorithm-works"></a><span data-ttu-id="e62ec-119">アルゴリズムの動作</span><span class="sxs-lookup"><span data-stu-id="e62ec-119">How the Algorithm Works</span></span>  
 <span data-ttu-id="e62ec-120">[!INCLUDE[msCoName](../../includes/msconame-md.md)] シーケンス クラスター アルゴリズムは、クラスタリング技法と Markov 連鎖分析を組み合わせた複合アルゴリズムであり、クラスターとそのシーケンスを特定します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-120">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm is a hybrid algorithm that combines clustering techniques with Markov chain analysis to identify clusters and their sequences.</span></span> <span data-ttu-id="e62ec-121">[!INCLUDE[msCoName](../../includes/msconame-md.md)] シーケンス クラスター アルゴリズムの特徴の 1 つは、シーケンス データを使用することです。</span><span class="sxs-lookup"><span data-stu-id="e62ec-121">One of the hallmarks of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm is that it uses sequence data.</span></span> <span data-ttu-id="e62ec-122">このデータは通常、特定ユーザーによる一連の製品購入や Web でのクリックなど、データセット内の一連のイベントや状態間の遷移を表します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-122">This data typically represents a series of events or transitions between states in a dataset, such as a series of product purchases or Web clicks for a particular user.</span></span> <span data-ttu-id="e62ec-123">クラスタリング用の入力として使用するのに適したシーケンスを判断するために、アルゴリズムはすべての遷移の確率を調べ、データセット内の有効なすべてのシーケンス間の差異または距離を測定します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-123">The algorithm examines all transition probabilities and measures the differences, or distances, between all the possible sequences in the dataset to determine which sequences are the best to use as inputs for clustering.</span></span> <span data-ttu-id="e62ec-124">候補となるシーケンスの一覧がアルゴリズムによって作成された後、クラスタリングの EM 手法の入力としてシーケンス情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-124">After the algorithm has created the list of candidate sequences, it uses the sequence information as an input for the EM method of clustering.</span></span>  
  
 <span data-ttu-id="e62ec-125">実装の詳細については、「 [Microsoft シーケンス クラスタリング アルゴリズム テクニカル リファレンス](microsoft-sequence-clustering-algorithm-technical-reference.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-125">For a detailed description of the implementation, see [Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md).</span></span>  
  
## <a name="data-required-for-sequence-clustering-models"></a><span data-ttu-id="e62ec-126">シーケンス クラスター モデルに必要なデータ</span><span class="sxs-lookup"><span data-stu-id="e62ec-126">Data Required for Sequence Clustering Models</span></span>  
 <span data-ttu-id="e62ec-127">シーケンス クラスター モデルのトレーニングに使用するデータを用意する際には、必要なデータ量やデータの使用方法など、このアルゴリズムにおける要件を把握しておいてください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-127">When you prepare data for use in training a sequence clustering model, you should understand the requirements for the particular algorithm, including how much data is needed, and how the data is used.</span></span>  
  
 <span data-ttu-id="e62ec-128">シーケンス クラスター モデルの要件は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="e62ec-128">The requirements for a sequence clustering model are as follows:</span></span>  
  
-   <span data-ttu-id="e62ec-129">**1 つのキー列** シーケンス クラスター モデルでは、レコードを識別するキーが必要です。</span><span class="sxs-lookup"><span data-stu-id="e62ec-129">**A single key column** A sequence clustering model requires a key that identifies records.</span></span>  
  
-   <span data-ttu-id="e62ec-130">**1 つのシーケンス列** このモデルでは、シーケンス データ用に、シーケンス ID 列を含む入れ子になったテーブルが必要です。</span><span class="sxs-lookup"><span data-stu-id="e62ec-130">**A sequence column** For sequence data, the model must have a nested table that contains a sequence ID column.</span></span> <span data-ttu-id="e62ec-131">シーケンス ID には、任意の並べ替え可能なデータ型を使用できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-131">The sequence ID can be any sortable data types.</span></span> <span data-ttu-id="e62ec-132">たとえば、この列でシーケンス内のイベントを識別できる限り、Web ページ識別子、整数、またはテキスト文字列を使用できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-132">For example, you can use a Web page identifier, an integer, or a text string, as long as the column identifies the events in a sequence.</span></span> <span data-ttu-id="e62ec-133">各シーケンスが持てるシーケンス ID は 1 つのみ、また、各モデルが持てるシーケンスの種類は 1 種類のみです。</span><span class="sxs-lookup"><span data-stu-id="e62ec-133">Only one sequence identifier is allowed for each sequence, and only one type of sequence is allowed in each model.</span></span>  
  
-   <span data-ttu-id="e62ec-134">**省略可能な非シーケンス属性** このアルゴリズムでは、シーケンス化に無関係な他の属性を追加することができます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-134">**Optional non sequence attributes** The algorithm supports the addition of other attributes that are not related to sequencing.</span></span> <span data-ttu-id="e62ec-135">これらの属性には、入れ子になった列を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-135">These attributes can include nested columns.</span></span>  
  
 <span data-ttu-id="e62ec-136">たとえば、前に挙げた [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] の Web サイトの例でシーケンス クラスター モデルを使用する場合、注文情報をケース テーブルとして、注文ごとの特定の顧客に関する人口統計情報を非シーケンス属性として、顧客がサイトを閲覧したり買い物かごに商品を入れたりしたシーケンスを含む入れ子になったテーブルをシーケンス情報として、それぞれ含めることができます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-136">For example, in the example cited earlier of the [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] Web site, a sequence clustering model might include order information as the case table, demographics about the specific customer for each order as non-sequence attributes, and a nested table containing the sequence in which the customer browsed the site or put items into a shopping cart as the sequence information.</span></span>  
  
 <span data-ttu-id="e62ec-137">シーケンス クラスター モデルでサポートされるコンテンツの種類とデータ型の詳細については、「 [Microsoft シーケンス クラスタリング アルゴリズム テクニカル リファレンス](microsoft-sequence-clustering-algorithm-technical-reference.md)」の「必要条件」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-137">For more detailed information about the content types and data types supported for sequence clustering models, see the Requirements section of [Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md).</span></span>  
  
## <a name="viewing-a-sequence-clustering-model"></a><span data-ttu-id="e62ec-138">シーケンス クラスター モデルの表示</span><span class="sxs-lookup"><span data-stu-id="e62ec-138">Viewing a Sequence Clustering Model</span></span>  
 <span data-ttu-id="e62ec-139">このアルゴリズムが作成するマイニング モデルには、データ内の最も一般的なシーケンスの説明が含まれています。</span><span class="sxs-lookup"><span data-stu-id="e62ec-139">The mining model that this algorithm creates contains descriptions of the most common sequences in the data.</span></span> <span data-ttu-id="e62ec-140">モデルを参照するには、 **Microsoft シーケンス クラスター ビューアー**を使用します。</span><span class="sxs-lookup"><span data-stu-id="e62ec-140">To explore the model, you can use the **Microsoft Sequence Cluster Viewer**.</span></span> <span data-ttu-id="e62ec-141">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] でシーケンス クラスター モデルを表示すると、複数の遷移を含むクラスターが表示されます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-141">When you view a sequence clustering model, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] shows you clusters that contain multiple transitions.</span></span> <span data-ttu-id="e62ec-142">関連する統計情報も表示できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-142">You can also view pertinent statistics.</span></span> <span data-ttu-id="e62ec-143">詳細については、「 [Microsoft シーケンス クラスター ビューアーを使用したモデルの参照](browse-a-model-using-the-microsoft-sequence-cluster-viewer.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-143">For more information, see [Browse a Model Using the Microsoft Sequence Cluster Viewer](browse-a-model-using-the-microsoft-sequence-cluster-viewer.md).</span></span>  
  
 <span data-ttu-id="e62ec-144">さらに詳細を知るには、 [Microsoft 汎用コンテンツ ツリー ビューアー](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)でモデルを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-144">If you want to know more detail, you can browse the model in the [Microsoft Generic Content Tree Viewer](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span></span> <span data-ttu-id="e62ec-145">モデルに保存される内容には、各ノードのすべての値の分布、各クラスターの確率、および遷移に関する詳細が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-145">The content stored for the model includes the distribution for all values in each node, the probability of each cluster, and details about the transitions.</span></span> <span data-ttu-id="e62ec-146">詳細については、「 [シーケンス クラスター モデルのマイニング モデル コンテンツ (Analysis Services - データ マイニング)](mining-model-content-for-sequence-clustering-models.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-146">For more information, see [Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-sequence-clustering-models.md).</span></span>  
  
## <a name="creating-predictions"></a><span data-ttu-id="e62ec-147">予測の作成</span><span class="sxs-lookup"><span data-stu-id="e62ec-147">Creating Predictions</span></span>  
 <span data-ttu-id="e62ec-148">モデルのトレーニング後、結果がパターンのセットとして保存されます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-148">After the model has been trained, the results are stored as a set of patterns.</span></span> <span data-ttu-id="e62ec-149">データ内の最も一般的なシーケンスの説明を使用して、新しいシーケンスの次に来る可能性の高いステップを予測できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-149">You can use the descriptions of the most common sequences in the data to predict the next likely step of a new sequence.</span></span> <span data-ttu-id="e62ec-150">ただし、アルゴリズムには他の列が含まれるため、結果として得られるモデルを使用して、シーケンス化されたデータとシーケンシャルではない入力との間の関係を識別できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-150">However, because the algorithm includes other columns, you can use the resulting model to identify relationships between sequenced data and inputs that are not sequential.</span></span> <span data-ttu-id="e62ec-151">たとえば、モデルに人口統計データを追加すると、特定の顧客グループに対する予測を実行できます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-151">For example, if you add demographic data to the model, you can make predictions for specific groups of customers.</span></span> <span data-ttu-id="e62ec-152">さまざまな数の予測を返したり、説明的な統計情報を返したりするように、予測クエリをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="e62ec-152">Prediction queries can be customized to return a variable number of predictions, or to return descriptive statistics.</span></span>  
  
 <span data-ttu-id="e62ec-153">データ マイニング モデルに対するクエリの作成方法については、「 [データ マイニング クエリ](data-mining-queries.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-153">For information about how to create queries against a data mining model, see [Data Mining Queries](data-mining-queries.md).</span></span> <span data-ttu-id="e62ec-154">シーケンス クラスター モデルでクエリを使用する方法の例については、「 [シーケンス クラスター モデルのクエリの例](clustering-model-query-examples.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e62ec-154">For examples of how to use queries with a sequence clustering model, see [Sequence Clustering Model Query Examples](clustering-model-query-examples.md).</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="e62ec-155">解説</span><span class="sxs-lookup"><span data-stu-id="e62ec-155">Remarks</span></span>  
  
-   <span data-ttu-id="e62ec-156">Predictive Model Markup Language (PMML) を使用したマイニング モデルの作成はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="e62ec-156">Does not support the use of Predictive Model Markup Language (PMML) to create mining models.</span></span>  
  
-   <span data-ttu-id="e62ec-157">ドリルスルーがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="e62ec-157">Supports drillthrough.</span></span>  
  
-   <span data-ttu-id="e62ec-158">OLAP マイニング モデルの使用およびデータ マイニング ディメンションの作成がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="e62ec-158">Supports the use of OLAP mining models and the creation of data mining dimensions.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e62ec-159">参照</span><span class="sxs-lookup"><span data-stu-id="e62ec-159">See Also</span></span>  
 <span data-ttu-id="e62ec-160">[データマイニングアルゴリズム &#40;Analysis Services-データマイニング&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="e62ec-160">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="e62ec-161">[Microsoft シーケンスクラスターアルゴリズムテクニカルリファレンス](microsoft-sequence-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="e62ec-161">[Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="e62ec-162">[シーケンスクラスターモデルのクエリ例](clustering-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="e62ec-162">[Sequence Clustering Model Query Examples](clustering-model-query-examples.md) </span></span>  
 [<span data-ttu-id="e62ec-163">Microsoft シーケンス クラスター ビューアーを使用したモデルの参照</span><span class="sxs-lookup"><span data-stu-id="e62ec-163">Browse a Model Using the Microsoft Sequence Cluster Viewer</span></span>](browse-a-model-using-the-microsoft-sequence-cluster-viewer.md)  
  
  
