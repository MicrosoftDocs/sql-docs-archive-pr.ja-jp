---
title: データ定義クエリ (データマイニング) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 49e02de1-4ffa-401c-8eee-471a9c25b86a
author: minewiskan
ms.author: owend
ms.openlocfilehash: 153369979737dded52609843cd30cf914315e9cc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87634732"
---
# <a name="data-definition-queries-data-mining"></a><span data-ttu-id="06ecc-102">データ定義クエリ (データ マイニング)</span><span class="sxs-lookup"><span data-stu-id="06ecc-102">Data Definition Queries (Data Mining)</span></span>
  <span data-ttu-id="06ecc-103">データ マイニングの *データ定義クエリ* というカテゴリは、次の処理を実行する DMX ステートメントまたは XMLA コマンドを意味します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-103">For data mining, the category *data definition query* means DMX statements or XMLA commands that do the following:</span></span>  
  
-   <span data-ttu-id="06ecc-104">データ マイニング オブジェクト (モデルなど) の作成、変更、または操作</span><span class="sxs-lookup"><span data-stu-id="06ecc-104">Create, alter, or manipulate data mining objects, such as a model.</span></span>  
  
-   <span data-ttu-id="06ecc-105">トレーニングまたは予測で使用されるデータのソースの定義</span><span class="sxs-lookup"><span data-stu-id="06ecc-105">Define the source of data to be used in training or for prediction.</span></span>  
  
-   <span data-ttu-id="06ecc-106">マイニング モデルとマイニング構造のエクスポートまたはインポート</span><span class="sxs-lookup"><span data-stu-id="06ecc-106">Export or import mining models and mining structures.</span></span>  
  
 [<span data-ttu-id="06ecc-107">データ定義クエリの作成</span><span class="sxs-lookup"><span data-stu-id="06ecc-107">Creating Data Definition Queries</span></span>](#bkmk_Create)  
  
-   [<span data-ttu-id="06ecc-108">SQL Server データ ツールでのデータ定義クエリ</span><span class="sxs-lookup"><span data-stu-id="06ecc-108">Data Definition Queries in SQL Server Data Tools</span></span>](#bkmk_ssdt)  
  
-   [<span data-ttu-id="06ecc-109">SQL Server Management Studio でのデータ定義クエリ</span><span class="sxs-lookup"><span data-stu-id="06ecc-109">Data Definition Queries in SQL Server Management Studio</span></span>](#bkmk_SSMS)  
  
 [<span data-ttu-id="06ecc-110">データ定義ステートメントのスクリプト化</span><span class="sxs-lookup"><span data-stu-id="06ecc-110">Scripting Data Definition Statements</span></span>](#bkmk_Scripts)  
  
 [<span data-ttu-id="06ecc-111">データ定義ステートメントのスクリプト化</span><span class="sxs-lookup"><span data-stu-id="06ecc-111">Scripting Data Definition Statements</span></span>](#bkmk_Export)  
  
##  <a name="creating-data-definition-queries"></a><a name="bkmk_Create"></a><span data-ttu-id="06ecc-112">データ定義クエリの作成</span><span class="sxs-lookup"><span data-stu-id="06ecc-112">Creating Data Definition Queries</span></span>  
 <span data-ttu-id="06ecc-113">DMX を使用して手動でクエリを作成する以外に、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] および [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]の予測クエリ ビルダーを使用するか、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]の DMX クエリ ウィンドウを使用して、データ定義クエリ (ステートメント) を作成できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-113">You can create data definition queries (statements) by using the Prediction Query Builder in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], or by using the DMX Query window in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="06ecc-114">DMX でのデータ定義ステートメントは、Analysis Services データ定義言語 (DDL) の一部です。</span><span class="sxs-lookup"><span data-stu-id="06ecc-114">Data definition statements in DMX are part of the Analysis Services data definition language (DDL).</span></span>  
  
 <span data-ttu-id="06ecc-115">特定のデータ定義ステートメントの構文の詳細については、「[データ マイニング拡張機能 (DMX) リファレンス](/sql/dmx/data-mining-extensions-dmx-reference)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-115">For information about the syntax of specific data definition statements, see [Data Mining Extensions &#40;DMX&#41; Reference](/sql/dmx/data-mining-extensions-dmx-reference).</span></span>  
  
###  <a name="data-definition-queries-in-sql-server-data-tools"></a><a name="bkmk_ssdt"></a><span data-ttu-id="06ecc-116">SQL Server Data Tools でのデータ定義クエリ</span><span class="sxs-lookup"><span data-stu-id="06ecc-116">Data Definition Queries in SQL Server Data Tools</span></span>  
 <span data-ttu-id="06ecc-117">データ マイニング ウィザードは、マイニング モデルやマイニング構造の作成および変更、予測クエリで使用されるデータ ソースの定義、およびトレーニングに適した [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] のツールです。</span><span class="sxs-lookup"><span data-stu-id="06ecc-117">The Data Mining Wizard is the preferred tool in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] for creating and modifying mining models and mining structures, and for defining the data sources that are used in prediction queries and for training.</span></span>  
  
 <span data-ttu-id="06ecc-118">ただし、データ構造またはマイニング モデルを作成するためにウィザードによってサーバーに送信されるステートメントを確認するには、SQL Server Profiler を使用してデータ定義ステートメントをキャプチャできます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-118">However, if you want to know what statements are being sent to the server by the wizard to create data structures or mining models, you can use SQL Server Profiler to capture the data definition statements.</span></span> <span data-ttu-id="06ecc-119">詳細については、「 [SQL Server Profiler を使用した Analysis Services の監視](../instances/use-sql-server-profiler-to-monitor-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-119">For more information, see [Use SQL Server Profiler to Monitor Analysis Services](../instances/use-sql-server-profiler-to-monitor-analysis-services.md).</span></span>  
  
 <span data-ttu-id="06ecc-120">トレーニングまたは予測に使用されるデータ ソースの定義に使用されるステートメントを表示するには、予測クエリ ビルダーの **[SQL ビュー]** を使用できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-120">To view the statements used for defining data sources used for training or prediction, you can use the **SQL View** in the Prediction Query Builder.</span></span> <span data-ttu-id="06ecc-121">場合によっては、トレーニングとモデルのテストのために、予測クエリ ビルダーを使用して基本的なクエリを作成すると、正しい構文を確実に使用することができ役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-121">Sometimes it can be helpful to build basic queries for training and testing models by using Prediction Query Builder, to establish the correct syntax.</span></span> <span data-ttu-id="06ecc-122">その後、 **[SQL ビュー]** に切り替えて、手動でクエリを編集できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-122">You can then switch to **SQL View** and manually edit the query.</span></span> <span data-ttu-id="06ecc-123">詳細については、「 [手動での予測クエリの編集](manually-edit-a-prediction-query.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-123">For more information, see [Manually Edit a Prediction Query](manually-edit-a-prediction-query.md).</span></span>  
  
###  <a name="data-definition-queries-in-sql-server-management-studio"></a><a name="bkmk_SSMS"></a><span data-ttu-id="06ecc-124">SQL Server Management Studio でのデータ定義クエリ</span><span class="sxs-lookup"><span data-stu-id="06ecc-124">Data Definition Queries in SQL Server Management Studio</span></span>  
 <span data-ttu-id="06ecc-125">データ マイニング オブジェクトでは、データ定義クエリを使用して次の操作を実行できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-125">For data mining objects, you can use data definition queries to perform the following actions:</span></span>  
  
-   <span data-ttu-id="06ecc-126">特定の種類のモデル (クラスター モデルまたはデシジョン ツリー モデル) の作成。[CREATE MINING MODEL (DMX)](/sql/dmx/create-mining-model-dmx) を使用します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-126">Create specific types of models, such as a clustering model or decision tree model, by using [CREATE MINING MODEL &#40;DMX&#41;](/sql/dmx/create-mining-model-dmx).</span></span>  
  
-   <span data-ttu-id="06ecc-127">モデルの追加または列の変更による、既存のマイニング構造の変更。[ALTER MINING STRUCTURE (DMX)](/sql/dmx/alter-mining-structure-dmx) を使用します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-127">Alter an existing mining structure by adding a model or by changing the columns, by using [ALTER MINING STRUCTURE &#40;DMX&#41;](/sql/dmx/alter-mining-structure-dmx).</span></span> <span data-ttu-id="06ecc-128">DMX を使用してマイニング モデルを変更できないことに注意してください。既存の構造に新しいモデルを追加できるだけです。</span><span class="sxs-lookup"><span data-stu-id="06ecc-128">Note that you cannot alter a mining model by using DMX; you only add new models to an existing structure.</span></span>  
  
-   <span data-ttu-id="06ecc-129">マイニング モデルのコピー作成とその変更。[SELECT INTO (DMX)](/sql/dmx/select-into-dmx) を使用します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-129">Make a copy of a mining model and then alter it, by using [SELECT INTO &#40;DMX&#41;](/sql/dmx/select-into-dmx).</span></span>  
  
-   <span data-ttu-id="06ecc-130">モデルのトレーニングに使用されるデータ セットの定義。[INSERT INTO (DMX)](/sql/dmx/insert-into-dmx) をデータ ソース クエリ (OPENROWSET など) と共に使用します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-130">Define the data set used for training a model, by using [INSERT INTO &#40;DMX&#41;](/sql/dmx/insert-into-dmx) together with a data source query such as OPENROWSET.</span></span>  
  
 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="06ecc-131">で提供されるクエリ テンプレートは、データ定義クエリを作成するときに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-131">provides query templates that can help you create data definition queries.</span></span> <span data-ttu-id="06ecc-132">詳細については、「 [SQL Server Management Studio での Analysis Services テンプレートの使用](../instances/use-analysis-services-templates-in-sql-server-management-studio.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-132">For more information, see [Use Analysis Services Templates in SQL Server Management Studio](../instances/use-analysis-services-templates-in-sql-server-management-studio.md).</span></span>  
  
 <span data-ttu-id="06ecc-133">通常、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] に提供されるテンプレートには一般的な構文定義しか含まれないため、 **[クエリ]** ウィンドウに入力するか、パラメーターを入力するために表示されるダイアログ ボックスを使用して、定義をカスタマイズする必要があります。</span><span class="sxs-lookup"><span data-stu-id="06ecc-133">In general, the templates that are provided for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] contain only the general syntax definition, which you must customize, either by typing in the **Query** window, or by using the dialog box provided for entering parameters.</span></span>  
  
 <span data-ttu-id="06ecc-134">インターフェイスを利用してパラメーターを入力する方法の例については、「 [テンプレートからの単一予測クエリの作成](create-a-singleton-prediction-query-from-a-template.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-134">For an example of how to enter parameters using the interface, see [Create a Singleton Prediction Query from a Template](create-a-singleton-prediction-query-from-a-template.md).</span></span>  
  
###  <a name="scripting-data-definition-statements"></a><a name="bkmk_Scripts"></a><span data-ttu-id="06ecc-135">データ定義ステートメントのスクリプト化</span><span class="sxs-lookup"><span data-stu-id="06ecc-135">Scripting Data Definition Statements</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="06ecc-136">では複数のスクリプト言語およびプログラム言語が提供され、データ マイニング オブジェクトの作成または変更、あるいはデータ ソースの定義に使用できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-136">provides multiple scripting and programming languages that you can use to create or alter data mining objects, or to define data sources.</span></span>  <span data-ttu-id="06ecc-137">DMX はデータ マイニング タスクの高速化を目的としていますが、XMLA と AMO の両方も、スクリプトまたはカスタム モードでオブジェクトを操作するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-137">Although DMX is designed for expediting data mining tasks, you can also use both XMLA and AMO to manipulate objects in scripts or in custom code.</span></span>  
  
 <span data-ttu-id="06ecc-138">Excel データ マイニング アドインにも多くのクエリ テンプレートが含まれます。複雑な DMX ステートメントを作成するための **[詳細クエリ エディター]** も提供されます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-138">The Data Mining Add-in for Excel also includes many query templates, and provides the **Advanced Query Editor**, which helps you compose complex DMX statements.</span></span> <span data-ttu-id="06ecc-139">クエリを対話形式で作成してから、[SQL ビュー] に切り替えて DMX ステートメントをキャプチャできます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-139">You can build a query interactively and then switch to SQL View to capture the DMX statement.</span></span>  
  
##  <a name="exporting-and-importing-models"></a><a name="bkmk_Export"></a><span data-ttu-id="06ecc-140">モデルのエクスポートとインポート</span><span class="sxs-lookup"><span data-stu-id="06ecc-140">Exporting and Importing Models</span></span>  
 <span data-ttu-id="06ecc-141">DMX のデータ定義ステートメントを使用して、モデルの定義、必要な構造、およびデータ ソースをエクスポートすることができます。その後、その定義を別のサーバーにインポートできます。</span><span class="sxs-lookup"><span data-stu-id="06ecc-141">You can use data definition statements in DMX to export the definition of a model and its required structure and data sources, and then import that definition into a different server.</span></span> <span data-ttu-id="06ecc-142">エクスポートとインポートの使用は、データ マイニング モデルとマイニング構造を [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]のインスタンス間で移動するための最も速くて容易な方法です。</span><span class="sxs-lookup"><span data-stu-id="06ecc-142">Using export and import is the fastest and easiest way to move data mining models and mining structures between instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="06ecc-143">詳細については、「 [データ マイニング ソリューションおよびオブジェクトの管理](management-of-data-mining-solutions-and-objects.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-143">For more information, see [Management of Data Mining Solutions and Objects](management-of-data-mining-solutions-and-objects.md).</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="06ecc-144">モデルがキューブ データ ソースのデータに基づいている場合は、モデルをエクスポートするために DMX を使用できません。代わりにバックアップと復元を使用してください。</span><span class="sxs-lookup"><span data-stu-id="06ecc-144">If your model is based on data from a cube data srouce, you cannot use DMX to export the model, and should use backup and restore instead.</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_Tasks"></a> <span data-ttu-id="06ecc-145">関連タスク</span><span class="sxs-lookup"><span data-stu-id="06ecc-145">Related Tasks</span></span>  
 <span data-ttu-id="06ecc-146">次の表に、データ定義クエリに関連するタスクへのリンクを示します。</span><span class="sxs-lookup"><span data-stu-id="06ecc-146">The following table provides links to tasks that are related to data definition queries.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="06ecc-147">DMX クエリ用のテンプレートの使用</span><span class="sxs-lookup"><span data-stu-id="06ecc-147">Work with templates for DMX queries.</span></span>|[<span data-ttu-id="06ecc-148">SQL Server Management Studio での Analysis Services テンプレートの使用</span><span class="sxs-lookup"><span data-stu-id="06ecc-148">Use Analysis Services Templates in SQL Server Management Studio</span></span>](../instances/use-analysis-services-templates-in-sql-server-management-studio.md)|  
|<span data-ttu-id="06ecc-149">予測クエリ ビルダーを使用した、あらゆる種類のクエリの設計</span><span class="sxs-lookup"><span data-stu-id="06ecc-149">Design queries of all kinds, using Prediction Query Builder.</span></span>|[<span data-ttu-id="06ecc-150">予測クエリ ビルダーを使用した予測クエリの作成</span><span class="sxs-lookup"><span data-stu-id="06ecc-150">Create a Prediction Query Using the Prediction Query Builder</span></span>](create-a-prediction-query-using-the-prediction-query-builder.md)|  
|<span data-ttu-id="06ecc-151">SQLServer Profiler を使用したクエリ定義のキャプチャ、および [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]を監視するためのトレースの使用</span><span class="sxs-lookup"><span data-stu-id="06ecc-151">Capture query definitions by using SQL Server Profiler, and use traces to monitor [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|[<span data-ttu-id="06ecc-152">SQL Server Profiler を使用した Analysis Services の監視</span><span class="sxs-lookup"><span data-stu-id="06ecc-152">Use SQL Server Profiler to Monitor Analysis Services</span></span>](../instances/use-sql-server-profiler-to-monitor-analysis-services.md)|  
|<span data-ttu-id="06ecc-153">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]で提供されるスクリプト言語やプログラム言語の詳細</span><span class="sxs-lookup"><span data-stu-id="06ecc-153">Learn more about the scripting languages and programming languages provided for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|[<span data-ttu-id="06ecc-154">XML for Analysis (XML for Analysis) リファレンス</span><span class="sxs-lookup"><span data-stu-id="06ecc-154">XML for Analysis  &#40;XMLA&#41; Reference</span></span>](https://docs.microsoft.com/bi-reference/xmla/xml-for-analysis-xmla-reference)<br /><br /> [<span data-ttu-id="06ecc-155">分析管理オブジェクト &#40;AMO&#41; による開発</span><span class="sxs-lookup"><span data-stu-id="06ecc-155">Developing with Analysis Management Objects &#40;AMO&#41;</span></span>](https://docs.microsoft.com/bi-reference/amo/developing-with-analysis-management-objects-amo)|  
|<span data-ttu-id="06ecc-156">[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] および [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でのモデルの管理の詳細。</span><span class="sxs-lookup"><span data-stu-id="06ecc-156">Learn how to manage models in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>|[<span data-ttu-id="06ecc-157">データ マイニング オブジェクトのエクスポートおよびインポート</span><span class="sxs-lookup"><span data-stu-id="06ecc-157">Export and Import Data Mining Objects</span></span>](export-and-import-data-mining-objects.md)<br /><br /> [<span data-ttu-id="06ecc-158">エクスポート &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="06ecc-158">EXPORT &#40;DMX&#41;</span></span>](/sql/dmx/export-dmx)<br /><br /> [<span data-ttu-id="06ecc-159">インポート &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="06ecc-159">IMPORT &#40;DMX&#41;</span></span>](/sql/dmx/import-dmx)|  
|<span data-ttu-id="06ecc-160">OPENROWSET、および外部データへのクエリのための他の方法の詳細</span><span class="sxs-lookup"><span data-stu-id="06ecc-160">Learn more about OPENROWSET and other ways to query external data.</span></span>|<span data-ttu-id="06ecc-161">[<ソース データ クエリ>](/sql/dmx/source-data-query)</span><span class="sxs-lookup"><span data-stu-id="06ecc-161">[&#60;source data query&#62;](/sql/dmx/source-data-query).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="06ecc-162">参照</span><span class="sxs-lookup"><span data-stu-id="06ecc-162">See Also</span></span>  
 [<span data-ttu-id="06ecc-163">データ マイニング ウィザード (Analysis Services - データ マイニング)</span><span class="sxs-lookup"><span data-stu-id="06ecc-163">Data Mining Wizard &#40;Analysis Services - Data Mining&#41;</span></span>](data-mining-wizard-analysis-services-data-mining.md)  
  
  
