---
title: 処理の要件と考慮事項 (データマイニング) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- data mining [Analysis Services], objects
- mining structures [Analysis Services], processing
- mining models [Analysis Services], processing
ms.assetid: f7331261-6f1c-4986-b2c7-740f4b92ca44
author: minewiskan
ms.author: owend
ms.openlocfilehash: f4b3f00692e58a55063a7d6bf4887dbee36df68c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87718939"
---
# <a name="processing-requirements-and-considerations-data-mining"></a><span data-ttu-id="a7407-102">処理の要件および注意事項 (データ マイニング)</span><span class="sxs-lookup"><span data-stu-id="a7407-102">Processing Requirements and Considerations (Data Mining)</span></span>
  <span data-ttu-id="a7407-103">このトピックでは、データ マイニング オブジェクトを処理するときに注意するいくつかの技術的な考慮事項について説明します。</span><span class="sxs-lookup"><span data-stu-id="a7407-103">This topic describes some technical considerations to keep in mind when processing data mining objects.</span></span> <span data-ttu-id="a7407-104">処理について、および処理がデータ マイニングに適用される方法に関する一般情報については、「 [データ マイニング オブジェクトの処理](processing-data-mining-objects.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-104">For a general explanation of what processing is, and how it applies to data mining, see [Processing Data Mining Objects](processing-data-mining-objects.md).</span></span>  
  
 [<span data-ttu-id="a7407-105">リレーショナル ストアに対するクエリ</span><span class="sxs-lookup"><span data-stu-id="a7407-105">Queries on Relational Store</span></span>](#bkmk_QueryReqs)  
  
 [<span data-ttu-id="a7407-106">マイニング構造の処理</span><span class="sxs-lookup"><span data-stu-id="a7407-106">Processing Mining Structures</span></span>](#bkmk_ProcessStructures)  
  
 [<span data-ttu-id="a7407-107">マイニングモデルの処理</span><span class="sxs-lookup"><span data-stu-id="a7407-107">Processing Mining Models</span></span>](#bkmk_ProcessModels)  
  
##  <a name="queries-on-the-relational-store-during-processing"></a><a name="bkmk_QueryReqs"></a> <span data-ttu-id="a7407-108">処理中のリレーショナル ストアに対するクエリ</span><span class="sxs-lookup"><span data-stu-id="a7407-108">Queries on the Relational Store during Processing</span></span>  
 <span data-ttu-id="a7407-109">データ マイニングでの処理には、ソース データのクエリ、生の統計情報の特定、およびモデル定義とアルゴリズムを使用したマイニング モデルのトレーニングの 3 つの段階があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-109">For data mining, there are three phases to processing: querying the source data, determining raw statistics, and using the model definition and algorithm to train the mining model.</span></span>  
  
 <span data-ttu-id="a7407-110">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーは、生データを提供するデータベースに対してクエリを実行します。</span><span class="sxs-lookup"><span data-stu-id="a7407-110">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server issues queries to the database that provides the raw data.</span></span> <span data-ttu-id="a7407-111">そのデータベースは、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 以前のバージョンの SQL Server データベース エンジンのインスタンスである場合もあります。</span><span class="sxs-lookup"><span data-stu-id="a7407-111">This database might be an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] or an earlier version of the SQL Server database engine.</span></span> <span data-ttu-id="a7407-112">データ マイニング構造の処理時には、ソース内のデータがマイニング構造に転送され、圧縮形式でディスク上に新たに保存されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-112">When you process a data mining structure, the data in the source is transferred to the mining structure and persisted on disk in a new, compressed format.</span></span> <span data-ttu-id="a7407-113">データ ソース内のすべての列が処理されるとは限りません。バインドの定義に従って、マイニング構造に含まれる列だけが処理されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-113">Not every column in the data source is processed: only the columns that are included in the mining structure, as defined by the bindings.</span></span>  
  
 <span data-ttu-id="a7407-114">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はそのデータを使用して、すべてのデータおよび離散化列のインデックスと、連続列のための別のインデックスを作成します。</span><span class="sxs-lookup"><span data-stu-id="a7407-114">Using this data, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] builds an index of all data and discretized columns, and creates a separate index for continuous columns.</span></span> <span data-ttu-id="a7407-115">入れ子になったテーブルごとに、インデックスを作成するためのクエリが実行され、入れ子になったテーブルとケース テーブルの各ペアの関係を処理するための追加のクエリが生成されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-115">One query is issued for each nested table to create the index, and an additional query per nested table is generated to process relationships between each pair of a nested table and case table.</span></span> <span data-ttu-id="a7407-116">このように複数のクエリが作成されるのは、特殊な内部多次元データ ストアを処理するためです。</span><span class="sxs-lookup"><span data-stu-id="a7407-116">The reason for creating multiple queries is to process a special internal multidimensional data store.</span></span> <span data-ttu-id="a7407-117">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] によってリレーショナル ストアに送信されるクエリの数を制限するには、サーバー プロパティの `DatabaseConnectionPoolMax` を設定します。</span><span class="sxs-lookup"><span data-stu-id="a7407-117">You can limit the number of queries that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] sends to the relational store by setting the server property, `DatabaseConnectionPoolMax`.</span></span> <span data-ttu-id="a7407-118">詳細については、「 [OLAP のプロパティ](../server-properties/olap-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-118">For more information, see [OLAP Properties](../server-properties/olap-properties.md).</span></span>  
  
 <span data-ttu-id="a7407-119">モデルの処理時に、モデルは、データ ソースからデータを再度読み取るのではなく、マイニング構造からデータの概要を取得します。</span><span class="sxs-lookup"><span data-stu-id="a7407-119">When you process the model, the model does not reread the data from the data source, but instead gets the summary of the data from the mining structure.</span></span> <span data-ttu-id="a7407-120">サーバーは、作成されたキューブと、キャッシュされたインデックス データとケース データを使用して、モデルのトレーニングを行うための独立したスレッドを作成します。</span><span class="sxs-lookup"><span data-stu-id="a7407-120">Using the cube that was created, together with the cached index and case data has been cached, the server creates independent threads to train the models.</span></span>  
  
 <span data-ttu-id="a7407-121">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]並列モデル処理をサポートするのエディションの詳細については、「 [SQL Server 2012 の各エディションがサポートする機能](https://go.microsoft.com/fwlink/?linkid=232473)」 (を参照してください https://go.microsoft.com/fwlink/?linkid=232473) 。</span><span class="sxs-lookup"><span data-stu-id="a7407-121">For more information about the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that support Parallel Model Processing, see [Features Supported by the Editions of SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) (https://go.microsoft.com/fwlink/?linkid=232473).</span></span>  
  
##  <a name="processing-mining-structures"></a><a name="bkmk_ProcessStructures"></a> <span data-ttu-id="a7407-122">マイニング構造の処理</span><span class="sxs-lookup"><span data-stu-id="a7407-122">Processing Mining Structures</span></span>  
 <span data-ttu-id="a7407-123">マイニング構造は、すべての依存モデルと一緒に処理することも、個別に処理することもできます。</span><span class="sxs-lookup"><span data-stu-id="a7407-123">A mining structure can be processed together with all dependent models, or separately.</span></span> <span data-ttu-id="a7407-124">処理に時間がかかると予想されるモデルがあり、その操作を保留する場合、モデルとは別にマイニング構造を処理すると便利です。</span><span class="sxs-lookup"><span data-stu-id="a7407-124">Processing a mining structure separately from models can be useful when some models are expected to take a long time to process and you want to defer that operation.</span></span>  
  
 <span data-ttu-id="a7407-125">詳細については、「 [マイニング構造の処理](process-a-mining-structure.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-125">For more information, see [Process a Mining Structure](process-a-mining-structure.md).</span></span>  
  
 <span data-ttu-id="a7407-126">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ではマイニング構造キャッシュがローカルに保持されるので、ハード ディスク領域を節約する場合は注意してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-126">If you are concerned about conserving hard disk space, note that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] retains mining structure caches locally.</span></span> <span data-ttu-id="a7407-127">つまり、すべてのトレーニング データがローカル ハード ディスクに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="a7407-127">That is, it writes out all the training data to your local hard disk.</span></span> <span data-ttu-id="a7407-128">データをキャッシュしない場合は、マイニング構造の <xref:Microsoft.AnalysisServices.MiningStructureCacheMode> プロパティを `ClearAfterProcessing` に設定することで、既定値を変更できます。</span><span class="sxs-lookup"><span data-stu-id="a7407-128">If you do not want the data cached, you can change the default by setting the <xref:Microsoft.AnalysisServices.MiningStructureCacheMode> property on the mining structure to `ClearAfterProcessing`.</span></span> <span data-ttu-id="a7407-129">これにより、モデルを処理した後にキャッシュが破棄されます。また、マイニング構造のドリルスルーも無効になります。</span><span class="sxs-lookup"><span data-stu-id="a7407-129">This will destroy the cache after models are processed; however, it will also disable drillthrough on the mining structure.</span></span> <span data-ttu-id="a7407-130">詳細については、「 [ドリルスルー クエリ (データ マイニング)](drillthrough-queries-data-mining.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="a7407-130">For more information, see [Drillthrough Queries &#40;Data Mining&#41;](drillthrough-queries-data-mining.md).</span></span>  
  
 <span data-ttu-id="a7407-131">また、キャッシュを消去すると、提示されたテスト セット (定義している場合) を使用できなくなり、テスト セット パーティションの定義も失われます。</span><span class="sxs-lookup"><span data-stu-id="a7407-131">Also, if you clear the cache, you will not be able to use the holdout test set, if you defined one, and the definition of the test set partition will be lost.</span></span> <span data-ttu-id="a7407-132">提示されたテスト セットの詳細については、「 [トレーニング データ セットとテスト データ セット](training-and-testing-data-sets.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-132">For more information about holdout test sets, see [Training and Testing Data Sets](training-and-testing-data-sets.md).</span></span>  
  
##  <a name="processing-mining-models"></a><a name="bkmk_ProcessModels"></a> <span data-ttu-id="a7407-133">マイニング モデルの処理</span><span class="sxs-lookup"><span data-stu-id="a7407-133">Processing Mining Models</span></span>  
 <span data-ttu-id="a7407-134">関連付けられているマイニング構造とは別にマイニング モデルを処理することも、マイニング構造に基づくすべてのモデルをマイニング構造と共に処理することもできます。</span><span class="sxs-lookup"><span data-stu-id="a7407-134">You can process a mining model separately from its associated mining structure, or you can process all models that are based on the structure, together with the structure.</span></span>  
  
 <span data-ttu-id="a7407-135">詳細については、「 [マイニング モデルの処理](process-a-mining-model.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-135">For more information, see [Process a Mining Model](process-a-mining-model.md).</span></span>  
  
 <span data-ttu-id="a7407-136">ただし、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] および [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]では、マイニング構造と共に処理するマイニング モデルを複数選択することができません。</span><span class="sxs-lookup"><span data-stu-id="a7407-136">However, in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], you cannot multiselect mining models to process with the structure.</span></span> <span data-ttu-id="a7407-137">処理するモデルを制御する必要がある場合は、モデルを個別に選択するか、XMLA または DMX を使用してモデルを順番に処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-137">If you need to control which models are processed, you must select them individually, or use XMLA or DMX to process models serially.</span></span>  
  
## <a name="when-reprocessing-is-required"></a><span data-ttu-id="a7407-138">再処理が必要な場合</span><span class="sxs-lookup"><span data-stu-id="a7407-138">When Reprocessing is Required</span></span>  
 <span data-ttu-id="a7407-139">モデルの操作を開始する前に、定義する [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] モデルを処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-139">You must process the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] models that you define before you can start to work with them.</span></span> <span data-ttu-id="a7407-140">また、マイニング モデル構造の変更、トレーニング データの更新、既存のマイニング モデルの変更、または構造への新しいマイニング モデルの追加を行った場合は、必ずマイニング モデルを再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-140">You must also reprocess the mining models whenever you change the mining model structure, update the training data, change an existing mining model, or add a new mining model to the structure.</span></span>  
  
 <span data-ttu-id="a7407-141">マイニング モデルは、以下のシナリオでも処理されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-141">Mining models are also processed in these scenarios:</span></span>  
  
 <span data-ttu-id="a7407-142">**プロジェクトの配置**: 通常は、プロジェクトの設定と現在の状態に応じて、プロジェクトの配置時にそのプロジェクトのマイニング モデルが完全処理されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-142">**Deployment of a project**: Depending on the project settings and the current state of the project, the mining models in the project are typically processed in full when the project is deployed.</span></span>  
  
 <span data-ttu-id="a7407-143">配置を開始すると、以前に処理されたバージョンが [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバーに存在して構造的に変更されていない場合を除き、処理が自動的に開始されます。</span><span class="sxs-lookup"><span data-stu-id="a7407-143">When you initiate deployment, processing starts automatically, unless there is a previously processed version on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server and there have been no structural changes.</span></span> <span data-ttu-id="a7407-144">プロジェクトを配置するには、ドロップダウン リストから **[ソリューションの配置]** を選択するか、または F5 キーを押します。</span><span class="sxs-lookup"><span data-stu-id="a7407-144">You can deploy a project by selecting **Deploy solution** from the drop-down list or by pressing the F5 key.</span></span> <span data-ttu-id="a7407-145">そのための方法は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="a7407-145">You can</span></span>  
  
 <span data-ttu-id="a7407-146">マイニング モデルの配置方法を制御する [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の配置プロパティの設定方法の詳細については、「 [データ マイニング ソリューションの配置](deployment-of-data-mining-solutions.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-146">For more information about how to set [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] deployment properties that control how mining models are deployed, see [Deployment of Data Mining Solutions](deployment-of-data-mining-solutions.md).</span></span>  
  
 <span data-ttu-id="a7407-147">**マイニング モデルの移動**: EXPORT コマンドを使用してマイニング モデルを移動する場合、モデルの定義だけがエクスポートされます。この定義には、モデルにデータを提供する予定のマイニング構造の名前が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a7407-147">**Moving a mining model**: When you move a mining model by using the EXPORT command, only the definition of the model is exported, which includes the name of the mining structure that is expected to provide data to the model.</span></span>  
  
 <span data-ttu-id="a7407-148">EXPORT コマンドと IMPORT コマンドを使用するシナリオとその再処理の要件を次に示します。</span><span class="sxs-lookup"><span data-stu-id="a7407-148">Reprocessing requirements for the following scenarios using the EXPORT and IMPORT commands:</span></span>  
  
-   <span data-ttu-id="a7407-149">移動先のインスタンスにマイニング構造が存在し、そのマイニング構造が未処理の状態にある場合。</span><span class="sxs-lookup"><span data-stu-id="a7407-149">The mining structure exists on the target instance and the mining structure is in an unprocessed state.</span></span>  
  
     <span data-ttu-id="a7407-150">構造とモデルの両方を再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-150">Both the structure and model must be reprocessed.</span></span>  
  
-   <span data-ttu-id="a7407-151">移動先のインスタンスにマイニング構造が存在し、そのマイニング構造が処理済みで、</span><span class="sxs-lookup"><span data-stu-id="a7407-151">The mining structure exists on the target instance and the mining structure has been processed.</span></span> <span data-ttu-id="a7407-152">マイニング モデルのみがエクスポートされた場合。</span><span class="sxs-lookup"><span data-stu-id="a7407-152">Only the mining model was exported.</span></span>  
  
     <span data-ttu-id="a7407-153">モデルは処理せずに使用できます。</span><span class="sxs-lookup"><span data-stu-id="a7407-153">The model can be used without processing.</span></span>  
  
-   <span data-ttu-id="a7407-154">WITH DEENDENCIES キーワードを使用してマイニング構造の定義もエクスポートされた場合。</span><span class="sxs-lookup"><span data-stu-id="a7407-154">The mining structure definition was also exported by using the WITH DEENDENCIES keyword.</span></span>  
  
     <span data-ttu-id="a7407-155">構造とモデルの両方を再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a7407-155">Both the structure and model must be reprocessed.</span></span>  
  
 <span data-ttu-id="a7407-156">詳細については、「 [データ マイニング オブジェクトのエクスポートおよびインポート](export-and-import-data-mining-objects.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a7407-156">For more information, see [Export and Import Data Mining Objects](export-and-import-data-mining-objects.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a7407-157">参照</span><span class="sxs-lookup"><span data-stu-id="a7407-157">See Also</span></span>  
 <span data-ttu-id="a7407-158">[マイニング構造 &#40;Analysis Services-データマイニング&#41;](mining-structures-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="a7407-158">[Mining Structures &#40;Analysis Services - Data Mining&#41;](mining-structures-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="a7407-159">[マイニング構造 &#40;Analysis Services-データマイニング&#41;](mining-structures-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="a7407-159">[Mining Structures &#40;Analysis Services - Data Mining&#41;](mining-structures-analysis-services-data-mining.md) </span></span>  
 [<span data-ttu-id="a7407-160">多次元モデルのオブジェクト処理</span><span class="sxs-lookup"><span data-stu-id="a7407-160">Multidimensional Model Object Processing</span></span>](../multidimensional-models/processing-a-multidimensional-model-analysis-services.md)  
  
  
