---
title: デシジョンツリーモデルのマイニングモデルコンテンツ (Analysis Services データマイニング) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining model content, decision tree models
- decision tree algorithms [Analysis Services]
- decision trees [Analysis Services]
ms.assetid: ac358399-10f8-4238-be32-a914a2e49048
author: minewiskan
ms.author: owend
ms.openlocfilehash: bd7c11219bd4807d019053e4100721e8cd6d658c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87639787"
---
# <a name="mining-model-content-for-decision-tree-models-analysis-services---data-mining"></a><span data-ttu-id="a48d9-102">Mining Model Content for Decision Tree Models (Analysis Services - Data Mining)</span><span class="sxs-lookup"><span data-stu-id="a48d9-102">Mining Model Content for Decision Tree Models (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="a48d9-103">このトピックでは、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] デシジョン ツリー アルゴリズムを使用するモデルに固有のマイニング モデル コンテンツについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-103">This topic describes mining model content that is specific to models that use the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm.</span></span> <span data-ttu-id="a48d9-104">すべての種類のモデルのマイニング モデル コンテンツの一般的な説明については、「 [マイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-analysis-services-data-mining.md)」 (マイニング モデル コンテンツ (Analysis Services - データ マイニング)) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-104">For a general explanation of mining model content for all model types, see [Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md).</span></span> <span data-ttu-id="a48d9-105">Microsoft デシジョン ツリー アルゴリズムは、まったく機能の異なる多様なモデルを作成できる複合アルゴリズムであることに注意してください。デシジョン ツリーでは、アソシエーションやルールのほか、線形回帰も表すことができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-105">It is important to remember that The Microsoft Decision Trees algorithm is a hybrid algorithm that can create models with very different functions: a decision tree can represent associations, rules, or even linear regression.</span></span> <span data-ttu-id="a48d9-106">ツリーの構造は本質的には同じですが、モデルを作成した目的によって情報を解釈する方法が異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-106">The structure of the tree is essentially the same, but how you interpret the information will depend on the purpose for which you created the model.</span></span>  
  
##  <a name="understanding-the-structure-of-a-decision-trees-model"></a><a name="bkmk_Top"></a><span data-ttu-id="a48d9-107">デシジョンツリーモデルの構造について</span><span class="sxs-lookup"><span data-stu-id="a48d9-107">Understanding the Structure of a Decision Trees Model</span></span>  
 <span data-ttu-id="a48d9-108">デシジョン ツリー モデルには、モデルとそのメタデータを表す 1 つの親ノードがあります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-108">A decision trees model has a single parent node that represents the model and its metadata.</span></span> <span data-ttu-id="a48d9-109">その親ノードの下には、選択した予測可能な属性を表す独立したツリーがあります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-109">Underneath the parent node are independent trees that represent the predictable attributes that you select.</span></span> <span data-ttu-id="a48d9-110">たとえば、顧客が購入を行うかどうかを予測するためのデシジョン ツリー モデルを設定し、性別と収入の入力を指定した場合、モデルでは購入の属性に対して 1 つのツリーが作成され、その中に性別と収入に関連する条件で分割される多数の分岐が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-110">For example, if you set up your decision tree model to predict whether customers will purchase something, and provide inputs for gender and income, the model would create a single tree for the purchasing attribute, with many branches that divide on conditions related to gender and income.</span></span>  
  
 <span data-ttu-id="a48d9-111">一方、その後で顧客報酬プログラムへの参加についての別の予測可能な属性を追加した場合、アルゴリズムによって、親ノードの下に 2 つの個別のツリーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-111">However, if you then add a separate predictable attribute for participation in a customer rewards program, the algorithm will create two separate trees under the parent node.</span></span> <span data-ttu-id="a48d9-112">1 つは購入についての分析を含むツリーで、もう 1 つは顧客報酬プログラムについての分析を含むツリーです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-112">One tree contains the analysis for purchasing, and another tree contains the analysis for the customer rewards program.</span></span>  <span data-ttu-id="a48d9-113">デシジョン ツリー アルゴリズムを使用してアソシエーション モデルを作成する場合、アルゴリズムでは、予測される製品ごとの個別のツリーと、対象の属性の選択に役立つその他のすべての製品の組み合わせを含むツリーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-113">If you use the Decision Trees algorithm to create an association model, the algorithm creates a separate tree for each product that is being predicted, and the tree contains all the other product combinations that contribute towards selection of the target attribute.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a48d9-114">モデルに複数のツリーが含まれる場合、 **Microsoft ツリー ビューアー**で同時に表示できるツリーは 1 つだけです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-114">If your model includes multiple trees, you can view only one tree at a time in the **Microsoft Tree Viewer**.</span></span> <span data-ttu-id="a48d9-115">ただし、 **汎用コンテンツ ツリー ビューアー** では、同じモデル内のすべてのツリーを同時に表示することができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-115">However, in the **Generic Content Tree Viewer** , all trees in the same model are displayed at the same time.</span></span>  
  
 <span data-ttu-id="a48d9-116">![デシジョン ツリーのモデル コンテンツの構造](../media/modelcontentstructure-dt.gif "デシジョン ツリーのモデル コンテンツの構造")</span><span class="sxs-lookup"><span data-stu-id="a48d9-116">![structure of model content for decision tree](../media/modelcontentstructure-dt.gif "structure of model content for decision tree")</span></span>  
  
 <span data-ttu-id="a48d9-117">予測可能な属性ごとに作成されるツリーには、選択した入力列が特定の予測可能な属性の結果にどのように影響するかを示す情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-117">The tree for each predictable attribute contains information that describes how the input columns that you choose affect the outcome of that particular predictable attribute.</span></span> <span data-ttu-id="a48d9-118">各ツリーの先頭に予測可能な属性を格納するノード (NODE_TYPE = 9) があり、その下に入力属性を表す一連のノード (NODE_TYPE = 10) があります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-118">Each tree is headed by a node (NODE_TYPE = 9) that contains the predictable attribute, followed by a series of nodes (NODE_TYPE = 10) that represent the input attributes.</span></span> <span data-ttu-id="a48d9-119">属性は、ケース レベルの列か、入れ子になったテーブル列の値 (通常は入れ子になったテーブルの `Key` 列の値) のいずれかに対応します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-119">An attribute corresponds to either a case-level column or values of nested table columns, which are generally the values in the `Key` column of the nested table.</span></span>  
  
 <span data-ttu-id="a48d9-120">内部ノードおよびリーフ ノードは分割条件を表します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-120">Interior and leaf nodes represent split conditions.</span></span> <span data-ttu-id="a48d9-121">ツリーは、同じ属性で複数回分割できます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-121">A tree can split on the same attribute multiple times.</span></span> <span data-ttu-id="a48d9-122">たとえば、 **TM_DecisionTree** モデルを [Yearly Income] および [Number of Children] で分割し、さらにツリーの下位にある [Yearly Income] で再度分割することができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-122">For example, the **TM_DecisionTree** model might split on [Yearly Income] and [Number of Children], and then split again on [Yearly Income] further down the tree.</span></span>  
  
 <span data-ttu-id="a48d9-123">Microsoft デシジョン ツリー アルゴリズムでは、ツリー全体またはツリーの一部に線形回帰を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-123">The Microsoft Decision Trees algorithm can also contain linear regressions in all or part of the tree.</span></span> <span data-ttu-id="a48d9-124">モデル化する属性が連続する数値データ型であり、属性間のリレーションシップを線形でモデル化できる場合は、モデルで回帰ツリー ノード (NODE_TYPE = 25) を作成できます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-124">If the attribute that you are modeling is a continuous numeric data type, the model can create a regression tree node (NODE_TYPE = 25) wherever the relationship between the attributes can be modeled linearly.</span></span> <span data-ttu-id="a48d9-125">この場合、ノードには回帰式が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-125">In this case, the node contains a regression formula.</span></span>  
  
 <span data-ttu-id="a48d9-126">ただし、予測可能な属性に不連続の値が含まれている場合や、数値がバケット化 (分離) されている場合は、モデルでは常に分類ツリー (NODE_TYPE =2) が作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-126">However, if the predictable attribute has discrete values, or if numeric values have been bucketed or discretized, the model always creates a classification tree (NODE_TYPE =2).</span></span> <span data-ttu-id="a48d9-127">分類ツリーには、属性の値ごとに複数の分岐または内部ツリー ノード (NODE_TYPE =3) を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-127">A classification tree can have multiple branches or interior tree nodes (NODE_TYPE =3) for each value of the attribute.</span></span> <span data-ttu-id="a48d9-128">ただし、必ずしも属性の値ごとに分割されるとは限りません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-128">However, the split is not necessarily on each value of the attribute.</span></span>  
  
 <span data-ttu-id="a48d9-129">Microsoft デシジョン ツリー アルゴリズムでは、連続するデータ型が入力として許可されないため、連続する数値データ型の列があると値が分離されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-129">The Microsoft Decision Trees algorithm does not allow continuous data types as inputs; therefore, if any columns have a continuous numeric data type, the values are discretized.</span></span> <span data-ttu-id="a48d9-130">アルゴリズムによって、すべての連続属性の分割のポイントで独自の分離が実行されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-130">The algorithm performs its own discretization at the point of a split for all continuous attributes.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a48d9-131">連続属性のバケット方法は [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] で自動的に選択されますが、入力に含まれる連続値の分離方法は制御することができます。これを行うには、マイニング構造列のコンテンツの種類を `Discretized` に設定し、<xref:Microsoft.AnalysisServices.ScalarMiningStructureColumn.DiscretizationBucketCount%2A> プロパティまたは <xref:Microsoft.AnalysisServices.ScalarMiningStructureColumn.DiscretizationMethod%2A> プロパティを設定します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-131">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] automatically chooses a method for bucketing continuous attributes; however, you can control how continuous values in the inputs are discretized by setting the content type of the mining structure column to `Discretized` and then setting the <xref:Microsoft.AnalysisServices.ScalarMiningStructureColumn.DiscretizationBucketCount%2A> or <xref:Microsoft.AnalysisServices.ScalarMiningStructureColumn.DiscretizationMethod%2A> property.</span></span>  
  
##  <a name="model-content-for-a-decision-trees-model"></a><a name="bkmk_ModelContent"></a> <span data-ttu-id="a48d9-132">デシジョン ツリー モデルのモデル コンテンツ</span><span class="sxs-lookup"><span data-stu-id="a48d9-132">Model Content for a Decision Trees Model</span></span>  
 <span data-ttu-id="a48d9-133">ここでは、マイニング モデル コンテンツの列のうち、デシジョン ツリー モデルに関連する列についてのみ詳細と例を紹介します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-133">This section provides details and examples only for those columns in the mining model content that have particular relevance for decision trees models.</span></span> <span data-ttu-id="a48d9-134">スキーマ行セットの汎用の列の詳細や、マイニング モデルの用語の説明については、「 [マイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-analysis-services-data-mining.md)」 (マイニング モデル コンテンツ (Analysis Services - データ マイニング)) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-134">For information about general-purpose columns in the schema rowset, and explanations of mining model terminology, see [Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md).</span></span>  
  
 <span data-ttu-id="a48d9-135">MODEL_CATALOG</span><span class="sxs-lookup"><span data-stu-id="a48d9-135">MODEL_CATALOG</span></span>  
 <span data-ttu-id="a48d9-136">モデルが格納されているデータベースの名前。</span><span class="sxs-lookup"><span data-stu-id="a48d9-136">Name of the database where the model is stored.</span></span>  
  
 <span data-ttu-id="a48d9-137">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="a48d9-137">MODEL_NAME</span></span>  
 <span data-ttu-id="a48d9-138">モデルの名前。</span><span class="sxs-lookup"><span data-stu-id="a48d9-138">Name of the model.</span></span>  
  
 <span data-ttu-id="a48d9-139">ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="a48d9-139">ATTRIBUTE_NAME</span></span>  
 <span data-ttu-id="a48d9-140">このノードに対応する属性の名前。</span><span class="sxs-lookup"><span data-stu-id="a48d9-140">Name of the attribute that corresponds to this node.</span></span>  
  
 <span data-ttu-id="a48d9-141">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="a48d9-141">NODE_NAME</span></span>  
 <span data-ttu-id="a48d9-142">常に NODE_UNIQUE_NAME と同じです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-142">Always same as NODE_UNIQUE_NAME.</span></span>  
  
 <span data-ttu-id="a48d9-143">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="a48d9-143">NODE_UNIQUE_NAME</span></span>  
 <span data-ttu-id="a48d9-144">モデル内のノードの一意の識別子。</span><span class="sxs-lookup"><span data-stu-id="a48d9-144">A unique identifier for the node within the model.</span></span> <span data-ttu-id="a48d9-145">この値は変更できません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-145">This value cannot be changed.</span></span>  
  
 <span data-ttu-id="a48d9-146">デシジョン ツリー モデルでは、次の規則に従って一意の名前が付けられます。この規則は、すべてのアルゴリズムに適用されるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-146">For decision tree models, the unique names follow the following convention, which does not apply to all algorithms:</span></span>  
  
 <span data-ttu-id="a48d9-147">特定のノードの子ノードでは、共通の 16 進数のプレフィックスの後に、親ノード内における子のシーケンスを表す別の 16 進数が付加されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-147">The child nodes of any particular node will all have the same hexadecimal prefix, followed by another hexadecimal number that represents the sequence of the child node within the parent.</span></span> <span data-ttu-id="a48d9-148">プレフィックスからパスを推測することができます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-148">You can use the prefixes to infer a path.</span></span>  
  
 <span data-ttu-id="a48d9-149">NODE_TYPE</span><span class="sxs-lookup"><span data-stu-id="a48d9-149">NODE_TYPE</span></span>  
 <span data-ttu-id="a48d9-150">デシジョン ツリー モデルでは、次の種類のノードが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-150">In decision tree models, the following types of nodes are created:</span></span>  
  
|<span data-ttu-id="a48d9-151">ノードの種類</span><span class="sxs-lookup"><span data-stu-id="a48d9-151">Node Type</span></span>|<span data-ttu-id="a48d9-152">説明</span><span class="sxs-lookup"><span data-stu-id="a48d9-152">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="a48d9-153">1 (モデル)</span><span class="sxs-lookup"><span data-stu-id="a48d9-153">1 (Model)</span></span>|<span data-ttu-id="a48d9-154">モデルのルート ノードです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-154">Root node for model.</span></span>|  
|<span data-ttu-id="a48d9-155">2 (ツリー)</span><span class="sxs-lookup"><span data-stu-id="a48d9-155">2 (Tree)</span></span>|<span data-ttu-id="a48d9-156">モデル内の分類ツリーの親ノードです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-156">Parent node for classification trees in the model.</span></span> <span data-ttu-id="a48d9-157">**"すべて"** というラベルが付けられます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-157">Labeled **"All"**.</span></span>|  
|<span data-ttu-id="a48d9-158">3 (内部)</span><span class="sxs-lookup"><span data-stu-id="a48d9-158">3 (Interior)</span></span>|<span data-ttu-id="a48d9-159">内部分岐の先頭です。分類ツリーまたは回帰ツリー内に存在します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-159">Head of interior branch, found within in a classification tree or regression tree.</span></span>|  
|<span data-ttu-id="a48d9-160">4 (分布)</span><span class="sxs-lookup"><span data-stu-id="a48d9-160">4 (Distribution)</span></span>|<span data-ttu-id="a48d9-161">リーフ ノードです。分類ツリーまたは回帰ツリー内に存在します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-161">Leaf node, found within a classification tree or regression tree.</span></span>|  
|<span data-ttu-id="a48d9-162">25 (回帰ツリー)</span><span class="sxs-lookup"><span data-stu-id="a48d9-162">25 (Regression tree)</span></span>|<span data-ttu-id="a48d9-163">モデル内の回帰ツリーの親ノードです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-163">Parent node for regression tree within the model.</span></span> <span data-ttu-id="a48d9-164">**"すべて"** というラベルが付けられます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-164">Labeled as **"All"**.</span></span>|  
  
 <span data-ttu-id="a48d9-165">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="a48d9-165">NODE_CAPTION</span></span>  
 <span data-ttu-id="a48d9-166">表示名。</span><span class="sxs-lookup"><span data-stu-id="a48d9-166">A friendly name for display purposes.</span></span>  
  
 <span data-ttu-id="a48d9-167">モデルを作成すると、NODE_UNIQUE_NAME の値が自動的にキャプションとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-167">When you create a model, the value of NODE_UNIQUE_NAME is automatically used as the caption.</span></span> <span data-ttu-id="a48d9-168">ただし、NODE_CAPTION の値を変更してクラスターの表示名を更新することもできます。この値は、プログラムで変更することも、ビューアーを使用して変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-168">However, you can change the value for NODE_CAPTION to update the display name for the cluster, either programmatically or by using the viewer.</span></span> <span data-ttu-id="a48d9-169">キャプションはモデルによって自動的に生成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-169">The caption is automatically generated by the model.</span></span> <span data-ttu-id="a48d9-170">キャプションの内容は、モデルの種類およびノードの種類によって異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-170">The content of the caption depends on the type of model, and the node type.</span></span>  
  
 <span data-ttu-id="a48d9-171">デシジョン ツリー モデルの NODE_CAPTION と NODE_DESCRIPTION の情報は、ツリー内のレベルによって異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-171">In a decision trees model, the NODE_CAPTION and the NODE_DESCRIPTION have different information, depending on the level in the tree.</span></span> <span data-ttu-id="a48d9-172">詳細と例については、「 [ノードのキャプションとノードの記述](#NodeCaption)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-172">For more information and examples, see [Node Caption and Node Description](#NodeCaption).</span></span>  
  
 <span data-ttu-id="a48d9-173">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="a48d9-173">CHILDREN_CARDINALITY</span></span>  
 <span data-ttu-id="a48d9-174">ノードの子の推定数。</span><span class="sxs-lookup"><span data-stu-id="a48d9-174">An estimate of the number of children that the node has.</span></span>  
  
 <span data-ttu-id="a48d9-175">**親ノード** モデル化された予測可能な属性の数を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-175">**Parent node** Indicates the number of predictable attributes that were modeled.</span></span> <span data-ttu-id="a48d9-176">予測可能な属性ごとにツリーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-176">A tree is created for each predictable attribute.</span></span>  
  
 <span data-ttu-id="a48d9-177">**ツリー ノード** 各ツリーの **[すべて]** ノードから、対象の属性に使用された値の数がわかります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-177">**Tree node** The **All** node for each tree tells you how many values were used for the target attribute.</span></span>  
  
-   <span data-ttu-id="a48d9-178">対象の属性が不連続属性の場合、値は個別の値に 1 (`Missing` 状態の分) を加算した数になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-178">If the target attribute is discrete, the value equals the number of distinct values plus 1 for the `Missing` state.</span></span>  
  
-   <span data-ttu-id="a48d9-179">予測可能な属性が連続属性の場合、値は連続属性をモデル化するために使用されたバケットの数を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-179">If the predictable attribute is continuous, the value tells you how many buckets were used to model the continuous attribute.</span></span>  
  
 <span data-ttu-id="a48d9-180">**リーフ ノード** 常に 0 です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-180">**Leaf nodes** Always 0.</span></span>  
  
 <span data-ttu-id="a48d9-181">PARENT_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="a48d9-181">PARENT_UNIQUE_NAME</span></span>  
 <span data-ttu-id="a48d9-182">ノードの親の一意な名前です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-182">The unique name of the node's parent.</span></span> <span data-ttu-id="a48d9-183">ルート レベルのノードには NULL を返します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-183">NULL is returned for any nodes at the root level.</span></span>  
  
 <span data-ttu-id="a48d9-184">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="a48d9-184">NODE_DESCRIPTION</span></span>  
 <span data-ttu-id="a48d9-185">ノードの説明です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-185">A description of the node.</span></span>  
  
 <span data-ttu-id="a48d9-186">デシジョン ツリー モデルの NODE_CAPTION と NODE_DESCRIPTION の情報は、ツリー内のレベルによって異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-186">In a decision trees model, the NODE_CAPTION and the NODE_DESCRIPTION have different information, depending on the level in the tree.</span></span>  
  
 <span data-ttu-id="a48d9-187">詳細と例については、「 [ノードのキャプションとノードの記述](#NodeCaption)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-187">For more information and examples, see [Node Caption and Node Description](#NodeCaption).</span></span>  
  
 <span data-ttu-id="a48d9-188">NODE_RULE</span><span class="sxs-lookup"><span data-stu-id="a48d9-188">NODE_RULE</span></span>  
 <span data-ttu-id="a48d9-189">直接の親ノードから現在のノードへのパスを示すルールの XML 記述。</span><span class="sxs-lookup"><span data-stu-id="a48d9-189">An XML description of the rule that describes the path to the current node from its immediate parent node.</span></span>  
  
 <span data-ttu-id="a48d9-190">詳細と例については、「 [ノード ルールとマージナル ルール](#NodeRule)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-190">For more information and examples, see [Node Rule and Marginal Rule](#NodeRule).</span></span>  
  
 <span data-ttu-id="a48d9-191">MARGINAL_RULE</span><span class="sxs-lookup"><span data-stu-id="a48d9-191">MARGINAL_RULE</span></span>  
 <span data-ttu-id="a48d9-192">モデルの親ノードから現在のノードへのパスを示すルールの XML 記述。</span><span class="sxs-lookup"><span data-stu-id="a48d9-192">An XML description of the rule that describes the path from the model parent node to the current node.</span></span>  
  
 <span data-ttu-id="a48d9-193">詳細については、「 [ノード ルールとマージナル ルール](#NodeRule)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-193">For more information, see [Node Rule and Marginal Rule](#NodeRule).</span></span>  
  
 <span data-ttu-id="a48d9-194">NODE_PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="a48d9-194">NODE_PROBABILITY</span></span>  
 <span data-ttu-id="a48d9-195">このノードに関連付けられている確率。</span><span class="sxs-lookup"><span data-stu-id="a48d9-195">The probability associated with this node.</span></span>  
  
 <span data-ttu-id="a48d9-196">詳細については、「 [確率](#bkmk_NodeDist_Discrete)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-196">For more information, see [Probability](#bkmk_NodeDist_Discrete).</span></span>  
  
 <span data-ttu-id="a48d9-197">MARGINAL_PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="a48d9-197">MARGINAL_PROBABILITY</span></span>  
 <span data-ttu-id="a48d9-198">親ノードからノードに到達する確率です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-198">The probability of reaching the node from the parent node.</span></span>  
  
 <span data-ttu-id="a48d9-199">詳細については、「 [確率](#bkmk_NodeDist_Discrete)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-199">For more information, see [Probability](#bkmk_NodeDist_Discrete).</span></span>  
  
 <span data-ttu-id="a48d9-200">NODE_DISTRIBUTION</span><span class="sxs-lookup"><span data-stu-id="a48d9-200">NODE_DISTRIBUTION</span></span>  
 <span data-ttu-id="a48d9-201">ノードの確率ヒストグラムが含まれているテーブル。</span><span class="sxs-lookup"><span data-stu-id="a48d9-201">A table that contains the probability histogram of the node.</span></span> <span data-ttu-id="a48d9-202">このテーブルの情報は、予測可能な属性が連続変数か不連続変数かによって異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-202">The information in this table differs depending on whether the predictable attribute is a continuous or discrete variable.</span></span>  
  
 <span data-ttu-id="a48d9-203">**モデル ルート ノード** このテーブルは空です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-203">**Model root node** This table is empty.</span></span>  
  
 <span data-ttu-id="a48d9-204">**[(すべて)] ノード** モデル全体の概要が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-204">**(All) node** Contains a summary for the model as a whole.</span></span>  
  
 <span data-ttu-id="a48d9-205">**内部ノード** そのリーフ ノードについて集計された統計が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-205">**Interior node** Contains aggregated statistics for its leaf nodes.</span></span>  
  
 <span data-ttu-id="a48d9-206">**リーフ ノード** 現在のリーフ ノードまでのパスに含まれるすべての条件から予測される結果のサポートおよび確率が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-206">**Leaf node** Contains support and probability for the predicted outcomes given all the conditions in the path leading to the current leaf node.</span></span>  
  
 <span data-ttu-id="a48d9-207">**回帰ノード** 入力と予測可能な属性のリレーションシップを表す回帰式が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-207">**Regression node** Contains regression formula that represents the relationship between the inputs and the predictable attribute.</span></span>  
  
 <span data-ttu-id="a48d9-208">詳細については、「 [不連続属性のノード分布](#bkmk_NodeDist_Discrete) 」および「 [連続属性のノード分布](#bkmk_RegressionNodes)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-208">For more information, see [Node Distribution for Discrete Attributes](#bkmk_NodeDist_Discrete) and [Node Distribution for Continuous Attributes](#bkmk_RegressionNodes).</span></span>  
  
 <span data-ttu-id="a48d9-209">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="a48d9-209">NODE_SUPPORT</span></span>  
 <span data-ttu-id="a48d9-210">このノードをサポートするケースの数。</span><span class="sxs-lookup"><span data-stu-id="a48d9-210">The number of cases that support this node.</span></span>  
  
 <span data-ttu-id="a48d9-211">MSOLAP_MODEL_COLUMN</span><span class="sxs-lookup"><span data-stu-id="a48d9-211">MSOLAP_MODEL_COLUMN</span></span>  
 <span data-ttu-id="a48d9-212">予測可能な属性を格納する列を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-212">Indicates the column that contains the predictable attribute.</span></span>  
  
 <span data-ttu-id="a48d9-213">MSOLAP_NODE_SCORE</span><span class="sxs-lookup"><span data-stu-id="a48d9-213">MSOLAP_NODE_SCORE</span></span>  
 <span data-ttu-id="a48d9-214">ノードに関連付けられたスコアが表示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-214">Displays a score associated with the node.</span></span> <span data-ttu-id="a48d9-215">詳細については、「 [ノード スコア](#NodeScore)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-215">For more information, see [Node Score](#NodeScore).</span></span>  
  
 <span data-ttu-id="a48d9-216">MSOLAP_NODE_SHORT_CAPTION</span><span class="sxs-lookup"><span data-stu-id="a48d9-216">MSOLAP_NODE_SHORT_CAPTION</span></span>  
 <span data-ttu-id="a48d9-217">表示目的で使用されるラベル。</span><span class="sxs-lookup"><span data-stu-id="a48d9-217">A label used for display purposes.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="a48d9-218">解説</span><span class="sxs-lookup"><span data-stu-id="a48d9-218">Remarks</span></span>  
 <span data-ttu-id="a48d9-219">デシジョン ツリー モデルには、Naive Bayes またはニュートラル ネットワーク モデルに含まれるマージナル統計ノードのような、モデル全体の統計を格納する独立したノードはありません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-219">A decision trees model does not have a separate node that stores statistics for the entire model, unlike the marginal statistics node found in a Naive Bayes or neural network model.</span></span> <span data-ttu-id="a48d9-220">代わりに、予測可能な属性ごとに、最上位ノードを [(すべて)] ノードとする個別のツリーが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-220">Instead, the model creates a separate tree for each predictable attribute, with an (All) node at the top of the tree.</span></span> <span data-ttu-id="a48d9-221">各ツリーは互いに独立しています。</span><span class="sxs-lookup"><span data-stu-id="a48d9-221">Each tree is independent of the others.</span></span> <span data-ttu-id="a48d9-222">モデルに含まれる予測可能な属性が 1 つしかない場合、ツリーは 1 つだけ、つまり [(すべて)] ノードだけになります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-222">If your model contains only one predictable attribute, there is only one tree, and therefore only one (All) node.</span></span>  
  
 <span data-ttu-id="a48d9-223">出力属性を表す各ツリーは、分割を表す内部分岐 (NODE_TYPE = 3) にさらに分割されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-223">Each tree that represents an output attribute is additionally subdivided into interior branches (NODE_TYPE = 3) that represent splits.</span></span> <span data-ttu-id="a48d9-224">それらのツリーのそれぞれに、対象の属性の分布に関する統計が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-224">Each of these trees contains statistics about the distribution of the target attribute.</span></span> <span data-ttu-id="a48d9-225">さらに、各リーフ ノード (NODE_TYPE = 4) に、属性と値の各ペアをサポートするケース数と共に、入力属性とその値を表す統計が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-225">In addition, each leaf node (NODE_TYPE = 4) contains statistics that describe input attributes and their values, together with the number of cases in support of each attribute-value pair.</span></span> <span data-ttu-id="a48d9-226">したがって、デシジョン ツリーの分岐では、ソース データに対してクエリを実行しなくても、確率やデータの分布を簡単に確認できます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-226">Therefore, in any branch of a decision tree, you can view the probabilities or the distribution of data easily without having to query the source data.</span></span> <span data-ttu-id="a48d9-227">ツリーの各レベルは、必ずその直接の子ノードの合計を表します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-227">Each level of the tree necessarily represents the sum of its immediate child nodes.</span></span>  
  
 <span data-ttu-id="a48d9-228">これらの統計情報を取得する方法の例については、「 [デシジョン ツリー モデルのクエリ例](decision-trees-model-query-examples.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-228">For examples of how to retrieve these statistics, see [Decision Trees Model Query Examples](decision-trees-model-query-examples.md).</span></span>  
  
## <a name="example-of-decision-tree-structure"></a><span data-ttu-id="a48d9-229">デシジョン ツリー構造の例</span><span class="sxs-lookup"><span data-stu-id="a48d9-229">Example of Decision Tree Structure</span></span>  
 <span data-ttu-id="a48d9-230">デシジョン ツリーの動作を理解するために、AdventureWorks の自転車購入者のシナリオの例を考えてみます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-230">To understand how a decision tree works, consider an example, such as the AdventureWorks bike buyer scenario.</span></span> <span data-ttu-id="a48d9-231">予測可能な属性が顧客の購入である場合、デシジョン ツリー アルゴリズムでは、指定されたすべての入力の中から、自転車を購入する可能性が高い顧客と自転車を購入する可能性が低い顧客を最も効果的に検出できる 1 列のデータを見つけようとします。</span><span class="sxs-lookup"><span data-stu-id="a48d9-231">Assuming that the predictable attribute is customer purchases, the decision trees algorithm tries to find one column of data, among all the inputs that you provided, that most effectively detects the customers that are likely to purchase a bike and those who are unlikely to buy a bike.</span></span> <span data-ttu-id="a48d9-232">たとえば、モデルから、購入行動の最善の指標が Age であるとわかったとします。</span><span class="sxs-lookup"><span data-stu-id="a48d9-232">For example, the model might find that Age is the best indicator of purchasing behavior.</span></span> <span data-ttu-id="a48d9-233">具体的には、31 歳以上の顧客が自転車を購入する可能性が非常に高く、それ以外のすべての顧客は購入する可能性が低いなどです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-233">Specifically, that the customers over the age of 30 are very likely to purchase a bike, and all other customers are unlikely to make a purchase.</span></span> <span data-ttu-id="a48d9-234">この場合、モデルでは Age 属性について *分割* が作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-234">In this scenario, the model creates a *split* on the Age attribute.</span></span> <span data-ttu-id="a48d9-235">つまり、ツリーが 2 つの分岐に分割され、1 つには 30 歳以上の顧客が含まれ、もう 1 つには 30 歳未満の顧客が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-235">That means that the tree divides into two branches, one containing customers over the age of 30, and the other containing customers under 30.</span></span> <span data-ttu-id="a48d9-236">新しい分岐は、モデル構造で 2 つの新しい内部ツリー (NODE_TYPE = 3) として表されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-236">The new branches are represented in the model structure as two new interior trees (NODE_TYPE = 3).</span></span>  
  
 <span data-ttu-id="a48d9-237">各分岐について、モデルでは引き続き顧客の区別に使用するその他の属性を探します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-237">For each branch, the model continues to look for additional attributes to use in differentiating customers.</span></span> <span data-ttu-id="a48d9-238">顧客のサブグループの作成を継続するための十分な根拠となるデータがなくなると、モデルでツリーの作成が中止されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-238">If there is insufficient evidence in the data to continue creating subgroups of customers, the model stops building the tree.</span></span> <span data-ttu-id="a48d9-239">また、分割が適切であってもノード内のケース数が少なすぎて継続できない場合や、NULL 値または不足値があった場合にも、ツリーの作成が中止されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-239">The model will also stop building the tree whenever the number of cases in the node is too small to continue, regardless of how good the split is, or if the value is null or missing.</span></span> <span data-ttu-id="a48d9-240">ツリーの拡大を早い段階で中止することによって、モデルで 1 つの特定のデータセットに対して過度のトレーニングが行われることを防止します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-240">By stopping the growth of the tree early, you prevent the model from training too closely to one particular set of data.</span></span>  
  
 <span data-ttu-id="a48d9-241">各内部ツリー ノードには、現在の分類結果から得られる結果の内訳を示すリーフ ノードが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-241">Each interior tree node contains leaf nodes that provide a breakdown of the outcomes given the current classification results.</span></span> <span data-ttu-id="a48d9-242">たとえば、Age >= 30 かつ Gender = Male を表す内部ノードがあるとします。</span><span class="sxs-lookup"><span data-stu-id="a48d9-242">For example, you might have an interior node that represents Age >= 30 and Gender = Male.</span></span> <span data-ttu-id="a48d9-243">このグループのノードには、このカテゴリに含まれる購入した顧客または購入しなかった顧客の数が示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-243">The node for this group shows you how many customers in this category purchased or did not purchase something.</span></span> <span data-ttu-id="a48d9-244">たとえば、分類には次のようなツリーの分割が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-244">For example, the classification might contain the following tree splits:</span></span>  
  
|<span data-ttu-id="a48d9-245">内部ツリー</span><span class="sxs-lookup"><span data-stu-id="a48d9-245">Interior tree</span></span>|<span data-ttu-id="a48d9-246">Split</span><span class="sxs-lookup"><span data-stu-id="a48d9-246">Split</span></span>|  
|-------------------|-----------|  
|<span data-ttu-id="a48d9-247">Age >= 30</span><span class="sxs-lookup"><span data-stu-id="a48d9-247">Age >= 30</span></span>|<span data-ttu-id="a48d9-248">Age >= 30 かつ Gender = Male</span><span class="sxs-lookup"><span data-stu-id="a48d9-248">Age >= 30 and Gender = Male</span></span>|  
||<span data-ttu-id="a48d9-249">Age >= 30 かつ Gender = Female</span><span class="sxs-lookup"><span data-stu-id="a48d9-249">Age >= 30 and Gender = Female</span></span>|  
|<span data-ttu-id="a48d9-250">Age < 30</span><span class="sxs-lookup"><span data-stu-id="a48d9-250">Age < 30</span></span>|<span data-ttu-id="a48d9-251">Age < 30 かつ Gender = Male</span><span class="sxs-lookup"><span data-stu-id="a48d9-251">Age < 30 and Gender = Male</span></span>|  
||<span data-ttu-id="a48d9-252">Age \< 30 および性別 = 女性</span><span class="sxs-lookup"><span data-stu-id="a48d9-252">Age \< 30 and Gender = Female</span></span>|  
  
 <span data-ttu-id="a48d9-253">デシジョン ツリー モデルを使用して予測を行う場合、モデルでは、引数として指定された属性を受け取り、ツリーの下位方向にその属性のパスをたどります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-253">When you use a decision tree model for prediction, the model takes the attributes that you provide to it as arguments and follows the path of the attributes down through the tree.</span></span> <span data-ttu-id="a48d9-254">一般に、すべての予測はリーフまで進み、内部ノードは分類のためだけに使用されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-254">In general, all predictions go to a leaf, and the interior nodes are used only for classification.</span></span>  
  
 <span data-ttu-id="a48d9-255">リーフ ノードの NODE_TYPE は常に 4 (分布) であり、このノードには、指定した属性から得られるそれぞれの結果 (購入するかしないか) の確率を示すヒストグラムが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-255">A leaf node always has a NODE_TYPE of 4 (Distribution) and contains a histogram that tells the probability of each outcome (purchase or not purchase) given the attributes you provide.</span></span> <span data-ttu-id="a48d9-256">たとえば、61 歳以上の男性の新しい顧客についての予測を要求すると、モデルによって対応するノード (Age > 30 かつ Gender = Male) が参照され、指定した結果になる確率が返されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-256">For example, if you ask for a prediction for a new customer who is a male over 60, the model will look up the corresponding node (Age > 30 and Gender = Male) and then return the probability for the outcome that you specify.</span></span> <span data-ttu-id="a48d9-257">これらの確率は、ノードの [NODE_DISTRIBUTION](#bkmk_NodeDist_Discrete) テーブルに格納されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-257">These probabilities are stored in the [NODE_DISTRIBUTION](#bkmk_NodeDist_Discrete) table for the node.</span></span>  
  
 <span data-ttu-id="a48d9-258">予測可能な属性が連続する数値である場合、アルゴリズムでは、予測可能な属性と入力のリレーションシップをモデル化する回帰式の作成が試行されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-258">If the predictable attribute is a continuous number, the algorithm tries to create a regression formula that models the relationship between the predictable attribute and the inputs.</span></span>  
  
###  <a name="node-caption-and-node-description"></a><a name="NodeCaption"></a><span data-ttu-id="a48d9-259">ノードのキャプションとノードの説明</span><span class="sxs-lookup"><span data-stu-id="a48d9-259">Node Caption and Node Description</span></span>  
 <span data-ttu-id="a48d9-260">デシジョン ツリー モデルでは、ノードのキャプションとノードの記述に同様の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-260">In a decision tree model, the node caption and node description contain similar information.</span></span> <span data-ttu-id="a48d9-261">ただし、ノードの記述の方が含まれる情報が多く、その情報はリーフ ノードに近いほど詳細になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-261">However, the node description is more complete and contains more information as you move closer to the leaf nodes.</span></span> <span data-ttu-id="a48d9-262">ノードのキャプションとノードの記述の文字列は、どちらもローカライズされます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-262">Both the node caption and node description are localized strings.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="a48d9-263">**NODE_CAPTION**</span><span class="sxs-lookup"><span data-stu-id="a48d9-263">**NODE_CAPTION**</span></span>|<span data-ttu-id="a48d9-264">親ノードを基準に特定のノードを区別する属性が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-264">Displays the attribute that distinguishes that particular node relative to the parent node.</span></span> <span data-ttu-id="a48d9-265">ノードのキャプションでは、分割条件の基になる設定のサブセグメントが定義されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-265">The node caption defines a sub-segment of the population based the split condition.</span></span> <span data-ttu-id="a48d9-266">たとえば、分割が [Age] であり、3方向の分割であった場合、3つの子ノードのノードキャプションは "[Age] < 40", "40 <= [Age] \< 50", "[Age] > = 50" になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-266">For example, if the split was on [Age] and it was a three-way split, the node captions for the three child nodes might be "[Age] < 40", "40 <= [Age] \< 50", "[Age] >= 50".</span></span>|  
|<span data-ttu-id="a48d9-267">**NODE_DESCRIPTION**</span><span class="sxs-lookup"><span data-stu-id="a48d9-267">**NODE_DESCRIPTION**</span></span>|<span data-ttu-id="a48d9-268">ノードを他のノードと区別するすべての属性を示す、モデルの親ノードから始まる一覧が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-268">Contains a full list of the attributes that distinguish that node from other nodes, starting from the model parent node.</span></span> <span data-ttu-id="a48d9-269">たとえば、Product name = Apple かつ Color = Red のようになります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-269">For example, Product name = Apple and Color = Red.</span></span>|  
  
###  <a name="node-rule-and-marginal-rule"></a><a name="NodeRule"></a><span data-ttu-id="a48d9-270">ノードルールとルールの規則</span><span class="sxs-lookup"><span data-stu-id="a48d9-270">Node Rule and Marginal Rule</span></span>  
 <span data-ttu-id="a48d9-271">NODE_RULE 列と MARGINAL_RULE 列には、NODE_CAPTION 列および NODE_DESCRIPTION 列と同じ情報が格納されますが、これらの列では情報が XML フラグメントとして表現されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-271">The NODE_RULE and MARGINAL_RULE columns contain the same information as the NODE_CAPTION and NODE_DESCRIPTION columns, but represent the information as XML fragments.</span></span> <span data-ttu-id="a48d9-272">ノード ルールは XML バージョンの完全なパスであるのに対し、マージナル ルールは最新の分割を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-272">The node rule is an XML version of the full path, whereas the marginal rule indicates the most recent split.</span></span>  
  
 <span data-ttu-id="a48d9-273">XML フラグメントで表現される属性は、単純な属性または複雑な属性のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-273">The attribute represented by the XML fragment can be either simple or complex.</span></span> <span data-ttu-id="a48d9-274">単純な属性には、モデル列の名前、および属性の値が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-274">A simple attribute contains the name of the model column, and the value of the attribute.</span></span> <span data-ttu-id="a48d9-275">モデル列に入れ子になったテーブルが含まれる場合は、入れ子になったテーブルの属性は、テーブル名、キー値、および属性を連結して表現されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-275">If the model column contains a nested table, the nested table attribute is represented as a concatenation of the table name, the key value, and the attribute.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="a48d9-276">で [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、バージョン2.0 の PMML 標準がサポートされ、入れ子になったテーブルの使用をサポートする拡張機能がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="a48d9-276">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supports version 2.0 of the PMML standard, with extensions to support the use of nested table.</span></span> <span data-ttu-id="a48d9-277">入れ子になったテーブルがデータに含まれている場合に PMML バージョンのモデルを生成すると、述語を含むモデル内のすべての要素に拡張機能であることを示すマークが付けられます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-277">If your data contains nested tables and you generate a PMML version of the model, all elements in the model that include the predicates are marked as an extension.</span></span>  
  
###  <a name="node-distribution-for-discrete-attributes"></a><a name="bkmk_NodeDist_Discrete"></a><span data-ttu-id="a48d9-278">不連続属性のノード分布</span><span class="sxs-lookup"><span data-stu-id="a48d9-278">Node Distribution for Discrete Attributes</span></span>  
 <span data-ttu-id="a48d9-279">デシジョン ツリー モデルの NODE_DISTRIBUTION テーブルには、役立つ統計が含まれています。</span><span class="sxs-lookup"><span data-stu-id="a48d9-279">In a decision trees model, the NODE_DISTRIBUTION table contains useful statistics.</span></span> <span data-ttu-id="a48d9-280">ただし、統計の種類は、ツリーで連続属性と不連続属性のどちらを予測するかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-280">However, the type of statistics depends on whether the tree predicts a discrete or continuous attribute.</span></span> <span data-ttu-id="a48d9-281">ここでは、不連続属性のノード分布統計の意味について説明します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-281">This section describes the meaning of the node distribution statistics for discrete attributes.</span></span>  
  
#### <a name="attribute-name-and-attribute-value"></a><span data-ttu-id="a48d9-282">属性名と属性値</span><span class="sxs-lookup"><span data-stu-id="a48d9-282">Attribute Name and Attribute Value</span></span>  
 <span data-ttu-id="a48d9-283">分類ツリーでは、属性名には必ず予測可能列の名前が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-283">In a classification tree, the attribute name always contains the name of the predictable column.</span></span> <span data-ttu-id="a48d9-284">この値から、ツリーで予測する対象がわかります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-284">This value tells you what the tree predicts.</span></span> <span data-ttu-id="a48d9-285">1 つのツリーは必ず 1 つの予測可能な属性を表すため、この値はツリー全体で繰り返し使用されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-285">Because a single tree always represents a single predictable attribute, this value is repeated throughout the tree.</span></span>  
  
 <span data-ttu-id="a48d9-286">不連続のデータ型の場合、属性値のフィールドに、予測可能列が取り得る値の一覧と `Missing` 値が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-286">For a discrete data type, the attribute value field lists the possible values of the predictable column, plus the `Missing` value.</span></span>  
  
#### <a name="support"></a><span data-ttu-id="a48d9-287">サポート</span><span class="sxs-lookup"><span data-stu-id="a48d9-287">Support</span></span>  
 <span data-ttu-id="a48d9-288">各ノードのサポート値は、そのノードに含まれるケースの数を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-288">The support value for each node tells you how many cases are included in this node.</span></span> <span data-ttu-id="a48d9-289">"(すべて)" レベルでは、モデルのトレーニングに使用されたすべてのケースの数が示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-289">At the (All) level, you should see the complete count of cases that were used to train the model.</span></span> <span data-ttu-id="a48d9-290">ツリー内の各分割では、サポート値は、ツリーのそのノードにグループ化されたケースの数になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-290">For each split in the tree, the support value is the count of cases that were grouped into that node of the tree.</span></span> <span data-ttu-id="a48d9-291">リーフ ノードのケースの合計は、必ずツリーの親ノードのケース数と等しくなります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-291">The sum of cases in the leaf nodes necessarily equals the count of cases in the parent node of the tree.</span></span>  
  
 <span data-ttu-id="a48d9-292">連続属性を表すノードの場合、データに NULL が存在すると、やや直観に反する結果になることがあります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-292">For nodes that represent continuous attributes, the presence of nulls in the data might lead to some counterintuitive results.</span></span> <span data-ttu-id="a48d9-293">たとえば、ケース数を m とすると、平均値の計算式は sum(すべてのケース)/n (n は m より小さい数値) になり、m-n は不足値を含むケースの数を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-293">For example, if there are m cases, a mean value would be calculated as sum(all cases)/n, where n is a number less than m, and m-n indicates the count of cases with missing values.</span></span> <span data-ttu-id="a48d9-294">また、サポートは n で表されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-294">Support is also represented as n.</span></span>  
  
#### <a name="probability"></a><span data-ttu-id="a48d9-295">確率</span><span class="sxs-lookup"><span data-stu-id="a48d9-295">Probability</span></span>  
 <span data-ttu-id="a48d9-296">各ノードに関連付けられた確率は、データセット全体のすべてのケースがこの特定のノードで終了する確率を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-296">The probability associated with each node tells you the probability that any case in the whole data set would end up in this particular node.</span></span> <span data-ttu-id="a48d9-297">確率スコアは、ツリー全体および直接の分割の両方について計算されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-297">Probability scores are computed both for the tree as a whole, and for the immediate split.</span></span>  
  
 <span data-ttu-id="a48d9-298">たとえば次の表は、ケース数が 100 の非常に単純なモデルを示しています。</span><span class="sxs-lookup"><span data-stu-id="a48d9-298">For example, the following table shows a very simple model, with 100 cases.</span></span>  
  
|<span data-ttu-id="a48d9-299">内部ツリー</span><span class="sxs-lookup"><span data-stu-id="a48d9-299">Interior tree</span></span>|<span data-ttu-id="a48d9-300">ケース</span><span class="sxs-lookup"><span data-stu-id="a48d9-300">Cases</span></span>|<span data-ttu-id="a48d9-301">リーフ ノード</span><span class="sxs-lookup"><span data-stu-id="a48d9-301">Leaf node</span></span>|<span data-ttu-id="a48d9-302">ケース</span><span class="sxs-lookup"><span data-stu-id="a48d9-302">Cases</span></span>|<span data-ttu-id="a48d9-303">親ノードに対する確率</span><span class="sxs-lookup"><span data-stu-id="a48d9-303">Probability relative to parent node</span></span>|<span data-ttu-id="a48d9-304">最上位ノードに対する確率</span><span class="sxs-lookup"><span data-stu-id="a48d9-304">Probability relative to top node</span></span>|  
|-------------------|-----------|---------------|-----------|-----------------------------------------|--------------------------------------|  
|<span data-ttu-id="a48d9-305">Age >= 30</span><span class="sxs-lookup"><span data-stu-id="a48d9-305">Age >= 30</span></span>|<span data-ttu-id="a48d9-306">60</span><span class="sxs-lookup"><span data-stu-id="a48d9-306">60</span></span>|<span data-ttu-id="a48d9-307">Age >= 30 かつ Gender = Male</span><span class="sxs-lookup"><span data-stu-id="a48d9-307">Age >= 30 and Gender = Male</span></span>|<span data-ttu-id="a48d9-308">50</span><span class="sxs-lookup"><span data-stu-id="a48d9-308">50</span></span>|<span data-ttu-id="a48d9-309">50/60 = .83</span><span class="sxs-lookup"><span data-stu-id="a48d9-309">50/60 = .83</span></span>|<span data-ttu-id="a48d9-310">50/100 = .5</span><span class="sxs-lookup"><span data-stu-id="a48d9-310">50/100 = .5</span></span>|  
|||<span data-ttu-id="a48d9-311">Age >= 30 かつ Gender = Female</span><span class="sxs-lookup"><span data-stu-id="a48d9-311">Age >= 30 and Gender = Female</span></span>|<span data-ttu-id="a48d9-312">10</span><span class="sxs-lookup"><span data-stu-id="a48d9-312">10</span></span>|<span data-ttu-id="a48d9-313">10/60 = .16</span><span class="sxs-lookup"><span data-stu-id="a48d9-313">10/60 = .16</span></span>|<span data-ttu-id="a48d9-314">10/100 = .10</span><span class="sxs-lookup"><span data-stu-id="a48d9-314">10/100 = .10</span></span>|  
|<span data-ttu-id="a48d9-315">Age < 30</span><span class="sxs-lookup"><span data-stu-id="a48d9-315">Age < 30</span></span>|<span data-ttu-id="a48d9-316">40</span><span class="sxs-lookup"><span data-stu-id="a48d9-316">40</span></span>|<span data-ttu-id="a48d9-317">Age < 30 かつ Gender = Male</span><span class="sxs-lookup"><span data-stu-id="a48d9-317">Age < 30 and Gender = Male</span></span>|<span data-ttu-id="a48d9-318">30</span><span class="sxs-lookup"><span data-stu-id="a48d9-318">30</span></span>|<span data-ttu-id="a48d9-319">30/40 = .75</span><span class="sxs-lookup"><span data-stu-id="a48d9-319">30/40 = .75</span></span>|<span data-ttu-id="a48d9-320">30/100 = .30</span><span class="sxs-lookup"><span data-stu-id="a48d9-320">30/100 = .30</span></span>|  
|||<span data-ttu-id="a48d9-321">Age < 30 かつ Gender = Female</span><span class="sxs-lookup"><span data-stu-id="a48d9-321">Age < 30 and Gender = Female</span></span>|<span data-ttu-id="a48d9-322">10</span><span class="sxs-lookup"><span data-stu-id="a48d9-322">10</span></span>|<span data-ttu-id="a48d9-323">10/40 = .25</span><span class="sxs-lookup"><span data-stu-id="a48d9-323">10/40 = .25</span></span>|<span data-ttu-id="a48d9-324">10/100 = .10</span><span class="sxs-lookup"><span data-stu-id="a48d9-324">10/100 = .10</span></span>|  
  
 <span data-ttu-id="a48d9-325">すべてのモデルで、考えられる不足値を計算に含めるためにわずかな調整が行われます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-325">A small adjustment is made in all models to account for possible missing values.</span></span> <span data-ttu-id="a48d9-326">連続属性の場合、各値または値の範囲は状態 (たとえば、Age 30) として表され、 \<30, Age = 30, and Age > 確率は次のように計算されます。状態が存在する (値 = 1)、他の状態が存在する (値 = 0)、状態は `Missing` です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-326">For continuous attributes, each value or range of values is represented as a state (for example, Age \<30, Age = 30, and Age >30) and the probabilities are calculated as follows: state exists (value = 1), some other state exists (value = 0), state is `Missing`.</span></span> <span data-ttu-id="a48d9-327">不足値を反映するように確率を調整する方法の詳細については、「[Missing Values &#40;Analysis Services - Data Mining&#41;](missing-values-analysis-services-data-mining.md)」 (不足値 (Analysis Services - データ マイニング)) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-327">For more information about how probabilities are adjusted to represent missing values, see [Missing Values &#40;Analysis Services - Data Mining&#41;](missing-values-analysis-services-data-mining.md).</span></span>  
  
 <span data-ttu-id="a48d9-328">各ノードの確率は、次のように分布からほぼ直接的に計算されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-328">The probabilities for each node are calculated almost directly from the distribution, as follows:</span></span>  
  
 <span data-ttu-id="a48d9-329">確率 = (状態のサポート + 前の状態のサポート) / (ノード サポートと前のノード サポートの合計)</span><span class="sxs-lookup"><span data-stu-id="a48d9-329">Probability = (support for state + support for prior state) / (node support plus the prior node support)</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="a48d9-330">では、各ノードの確率を使用して、格納された確率と前の確率を比較することで、親ノードから子ノードへのパスが強い推定を示すかどうかが判断されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-330">uses probabilities for each node to compare the stored probability with the prior probability to determine whether the path from the parent to the child node indicates a strong inference.</span></span>  
  
 <span data-ttu-id="a48d9-331">予測を行うときは、分布の確率とノードの確率のバランスをとって、確率を滑らかに調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-331">When making predictions, the probability of the distribution must be balanced with the probability of the node, to smoothen the probabilities.</span></span> <span data-ttu-id="a48d9-332">たとえば、ツリー内の分割で 9000/1000 の比率でケースが分割されている場合、ツリーは非常に不均衡な状態です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-332">For example, if a split in the tree separates cases by a ratio of 9000/1000, the tree is very unbalanced.</span></span> <span data-ttu-id="a48d9-333">そのため、小さい分岐から得られる予測を、ケースが多い分岐から得られる予測と同じ重みで考えることはできません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-333">As a result, a prediction coming from the small branch should not carry the same weight as a prediction coming from a branch with many cases.</span></span>  
  
#### <a name="variance"></a><span data-ttu-id="a48d9-334">Variance</span><span class="sxs-lookup"><span data-stu-id="a48d9-334">Variance</span></span>  
 <span data-ttu-id="a48d9-335">分散は、予想される分布でサンプル内の値がどのぐらい分散しているかを示す尺度です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-335">Variance is a measure of how scattered values in a sample are, given an expected distribution.</span></span> <span data-ttu-id="a48d9-336">不連続値の場合は、定義上、分散は 0 になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-336">For discrete values, the variance is 0 by definition.</span></span>  
  
 <span data-ttu-id="a48d9-337">連続値での分散の計算方法の詳細については、「[線形回帰モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-337">For information about how variance is calculated for continuous values, see [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span></span>  
  
#### <a name="value-type"></a><span data-ttu-id="a48d9-338">値の型</span><span class="sxs-lookup"><span data-stu-id="a48d9-338">Value Type</span></span>  
 <span data-ttu-id="a48d9-339">値の型の列には、NODE_DISTRIBUTION テーブル内の他の列で指定された数値の意味に関する情報が示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-339">The value type column provides information about the meaning of the numeric value provided in the other columns in the NODE_DISTRIBUTION table.</span></span> <span data-ttu-id="a48d9-340">クエリで値の型を使用すると、入れ子になったテーブルから特定の行を取得できます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-340">You can use the value type in queries to retrieve specific rows from the nested tables.</span></span> <span data-ttu-id="a48d9-341">例については、「 [デシジョン ツリー モデルのクエリ例](decision-trees-model-query-examples.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-341">For examples, see [Decision Trees Model Query Examples](decision-trees-model-query-examples.md).</span></span>  
  
 <span data-ttu-id="a48d9-342"><xref:Microsoft.AnalysisServices.AdomdClient.MiningValueType> 列挙に含まれる型のうち、分類ツリーでは以下の型が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-342">Of the types in the <xref:Microsoft.AnalysisServices.AdomdClient.MiningValueType> enumeration, the following are used in classification trees.</span></span>  
  
|<span data-ttu-id="a48d9-343">値の種類</span><span class="sxs-lookup"><span data-stu-id="a48d9-343">Value type</span></span>|<span data-ttu-id="a48d9-344">説明</span><span class="sxs-lookup"><span data-stu-id="a48d9-344">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="a48d9-345">1 (Missing: 不足)</span><span class="sxs-lookup"><span data-stu-id="a48d9-345">1 (Missing)</span></span>|<span data-ttu-id="a48d9-346">不足値に関連する数、確率、またはその他の統計を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-346">Indicates a count, probability, or other statistic related to missing values.</span></span>|  
|<span data-ttu-id="a48d9-347">4 (Discrete: 不連続)</span><span class="sxs-lookup"><span data-stu-id="a48d9-347">4 (Discrete)</span></span>|<span data-ttu-id="a48d9-348">不連続値または分離された値に関連する数、確率、またはその他の統計を示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-348">Indicates a count, probability, or other statistic related to a discrete or discretized value.</span></span>|  
  
 <span data-ttu-id="a48d9-349">モデルに連続する予測可能な属性が含まれる場合は、ツリーに回帰式特有の値の型も含まれることがあります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-349">If the model includes a continuous predictable attribute, the tree might also contain value types that are unique to regression formulas.</span></span> <span data-ttu-id="a48d9-350">回帰ツリーで使用されている値の方の一覧については、「[線形回帰モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-350">For a list of the value types that are used in regression trees, see [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span></span>  
  
###  <a name="node-score"></a><a name="NodeScore"></a><span data-ttu-id="a48d9-351">ノードスコア</span><span class="sxs-lookup"><span data-stu-id="a48d9-351">Node Score</span></span>  
 <span data-ttu-id="a48d9-352">ノード スコアは、ツリーのレベルごとに少しずつ異なる情報を表します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-352">The node score represents slightly different information at each level of the tree.</span></span> <span data-ttu-id="a48d9-353">一般に、スコアは、条件での分割によって行われた分割がどの程度適切かを示す数値です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-353">In general, the score is a numeric value that tells you how good a split was achieved by splitting on the condition.</span></span> <span data-ttu-id="a48d9-354">値は倍精度浮動小数点数で表され、値が大きいほど適切であることを示します。</span><span class="sxs-lookup"><span data-stu-id="a48d9-354">The value is represented as a double, where a higher value is better.</span></span>  
  
 <span data-ttu-id="a48d9-355">定義上、モデル ノードおよびすべてのリーフ ノードのノード スコアは 0 です。</span><span class="sxs-lookup"><span data-stu-id="a48d9-355">By definition, the model node and all leaf nodes have a node score of 0.</span></span>  
  
 <span data-ttu-id="a48d9-356">各ツリーの最上位を表す [(すべて)] ノードの場合、MSOLAP_NODE_SCORE 列には、ツリー全体で最も高い分割スコアが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-356">For the (All) node that represents the top of each tree, the MSOLAP_NODE_SCORE column contains the best split score in the whole tree.</span></span>  
  
 <span data-ttu-id="a48d9-357">ツリーのその他のすべてのノード (リーフ ノードを除く) では、各ノードのスコアは、現在のノードの最も高い分割スコアから親ノードの分割スコアを引いた値になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-357">For all other nodes in the tree (except leaf nodes), the score for each node represents the best split score for the current node, minus the split score for the parent node.</span></span> <span data-ttu-id="a48d9-358">通常、親ノードの分割スコアは、必ずどの子ノードの分割スコアよりも高くなります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-358">Typically, the split score for a parent node should always be better than the split score on any one of its child nodes.</span></span> <span data-ttu-id="a48d9-359">これは、デシジョン ツリー モデルを重要な属性から分割するのが理想的であるためです。</span><span class="sxs-lookup"><span data-stu-id="a48d9-359">That is because a decision trees model ideally splits on the most important attributes first.</span></span>  
  
 <span data-ttu-id="a48d9-360">分割のスコアは、選択したアルゴリズム パラメーターに応じてさまざまな方法で計算されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-360">There are many ways of calculating a score for a split, depending on the algorithm parameter you choose.</span></span> <span data-ttu-id="a48d9-361">それぞれのスコアリング方法でのスコアの計算方法については、このトピックでは説明しません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-361">A discussion of how the scores are calculated for each of the scoring methods is beyond the scope of this topic.</span></span> <span data-ttu-id="a48d9-362">詳細については、[Research Web サイトの「](https://go.microsoft.com/fwlink/?LinkId=45963)ベイジアン ネットワークの学習 : 知識と統計データの組み合わせ [!INCLUDE[msCoName](../../includes/msconame-md.md)] 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-362">For more information, see "[Learning Bayesian Networks: The Combination of Knowledge and Statistical Data](https://go.microsoft.com/fwlink/?LinkId=45963)", on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Research Web site.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a48d9-363">予測可能な属性として連続属性と不連続属性の両方を含むデシジョン ツリー モデルを作成する場合、それぞれのツリーの種類を表す [(すべて)] ノードでまったく異なるスコアが表示されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-363">If you create a decision trees model that has both continuous and discrete predictable attributes, you will see completely different scores in the (All) nodes that represent each tree type.</span></span> <span data-ttu-id="a48d9-364">各モデルは独立していると見なされ、回帰のスコアリングと分類のスコアリングでそれぞれまったく異なる方法が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-364">Each model should be considered independently, and the methods used for scoring regression are completely different from those used for scoring classification.</span></span> <span data-ttu-id="a48d9-365">ノード スコアの値を比較することはできません。</span><span class="sxs-lookup"><span data-stu-id="a48d9-365">The node score values cannot be compared.</span></span>  
  
##  <a name="regression-nodes-within-a-decision-tree-model"></a><a name="bkmk_RegressionNodes"></a><span data-ttu-id="a48d9-366">デシジョンツリーモデル内の回帰ノード</span><span class="sxs-lookup"><span data-stu-id="a48d9-366">Regression Nodes within a Decision Tree Model</span></span>  
 <span data-ttu-id="a48d9-367">デシジョン ツリー モデルに連続する数値データを持つ予測可能な属性が含まれる場合、Microsoft デシジョン ツリー アルゴリズムでは、予測された状態と入力変数のリレーションシップが線形になるデータ内の領域を特定するためにシークが行われます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-367">If a decision trees model contains a predictable attribute with continuous numeric data, the Microsoft Decision Trees algorithm seeks to find areas in the data where the relationship between the predicted state and the input variables is linear.</span></span> <span data-ttu-id="a48d9-368">アルゴリズムで線形のリレーションシップを特定できると、線形回帰を表す特殊なツリー (NODE_TYPE = 25) が作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-368">If the algorithm is successful in finding a linear relationship, it creates a special tree (NODE_TYPE = 25) that represents a linear regression.</span></span> <span data-ttu-id="a48d9-369">これらの回帰ツリーのノードは、不連続値を表すノードよりも複雑になります。</span><span class="sxs-lookup"><span data-stu-id="a48d9-369">These regression tree nodes are more complex than nodes that represent discrete values.</span></span>  
  
 <span data-ttu-id="a48d9-370">一般に、回帰では、連続する従属側 (予測可能な変数) の変化が入力の変化の関数としてマップされます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-370">In general, a regression maps the changes in the continuous dependent (predictable variable) as a function of changes in the inputs.</span></span> <span data-ttu-id="a48d9-371">従属変数に連続する入力があり、入力と予測値のリレーションシップが十分に安定していて線グラフで処理できる場合、回帰のノードに式が含まれます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-371">If the dependent variable has any continuous inputs, and the relationship between the input and predicted value is stable enough to be computed as a line graph, the node for the regression contains a formula.</span></span>  
  
 <span data-ttu-id="a48d9-372">一方、入力と予測値のリレーションシップが *非線形*の場合は、代わりに、標準のデシジョン ツリーと同様に分割が作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-372">However, if the relationship between the input and predicted value is *nonlinear*, a split is created instead, just like a standard decision tree.</span></span> <span data-ttu-id="a48d9-373">たとえば、A という予測可能な属性と B および C という入力があり、C の値の型が連続値であるとします。</span><span class="sxs-lookup"><span data-stu-id="a48d9-373">For example, assume that A is the predictable attribute, and B and C are the inputs, where C is a continuous value type.</span></span> <span data-ttu-id="a48d9-374">A と C のリレーションシップがデータの一部では非常に安定し、別の部分では安定していない場合、アルゴリズムでは、それらのデータの領域を別々に表すために分割が作成されます。</span><span class="sxs-lookup"><span data-stu-id="a48d9-374">If the relationship between A and C is fairly stable in parts of the data, but unstable in others, the algorithm will create splits to represent the different areas of the data.</span></span>  
  
|<span data-ttu-id="a48d9-375">分割条件</span><span class="sxs-lookup"><span data-stu-id="a48d9-375">Split condition</span></span>|<span data-ttu-id="a48d9-376">ノードの結果</span><span class="sxs-lookup"><span data-stu-id="a48d9-376">Result in node</span></span>|  
|---------------------|--------------------|  
|<span data-ttu-id="a48d9-377">n 5 の場合 \<</span><span class="sxs-lookup"><span data-stu-id="a48d9-377">if n \< 5</span></span>|<span data-ttu-id="a48d9-378">リレーションシップを式 1 で表現可能</span><span class="sxs-lookup"><span data-stu-id="a48d9-378">Relationship can be expressed as equation 1</span></span>|  
|<span data-ttu-id="a48d9-379">n が 5 ～ 10 の場合</span><span class="sxs-lookup"><span data-stu-id="a48d9-379">if n between 5 and 10</span></span>|<span data-ttu-id="a48d9-380">式なし</span><span class="sxs-lookup"><span data-stu-id="a48d9-380">No equation</span></span>|  
|<span data-ttu-id="a48d9-381">n > 10 の場合</span><span class="sxs-lookup"><span data-stu-id="a48d9-381">if n > 10</span></span>|<span data-ttu-id="a48d9-382">リレーションシップを式 2 で表現可能</span><span class="sxs-lookup"><span data-stu-id="a48d9-382">Relationship can be expressed as equation 2</span></span>|  
  
 <span data-ttu-id="a48d9-383">回帰ノードの詳細については、「[線形回帰モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a48d9-383">For more information about regression nodes, see [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a48d9-384">参照</span><span class="sxs-lookup"><span data-stu-id="a48d9-384">See Also</span></span>  
 <span data-ttu-id="a48d9-385">[マイニングモデルコンテンツ &#40;Analysis Services-データマイニング&#41;](mining-model-content-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="a48d9-385">[Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="a48d9-386">[データマイニングモデルビューアー](data-mining-model-viewers.md) </span><span class="sxs-lookup"><span data-stu-id="a48d9-386">[Data Mining Model Viewers](data-mining-model-viewers.md) </span></span>  
 <span data-ttu-id="a48d9-387">[データマイニングクエリ](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="a48d9-387">[Data Mining Queries](data-mining-queries.md) </span></span>  
 [<span data-ttu-id="a48d9-388">Microsoft デシジョンツリーアルゴリズム</span><span class="sxs-lookup"><span data-stu-id="a48d9-388">Microsoft Decision Trees Algorithm</span></span>](microsoft-decision-trees-algorithm.md)  
  
  
