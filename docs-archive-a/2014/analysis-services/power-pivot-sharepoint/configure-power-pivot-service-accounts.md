---
title: PowerPivot サービスアカウントの構成 |Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 76a85cd0-af93-40c9-9adf-9eb0f80b30c1
author: minewiskan
ms.author: owend
ms.openlocfilehash: aac841c3f88d8c43680d1414a50687e9de1d5a3c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87642974"
---
# <a name="configure-powerpivot-service-accounts"></a><span data-ttu-id="a4ac0-102">PowerPivot サービス アカウントの構成</span><span class="sxs-lookup"><span data-stu-id="a4ac0-102">Configure PowerPivot Service Accounts</span></span>
  <span data-ttu-id="a4ac0-103">[!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] のインストールには、サーバー処理をサポートする 2 つのサービスが含まれます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-103">A [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] installation includes two services that support server operations.</span></span> <span data-ttu-id="a4ac0-104">**SQL Server Analysis Services (powerpivot)** サービスは、アプリケーションサーバーで powerpivot データの処理とクエリのサポートを提供する Windows サービスです。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-104">The **SQL Server Analysis Services (PowerPivot)** service is a Windows service that provides PowerPivot data processing and query support on an application server.</span></span> <span data-ttu-id="a4ac0-105">このサービスのログイン アカウントは、SharePoint 統合モードで Analysis Services をインストールするときに、SQL Server セットアップで必ず指定します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-105">The login account for this service is always specified during SQL Server Setup when you install Analysis Services in SharePoint integrated mode.</span></span>  
  
 <span data-ttu-id="a4ac0-106">SharePoint ファームのアプリケーション プール ID で実行される共有 Web サービスである PowerPivot サービス アプリケーション用に、アカウントをもう 1 つ指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-106">A second account must be specified for the PowerPivot service application, a shared web service that runs under an application pool identity in a SharePoint farm.</span></span> <span data-ttu-id="a4ac0-107">このアカウントは、PowerPivot 構成ツールまたは PowerShell を使用して [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] インストールを構成するときに指定します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-107">This account is specified when you configure a [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] installation using either the PowerPivot Configuration tool or PowerShell.</span></span>  
  
 <span data-ttu-id="a4ac0-108">接続を監査したり、ファームで Kerberos 認証プロトコルを有効にしたりできるように、それぞれのサービスは、専用のアカウントで実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-108">Each service should run under a dedicated account so that you can audit connections or enable Kerberos authentication protocol in the farm.</span></span>  
  
 <span data-ttu-id="a4ac0-109">サービス アカウントを設定した後で、いずれかのアカウントに変更を加える場合は、SharePoint サーバーの全体管理を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-109">Once the service accounts are set, any changes to either account must be made through SharePoint Central Administration.</span></span> <span data-ttu-id="a4ac0-110">別のツール (Services コンソール アプリケーション、IIS マネージャー、SQL Server 構成マネージャーなど) を使用すると、ファーム内でのデータベース アクセス、または物理サーバー上でのファイル アクセスに必要な権限が更新されません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-110">If you use alternative tools (such as the Services console application, IIS Manager, or SQL Server Configuration Manager), permissions will not be updated for database access in the farm or for local file access on the physical server.</span></span>  
  
 <span data-ttu-id="a4ac0-111">このトピックは、次のセクションで構成されています。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-111">This topic contains the following sections:</span></span>  
  
 [<span data-ttu-id="a4ac0-112">SQL Server Analysis Services (PowerPivot) インスタンスの期限切れパスワードの更新</span><span class="sxs-lookup"><span data-stu-id="a4ac0-112">Update an expired password for SQL Server Analysis Services (PowerPivot) instance</span></span>](#bkmk_passwordssas)  
  
 [<span data-ttu-id="a4ac0-113">PowerPivot サービス アプリケーションの期限切れパスワードの更新</span><span class="sxs-lookup"><span data-stu-id="a4ac0-113">Update an expired password for the PowerPivot Service Application</span></span>](configure-power-pivot-service-accounts.md#bkmk_passwordapp)  
  
 [<span data-ttu-id="a4ac0-114">各サービスの実行に使用するアカウントの変更</span><span class="sxs-lookup"><span data-stu-id="a4ac0-114">Change the account under which each service runs</span></span>](#bkmk_newacct)  
  
 [<span data-ttu-id="a4ac0-115">PowerPivot サービス アプリケーションのアプリケーション プールの作成または変更</span><span class="sxs-lookup"><span data-stu-id="a4ac0-115">Create or change the application pool for a PowerPivot service application</span></span>](#bkmk_appPool)  
  
 [<span data-ttu-id="a4ac0-116">アカウント要件と権限</span><span class="sxs-lookup"><span data-stu-id="a4ac0-116">Account Requirements and Permissions</span></span>](#requirements)  
  
 [<span data-ttu-id="a4ac0-117">トラブルシューティング: 管理権限の手動による付与</span><span class="sxs-lookup"><span data-stu-id="a4ac0-117">Troubleshooting: Grant Administrative Permissions Manually</span></span>](#updatemanually)  
  
 [<span data-ttu-id="a4ac0-118">トラブルシューティング: サーバーの全体管理または SharePoint Foundation Web アプリケーション サービスのパスワードの期限切れによる HTTP 503 エラーの解決</span><span class="sxs-lookup"><span data-stu-id="a4ac0-118">Troubleshooting: Resolve HTTP 503 Errors Due to Expired Passwords for Central Administration or the SharePoint Foundation Web Application Service</span></span>](#expired)  
  
##  <a name="update-an-expired-password-for-sql-server-analysis-services-powerpivot-instance"></a><a name="bkmk_passwordssas"></a><span data-ttu-id="a4ac0-119">SQL Server Analysis Services (PowerPivot) インスタンスの期限切れパスワードの更新</span><span class="sxs-lookup"><span data-stu-id="a4ac0-119">Update an expired password for SQL Server Analysis Services (PowerPivot) instance</span></span>  
  
1.  <span data-ttu-id="a4ac0-120">[スタート] ボタンをクリックし、 **[管理ツール]**、 **[サービス]** の順にクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-120">Point to Start, click **Administrative Tools**, and then click **Services**.</span></span> <span data-ttu-id="a4ac0-121">**SQL Server Analysis Services (PowerPivot)** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-121">Double-click **SQL Server Analysis Services (PowerPivot)**.</span></span> <span data-ttu-id="a4ac0-122">**[ログオン]** をクリックし、アカウントの新しいパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-122">Click **Log On**, and then enter the new password for the account.</span></span>  
  
2.  <span data-ttu-id="a4ac0-123">サーバーの全体管理で、[セキュリティ] セクションの **[管理アカウントの構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-123">In Central Administration, in the Security section, click **Configure managed accounts**.</span></span>  
  
3.  <span data-ttu-id="a4ac0-124">**[編集]** をクリックして指定のアカウントを変更します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-124">Click **Edit** to change a specific account.</span></span>  
  
4.  <span data-ttu-id="a4ac0-125">**[今すぐパスワードを変更]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-125">Select **Change password now**.</span></span>  
  
5.  <span data-ttu-id="a4ac0-126">**[アカウント パスワードを新しい値に設定する]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-126">Select **Set account password to new value**.</span></span> <span data-ttu-id="a4ac0-127">管理アカウントで実行されるすべてのサービスで、更新された資格情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-127">All services that run under the managed account will use the updated credentials.</span></span>  
  
##  <a name="update-an-expired-password-for-the-powerpivot-service-application"></a><a name="bkmk_passwordapp"></a><span data-ttu-id="a4ac0-128">PowerPivot サービスアプリケーションの期限切れパスワードの更新</span><span class="sxs-lookup"><span data-stu-id="a4ac0-128">Update an expired password for the PowerPivot Service Application</span></span>  
  
1.  <span data-ttu-id="a4ac0-129">サーバーの全体管理で、[セキュリティ] セクションの **[管理アカウントの構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-129">In Central Administration, in the Security section, click **Configure managed accounts**.</span></span>  
  
2.  <span data-ttu-id="a4ac0-130">**[編集]** をクリックして指定のアカウントを変更します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-130">Click **Edit** to change a specific account.</span></span>  
  
3.  <span data-ttu-id="a4ac0-131">**[今すぐパスワードを変更]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-131">Select **Change password now**.</span></span>  
  
4.  <span data-ttu-id="a4ac0-132">**[アカウント パスワードを新しい値に設定する]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-132">Select **Set account password to new value**.</span></span> <span data-ttu-id="a4ac0-133">管理アカウントで実行されるすべてのサービスで、更新された資格情報が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-133">All services that run under the managed account will use the updated credentials.</span></span>  
  
##  <a name="change-the-account-under-which-each-service-runs"></a><a name="bkmk_newacct"></a><span data-ttu-id="a4ac0-134">各サービスの実行に使用するアカウントを変更する</span><span class="sxs-lookup"><span data-stu-id="a4ac0-134">Change the account under which each service runs</span></span>  
  
1.  <span data-ttu-id="a4ac0-135">サーバーの全体管理で、[セキュリティ] セクションの **[サービス アカウントの構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-135">In Central Administration, in the Security section, click **Configure service accounts**.</span></span>  
  
2.  <span data-ttu-id="a4ac0-136">**[Windows サービス - SQL Server Analysis Services]** を選択して、Analysis Services サービス アカウントを変更します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-136">Select **Windows Service - SQL Server Analysis Services** to change the Analysis Services service account.</span></span>  
  
3.  <span data-ttu-id="a4ac0-137">**[このサービスのアカウントを選択する]** で、既存の管理アカウントを選択するか、新規に作成します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-137">In **Select an account for this service**, choose an existing managed account or create a new one.</span></span> <span data-ttu-id="a4ac0-138">このアカウントは、ドメイン ユーザー アカウントであることが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-138">The account must be a domain user account.</span></span>  
  
4.  <span data-ttu-id="a4ac0-139">[**サービスアプリケーションプール-SharePoint Web サービスシステム**] を選択して、既定の PowerPivot サービスアプリケーションのアプリケーションプール id を変更します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-139">Select **Service Application Pool - SharePoint Web Services System** to change the application pool identity of the default PowerPivot service application.</span></span> <span data-ttu-id="a4ac0-140">インストールの構成によっては、SharePoint サービス用に作成された既存のサービス アプリケーション プールでサービスが実行されている場合があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-140">Depending on how your installation was configured, the service might be running under an existing service application pool created for SharePoint services.</span></span> <span data-ttu-id="a4ac0-141">既定では、PowerPivot 構成ツールによって、サービスが**既定の Powerpivot サービスアプリケーション (Powerpivot サービスアプリケーション)** として登録されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-141">By default, the PowerPivot Configuration Tool registers the service as **Default PowerPivot Service Application (PowerPivot Service Application)**.</span></span>  
  
     <span data-ttu-id="a4ac0-142">サービスが SharePoint 管理者によって手動で構成された場合、サービスにはほとんどの場合に自身のサービス アプリケーション プールがあります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-142">If the service was configured manually by a SharePoint administrator, the service most likely has its own service application pool.</span></span>  
  
5.  <span data-ttu-id="a4ac0-143">**[このサービスのアカウントを選択する]** で、既存の管理アカウントを選択するか、新規に作成します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-143">In **Select an account for this service**, choose an existing managed account or create a new one.</span></span> <span data-ttu-id="a4ac0-144">このアカウントは、ドメイン ユーザー アカウントであることが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-144">The account must be a domain user account.</span></span>  
  
6.  <span data-ttu-id="a4ac0-145">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-145">Click **OK**.</span></span>  
  
##  <a name="create-or-change-the-application-pool-for-a-powerpivot-service-application"></a><a name="bkmk_appPool"></a><span data-ttu-id="a4ac0-146">PowerPivot サービスアプリケーションのアプリケーションプールを作成または変更する</span><span class="sxs-lookup"><span data-stu-id="a4ac0-146">Create or change the application pool for a PowerPivot service application</span></span>  
  
1.  <span data-ttu-id="a4ac0-147">サーバーの全体管理で、[アプリケーション構成の管理] の **[サービス アプリケーションの管理]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-147">In Central Administration, in Application Management, click **Manage service applications**.</span></span>  
  
2.  <span data-ttu-id="a4ac0-148">PowerPivot サービス アプリケーションを選択します (クリックはしないでください)。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-148">Select, but do not click, the PowerPivot service application.</span></span> <span data-ttu-id="a4ac0-149">アプリケーション名をクリックすると、PowerPivot 管理ダッシュボードが開きます。このダッシュボードには、アプリケーション プールを指定するプロパティ ページへのリンクはありません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-149">Clicking on the application name opens the PowerPivot Management Dashboard, which does not provide a link to the properties page that specifies the application pool.</span></span>  <span data-ttu-id="a4ac0-150">行の空白部分をクリックするか、種類名をクリックして、PowerPivot サービス アプリケーションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-150">You can click the empty white space in the row, or click on type name, to select the PowerPivot service application.</span></span>  
  
3.  <span data-ttu-id="a4ac0-151">リボンの **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-151">Click **Properties** on the ribbon.</span></span>  
  
4.  <span data-ttu-id="a4ac0-152">**[新しいアプリケーション プールの作成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-152">Select **Create a new application pool**.</span></span> <span data-ttu-id="a4ac0-153">アプリケーション プールの名前を指定し、その ID の管理アカウントを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-153">Provide a name for the application pool and specify a managed account for its identity.</span></span>  
  
##  <a name="account-requirements-and-permissions"></a><a name="requirements"></a><span data-ttu-id="a4ac0-154">アカウントの要件とアクセス許可</span><span class="sxs-lookup"><span data-stu-id="a4ac0-154">Account Requirements and Permissions</span></span>  
 <span data-ttu-id="a4ac0-155">PowerPivot for SharePoint の配置を計画するときには、次のサービス アカウントについて計画する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-155">When planning a PowerPivot for SharePoint deployment, you must plan for the following service accounts.</span></span>  
  
-   <span data-ttu-id="a4ac0-156">Analysis Services サービス アカウント。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-156">Analysis Services service account.</span></span> <span data-ttu-id="a4ac0-157">Analysis Services は、PowerPivot のクエリおよびデータ更新のジョブをファームで処理します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-157">Analysis Services processes PowerPivot queries and data refresh jobs in the farm.</span></span> <span data-ttu-id="a4ac0-158">このアカウントは、SQL Server のセットアップ中に、PowerPivot for SharePoint をインストールするときに必ず指定します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-158">This account is always specified during SQL Server Setup when you install PowerPivot for SharePoint.</span></span>  
  
-   <span data-ttu-id="a4ac0-159">PowerPivot サービス アプリケーション プール。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-159">PowerPivot Service Application Pool.</span></span> <span data-ttu-id="a4ac0-160">PowerPivot サービス アプリケーションは、PowerPivot System サービスに関連付けられ、ファーム内の PowerPivot クエリ処理に SharePoint 統合と SharePoint インフラストラクチャを提供します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-160">A PowerPivot service application is associated with a PowerPivot System Service that provides SharePoint integration and infrastructure for PowerPivot query processing in a farm.</span></span> <span data-ttu-id="a4ac0-161">PowerPivot サービス アプリケーションに対して指定するアプリケーション プールは、PowerPivot System サービスのサービス ID です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-161">The application pool that you specify for a PowerPivot service application is the service identity of the PowerPivot System Service.</span></span> <span data-ttu-id="a4ac0-162">1 つのファームに複数の PowerPivot サービス アプリケーションを作成できますが、</span><span class="sxs-lookup"><span data-stu-id="a4ac0-162">You can have multiple PowerPivot service applications in a farm.</span></span> <span data-ttu-id="a4ac0-163">それぞれのサービス アプリケーションを、固有のアプリケーション プールで実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-163">Each one that you create should run in its own application pool.</span></span>  
  
#### <a name="analysis-services-service-account"></a><span data-ttu-id="a4ac0-164">Analysis Services サービス アカウント</span><span class="sxs-lookup"><span data-stu-id="a4ac0-164">Analysis Services Service Account</span></span>  
  
|<span data-ttu-id="a4ac0-165">要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-165">Requirement</span></span>|<span data-ttu-id="a4ac0-166">説明</span><span class="sxs-lookup"><span data-stu-id="a4ac0-166">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="a4ac0-167">プロビジョニングの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-167">Provisioning requirement</span></span>|<span data-ttu-id="a4ac0-168">このアカウントは、インストールウィザードの [Analysis Services の**構成] ページ**(または `ASSVCACCOUNT` コマンドラインセットアップのインストールパラメーター) を使用して SQL Server のセットアップ時に指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-168">This account must be specified during SQL Server Setup using the **Analysis Services - Configuration page** in the installation wizard (or the `ASSVCACCOUNT` installation parameter in a command line setup).</span></span><br /><br /> <span data-ttu-id="a4ac0-169">ユーザー名やパスワードは、サーバーの全体管理、PowerShell、または PowerPivot 構成ツールを使用して変更できます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-169">You can modify the user name or password using Central Administration, PowerShell, or the PowerPivot Configuration Tool.</span></span> <span data-ttu-id="a4ac0-170">その他のツールでのアカウントやパスワードの変更はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-170">Using other tools to change accounts and passwords is not supported.</span></span>|  
|<span data-ttu-id="a4ac0-171">ドメイン ユーザー アカウントの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-171">Domain user account requirement</span></span>|<span data-ttu-id="a4ac0-172">このアカウントは Windows ドメイン ユーザー アカウントであることが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-172">This account must be a Windows domain user account.</span></span> <span data-ttu-id="a4ac0-173">ビルトイン コンピューター アカウント (Network Service や Local Service など) は禁止されています。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-173">Built-in machine accounts (such as Network Service or Local Service) are prohibited.</span></span> <span data-ttu-id="a4ac0-174">SQL Server セットアップは、コンピューター アカウントが指定された場合にインストールをブロックすることで、ドメイン ユーザー アカウント要件を適用します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-174">SQL Server Setup enforces the domain user account requirement by blocking installation whenever a machine account is specified.</span></span>|  
|<span data-ttu-id="a4ac0-175">権限の要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-175">Permission requirements</span></span>|<span data-ttu-id="a4ac0-176">このアカウントは、ローカルコンピューターの SQLServerMSASUser $ \<server> $PowerPivot セキュリティグループと WSS_WPG セキュリティグループのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-176">This account must be a member of the SQLServerMSASUser$\<server>$PowerPivot security group and the WSS_WPG security groups on the local computer.</span></span> <span data-ttu-id="a4ac0-177">これらの権限は自動的に付与されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-177">These permissions should be granted automatically.</span></span> <span data-ttu-id="a4ac0-178">アクセス許可を確認または付与する方法の詳細については、このトピックの「 [PowerPivot サービスアカウントに管理権限を手動で付与](#updatemanually)する」および「 [&#41;PowerPivot for SharePoint 初期構成 &#40;](../../sql-server/install/initial-configuration-powerpivot-for-sharepoint.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-178">For more information on how to check or grant permissions, see [Grant the PowerPivot Service Account Administrative Permissions Manually](#updatemanually) in this topic and [Initial Configuration &#40;PowerPivot for SharePoint&#41;](../../sql-server/install/initial-configuration-powerpivot-for-sharepoint.md).</span></span>|  
|<span data-ttu-id="a4ac0-179">スケールアウトの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-179">Scale-out requirements</span></span>|<span data-ttu-id="a4ac0-180">ファームに複数の PowerPivot for SharePoint サーバー インスタンスをインストールする場合は、すべての Analysis Services サーバー インスタンスが同じドメイン ユーザー アカウントで実行されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-180">If you install multiple PowerPivot for SharePoint server instances in a farm, all of the Analysis Services server instances must run under the same domain user account.</span></span> <span data-ttu-id="a4ac0-181">たとえば、最初の [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] インスタンスが Contoso\ssas-srv01 として実行されるように構成した場合は、それ以降に同じファームに配置したその他のすべての [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] インスタンスも Contoso\ssas-srv01 (または現在の任意のアカウント) として実行される必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-181">For example, if you configure the first [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instance to run as Contoso\ssas-srv01, then all additional [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instances that you deploy thereafter in the same farm must also run as Contoso\ssas-srv01 (or whatever the current account happens to be).</span></span><br /><br /> <span data-ttu-id="a4ac0-182">すべてのサービス インスタンスが同じアカウントで実行されるように構成すると、PowerPivot System サービスで、クエリ処理やデータ更新のジョブをファーム内の任意の Analysis Services サービス インスタンスに割り当てられるようになります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-182">Configuring all service instances to run under the same account allows the PowerPivot System service to allocate query processing or data refresh jobs to any Analysis Services service instance in the farm.</span></span> <span data-ttu-id="a4ac0-183">また、Analysis Services サーバー インスタンスに対してサーバーの全体管理の管理アカウント機能を使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-183">In addition, it enables the use of the Managed Account feature in Central Administration for Analysis Services server instances.</span></span> <span data-ttu-id="a4ac0-184">すべての [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] インスタンスに同じアカウントを使用すると、アカウントまたはパスワードを 1 回変更するだけで、これらの資格情報を使用するすべてのサービス インスタンスを自動的に更新できます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-184">By using the same account for all [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] instances, you can change account or password once, and all service instances that use those credentials are updated automatically.</span></span><br /><br /> <span data-ttu-id="a4ac0-185">SQL Server セットアップでは、同一アカウント要件が適用されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-185">SQL Server Setup enforces the same-account requirement.</span></span> <span data-ttu-id="a4ac0-186">PowerPivot for SharePoint インスタンスが既に SharePoint ファームにインストールされているスケールアウト配置では、指定した [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] アカウントとファーム内で既に使用されているアカウントが異なる場合、セットアップによって新規インストールがブロックされます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-186">In a scale-out deployment where a SharePoint farm already has an instance of PowerPivot for SharePoint installed, Setup will block the new installation if the [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] account you specified is different from the one already in use in the farm.</span></span>|  
  
#### <a name="powerpivot-service-application-pool"></a><span data-ttu-id="a4ac0-187">PowerPivot サービス アプリケーション プール</span><span class="sxs-lookup"><span data-stu-id="a4ac0-187">PowerPivot Service Application Pool</span></span>  
  
|<span data-ttu-id="a4ac0-188">要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-188">Requirement</span></span>|<span data-ttu-id="a4ac0-189">説明</span><span class="sxs-lookup"><span data-stu-id="a4ac0-189">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="a4ac0-190">プロビジョニングの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-190">Provisioning requirement</span></span>|<span data-ttu-id="a4ac0-191">PowerPivot System サービスは、ファーム上の共有リソースで、サービス アプリケーションを作成すると使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-191">PowerPivot System Service is a shared resource on the farm that becomes available when you create a service application.</span></span> <span data-ttu-id="a4ac0-192">サービス アプリケーション プールは、サービス アプリケーションの作成時に指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-192">The service application pool must be specified when the service application is created.</span></span> <span data-ttu-id="a4ac0-193">サービス アプリケーション プールを指定する方法には、PowerPivot 構成ツールを使用する方法と PowerShell コマンドを使用する方法の 2 つがあります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-193">It can be specified two ways: using the PowerPivot Configuration Tool, or through PowerShell commands.</span></span><br /><br /> <span data-ttu-id="a4ac0-194">アプリケーション プール ID を一意のアカウントで実行されるように構成</span><span class="sxs-lookup"><span data-stu-id="a4ac0-194">You might have configured the application pool identity to run under a unique account.</span></span> <span data-ttu-id="a4ac0-195">そうでない場合は、別のアカウントで実行するように変更することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-195">But if you didn't, consider changing it now to run under a different account.</span></span>|  
|<span data-ttu-id="a4ac0-196">ドメイン ユーザー アカウントの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-196">Domain user account requirement</span></span>|<span data-ttu-id="a4ac0-197">アプリケーション プール ID は Windows ドメイン ユーザー アカウントであることが必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-197">The application pool identity must be a Windows domain user account.</span></span> <span data-ttu-id="a4ac0-198">ビルトイン コンピューター アカウント (Network Service や Local Service など) は禁止されています。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-198">Built-in machine accounts (such as Network Service or Local Service) are prohibited.</span></span>|  
|<span data-ttu-id="a4ac0-199">権限の要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-199">Permission requirements</span></span>|<span data-ttu-id="a4ac0-200">このアカウントには、コンピューターのローカルのシステム管理者権限は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-200">This account does not need local system Administrator permissions on the computer.</span></span> <span data-ttu-id="a4ac0-201">ただし、同じコンピューターにインストールされているローカル [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] に対する Analysis Services のシステム管理者権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-201">However, this account must have Analysis Services system administrator permissions on the local [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)] that is installed on the same computer.</span></span> <span data-ttu-id="a4ac0-202">これらの権限は、SQL Server セットアップを実行したり、サーバーの全体管理でアプリケーション プール ID を設定または変更したりすると、自動的に付与されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-202">These permissions are granted automatically by SQL Server Setup or when you set or change the application pool identity in Central Administration.</span></span><br /><br /> <span data-ttu-id="a4ac0-203">管理権限は、 [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)]にクエリを転送する場合に必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-203">Administrative permissions are required for forwarding queries to the [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)].</span></span> <span data-ttu-id="a4ac0-204">また、状態の監視、非アクティブなセッションの終了、およびトレース イベントのリッスンにも必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-204">They are also required for monitoring health, closing inactive sessions, and listening for trace events.</span></span><br /><br /> <span data-ttu-id="a4ac0-205">このアカウントには、PowerPivot サービス アプリケーション データベースに対する接続、読み取り、および書き込みの権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-205">The account must have connect, read, and write permissions to the PowerPivot service application database.</span></span> <span data-ttu-id="a4ac0-206">これらの権限は、アプリケーションの作成時に自動的に付与され、サーバーの全体管理でアカウントやパスワードを変更した場合にも自動的に更新されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-206">These permissions are granted automatically when the application is created, and updated automatically when you change accounts or passwords in Central Administration.</span></span><br /><br /> <span data-ttu-id="a4ac0-207">PowerPivot サービス アプリケーションでは、ファイルの取得前に、データを表示する権限が SharePoint ユーザーにあるかどうかを確認しますが、ユーザーの権限の借用は行いません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-207">The PowerPivot service application will check that a SharePoint user is authorized to view data before retrieving the file, but it does not impersonate the user.</span></span> <span data-ttu-id="a4ac0-208">そのため、権限の借用に関する権限の要件はありません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-208">There are no permission requirements for impersonation.</span></span>|  
|<span data-ttu-id="a4ac0-209">スケールアウトの要件</span><span class="sxs-lookup"><span data-stu-id="a4ac0-209">Scale-out requirements</span></span>|<span data-ttu-id="a4ac0-210">[なし] :</span><span class="sxs-lookup"><span data-stu-id="a4ac0-210">None.</span></span>|  
  
##  <a name="troubleshooting-grant-administrative-permissions-manually"></a><a name="updatemanually"></a><span data-ttu-id="a4ac0-211">トラブルシューティング: 管理権限を手動で付与する</span><span class="sxs-lookup"><span data-stu-id="a4ac0-211">Troubleshooting: Grant Administrative Permissions Manually</span></span>  
 <span data-ttu-id="a4ac0-212">資格情報を更新するユーザーがコンピューターのロカール管理者でない場合、管理者権限は更新されません。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-212">Administrative permissions will fail to update if the person updating the credentials is not a local administrator on the computer.</span></span> <span data-ttu-id="a4ac0-213">この場合は、管理者権限を手動で付与できます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-213">If this occurs, you can grant administrative permissions manually.</span></span> <span data-ttu-id="a4ac0-214">最も簡単な方法でこの操作を行うには、サーバーの全体管理で PowerPivot の構成タイマー ジョブを実行します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-214">The easiest way to do this is to run the PowerPivot Configuration timer job in Central Administration.</span></span> <span data-ttu-id="a4ac0-215">この方法を使用すると、ファーム内のすべての PowerPivot サーバーの権限をリセットできます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-215">With this approach, you can reset permissions for all PowerPivot servers in the farm.</span></span> <span data-ttu-id="a4ac0-216">この方法は、SharePoint タイマー ジョブがファームの管理者およびコンピューターのローカル管理者の両方として実行されている場合にのみ使用できる点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-216">Note that this approach will only work if the SharePoint timer job is running as both farm administrator and as local administrator on the computer.</span></span>  
  
1.  <span data-ttu-id="a4ac0-217">[監視] で、 **[ジョブ定義の確認]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-217">In Monitoring, click **Review job definitions**.</span></span>  
  
2.  <span data-ttu-id="a4ac0-218">[ **PowerPivot 構成タイマージョブ**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-218">Select **PowerPivot Configuration Timer Job**.</span></span>  
  
3.  <span data-ttu-id="a4ac0-219">[**今すぐ実行**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-219">Click **Run Now**.</span></span>  
  
 <span data-ttu-id="a4ac0-220">最後の手段として、Analysis Services システム管理のアクセス許可を PowerPivot サービスアプリケーションに付与し、サービスアプリケーション id を SQLServerMSASUser $ $PowerPivot Windows セキュリティグループに明示的に追加することによって、適切なアクセス許可を確保することができ \<servername> ます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-220">As a last resort, you can ensure correct permissions by granting Analysis Services System Administration permissions to the PowerPivot service application, and then specifically add the service application identity to the SQLServerMSASUser$\<servername>$PowerPivot Windows security group.</span></span> <span data-ttu-id="a4ac0-221">SharePoint ファームに統合された各 Analysis Services インスタンスに対してこれらの手順を繰り返す必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-221">You must repeat these steps for every Analysis Services instance that is integrated with the SharePoint farm.</span></span>  
  
 <span data-ttu-id="a4ac0-222">Windows セキュリティ グループを更新するには、ローカル管理者である必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-222">You must be a local administrator to update Windows security groups.</span></span>  
  
1.  <span data-ttu-id="a4ac0-223">SQL Server Management Studio で、\Powerpivot として Analysis Services インスタンスに接続します。 \<server name></span><span class="sxs-lookup"><span data-stu-id="a4ac0-223">In SQL Server Management Studio, connect to the Analysis Services instance as \<server name>\POWERPIVOT.</span></span>  
  
2.  <span data-ttu-id="a4ac0-224">サーバー名を右クリックし、 **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-224">Right-click the server name and select **Properties**.</span></span>  
  
3.  <span data-ttu-id="a4ac0-225">**[セキュリティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-225">Click **Security**.</span></span>  
  
4.  <span data-ttu-id="a4ac0-226">**[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-226">Click **Add**.</span></span>  
  
5.  <span data-ttu-id="a4ac0-227">PowerPivot サービスアプリケーションプールに使用するアカウントの名前を入力し、[ **OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-227">Type the name of the account that is used for PowerPivot service application pool, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="a4ac0-228">[管理ツール] で、 **[コンピューターの管理]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-228">In Administrative Tools, click **Computer Management**.</span></span>  
  
7.  <span data-ttu-id="a4ac0-229">**[ローカル ユーザーとグループ]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-229">Open **Local Users and Groups**.</span></span>  
  
8.  <span data-ttu-id="a4ac0-230">**[グループ]** を開きます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-230">Open **Groups**.</span></span>  
  
9. <span data-ttu-id="a4ac0-231">[SQLServerMSASUser $ $PowerPivot] をダブルクリック \<servername> します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-231">Double-click SQLServerMSASUser$\<servername>$PowerPivot.</span></span>  
  
10. <span data-ttu-id="a4ac0-232">**[追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-232">Click **Add**.</span></span>  
  
11. <span data-ttu-id="a4ac0-233">PowerPivot サービスアプリケーションプールに使用するアカウントの名前を入力し、[ **OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-233">Type the name of the account that is used for PowerPivot service application pool, and then click **OK**.</span></span>  
  
##  <a name="troubleshooting-resolve-http-503-errors-due-to-expired-passwords-for-central-administration-or-the-sharepoint-foundation-web-application-service"></a><a name="expired"></a><span data-ttu-id="a4ac0-234">トラブルシューティング: サーバーの全体管理または SharePoint Foundation Web アプリケーションサービスのパスワードの期限切れが原因で HTTP 503 エラーを解決する</span><span class="sxs-lookup"><span data-stu-id="a4ac0-234">Troubleshooting: Resolve HTTP 503 Errors Due to Expired Passwords for Central Administration or the SharePoint Foundation Web Application Service</span></span>  
 <span data-ttu-id="a4ac0-235">アカウントのリセットまたはパスワードの期限切れが原因で、サーバーの全体管理サービスまたは SharePoint Foundation Web アプリケーション サービスが停止する場合は、SharePoint サーバーの全体管理あるいは SharePoint サイトを開こうとすると、"サービスを利用できません" という HTTP 503 エラー メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-235">If Central Administration service or the SharePoint Foundation Web Application service stops working due to an account reset or password expiration, you will encounter HTTP 503 "Service unavailable" error messages when attempting to open SharePoint Central Administration or a SharePoint site.</span></span> <span data-ttu-id="a4ac0-236">サーバーをオンラインに戻すには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-236">Follow these steps to bring your server back online.</span></span> <span data-ttu-id="a4ac0-237">サーバーの全体管理を使用できる場合は、続行して期限切れのアカウント情報を更新できます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-237">Once Central Administration is available, you can proceed to update expired account information.</span></span>  
  
1.  <span data-ttu-id="a4ac0-238">[管理ツール] で、 **[インターネット インフォメーション サービス マネージャー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-238">In Administrative tools, click **Internet Information Services Manager**.</span></span>  
  
2.  <span data-ttu-id="a4ac0-239">サイトまたはサーバーの全体管理アプリケーション プールの ID が、期限切れのパスワードを持つドメイン ユーザー アカウントである場合は、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-239">For the identity of the site or Central Administration application pool is a domain user account that has an expired password, do the following:</span></span>  
  
    1.  <span data-ttu-id="a4ac0-240">アプリケーション プール名を右クリックし、 **[詳細設定]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-240">Right-click the application pool name and select **Advanced Settings**.</span></span>  
  
    2.  <span data-ttu-id="a4ac0-241">[ **Id** ] を選択し、[...] をクリックします。ボタンをクリックして、[アプリケーションプール Id] ダイアログボックスを開きます。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-241">Select **Identity** and click the ... button to open the Application Pool Identity dialog box.</span></span>  
  
    3.  <span data-ttu-id="a4ac0-242">**[設定]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-242">Click **Set**.</span></span>  
  
    4.  <span data-ttu-id="a4ac0-243">ユーザー名とパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-243">Type the username and password.</span></span>  
  
3.  <span data-ttu-id="a4ac0-244">IISRESET を実行します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-244">Run IISRESET.</span></span> <span data-ttu-id="a4ac0-245">この操作を行うには、管理者コマンド プロンプトを開き、コマンドで「`iisreset`」と入力します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-245">To do this, open an Administrator command prompt and type `iisreset` at the command.</span></span>  
  
4.  <span data-ttu-id="a4ac0-246">SharePoint サーバーの全体管理で、[セキュリティ] の **[管理アカウントの構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-246">In SharePoint Central Administration, in Security, select **Configure managed accounts**.</span></span>  
  
5.  <span data-ttu-id="a4ac0-247">**[編集]** をクリックして、期限切れのパスワードを持つ管理アカウントの情報を更新します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-247">Click **Edit** to update the information of the managed account that has the expired password.</span></span>  
  
6.  <span data-ttu-id="a4ac0-248">**[今すぐパスワードを変更]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-248">Select **Change password now**.</span></span>  
  
7.  <span data-ttu-id="a4ac0-249">**[既存のパスワードを使用]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-249">Click **Use existing password**.</span></span>  
  
8.  <span data-ttu-id="a4ac0-250">パスワードを入力し、 **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-250">Type the password, and then click **OK**.</span></span>  
  
 <span data-ttu-id="a4ac0-251">Reporting Services がインストールされている場合は、Reporting Services 構成マネージャーを使用して、レポート サーバーのパスワードとレポート サーバー データベースへの接続に使用するパスワードを更新します。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-251">If Reporting Services is installed, use the Reporting Services Configuration Manager to update passwords for the report server and the connection to the report server database.</span></span> <span data-ttu-id="a4ac0-252">詳細については、「[レポート サーバーの構成と管理 (Reporting Services SharePoint モード)](../../reporting-services/configure-administer-report-server-reporting-services-sharepoint-mode.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a4ac0-252">For more information, see [Configuration and Administration of a Report Server &#40;Reporting Services SharePoint Mode&#41;](../../reporting-services/configure-administer-report-server-reporting-services-sharepoint-mode.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4ac0-253">参照</span><span class="sxs-lookup"><span data-stu-id="a4ac0-253">See Also</span></span>  
 <span data-ttu-id="a4ac0-254">[PowerPivot for SharePoint サーバーを開始または停止する](start-or-stop-a-power-pivot-for-sharepoint-server.md) </span><span class="sxs-lookup"><span data-stu-id="a4ac0-254">[Start or Stop a PowerPivot for SharePoint Server](start-or-stop-a-power-pivot-for-sharepoint-server.md) </span></span>  
 [<span data-ttu-id="a4ac0-255">PowerPivot 自動データ更新アカウント &#40;PowerPivot for SharePoint を構成し&#41;</span><span class="sxs-lookup"><span data-stu-id="a4ac0-255">Configure the PowerPivot Unattended Data Refresh Account &#40;PowerPivot for SharePoint&#41;</span></span>](../configure-unattended-data-refresh-account-powerpivot-sharepoint.md)  
  
  
