---
title: DirectQuery の配置シナリオ (SSAS テーブル) |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 2aaf5cb8-294b-4031-94b3-fe605d7fc4c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2c90d90b40686b5953e26853ed9f53dcfd157f0f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645247"
---
# <a name="directquery-deployment-scenarios-ssas-tabular"></a><span data-ttu-id="332d9-102">DirectQuery の配置シナリオ (SSAS テーブル)</span><span class="sxs-lookup"><span data-stu-id="332d9-102">DirectQuery Deployment Scenarios (SSAS Tabular)</span></span>
  <span data-ttu-id="332d9-103">このトピックでは、DirectQuery モデルのデザインと展開プロセスを紹介します。</span><span class="sxs-lookup"><span data-stu-id="332d9-103">This topic provides a walkthrough of the design and deployment process for DirectQuery models.</span></span> <span data-ttu-id="332d9-104">DirectQuery をリレーショナル データのみ使用するように構成するか (DirectQuery のみ)、キャッシュ データのみの使用とリレーショナル データのみの使用を切り替えるようにモデルを構成できます (ハイブリッド モード)。</span><span class="sxs-lookup"><span data-stu-id="332d9-104">You can configure DirectQuery to use relational data only (DirectQuery only), or you can configure the model to switch between using cached data only or relational data only (hybrid mode).</span></span> <span data-ttu-id="332d9-105">ここでは、両方のモードの実装プロセスについて説明し、モードとセキュリティ構成に応じたクエリ結果の差異について説明します。</span><span class="sxs-lookup"><span data-stu-id="332d9-105">This topic explains the implementation process for both modes, and describes possible differences in query results depending on the mode and the security configuration.</span></span>  
  
 [<span data-ttu-id="332d9-106">デザインと展開の手順</span><span class="sxs-lookup"><span data-stu-id="332d9-106">Design and Deployment Steps</span></span>](#bkmk_DQProcedure)  
  
 [<span data-ttu-id="332d9-107">DirectQuery 構成の比較</span><span class="sxs-lookup"><span data-stu-id="332d9-107">Comparing DirectQuery Configurations</span></span>](#bkmk_Configurations)  
  
##  <a name="design-and-deployment-steps"></a><a name="bkmk_DQProcedure"></a><span data-ttu-id="332d9-108">設計と展開の手順</span><span class="sxs-lookup"><span data-stu-id="332d9-108">Design and Deployment Steps</span></span>  
 <span data-ttu-id="332d9-109">**手順 1.ソリューションを作成する**</span><span class="sxs-lookup"><span data-stu-id="332d9-109">**Step 1. Create the solution**</span></span>  
  
 <span data-ttu-id="332d9-110">使用するモードにかかわらず、DirectQuery モデルで使用できるデータに関する制限を説明する情報を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-110">Regardless of which mode you will use, you must review the information that describes limitations on the data that can be used in DirectQuery models.</span></span> <span data-ttu-id="332d9-111">たとえば、モデルとレポートで使用されるすべてのデータは単一の SQL Server データベースから取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-111">For example, all the data used in your model and reports must come from a single SQL Server database.</span></span> <span data-ttu-id="332d9-112">詳しくは、「[DirectQuery モード &#40;SSAS テーブル&#41;](tabular-models/directquery-mode-ssas-tabular.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="332d9-112">For more information, see [DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/directquery-mode-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="332d9-113">また、メジャーと計算列に関する制限を確認し、使用する式が DirectQuery モードと互換性があるかどうかを判断します。</span><span class="sxs-lookup"><span data-stu-id="332d9-113">Also, review the limitations on measures and calculated columns, and determine whether the formulas you intend to use are compatible with DirectQuery mode.</span></span> <span data-ttu-id="332d9-114">次の要素を削除または変更することが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-114">You might need to remove or modify the following elements:</span></span>  
  
-   <span data-ttu-id="332d9-115">計算列はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="332d9-115">Calculated columns are not supported.</span></span>  
  
-   <span data-ttu-id="332d9-116">コピーして貼り付けられたデータは使用できません。</span><span class="sxs-lookup"><span data-stu-id="332d9-116">Copy-pasted data cannot be used.</span></span> <span data-ttu-id="332d9-117">PowerPivot モデルをインポートしてソリューションを簡単に開始する場合は、ソリューションをインポートする前にリンク テーブルを削除してください。このデータは削除できず、DirectQuery 検証をブロックするためです。</span><span class="sxs-lookup"><span data-stu-id="332d9-117">If you import a PowerPivot model to jumpstart your solution, be sure to delete linked tables before importing the solution, as this data cannot be deleted and will block DirectQuery validation.</span></span>  
  
 <span data-ttu-id="332d9-118">**手順 2.モデルデザイナーでの DirectQuery モードの有効化**</span><span class="sxs-lookup"><span data-stu-id="332d9-118">**Step 2. Enable DirectQuery mode in the model designer**</span></span>  
  
 <span data-ttu-id="332d9-119">既定では、DirectQuery は無効になっています。</span><span class="sxs-lookup"><span data-stu-id="332d9-119">By default, DirectQuery is disabled.</span></span> <span data-ttu-id="332d9-120">したがって、デザイン環境が DirectQuery モードをサポートするように構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-120">Therefore, you must configure the design environment to support DirectQuery mode.</span></span>  
  
 <span data-ttu-id="332d9-121">ソリューションエクスプローラーの [**モデルの bim** ] ノードを右クリックし、[ **DirectQuery モード**] プロパティをに設定し `On` ます。</span><span class="sxs-lookup"><span data-stu-id="332d9-121">Right-click the **Model.bim** node in Solution Explorer and set the property, **DirectQuery Mode**, to `On`.</span></span>  
  
 <span data-ttu-id="332d9-122">いつでも DirectQuery をオンにすることができます。ただし、DirectQuery モードと互換性のない列や数式を作成しないようにするために、最初から DirectQuery モードを有効にすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="332d9-122">You can turn on DirectQuery at any time; however, to ensure that you do not create columns or formulas that are incompatible with DirectQuery mode, we recommend that you enable DirectQuery mode right from the beginning.</span></span>  
  
 <span data-ttu-id="332d9-123">最初は、DirectQuery モデルが常にメモリに作成されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-123">Initially, even DirectQuery models are always created in memory.</span></span> <span data-ttu-id="332d9-124">ワークスペース データベースの既定のクエリ モードも **[DirectQuery (In-Memory あり)]** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-124">The default query mode for the workspace database is also set to **DirectQuery with In-Memory**.</span></span> <span data-ttu-id="332d9-125">このハイブリッド動作モードでは、モデルが DirectQuery 要件を満たすことを検証しながら、インポートされたデータのキャッシュを使用してモデル デザイン プロセス中のパフォーマンスを向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-125">This hybrid working mode lets you use the cache of imported data for improved performance during the model design process, while validating the model against DirectQuery requirements.</span></span>  
  
 <span data-ttu-id="332d9-126">**手順 3.検証エラーの解決**</span><span class="sxs-lookup"><span data-stu-id="332d9-126">**Step 3. Resolve validation errors**</span></span>  
  
 <span data-ttu-id="332d9-127">DirectQuery をオンにしたとき、または新しいデータや数式を追加したときに検証エラーが発生する場合は、Visual Studio の **[エラー一覧]** を開き、必要な操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="332d9-127">If you get validation errors when you turn DirectQuery on, or when you add new data or formulas, open the Visual Studio **Error List**, and then take the required actions.</span></span>  
  
-   <span data-ttu-id="332d9-128">エラー メッセージの説明に従って、DirectQuery モードに必要なプロパティ設定を変更します。</span><span class="sxs-lookup"><span data-stu-id="332d9-128">Change any required property settings for DirectQuery mode, as described in the error messages.</span></span>  
  
-   <span data-ttu-id="332d9-129">計算列を削除します。</span><span class="sxs-lookup"><span data-stu-id="332d9-129">Remove calculated columns.</span></span> <span data-ttu-id="332d9-130">特定のメジャーに対して計算列が必要な場合は、テーブルのインポートウィザードで提供されている[&#40;SSAS&#41;リレーショナルクエリデザイナー](relational-query-designer-ssas.md)を使用して、いつでも列を作成できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-130">If you require a calculated column for a particular measure, you can always create the column by using the [Relational Query Designer &#40;SSAS&#41;](relational-query-designer-ssas.md) provided in the Table Import wizard.</span></span>  
  
-   <span data-ttu-id="332d9-131">DirectQuery モードと互換性のない数式を変更または削除します。</span><span class="sxs-lookup"><span data-stu-id="332d9-131">Modify or remove formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="332d9-132">計算で特定の関数が必要な場合は、Transact-SQL を使用して同等の関数を提供する方法を検討します。</span><span class="sxs-lookup"><span data-stu-id="332d9-132">If you require a particular function for a calculation, consider ways that you could provide an equivalent by using Transact-SQL.</span></span>  
  
-   <span data-ttu-id="332d9-133">必要に応じてデータを追加します。</span><span class="sxs-lookup"><span data-stu-id="332d9-133">Add data as needed.</span></span>  <span data-ttu-id="332d9-134">コピーして貼り付けたデータまたは SQL Server 以外のプロバイダーからのデータを以前にモデルで使用していた場合は、既存の接続に新しいビューと派生列を作成するか、分散クエリを使用できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-134">If your model previously used copy-paste data or data from providers other than SQL Server, you can create new views and derived columns within the existing connection, or use distributed queries.</span></span>  <span data-ttu-id="332d9-135">DirectQuery モデルで使用されるすべてのデータは、単一の SQL Server データ ソースを介してアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-135">All data used in a DirectQuery model must be accessible via a single SQL Server data source.</span></span>  
  
 <span data-ttu-id="332d9-136">**手順 4.モデルに対するクエリへの応答に適した方法を設定する**</span><span class="sxs-lookup"><span data-stu-id="332d9-136">**Step 4. Set the preferred method for answering queries on the model**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-137">**DirectQuery のみ**</span><span class="sxs-lookup"><span data-stu-id="332d9-137">**DirectQuery only**</span></span>|<span data-ttu-id="332d9-138">プロパティを **[DirectQuery]** に設定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-138">Set the property to **DirectQuery**.</span></span>|  
|<span data-ttu-id="332d9-139">**ハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-139">**Hybrid mode**</span></span>|<span data-ttu-id="332d9-140">プロパティを **[In-Memory (DirectQuery あり)]** または **[DirectQuery (In-Memory あり)]** に設定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-140">Set the property to **In-Memory With DirectQuery** or **DirectQuery With In-Memory**.</span></span><br /><br /> <span data-ttu-id="332d9-141">この値を後で変更して、別の設定を使用できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-141">You can change this value later to use a different preference.</span></span><br /><br /> <span data-ttu-id="332d9-142">クライアントは接続文字列で優先メソッドをオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="332d9-142">Note that clients can override the preferred method in the connection string.</span></span>|  
  
 <span data-ttu-id="332d9-143">**手順 5.DirectQuery パーティションの指定**</span><span class="sxs-lookup"><span data-stu-id="332d9-143">**Step 5. Specify the DirectQuery partition**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-144">**DirectQuery のみ**</span><span class="sxs-lookup"><span data-stu-id="332d9-144">**DirectQuery only**</span></span>|<span data-ttu-id="332d9-145">省略可能。</span><span class="sxs-lookup"><span data-stu-id="332d9-145">Optional.</span></span> <span data-ttu-id="332d9-146">DirectQuery のみのモデルには、パーティションは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="332d9-146">A DirectQuery only model has no need for a partition.</span></span><br /><br /> <span data-ttu-id="332d9-147">ただし、デザイン フェーズ中にモデルにパーティションを作成した場合は、1 つのパーティションだけをデータ ソースとして使用できることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="332d9-147">However, if you created partitions in the model during the design phase, remember that only one partition can be used as the data source.</span></span> <span data-ttu-id="332d9-148">既定では、最初に作成したパーティションが DirectQuery パーティションとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-148">By default the first partition you created will be used as the DirectQuery partition.</span></span><br /><br /> <span data-ttu-id="332d9-149">モデルに必要なすべてのデータが DirectQuery パーティションにあることを確認するには、DirectQuery パーティションを選択し、SQL ステートメントを編集してデータ セット全体を取得します。</span><span class="sxs-lookup"><span data-stu-id="332d9-149">To ensure that all the data required by the model is available from the DirectQuery partition, choose a DirectQuery partition and edit the SQL statement to get the entire data set.</span></span>|  
|<span data-ttu-id="332d9-150">**ハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-150">**Hybrid mode**</span></span>|<span data-ttu-id="332d9-151">モデル内のいずれかのテーブルに複数のパーティションがある場合は、1 つのパーティションを *DirectQuery パーティション*として選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-151">If any table in your model has multiple partitions, you must choose a single partition as the *DirectQuery partition*.</span></span> <span data-ttu-id="332d9-152">パーティションを割り当てない場合、既定では、最初に作成されたパーティションが DirectQuery パーティションとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-152">If you do not assign a partition, by default, the first partition that was created will be used as the DirectQuery partition.</span></span><br /><br /> <span data-ttu-id="332d9-153">DirectQuery 以外のすべてのパーティションの処理オプションを設定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-153">Set processing options on all partitions except the DirectQuery.</span></span> <span data-ttu-id="332d9-154">通常、データはリレーショナル ソースから渡されるため、DirectQuery パーティションは処理されません。</span><span class="sxs-lookup"><span data-stu-id="332d9-154">Typically the DirectQuery partition is never processed, because the data is passed through from the relational source.</span></span><br /><br /> <span data-ttu-id="332d9-155">詳細については、「 [&#40;SSAS 表形式&#41;」の「パーティションと DirectQuery モード](tabular-models/define-partitions-in-directquery-models-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="332d9-155">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/define-partitions-in-directquery-models-ssas-tabular.md).</span></span>|  
  
 <span data-ttu-id="332d9-156">**手順 6.権限借用の構成**</span><span class="sxs-lookup"><span data-stu-id="332d9-156">**Step 6. Configure impersonation**</span></span>  
  
 <span data-ttu-id="332d9-157">権限借用は、DirectQuery モデルでのみサポートされます。</span><span class="sxs-lookup"><span data-stu-id="332d9-157">Impersonation is supported only for DirectQuery models.</span></span> <span data-ttu-id="332d9-158">権限借用オプション **[権限借用設定]** では、指定した SQL Server データ ソースのデータを表示するときに使用する資格情報を定義します。</span><span class="sxs-lookup"><span data-stu-id="332d9-158">The impersonation option, **Impersonation Settings**, defines the credentials that are used when viewing data from the specified SQL Server data source.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-159">**DirectQuery のみ**</span><span class="sxs-lookup"><span data-stu-id="332d9-159">**DirectQuery only**</span></span>|<span data-ttu-id="332d9-160">**権限借用設定** プロパティには、SQL Server データ ソースへの接続に使用するアカウントを指定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-160">For the  **Impersonation Settings** property, specify the account that will be used to connect to the SQL Server data source.</span></span><br /><br /> <span data-ttu-id="332d9-161">**ImpersonateCurrentUser**値を使用する場合、モデルをホストする [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] のインスタンスは、モデルの現在のユーザーの資格情報を SQL Server データベースに渡します。</span><span class="sxs-lookup"><span data-stu-id="332d9-161">If you use the value, **ImpersonateCurrentUser**, the instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] that hosts the model will pass the credentials of the current user of the model to the SQL Server database.</span></span>|  
|<span data-ttu-id="332d9-162">**ハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-162">**Hybrid mode**</span></span>|<span data-ttu-id="332d9-163">**権限借用設定** プロパティには、SQL Server データ ソース内のデータへのアクセスに使用するアカウントを指定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-163">For the **Impersonation Settings** property, specify the account that will be used to access the data in the SQL Server data source.</span></span><br /><br /> <span data-ttu-id="332d9-164">この設定は、モデルで使用するキャッシュの処理に使用される資格情報には影響しません。</span><span class="sxs-lookup"><span data-stu-id="332d9-164">This setting does not affect the credentials that are used to process the cache used by the model.</span></span>|  
  
 <span data-ttu-id="332d9-165">**手順 7.モデルの配置**</span><span class="sxs-lookup"><span data-stu-id="332d9-165">**Step 7. Deploy the model**</span></span>  
  
 <span data-ttu-id="332d9-166">モデルを配置する準備ができたら、Visual Studio の [**プロジェクト**] メニューを開き、[**プロパティ**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="332d9-166">When you are ready to deploy the model, open the **Project** menu of Visual Studio, and select **Properties**.</span></span> <span data-ttu-id="332d9-167">**QueryMode** プロパティを、次の表で説明する値のいずれかに設定します。</span><span class="sxs-lookup"><span data-stu-id="332d9-167">Set the **QueryMode** property to one of the values described in the following table:</span></span>  
  
 <span data-ttu-id="332d9-168">詳細については、「 [SQL Server Data Tools &#40;SSAS 表形式&#41;からのデプロイ](tabular-models/deploy-from-sql-server-data-tools-ssas-tabular.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="332d9-168">For more information, see [Deploy From SQL Server Data Tools &#40;SSAS Tabular&#41;](tabular-models/deploy-from-sql-server-data-tools-ssas-tabular.md).</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-169">**DirectQuery のみ**</span><span class="sxs-lookup"><span data-stu-id="332d9-169">**DirectQuery only**</span></span>|<span data-ttu-id="332d9-170">**DirectQueryOnly**</span><span class="sxs-lookup"><span data-stu-id="332d9-170">**DirectQueryOnly**</span></span><br /><br /> <span data-ttu-id="332d9-171">DirectQuery のみを指定したため、モデルのメタデータはサーバーに配置されますが、モデルは処理されません。</span><span class="sxs-lookup"><span data-stu-id="332d9-171">Because you have specified Direct Query only, the metadata of the model is deployed to the server, but the model is not processed.</span></span><br /><br /> <span data-ttu-id="332d9-172">ワークスペース データベースで使用されていたキャッシュは自動的には削除されません。</span><span class="sxs-lookup"><span data-stu-id="332d9-172">Note that the cache that was used by the workspace database is not automatically deleted.</span></span> <span data-ttu-id="332d9-173">ユーザーがキャッシュされたデータを表示できないようにするには、デザイン時のキャッシュをクリアします。</span><span class="sxs-lookup"><span data-stu-id="332d9-173">If you want to ensure that users are not able to see the cached data, you might wish to clear the design-time cache.</span></span> <span data-ttu-id="332d9-174">詳細については、「 [Analysis Services キャッシュのクリア](instances/clear-the-analysis-services-caches.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="332d9-174">For more information, see [Clear the Analysis Services Caches](instances/clear-the-analysis-services-caches.md).</span></span>|  
|<span data-ttu-id="332d9-175">**ハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-175">**Hybrid mode**</span></span>|<span data-ttu-id="332d9-176">**[DirectQuery (In-Memory あり)]**</span><span class="sxs-lookup"><span data-stu-id="332d9-176">**DirectQuery with In-Memory**</span></span><br /><br /> <span data-ttu-id="332d9-177">**DirectQuery を使用したインメモリ**</span><span class="sxs-lookup"><span data-stu-id="332d9-177">**In-Memory with DirectQuery**</span></span><br /><br /> <span data-ttu-id="332d9-178">どちらの値でも、必要に応じてキャッシュまたはリレーショナル データ ソースを使用できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-178">Both of these values allow you to use either the cache or the relational data source as necessary.</span></span> <span data-ttu-id="332d9-179">順序によって、モデルに対するクエリへの応答時に既定で使用されるデータ ソースが定義されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-179">The order defines which data source is used by default when answering queries against the model.</span></span><br /><br /> <span data-ttu-id="332d9-180">ハイブリッド モードでは、モデルのメタデータがサーバーに配置されると同時にキャッシュを処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-180">In a hybrid mode, the cache must be processed at the same time that the model metadata is deployed to the server.</span></span><br /><br /> <span data-ttu-id="332d9-181">この設定は配置後に変更できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-181">You can change this setting after deployment.</span></span>|  
  
 <span data-ttu-id="332d9-182">**手順 8.デプロイされたモデルの確認**</span><span class="sxs-lookup"><span data-stu-id="332d9-182">**Step 8. Verify deployed model**</span></span>  
  
 <span data-ttu-id="332d9-183">[!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]で、モデルを配置した [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] のインスタンスを開きます。</span><span class="sxs-lookup"><span data-stu-id="332d9-183">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], open the instance of [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] where you deployed the model.</span></span> <span data-ttu-id="332d9-184">データベースの名前を右クリックし、 **[プロパティ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="332d9-184">Right-click the name of the database and select **Properties**.</span></span>  
  
-   <span data-ttu-id="332d9-185">**DirectQueryMode**プロパティは、配置のプロパティを定義したときに設定しました。</span><span class="sxs-lookup"><span data-stu-id="332d9-185">The property, **DirectQueryMode**, was set when you defined the deployment properties.</span></span>  
  
-   <span data-ttu-id="332d9-186">**データ ソースの権限借用情報**プロパティは、ユーザーの権限借用オプションを定義したときに設定しました。</span><span class="sxs-lookup"><span data-stu-id="332d9-186">The property, **Data Source Impersonation Info**, was set when you defined the user impersonation options.</span></span> <span data-ttu-id="332d9-187">詳細については、「[権限借用オプションの設定 &#40;SSAS - 多次元&#41;](multidimensional-models/set-impersonation-options-ssas-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="332d9-187">For more information, see [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](multidimensional-models/set-impersonation-options-ssas-multidimensional.md).</span></span>  
  
-   <span data-ttu-id="332d9-188">これらのプロパティは、モデルが配置された後、いつでも変更できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-188">You can change these properties any time after the model has been deployed.</span></span>  
  
##  <a name="comparing-directquery-options"></a><a name="bkmk_Configurations"></a><span data-ttu-id="332d9-189">DirectQuery オプションの比較</span><span class="sxs-lookup"><span data-stu-id="332d9-189">Comparing DirectQuery Options</span></span>  
 <span data-ttu-id="332d9-190">**DirectQuery のみ**</span><span class="sxs-lookup"><span data-stu-id="332d9-190">**DirectQuery Only**</span></span>  
 <span data-ttu-id="332d9-191">このオプションは、データのソースが単一であることを保証する場合、またはデータが大きすぎてメモリに収まらない場合に推奨されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-191">This option is preferred when you want to guarantee a single source of data, or when your data is too large to fit in memory.</span></span> <span data-ttu-id="332d9-192">非常に大きなリレーショナル データ ソースを操作する場合は、デザイン時にデータのサブセットを使用してモデルを作成できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-192">If you are working with a very large relational data source, during design time you can create the model by using some subset of the data.</span></span> <span data-ttu-id="332d9-193">モデルを DirectQuery のみのモードで配置する場合は、データ ソース定義を編集して必要なすべてのデータを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-193">When you deploy the model in DirectQuery only mode, you can edit the data source definition to include all the required data.</span></span>  
  
 <span data-ttu-id="332d9-194">このオプションは、リレーショナル データ ソースが提供しているセキュリティを使用してユーザーのデータ アクセスを制御する場合にも推奨されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-194">This option is also preferred if you want to use the security provided by the relational data source to control user access to data.</span></span> <span data-ttu-id="332d9-195">キャッシュされたテーブル モデルでは、 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] ロールを使用してデータ アクセスを制御することもできますが、キャッシュに格納されているデータも保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-195">With cached tabular models, you can also use [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] roles to control data access, but the data stored in the cache must also be secured.</span></span> <span data-ttu-id="332d9-196">セキュリティ コンテキストによってデータをキャッシュしないことが要求される場合は、常にこのオプションを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-196">You should always use this option if your security context requires that data should never be cached.</span></span>  
  
 <span data-ttu-id="332d9-197">次の表で、DirectQuery のみのモードで可能な展開結果について説明します。</span><span class="sxs-lookup"><span data-stu-id="332d9-197">The following table describes the possible deployment outcomes for DirectQuery only mode:</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-198">**キャッシュなしの DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="332d9-198">**DirectQuery with no cache**</span></span>|<span data-ttu-id="332d9-199">キャッシュにデータは読み込まれません。</span><span class="sxs-lookup"><span data-stu-id="332d9-199">No data is loaded into the cache.</span></span> <span data-ttu-id="332d9-200">モデルは処理できません。</span><span class="sxs-lookup"><span data-stu-id="332d9-200">The model can never be processed.</span></span><br /><br /> <span data-ttu-id="332d9-201">モデルは、DAX クエリをサポートするクライアントを使用してクエリのみ行うことができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-201">The model can only be queried by using clients that support DAX queries.</span></span> <span data-ttu-id="332d9-202">クエリ結果は、常に元のデータ ソースから返されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-202">Query results are always returned from the original data source.</span></span><br /><br /> <span data-ttu-id="332d9-203">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="332d9-203">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="332d9-204">**Querymode**  = **DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="332d9-204">**QueryMode** = **DirectQuery**</span></span>|  
|<span data-ttu-id="332d9-205">**キャッシュにのみクエリを実行する DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="332d9-205">**DirectQuery with queries against cache only**</span></span>|<span data-ttu-id="332d9-206">配置が失敗します。</span><span class="sxs-lookup"><span data-stu-id="332d9-206">Deployment fails.</span></span> <span data-ttu-id="332d9-207">この構成はサポートされていません。"と言うメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-207">This configuration is not supported.</span></span><br /><br /> <span data-ttu-id="332d9-208">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="332d9-208">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="332d9-209">**Querymode**  = **インメモリ**</span><span class="sxs-lookup"><span data-stu-id="332d9-209">**QueryMode** = **In-Memory**</span></span>|  
  
 <span data-ttu-id="332d9-210">**ハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-210">**Hybrid mode**</span></span>  
 <span data-ttu-id="332d9-211">モデルをハイブリッド モードで配置すると多くの利点があります。必要に応じて SQL Server データ ソースから最新データを取得できますが、キャッシュを保持すると、レポートのデザインまたはモデルのテスト時にメモリ内のデータをより高いパフォーマンスで操作できます。</span><span class="sxs-lookup"><span data-stu-id="332d9-211">Deploying your model in a hybrid mode has many advantages: you can get up-to-date data from the SQL Server data source if needed, but preserving the cache gives you the ability to work with data in memory for faster performance while designing reports or testing the model.</span></span>  
  
 <span data-ttu-id="332d9-212">DirectQuery ハイブリッド モードは、モデルが非常に大きい場合にも役立ちます。</span><span class="sxs-lookup"><span data-stu-id="332d9-212">A DirectQuery hybrid mode is also useful if your model is very large.</span></span> <span data-ttu-id="332d9-213">ユーザーが古いデータを取得したりキャッシュが処理される間モデルが使用不能になったりする代わりに、処理の進行中にモデルを DirectQuery モードに切り替えることができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-213">Rather than have users get stale data or have the model be unavailable while the cache is processed, you can switch the model to DirectQuery mode while processing is in progress.</span></span> <span data-ttu-id="332d9-214">パフォーマンスはわずかに低下する可能性がありますが、ユーザーはリレーショナル ストアからデータを直接取得できるため、結果が最新であることが保証されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-214">Users might experience slightly slower performance but they would be able to get data directly from the relational store, ensuring that results were up-to-date.</span></span>  
  
 <span data-ttu-id="332d9-215">次の表で、DirectQuery オプションの組み合わせにおける配置結果を比較します。</span><span class="sxs-lookup"><span data-stu-id="332d9-215">The following table compares the deployment outcome in each of the combinations of DirectQuery options.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="332d9-216">**キャッシュ優先のハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-216">**Hybrid mode with cache preferred**</span></span>|<span data-ttu-id="332d9-217">モデルを処理することができ、データをキャッシュに読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-217">The model can be processed and data can be loaded into the cache.</span></span> <span data-ttu-id="332d9-218">クエリでは、既定でキャッシュが使用されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-218">Queries use the cache by default.</span></span>  <span data-ttu-id="332d9-219">クライアントで DirectQuery ソースを使用する場合は、接続文字列にパラメーターを挿入する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-219">If a client wants to use the DirectQuery source, a parameter must be inserted in the connection string.</span></span><br /><br /> <span data-ttu-id="332d9-220">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="332d9-220">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="332d9-221">**Querymode**  = **DirectQuery を使用したインメモリ**</span><span class="sxs-lookup"><span data-stu-id="332d9-221">**QueryMode** = **In-Memory with DirectQuery**</span></span>|  
|<span data-ttu-id="332d9-222">**DirectQuery 優先のハイブリッド モード**</span><span class="sxs-lookup"><span data-stu-id="332d9-222">**Hybrid mode with DirectQuery preferred**</span></span>|<span data-ttu-id="332d9-223">モデルは処理され、データをキャッシュに読み込むことができます。</span><span class="sxs-lookup"><span data-stu-id="332d9-223">The model is processed and data can be loaded into the cache.</span></span> <span data-ttu-id="332d9-224">ただし、既定ではクエリで DirectQuery が使用されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-224">However, queries use DirectQuery by default.</span></span> <span data-ttu-id="332d9-225">クライアントでキャッシュ データを使用する場合は、接続文字列にパラメーターを挿入する必要があります。</span><span class="sxs-lookup"><span data-stu-id="332d9-225">If a client wants to use the cached data, a parameter must be inserted in the connection string.</span></span> <span data-ttu-id="332d9-226">モデル内のテーブルがパーティション分割されている場合は、キャッシュのプリンシパル パーティションも **[In-Memory (DirectQuery あり)]** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="332d9-226">If the tables in the model are partitioned, the principal partition of the cache is also set to **In-Memory with DirectQuery**.</span></span><br /><br /> <span data-ttu-id="332d9-227">**DirectQueryMode** = `On`</span><span class="sxs-lookup"><span data-stu-id="332d9-227">**DirectQueryMode** = `On`</span></span><br /><br /> <span data-ttu-id="332d9-228">**Querymode**  = **メモリ内の DirectQuery**</span><span class="sxs-lookup"><span data-stu-id="332d9-228">**QueryMode** = **DirectQuery with In-Memory**</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="332d9-229">参照</span><span class="sxs-lookup"><span data-stu-id="332d9-229">See Also</span></span>  
 <span data-ttu-id="332d9-230">[SSAS テーブル &#40;の DirectQuery モード&#41;](tabular-models/directquery-mode-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="332d9-230">[DirectQuery Mode &#40;SSAS Tabular&#41;](tabular-models/directquery-mode-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="332d9-231">テーブル モデル データ アクセス</span><span class="sxs-lookup"><span data-stu-id="332d9-231">Tabular Model Data Access</span></span>](tabular-models/tabular-model-data-access.md)  
  
  
