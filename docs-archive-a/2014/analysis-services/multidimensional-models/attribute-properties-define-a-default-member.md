---
title: 既定のメンバーを定義する |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- default members
- attributes [Analysis Services], default members
- members [Analysis Services], default
- DefaultMember property
ms.assetid: db487856-ee21-49c3-aa08-d9136e193374
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2fc60d5883e3a73e1b6e662f6f399f6f77594d23
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87741446"
---
# <a name="define-a-default-member"></a><span data-ttu-id="e0409-102">既定のメンバーの定義</span><span class="sxs-lookup"><span data-stu-id="e0409-102">Define a Default Member</span></span>
  <span data-ttu-id="e0409-103">属性階層がクエリに含まれていない場合は、属性階層の既定のメンバーが式の評価に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-103">The default member of an attribute hierarchy is used to evaluate expressions when an attribute hierarchy is not included in a query.</span></span> <span data-ttu-id="e0409-104">属性階層を示す属性を含む属性階層またはユーザー階層がクエリに含まれる場合は必ず、既定のメンバーは無視されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-104">The default member is ignored whenever a query includes an attribute hierarchy or user hierarchy that contains the attribute that sources the attribute hierarchy.</span></span> <span data-ttu-id="e0409-105">これは、クエリで指定されたメンバーが使用されるためです。</span><span class="sxs-lookup"><span data-stu-id="e0409-105">This is because the member specified in the query is used.</span></span>  
  
 <span data-ttu-id="e0409-106">属性階層の既定のメンバーを設定するには、属性階層の `DefaultMember` プロパティの値として属性メンバーを指定します。</span><span class="sxs-lookup"><span data-stu-id="e0409-106">The default member for an attribute hierarchy is set by specifying an attribute member as the `DefaultMember` property value for the attribute hierarchy.</span></span> <span data-ttu-id="e0409-107">このプロパティは、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]のディメンション デザイナーの [ディメンション構造] タブか、キューブ デザイナーの [計算] タブのキューブの計算スクリプトで設定できます。</span><span class="sxs-lookup"><span data-stu-id="e0409-107">You can set this property on the Dimension Structure tab in Dimension Designer, or in the cube's calculation script on the Calculation tab in Cube Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="e0409-108">ディメンションのセキュリティを定義するときに、[ディメンション データ] タブでセキュリティ ロール (ディメンションの既定のメンバー セットをオーバーライドしている) に `DefaultMember` プロパティを指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="e0409-108">You can also specify the `DefaultMember` property for a security role (overriding the default member set on the dimension) on the Dimension Data tab when defining dimension security.</span></span> <span data-ttu-id="e0409-109">また、キューブが 2 回以上データベース ディメンションを参照する場合、キューブのディメンションにデータベースのディメンションと異なる名前がある場合、または異なるキューブにそれぞれ異なる既定のメンバーを割り当てる場合は、名前解決の問題を回避するために、キューブの MDX スクリプトで既定のメンバーを定義します。</span><span class="sxs-lookup"><span data-stu-id="e0409-109">To avoid name resolution problems, define the default member in the cube's MDX script in the following situations: if the cube refers to a database dimension more than once, if the dimension in the cube has a different name than the dimension in the database, or if you want to have different default members in different cubes.</span></span>  
  
 <span data-ttu-id="e0409-110">属性がクエリに含まれていない場合は、属性上の既定のメンバーが式の評価に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-110">The default member on an attribute is used to evaluate expressions when an attribute is not included in a query.</span></span> <span data-ttu-id="e0409-111">属性の既定のメンバーは、属性の `DefaultMember` プロパティによって指定されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-111">The default member for an attribute is specified by the `DefaultMember` property on the attribute.</span></span> <span data-ttu-id="e0409-112">ディメンションからの階層がクエリに含まれている場合は、階層内のレベルに対応する属性からのすべての既定のメンバーは無視されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-112">Whenever a hierarchy from a dimension is included in a query, all the default members from attributes corresponding to levels in the hierarchy are ignored.</span></span> <span data-ttu-id="e0409-113">ディメンションの階層がクエリに含まれていない場合は、既定のメンバーがディメンションのすべての属性に対して使用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-113">If no hierarchy of a dimension is included in a query, default members are used for all the attributes in the dimension.</span></span>  
  
## <a name="resolving-the-default-member-when-no-default-member-is-specified"></a><span data-ttu-id="e0409-114">既定のメンバーが指定されていない場合の既定のメンバーの解決</span><span class="sxs-lookup"><span data-stu-id="e0409-114">Resolving the Default Member When No Default Member is Specified</span></span>  
 <span data-ttu-id="e0409-115">属性階層に既定のメンバーが指定されておらず、属性階層が集計可能な場合 (属性の `IsAggregatable` プロパティが `True` に設定されている場合)、(All) メンバーが既定のメンバーです。</span><span class="sxs-lookup"><span data-stu-id="e0409-115">If no default member is specified for an attribute hierarchy, and the attribute hierarchy is aggregatable (the `IsAggregatable` property on the attribute is set to `True`), the (All) member is the default member.</span></span> <span data-ttu-id="e0409-116">既定のメンバーが指定されおらず、属性階層が集計可能でない場合 (属性の `IsAggregatable` プロパティが `False` に設定されている場合)、既定のメンバーは属性階層の最上位から選択されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-116">If no default member is specified and the attribute hierarchy is not aggregatable (the `IsAggregatable` property on the attribute is set to `False`), a default member is selected from the attribute hierarchy's top level.</span></span>  
  
## <a name="specifying-the-default-member"></a><span data-ttu-id="e0409-117">既定のメンバーの指定</span><span class="sxs-lookup"><span data-stu-id="e0409-117">Specifying the Default Member</span></span>  
 <span data-ttu-id="e0409-118">のディメンションのすべての属性に [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、既定のメンバーがあります。このメンバーは、属性のプロパティを使用して指定でき `DefaultMember` ます。</span><span class="sxs-lookup"><span data-stu-id="e0409-118">Every attribute in a dimension in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] has a default member, which you can specify by using the `DefaultMember` property for an attribute.</span></span> <span data-ttu-id="e0409-119">この設定は、属性がクエリに含まれていない場合、式の評価に使用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-119">This setting is used to evaluate expressions if an attribute is not included in a query.</span></span> <span data-ttu-id="e0409-120">クエリがディメンションの階層を指定する場合は、階層にある属性の既定のメンバーは無視されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-120">If a query specifies a hierarchy in a dimension, the default members for the attributes in the hierarchy are ignored.</span></span> <span data-ttu-id="e0409-121">ディメンションに階層が指定されていないクエリの場合、 `DefaultMember` ディメンション属性の設定が有効になります。</span><span class="sxs-lookup"><span data-stu-id="e0409-121">If a query does not specify a hierarchy in a dimension, the `DefaultMember` settings for dimension attributes take effect.</span></span>  
  
 <span data-ttu-id="e0409-122">`DefaultMember`属性の設定が空白で、その `IsAggregatable` プロパティがに設定されている場合 `True` 、既定のメンバーは All メンバーです。</span><span class="sxs-lookup"><span data-stu-id="e0409-122">If the `DefaultMember` setting for an attribute is blank and its `IsAggregatable` property is set to `True`, the default member is the All member.</span></span> <span data-ttu-id="e0409-123">`IsAggregatable`プロパティがに設定されている場合 `False` 、既定のメンバーは最初に表示されるレベルの最初のメンバーになります。</span><span class="sxs-lookup"><span data-stu-id="e0409-123">If the `IsAggregatable` property is set to `False`, the default member is the first member of the first visible level.</span></span>  
  
 <span data-ttu-id="e0409-124">属性 `DefaultMember` の設定は、属性が参加するすべての階層に適用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-124">The `DefaultMember` setting for an attribute applies to every hierarchy in which the attribute participates.</span></span> <span data-ttu-id="e0409-125">ディメンションの別の階層に異なる設定を使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="e0409-125">You cannot use different settings for different hierarchies in a dimension.</span></span> <span data-ttu-id="e0409-126">たとえば、[1998] メンバーが [Year] 属性の既定のメンバーである場合、この設定はディメンションのすべての階層に適用されます。</span><span class="sxs-lookup"><span data-stu-id="e0409-126">For example, if the [1998] member is the default member for a [Year] attribute, this setting applies to every hierarchy in the dimension.</span></span> <span data-ttu-id="e0409-127">`DefaultMember`この場合の設定は、1つの階層では [1998]、別の階層では [1997] にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="e0409-127">The `DefaultMember` setting in this case cannot be [1998] in one hierarchy and [1997] in a different hierarchy.</span></span>  
  
 <span data-ttu-id="e0409-128">自動的には集計されない階層にある、特定のレベルの既定のメンバーを定義する場合は、階層の上のレベルにあるすべてのレベルの既定のメンバーを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e0409-128">If you define a default member for a particular level in a hierarchy that does not aggregate naturally, you must define default members in all levels above that level in the hierarchy.</span></span> <span data-ttu-id="e0409-129">たとえば、[すべての国-環境] という階層では、国の既定のメンバーを定義しない限り、気候の既定のメンバーを定義することはできません。</span><span class="sxs-lookup"><span data-stu-id="e0409-129">For example, in the hierarchy All-Countries-Climate, you cannot define a default member for Climate unless you define a default member for Countries.</span></span> <span data-ttu-id="e0409-130">これを行わないと、クエリタイム エラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="e0409-130">Failing to do so creates query-time errors.</span></span>  
  
 <span data-ttu-id="e0409-131">階層のレベルが自動的に集計される場合は、階層の他の属性に関係なく、階層のどの属性にも既定のメンバーを定義できます。</span><span class="sxs-lookup"><span data-stu-id="e0409-131">When levels in a hierarchy aggregate naturally, you can define a default member for any attribute in the hierarchy without regard to other attributes in the hierarchy.</span></span> <span data-ttu-id="e0409-132">たとえば、"hierarchy Country-City" の場合、[City] など、City の既定のメンバーを定義できます。[モントリオール] State または Country の既定のメンバーを定義する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="e0409-132">For example, in the hierarchy Country-Province-City, you can define a default member for City such as [City].[Montreal] without defining the default member for State or for Country.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e0409-133">参照</span><span class="sxs-lookup"><span data-stu-id="e0409-133">See Also</span></span>  
 [<span data-ttu-id="e0409-134">属性階層の &#40;All&#41; レベルの構成</span><span class="sxs-lookup"><span data-stu-id="e0409-134">Configure the &#40;All&#41; Level for Attribute Hierarchies</span></span>](database-dimensions-configure-the-all-level-for-attribute-hierarchies.md)  
  
  
