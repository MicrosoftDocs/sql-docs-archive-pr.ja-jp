---
title: データベースストレージの場所 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- databases [Analysis Services], storage location
ms.assetid: cf88c62e-581e-42f2-846f-a9bf1d7c3292
author: minewiskan
ms.author: owend
ms.openlocfilehash: ab370889396f40f52a348523e7f268892f549192
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714646"
---
# <a name="database-storage-location"></a><span data-ttu-id="a4c14-102">データベースの格納場所</span><span class="sxs-lookup"><span data-stu-id="a4c14-102">Database Storage Location</span></span>
  <span data-ttu-id="a4c14-103">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のデータベース管理者 (DBA) が特定のデータベースをサーバー データ フォルダー以外の場所に配置することは少なくありません。</span><span class="sxs-lookup"><span data-stu-id="a4c14-103">There are often situations when an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database administrator (dba) wants a certain database to reside outside of the server data folder.</span></span> <span data-ttu-id="a4c14-104">こうした状況は、パフォーマンスの向上やストレージの拡張などのビジネス上のニーズによって頻繁に発生します。</span><span class="sxs-lookup"><span data-stu-id="a4c14-104">These situations are often driven by business needs, such as improving performance or expanding storage.</span></span> <span data-ttu-id="a4c14-105">このような場合は、`DbStorageLocation` データベース プロパティを使用すると、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の DBA はローカル ディスクまたはネットワーク デバイス内にデータベースの格納場所を指定できます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-105">For these situations, the `DbStorageLocation` database property enables the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dba to specify the database location in a local disk or network device.</span></span>  
  
## <a name="dbstoragelocation-database-property"></a><span data-ttu-id="a4c14-106">DbStorageLocation データベース プロパティ</span><span class="sxs-lookup"><span data-stu-id="a4c14-106">DbStorageLocation database property</span></span>  
 <span data-ttu-id="a4c14-107">`DbStorageLocation` データベース プロパティでは、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] によって作成および管理されるすべてのデータベースのデータ ファイルとメタデータ ファイルのフォルダーを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4c14-107">The `DbStorageLocation` database property specifies the folder where [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] creates and manages all the database data and metadata files.</span></span> <span data-ttu-id="a4c14-108">メタデータ ファイルはすべて `DbStorageLocation` フォルダーに格納されますが、例外として、データベースのメタデータ ファイルはサーバー データ フォルダーに格納されます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-108">All metadata files are stored at the `DbStorageLocation` folder, with the exception of the database metadata file, which is stored in the server data folder.</span></span> <span data-ttu-id="a4c14-109">`DbStorageLocation` データベース プロパティの値を設定する場合は、重要な注意点が 2 つあります。</span><span class="sxs-lookup"><span data-stu-id="a4c14-109">There are two important considerations when setting the value of `DbStorageLocation` database property:</span></span>  
  
-   <span data-ttu-id="a4c14-110">`DbStorageLocation` データベース プロパティには、既存の UNC フォルダー パスまたは空の文字列を設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4c14-110">The `DbStorageLocation` database property must be set to an existing UNC folder path or an empty string.</span></span> <span data-ttu-id="a4c14-111">空の文字列は、サーバー データ フォルダーを示す既定値です。</span><span class="sxs-lookup"><span data-stu-id="a4c14-111">An empty string is the default for the server data folder.</span></span> <span data-ttu-id="a4c14-112">フォルダーが存在しない場合、`Create` コマンド、`Attach` コマンド、`Alter` コマンドを実行するとエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="a4c14-112">If the folder does not exist, an error will be raised when you execute a `Create`, `Attach`, or `Alter` command.</span></span>  
  
-   <span data-ttu-id="a4c14-113">`DbStorageLocation` データベース プロパティは、サーバー データ フォルダーまたはそのサブフォルダーを指すように設定することはできません。</span><span class="sxs-lookup"><span data-stu-id="a4c14-113">The `DbStorageLocation` database property cannot be set to point to the server data folder or any one of its subfolders.</span></span> <span data-ttu-id="a4c14-114">サーバー データ フォルダーまたはそのサブフォルダーを指した場合、`Create` コマンド、`Attach` コマンド、`Alter` コマンドを実行するとエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="a4c14-114">If the location points to the server data folder or any one of its subfolders, an error will be raised when you execute a `Create`, `Attach`, or `Alter` command.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="a4c14-115">固有の UNC パスを設定して、Storage Area Network (SAN)、iSCSI ベースのネットワーク、またはローカルにアタッチされたディスクを使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a4c14-115">We recommend that set your UNC path to use a Storage Area Network (SAN), iSCSI-based network, or a locally attached disk.</span></span> <span data-ttu-id="a4c14-116">ネットワーク共有への UNC パスや、待機時間の長いリモート ストレージ ソリューションは、サポートされないインストールにつながります。</span><span class="sxs-lookup"><span data-stu-id="a4c14-116">Any UNC path to a network share or any high latency remote storage solution leads to an unsupported installation.</span></span>  
  
### <a name="dbstoragelocation-compared-to-storagelocation"></a><span data-ttu-id="a4c14-117">DbStorageLocation と StorageLocation の比較</span><span class="sxs-lookup"><span data-stu-id="a4c14-117">DbStorageLocation compared to StorageLocation</span></span>  
 <span data-ttu-id="a4c14-118">`DbStorageLocation` は、すべてのデータベースのデータ ファイルとメタデータ ファイルが存在するフォルダーを指定します。一方、`StorageLocation` は、キューブのパーティションが存在するフォルダーを指定します。</span><span class="sxs-lookup"><span data-stu-id="a4c14-118">`DbStorageLocation` specifies the folder where all the database data and metadata files reside, whereas `StorageLocation` specifies the folder where one or more partitions of a cube reside.</span></span> <span data-ttu-id="a4c14-119">`StorageLocation` は、`DbStorageLocation` とは別に設定できます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-119">`StorageLocation` can be set independently of `DbStorageLocation`.</span></span> <span data-ttu-id="a4c14-120">これは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の DBA が予想した結果に基づいて決定します。また、どちらか一方のプロパティが何度も重複して使用されます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-120">This is an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dba decision based on the expected results, and many times the usage of one property or the other will overlap.</span></span>  
  
## <a name="dbstoragelocation-usage"></a><span data-ttu-id="a4c14-121">DbStorageLocation の使用方法</span><span class="sxs-lookup"><span data-stu-id="a4c14-121">DbStorageLocation Usage</span></span>  
 <span data-ttu-id="a4c14-122">データベースプロパティは、データベースコマンドシーケンス内のデータベースコマンド `DbStorageLocation` `Create` シーケンス、 `Detach` / `Attach` `Backup` / `Restore` データベースコマンドシーケンス、または `Synchronize` データベースコマンドの一部として使用されます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-122">The `DbStorageLocation` database property is used as part of a `Create` database command in a `Detach`/`Attach` database commands sequence, in a `Backup`/`Restore` database commands sequence, or in a `Synchronize` database command.</span></span> <span data-ttu-id="a4c14-123">`DbStorageLocation` データベース プロパティの変更は、データベース オブジェクトの構造の変更と見なされます。</span><span class="sxs-lookup"><span data-stu-id="a4c14-123">Changing the `DbStorageLocation` database property is considered a structural change in the database object.</span></span> <span data-ttu-id="a4c14-124">つまり、すべてのメタデータを再作成し、データを再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a4c14-124">This means that all metadata must be recreated and the data reprocessed.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="a4c14-125">`Alter` コマンドを使用して、データベースの格納場所を変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="a4c14-125">You should not change the database storage location by using an `Alter` command.</span></span> <span data-ttu-id="a4c14-126">代わりに、一連のデータベースコマンドを使用することをお勧めし `Detach` / `Attach` ます (「 [Analysis Services データベースの移動](move-an-analysis-services-database.md)」、「 [Analysis Services データベースのアタッチとデタッチ](attach-and-detach-analysis-services-databases.md)」を参照してください)。</span><span class="sxs-lookup"><span data-stu-id="a4c14-126">Instead, we recommend that you use a sequence of `Detach`/`Attach` database commands (see [Move an Analysis Services Database](move-an-analysis-services-database.md), [Attach and Detach Analysis Services Databases](attach-and-detach-analysis-services-databases.md)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4c14-127">参照</span><span class="sxs-lookup"><span data-stu-id="a4c14-127">See Also</span></span>  
 <span data-ttu-id="a4c14-128">[Microsoft.analysisservices.sharepoint.integration.dll (DbStorageLocation \*)](/dotnet/api/microsoft.analysisservices.core.database.dbstoragelocation) </span><span class="sxs-lookup"><span data-stu-id="a4c14-128">[Microsoft.AnalysisServices.Database.DbStorageLocation\*](/dotnet/api/microsoft.analysisservices.core.database.dbstoragelocation) </span></span>  
 <span data-ttu-id="a4c14-129">[Analysis Services データベースのアタッチとデタッチ](attach-and-detach-analysis-services-databases.md) </span><span class="sxs-lookup"><span data-stu-id="a4c14-129">[Attach and Detach Analysis Services Databases](attach-and-detach-analysis-services-databases.md) </span></span>  
 <span data-ttu-id="a4c14-130">[Analysis Services データベースの移動](move-an-analysis-services-database.md) </span><span class="sxs-lookup"><span data-stu-id="a4c14-130">[Move an Analysis Services Database](move-an-analysis-services-database.md) </span></span>  
 <span data-ttu-id="a4c14-131">[DbStorageLocation 要素](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/dbstoragelocation-element) </span><span class="sxs-lookup"><span data-stu-id="a4c14-131">[DbStorageLocation Element](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/dbstoragelocation-element) </span></span>  
 <span data-ttu-id="a4c14-132">[XMLA&#41;&#40;の要素の作成](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/create-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="a4c14-132">[Create Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/create-element-xmla) </span></span>  
 <span data-ttu-id="a4c14-133">[Attach 要素](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/attach-element) </span><span class="sxs-lookup"><span data-stu-id="a4c14-133">[Attach Element](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/attach-element) </span></span>  
 [<span data-ttu-id="a4c14-134">Synchronize 要素 &#40;XMLA&#41;</span><span class="sxs-lookup"><span data-stu-id="a4c14-134">Synchronize Element &#40;XMLA&#41;</span></span>](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla)  
  
  
