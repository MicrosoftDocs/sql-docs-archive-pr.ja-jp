---
title: データソースビューの定義 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- names [Analysis Services], data source views
- name matching criteria [Analysis Services]
- Data Source View Wizard
- data source views [Analysis Services], creating
ms.assetid: 0bae4ee4-1742-40e9-bebe-17c788854484
author: minewiskan
ms.author: owend
ms.openlocfilehash: 477504929c6e550dbdf17b6c27cd91ba030876ad
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645215"
---
# <a name="defining-a-data-source-view-analysis-services"></a><span data-ttu-id="2b698-102">データ ソース ビューの定義 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="2b698-102">Defining a Data Source View (Analysis Services)</span></span>
  <span data-ttu-id="2b698-103">データソースビューには、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 多次元データベースオブジェクト (つまり、キューブ、ディメンション、およびマイニング構造) によって使用されるスキーマの論理モデルが含まれています。</span><span class="sxs-lookup"><span data-stu-id="2b698-103">A data source view contains the logical model of the schema used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] multidimensional database objects-namely cubes, dimensions, and mining structures.</span></span> <span data-ttu-id="2b698-104">データ ソース ビューとは、XML 形式で格納されている、統合ディメンショナル モデル (UDM) とマイニング構造で使用されるこれらのスキーマ要素のメタデータ定義です。</span><span class="sxs-lookup"><span data-stu-id="2b698-104">A data source view is the metadata definition, stored in an XML format, of these schema elements used by the Unified Dimensional Model (UDM) and by the mining structures.</span></span> <span data-ttu-id="2b698-105">データ ソース ビューには、次の特徴があります。</span><span class="sxs-lookup"><span data-stu-id="2b698-105">A data source view:</span></span>  
  
-   <span data-ttu-id="2b698-106">スキーマ生成に関するトップダウン アプローチに従う場合は、基になる 1 つ以上のデータ ソースから選択したオブジェクトを表すメタデータ、または基になるリレーショナル データ ソースの生成に使用されるメタデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="2b698-106">Contains the metadata that represents selected objects from one or more underlying data sources, or the metadata that will be used to generate an underlying relational data store if you are following the top-down approach to schema generation.</span></span>  
  
-   <span data-ttu-id="2b698-107">1 つ以上のデータ ソースに対して構築できるので、複数のソースからデータを統合する多次元オブジェクトやデータ マイニング オブジェクトを定義できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-107">Can be built over one or more data sources, letting you define multidimensional and data mining objects that integrate data from multiple sources.</span></span>  
  
-   <span data-ttu-id="2b698-108">基になるデータ ソースに存在せず、そのデータ ソースとは別に存在するリレーションシップ、主キー、オブジェクト名、計算列、およびクエリを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="2b698-108">Can contain relationships, primary keys, object names, calculated columns, and queries that are not present in an underlying data source and which exist separate from the underlying data sources.</span></span>  
  
-   <span data-ttu-id="2b698-109">クライアント アプリケーションでは表示されず、クエリもできません。</span><span class="sxs-lookup"><span data-stu-id="2b698-109">Is not visible to or available to be queried by client applications.</span></span>  
  
 <span data-ttu-id="2b698-110">DSV は、多次元モデルの必須コンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="2b698-110">A DSV is a required component of a multidimensional model.</span></span> <span data-ttu-id="2b698-111">大部分の Analysis Services 開発者は、モデル設計の初期フェーズで DSV を作成し、基になるデータを提供する外部リレーショナル データベースに基づいて少なくとも 1 つの DSV を生成します。</span><span class="sxs-lookup"><span data-stu-id="2b698-111">Most Analysis Services developers create a DSV during the early phases of model design, generating at least one DSV based on an external relational database that provides underlying data.</span></span> <span data-ttu-id="2b698-112">ただし、後のフェーズで DSV を作成し、ディメンションとキューブを作成した後に、スキーマと基になるデータベース構造を生成することもできます。</span><span class="sxs-lookup"><span data-stu-id="2b698-112">However, you can also create the DSV at a later phase, generating the schema and underlying database structures after the dimensions and cubes are created.</span></span> <span data-ttu-id="2b698-113">この 2 番目のアプローチはトップダウン デザインと呼ばれることもあり、プロトタイプや分析モデルの作成によく使用されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-113">This second approach is sometimes called top-down design and is frequently used for prototyping and analysis modeling.</span></span> <span data-ttu-id="2b698-114">このアプローチに従う場合は、スキーマ生成ウィザードを使用することによって、Analysis Services のプロジェクトまたはデータベースで定義されている OLAP オブジェクトに基づいて、基になるデータ ソース ビューとデータ ソース オブジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="2b698-114">When you use this approach, you use the Schema Generation Wizard to create the underlying data source view and data source objects based on the OLAP objects defined in an Analysis Services project or database.</span></span> <span data-ttu-id="2b698-115">DSV の作成方法や作成時期にかかわりなく、すべてのモデルでは、処理開始前に少なくとも 1 つの DSV を用意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2b698-115">Regardless of how and when you create a DSV, every model must have one before you can process it.</span></span>  
  
 <span data-ttu-id="2b698-116">このトピックのセクションは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="2b698-116">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="2b698-117">データ ソース ビューの構成</span><span class="sxs-lookup"><span data-stu-id="2b698-117">Data Source View Composition</span></span>](#bkmk_dsvdef)  
  
 [<span data-ttu-id="2b698-118">データ ソース ビュー ウィザードを使用した DSV の作成</span><span class="sxs-lookup"><span data-stu-id="2b698-118">Create a DSV Using the Data Source View Wizard</span></span>](#bkmk_startWiz)  
  
 [<span data-ttu-id="2b698-119">リレーションシップの名前一致条件の指定</span><span class="sxs-lookup"><span data-stu-id="2b698-119">Specify Name Matching Criteria for Relationships</span></span>](#bkmk_NameMatch)  
  
 [<span data-ttu-id="2b698-120">セカンダリ データ ソースの追加</span><span class="sxs-lookup"><span data-stu-id="2b698-120">Add a Secondary Data Source</span></span>](#bkmk_secondaryDS)  
  
##  <a name="data-source-view-composition"></a><a name="bkmk_dsvdef"></a><span data-ttu-id="2b698-121">データソースビューの構成</span><span class="sxs-lookup"><span data-stu-id="2b698-121">Data Source View Composition</span></span>  
 <span data-ttu-id="2b698-122">データ ソース ビューには、次の項目が含まれています。</span><span class="sxs-lookup"><span data-stu-id="2b698-122">A data source view contains the following items:</span></span>  
  
-   <span data-ttu-id="2b698-123">名前と説明</span><span class="sxs-lookup"><span data-stu-id="2b698-123">A name and a description.</span></span>  
  
-   <span data-ttu-id="2b698-124">次の項目を含む、スキーマ全体の範囲内の 1 つまたは複数のデータ ソースから取得したスキーマのサブセットの定義</span><span class="sxs-lookup"><span data-stu-id="2b698-124">A definition of any subset of the schema retrieved from one or more data sources, up to and including the whole schema, including the following:</span></span>  
  
    -   <span data-ttu-id="2b698-125">テーブル名</span><span class="sxs-lookup"><span data-stu-id="2b698-125">Table names.</span></span>  
  
    -   <span data-ttu-id="2b698-126">列名</span><span class="sxs-lookup"><span data-stu-id="2b698-126">Column names.</span></span>  
  
    -   <span data-ttu-id="2b698-127">データ型</span><span class="sxs-lookup"><span data-stu-id="2b698-127">Data types.</span></span>  
  
    -   <span data-ttu-id="2b698-128">NULL 値の許容</span><span class="sxs-lookup"><span data-stu-id="2b698-128">Nullability.</span></span>  
  
    -   <span data-ttu-id="2b698-129">列の長さ</span><span class="sxs-lookup"><span data-stu-id="2b698-129">Column lengths.</span></span>  
  
    -   <span data-ttu-id="2b698-130">主キー</span><span class="sxs-lookup"><span data-stu-id="2b698-130">Primary keys.</span></span>  
  
    -   <span data-ttu-id="2b698-131">主キーと外部キーのリレーションシップ</span><span class="sxs-lookup"><span data-stu-id="2b698-131">Primary key - foreign key relationships.</span></span>  
  
-   <span data-ttu-id="2b698-132">次の項目を含む、基になるデータ ソースのスキーマの注釈</span><span class="sxs-lookup"><span data-stu-id="2b698-132">Annotations to the schema from the underlying data sources, including the following:</span></span>  
  
    -   <span data-ttu-id="2b698-133">テーブル、ビュー、および列の表示名</span><span class="sxs-lookup"><span data-stu-id="2b698-133">Friendly names for tables, views, and columns.</span></span>  
  
    -   <span data-ttu-id="2b698-134">1 つまたは複数のデータ ソースの列 (スキーマ内のテーブルとして表示) を返す名前付きクエリ</span><span class="sxs-lookup"><span data-stu-id="2b698-134">Named queries that return columns from one or more data sources (that show as tables in the schema).</span></span>  
  
    -   <span data-ttu-id="2b698-135">データ ソースの列 (テーブルまたはビュー内の列として表示) を返す名前付き計算</span><span class="sxs-lookup"><span data-stu-id="2b698-135">Named calculations that return columns from a data source (that show as columns in tables or views).</span></span>  
  
    -   <span data-ttu-id="2b698-136">論理主キー (主キーが基になるテーブルに定義されていないか、ビューまたは名前付きクエリに含まれていない場合に必要)</span><span class="sxs-lookup"><span data-stu-id="2b698-136">Logical primary keys (needed if a primary key is not defining in the underlying table or is not included in the view or named query).</span></span>  
  
    -   <span data-ttu-id="2b698-137">テーブル、ビュー、および名前付きクエリ間の論理主キーと外部キーのリレーションシップ</span><span class="sxs-lookup"><span data-stu-id="2b698-137">Logical primary key - foreign key relationships between tables, views, and named queries.</span></span>  
  
##  <a name="create-a-dsv-using-the-data-source-view-wizard"></a><a name="bkmk_startWiz"></a><span data-ttu-id="2b698-138">データソースビューウィザードを使用して DSV を作成する</span><span class="sxs-lookup"><span data-stu-id="2b698-138">Create a DSV Using the Data Source View Wizard</span></span>  
 <span data-ttu-id="2b698-139">DSV を作成するには、 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]内のソリューション エクスプローラーでデータ ソース ビュー ウィザードを実行します。</span><span class="sxs-lookup"><span data-stu-id="2b698-139">To create a DSV, run the Data Source View Wizard from Solution Explorer in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2b698-140">代わりに、ディメンションとキューブを最初に構築し、その後にスキーマ生成ウィザードを使用してモデルに対応する DSV を生成することもできます。</span><span class="sxs-lookup"><span data-stu-id="2b698-140">Alternatively, you can construct dimensions and cubes first, and then generate a DSV for the model using the Schema Generation wizard.</span></span> <span data-ttu-id="2b698-141">詳細については、「[スキーマ生成ウィザード (Analysis Services)](schema-generation-wizard-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2b698-141">For more information, see [Schema Generation Wizard &#40;Analysis Services&#41;](schema-generation-wizard-analysis-services.md).</span></span>  
  
1.  <span data-ttu-id="2b698-142">ソリューション エクスプローラーで、[データ ソース ビュー] フォルダーを右クリックし、 **[新しいデータ ソース ビュー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="2b698-142">In Solution Explorer, right-click the Data Source Views folder and then click **New Data Source View**.</span></span>  
  
2.  <span data-ttu-id="2b698-143">外部リレーショナル データベースへの接続情報を提供する、新規または既存のデータ ソース オブジェクトを指定します (ウィザード内で選択できるデータ ソースは 1 つのみです)。</span><span class="sxs-lookup"><span data-stu-id="2b698-143">Specify a new or existing data source object that provides connection information to an external relational database (you can only select one data source in the wizard).</span></span>  
  
3.  <span data-ttu-id="2b698-144">同じページで、 **[詳細設定]** をクリックして特定のスキーマを選択し、フィルターを適用するか、テーブルのリレーションシップ情報を除外します。</span><span class="sxs-lookup"><span data-stu-id="2b698-144">On the same page, click **Advanced** to choose specific schemas, apply a filter, or exclude table relationship information.</span></span>  
  
     <span data-ttu-id="2b698-145">**スキーマの選択**</span><span class="sxs-lookup"><span data-stu-id="2b698-145">**Choose Schemas**</span></span>  
  
     <span data-ttu-id="2b698-146">複数のスキーマを格納している非常に大規模なデータ ソースの場合は、スペースなしのコンマ区切りリストでどのスキーマを使用するかを選択できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-146">For very large data sources containing multiple schemas, you can select which schemas to use in a comma delimited list, with no spaces.</span></span>  
  
     <span data-ttu-id="2b698-147">**リレーションシップの取得**</span><span class="sxs-lookup"><span data-stu-id="2b698-147">**Retrieve Relationships**</span></span>  
  
     <span data-ttu-id="2b698-148">[データ ソース ビューの詳細オプション] ダイアログ ボックス内の **[リレーションシップを取得する]** チェックボックスをオフにすると、テーブルのリレーションシップ情報を意図的に省略できます。その結果、データ ソース ビュー デザイナー内にある複数のテーブル間でリレーションシップを手動で作成できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-148">You can purposely omit table relationship information by clearing the **Retrieve relationships** checkbox in the Advanced Data Source View Options dialog box, allowing you to manually create relationships between tables in the Data Source View Designer.</span></span>  
  
4.  <span data-ttu-id="2b698-149">**使用できるオブジェクトのフィルター処理**</span><span class="sxs-lookup"><span data-stu-id="2b698-149">**Filter Available Objects**</span></span>  
  
     <span data-ttu-id="2b698-150">[使用できるオブジェクト] ボックスの一覧に非常に多くのオブジェクトが含まれている場合、選択条件として文字列を指定する単純なフィルターを適用して一覧を絞り込むことができます。</span><span class="sxs-lookup"><span data-stu-id="2b698-150">If the Available objects list contains a very large number of objects, you can reduce the list by applying a simple filter that species a string as selection criteria.</span></span> <span data-ttu-id="2b698-151">たとえば、「 **dbo** 」と入力し、 **[フィルター]** ボタンをクリックすると、"dbo" で始まる項目のみが **[使用できるオブジェクト]** ボックスの一覧に表示されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-151">For example, if you type **dbo** and click the **Filter** button, then only those items starting with "dbo" show up in the **Available objects** list.</span></span> <span data-ttu-id="2b698-152">フィルターは、文字列の一部にすることができます (たとえば、"sal" は sales と salary を返します) が、複数の文字列や演算子を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="2b698-152">The filter can be a partial string (for example, "sal" returns sales and salary) but it cannot include multiple strings or operators.</span></span>  
  
5.  <span data-ttu-id="2b698-153">テーブルのリレーションシップが設定されていないリレーショナル データ ソースの場合は、 **[名前の一致]** ページが表示され、名前を一致させる適切な方法を選択することができます。</span><span class="sxs-lookup"><span data-stu-id="2b698-153">For relational data sources that do not have table relationships defined, a **Name Matching** page appears so that you can select the appropriate name matching method.</span></span> <span data-ttu-id="2b698-154">詳細については、このトピックの「 [リレーションシップの名前一致条件の指定](#bkmk_NameMatch) 」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="2b698-154">For more information, see the [Specify Name Matching Criteria for Relationships](#bkmk_NameMatch) section in this topic.</span></span>  
  
##  <a name="add-a-secondary-data-source"></a><a name="bkmk_secondaryDS"></a><span data-ttu-id="2b698-155">セカンダリデータソースの追加</span><span class="sxs-lookup"><span data-stu-id="2b698-155">Add a Secondary Data Source</span></span>  
 <span data-ttu-id="2b698-156">複数のデータ ソースに属するテーブル、ビュー、または列を含むデータ ソース ビューを定義するとき、データ ソース ビューに追加するオブジェクトの最初のデータ ソースはプライマリ データ ソースとして指定されます (定義後にプライマリ データ ソースを変更することはできません)。</span><span class="sxs-lookup"><span data-stu-id="2b698-156">When defining a data source view that contains tables, views, or columns from multiple data sources, the first data source from which you add objects to the data source view is designated as the primary data source (you cannot change the primary data source after it is defined).</span></span> <span data-ttu-id="2b698-157">1 つのデータ ソースのオブジェクトに基づいてデータ ソース ビューを定義した後に、他のデータ ソースのオブジェクトを追加することはできます。</span><span class="sxs-lookup"><span data-stu-id="2b698-157">After defining a data source view based on objects from a single data source, you can then add objects from other data sources.</span></span>  
  
 <span data-ttu-id="2b698-158">OLAP 処理またはデータ マイニング クエリで、1 つのクエリに複数のデータ ソースのデータが必要な場合は、プライマリ データ ソースが `OpenRowset` を使用したリモート クエリをサポートしている必要があります。</span><span class="sxs-lookup"><span data-stu-id="2b698-158">If an OLAP processing or a data mining query requires data from multiple data sources in a single query, the primary data source must support remote queries using `OpenRowset`.</span></span> <span data-ttu-id="2b698-159">通常、これは [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データ ソースになります。</span><span class="sxs-lookup"><span data-stu-id="2b698-159">Typically, this will be a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source.</span></span> <span data-ttu-id="2b698-160">たとえば、複数のデータ ソースの列にバインドされている属性を含む OLAP ディメンションを設計する場合は、処理中にこのディメンションを作成する `OpenRowset` クエリが [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] によって作成されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-160">For example, if you design an OLAP dimension that contains attributes that are bound to columns from multiple data sources, then [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will construct an `OpenRowset` query to populate this dimension during processing.</span></span> <span data-ttu-id="2b698-161">ただし、OLAP オブジェクトを作成できるか、データ マイニング クエリが 1 つのデータ ソースから解決される場合、`OpenRowset` クエリは作成されません。</span><span class="sxs-lookup"><span data-stu-id="2b698-161">However, if an OLAP object can be populated or a data mining query resolved from a single data source, then an `OpenRowset` query will not be constructed.</span></span> <span data-ttu-id="2b698-162">特定の状況では、属性間の属性リレーションシップを定義して、`OpenRowset` クエリを必要なくすることができます。</span><span class="sxs-lookup"><span data-stu-id="2b698-162">In certain situations, you may be able to define attribute relationships between attributes to eliminate the need for an `OpenRowset` query.</span></span> <span data-ttu-id="2b698-163">属性リレーションシップの詳細については、「 [属性リレーションシップ](../multidimensional-models-olap-logical-dimension-objects/attribute-relationships.md)」、「 [データ ソース ビューでのテーブルまたはビューの追加または削除 (Analysis Services)](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md) 」、「 [属性リレーションシップの定義](attribute-relationships-define.md)内のソリューション エクスプローラーでデータ ソース ビュー ウィザードを実行します。</span><span class="sxs-lookup"><span data-stu-id="2b698-163">For more information about attribute relationships, see [Attribute Relationships](../multidimensional-models-olap-logical-dimension-objects/attribute-relationships.md), [Adding or Removing Tables or Views in a Data Source View &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md) and [Define Attribute Relationships](attribute-relationships-define.md).</span></span>  
  
 <span data-ttu-id="2b698-164">セカンダリ データ ソースからテーブルおよび列を追加するには、ソリューション エクスプローラーで DSV をダブルクリックしてデータ ソース ビュー デザイナーで開いた後、[テーブルの追加と削除] ダイアログ ボックスを使用して、プロジェクトで定義した他のデータ ソースからオブジェクトを追加します。</span><span class="sxs-lookup"><span data-stu-id="2b698-164">To add tables and columns from a second data source, you double-click the DSV in Solution Explorer to open it in Data Source View Designer, and then use Add/Remove Tables dialog box to include objects from other data sources that are defined in your project.</span></span> <span data-ttu-id="2b698-165">詳細については、「 [データ ソース ビューでのテーブルまたはビューの追加または削除 (Analysis Services)](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md)内のソリューション エクスプローラーでデータ ソース ビュー ウィザードを実行します。</span><span class="sxs-lookup"><span data-stu-id="2b698-165">For more information, see [Adding or Removing Tables or Views in a Data Source View &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md).</span></span>  
  
##  <a name="specify-name-matching-criteria-for-relationships"></a><a name="bkmk_NameMatch"></a><span data-ttu-id="2b698-166">リレーションシップの名前一致条件の指定</span><span class="sxs-lookup"><span data-stu-id="2b698-166">Specify Name Matching Criteria for Relationships</span></span>  
 <span data-ttu-id="2b698-167">DSV を作成すると、データ ソース内の外部キー制約に基づいて、テーブル間にリレーションシップが生成されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-167">When you create a DSV, relationships are created between tables based on foreign key constraints in the data source.</span></span> <span data-ttu-id="2b698-168">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] エンジンで適切な OLAP 処理クエリおよびデータ マイニング クエリを構築するには、これらのリレーションシップが必要です。</span><span class="sxs-lookup"><span data-stu-id="2b698-168">These relationships are required for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] engine to construct the appropriate OLAP processing and data mining queries.</span></span> <span data-ttu-id="2b698-169">ただし、複数のテーブルが含まれているデータ ソースには、外部キー制約がない場合があります。</span><span class="sxs-lookup"><span data-stu-id="2b698-169">Sometimes, however, a data source with multiple tables has no foreign key constraints.</span></span> <span data-ttu-id="2b698-170">データ ソースに外部キー制約がない場合は、異なるテーブルの列名を照合する方法を定義するように指示するプロンプトがデータ ソース ビュー ウィザードに表示されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-170">If a data source has no foreign key constraints, the Data Source View Wizard prompts you to define how you want the wizard to attempt to match column names from different tables.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2b698-171">名前の一致条件は、基になるデータ ソース内で外部キー リレーションシップが検出されない場合のみ指定するように要求されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-171">You are prompted to provide name matching criteria only if no foreign key relationships are detected in the underlying data source.</span></span> <span data-ttu-id="2b698-172">外部キー リレーションシップが検出された場合は、そのリレーションシップが使用されます。また、DSV に含める追加のリレーションシップ (論理主キーなど) を手動で定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="2b698-172">If foreign key relationships are detected, then the detected relationships are used and you must manually define any additional relationships you want to include in the DSV, including logical primary keys.</span></span> <span data-ttu-id="2b698-173">詳細については、「[データ ソース ビューでの論理リレーションシップの定義 (Analysis Services)](define-logical-relationships-in-a-data-source-view-analysis-services.md)」と「[データ ソース ビューでの論理主キーの定義 (Analysis Services)](define-logical-primary-keys-in-a-data-source-view-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2b698-173">For more information, see [Define Logical Relationships in a Data Source View &#40;Analysis Services&#41;](define-logical-relationships-in-a-data-source-view-analysis-services.md) and [Define Logical Primary Keys in a Data Source View &#40;Analysis Services&#41;](define-logical-primary-keys-in-a-data-source-view-analysis-services.md).</span></span>  
  
 <span data-ttu-id="2b698-174">データ ソース ビュー ウィザードは、ユーザーが指定した名前一致条件を使用して列名を一致させ、DSV 内のさまざまなテーブル間にリレーションシップを作成します。</span><span class="sxs-lookup"><span data-stu-id="2b698-174">The Data Source View Wizard uses your response to match column names and create relationships between different tables in the DSV.</span></span> <span data-ttu-id="2b698-175">次の表に示すいずれかの条件を指定できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-175">You can specify any one of the criteria listed in the following table.</span></span>  
  
|<span data-ttu-id="2b698-176">名前一致条件</span><span class="sxs-lookup"><span data-stu-id="2b698-176">Name matching criteria</span></span>|<span data-ttu-id="2b698-177">説明</span><span class="sxs-lookup"><span data-stu-id="2b698-177">Description</span></span>|  
|----------------------------|-----------------|  
|<span data-ttu-id="2b698-178">**[主キーと同一の名前]**</span><span class="sxs-lookup"><span data-stu-id="2b698-178">**Same name as primary key**</span></span>|<span data-ttu-id="2b698-179">基になるテーブルの外部キー列名は、対象になるテーブルの主キー列名と同じです。</span><span class="sxs-lookup"><span data-stu-id="2b698-179">The foreign key column name in the source table is the same as the primary key column name in the destination table.</span></span> <span data-ttu-id="2b698-180">たとえば、外部キー列 `Order.CustomerID` は、主キー列 `Customer.CustomerID`と同じです。</span><span class="sxs-lookup"><span data-stu-id="2b698-180">For example, the foreign key column `Order.CustomerID` is the same as the primary key column `Customer.CustomerID`.</span></span>|  
|<span data-ttu-id="2b698-181">**[対象のテーブル名と同一の名前]**</span><span class="sxs-lookup"><span data-stu-id="2b698-181">**Same name as destination table name**</span></span>|<span data-ttu-id="2b698-182">基になるテーブルの外部キー列名は、対象になるテーブルの名前と同じです。</span><span class="sxs-lookup"><span data-stu-id="2b698-182">The foreign key column name in the source table is the same as the name of the destination table.</span></span> <span data-ttu-id="2b698-183">たとえば、外部キー列 `Order.Customer` は、主キー列 `Customer.CustomerID`と同じです。</span><span class="sxs-lookup"><span data-stu-id="2b698-183">For example, the foreign key column `Order.Customer` is the same as the primary key column `Customer.CustomerID`.</span></span>|  
|<span data-ttu-id="2b698-184">**一致先のテーブル名と主キー名の組み合わせ**</span><span class="sxs-lookup"><span data-stu-id="2b698-184">**Destination table name + primary key name**</span></span>|<span data-ttu-id="2b698-185">基になるテーブルの外部キー列名は、対象になるテーブル名と主キー列名を連結したものと同じです。</span><span class="sxs-lookup"><span data-stu-id="2b698-185">The foreign key column name in the source table is the same as the destination table name concatenated with the primary key column name.</span></span> <span data-ttu-id="2b698-186">区切り記号としてスペースまたはアンダースコアを使用できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-186">A space or underscore separator is permissible.</span></span> <span data-ttu-id="2b698-187">たとえば、次の外部キーと主キーのペアはすべて一致します。</span><span class="sxs-lookup"><span data-stu-id="2b698-187">For example, the following foreign-primary key pairs all match:</span></span><br /><br /> <span data-ttu-id="2b698-188">`Order.CustomerID` および `Customer.ID`</span><span class="sxs-lookup"><span data-stu-id="2b698-188">`Order.CustomerID` and `Customer.ID`</span></span><br /><br /> <span data-ttu-id="2b698-189">`Order.Customer ID` および `Customer.ID`</span><span class="sxs-lookup"><span data-stu-id="2b698-189">`Order.Customer ID` and `Customer.ID`</span></span><br /><br /> <span data-ttu-id="2b698-190">`Order.Customer_ID` および `Customer.ID`</span><span class="sxs-lookup"><span data-stu-id="2b698-190">`Order.Customer_ID` and `Customer.ID`</span></span>|  
  
 <span data-ttu-id="2b698-191">選択した条件によって、DSV の **NameMatchingCriteria** プロパティの設定が変わります。</span><span class="sxs-lookup"><span data-stu-id="2b698-191">The criteria you select changes the **NameMatchingCriteria** property setting of the DSV.</span></span> <span data-ttu-id="2b698-192">この設定によって、ウィザードによる関連テーブルの追加方法が決まります。</span><span class="sxs-lookup"><span data-stu-id="2b698-192">This setting determines how the wizard adds related tables.</span></span> <span data-ttu-id="2b698-193">また、この設定では、データ ソース ビュー デザイナーを使用してデータ ソース ビューを変更するときに、列をどのように一致させて DSV のテーブル間にリレーションシップを作成するかも決定されます。</span><span class="sxs-lookup"><span data-stu-id="2b698-193">When you change the data source view with Data Source View Designer, this specification determines how the designer matches columns to create relationships between tables in the DSV.</span></span> <span data-ttu-id="2b698-194">**NameMatchingCriteria** プロパティの設定は、データ ソース ビュー デザイナーで変更できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-194">You can change the **NameMatchingCriteria** property setting in Data Source View Designer.</span></span> <span data-ttu-id="2b698-195">詳細については、「[データ ソース ビューのプロパティの変更 (Analysis Services)](change-properties-in-a-data-source-view-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2b698-195">For more information, see [Change Properties in a Data Source View &#40;Analysis Services&#41;](change-properties-in-a-data-source-view-analysis-services.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2b698-196">データ ソース ビュー ウィザードを完了したら、データ ソース ビュー デザイナーのスキーマ ペインでリレーションシップを追加または削除できます。</span><span class="sxs-lookup"><span data-stu-id="2b698-196">After you complete the Data Source View Wizard, you can add or remove relationships in the schema pane of Data Source View Designer.</span></span> <span data-ttu-id="2b698-197">詳細については、「[データ ソース ビューでの論理リレーションシップの定義 &#40;Analysis Services&#41;](define-logical-relationships-in-a-data-source-view-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="2b698-197">For more information, see [Define Logical Relationships in a Data Source View &#40;Analysis Services&#41;](define-logical-relationships-in-a-data-source-view-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2b698-198">参照</span><span class="sxs-lookup"><span data-stu-id="2b698-198">See Also</span></span>  
 <span data-ttu-id="2b698-199">[データソースビューでのテーブルまたはビューの追加または削除 &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-199">[Adding or Removing Tables or Views in a Data Source View &#40;Analysis Services&#41;](adding-or-removing-tables-or-views-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-200">[データソースビューでの論理主キーの定義 &#40;Analysis Services&#41;](define-logical-primary-keys-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-200">[Define Logical Primary Keys in a Data Source View &#40;Analysis Services&#41;](define-logical-primary-keys-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-201">[データソースビューで名前付き計算を定義する &#40;Analysis Services&#41;](define-named-calculations-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-201">[Define Named Calculations in a Data Source View &#40;Analysis Services&#41;](define-named-calculations-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-202">[データソースビューでの名前付きクエリの定義 &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-202">[Define Named Queries in a Data Source View &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-203">[データソースビューのテーブルまたは名前付きクエリの置換 &#40;Analysis Services&#41;](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-203">[Replace a Table or a Named Query in a Data Source View &#40;Analysis Services&#41;](replace-a-table-or-a-named-query-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-204">[データソースビューデザイナーでのダイアグラムの操作 &#40;Analysis Services&#41;](work-with-diagrams-in-data-source-view-designer-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-204">[Work with Diagrams in Data Source View Designer &#40;Analysis Services&#41;](work-with-diagrams-in-data-source-view-designer-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-205">[データソースビューでのデータの探索 &#40;Analysis Services&#41;](explore-data-in-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-205">[Explore Data in a Data Source View &#40;Analysis Services&#41;](explore-data-in-a-data-source-view-analysis-services.md) </span></span>  
 <span data-ttu-id="2b698-206">[データソースビュー &#40;Analysis Services の削除&#41;](delete-a-data-source-view-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="2b698-206">[Delete a Data Source View &#40;Analysis Services&#41;](delete-a-data-source-view-analysis-services.md) </span></span>  
 [<span data-ttu-id="2b698-207">データ ソース ビューでのスキーマの更新 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="2b698-207">Refresh the Schema in a Data Source View &#40;Analysis Services&#41;</span></span>](refresh-the-schema-in-a-data-source-view-analysis-services.md)  
  
  
