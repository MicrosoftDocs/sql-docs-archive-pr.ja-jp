---
title: 多次元モデル内のパーティション |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 26e01dc7-fa49-4b1f-99eb-7799d1b4dcd2
author: minewiskan
ms.author: owend
ms.openlocfilehash: 60d14551344e6898d7bb0add41b5931282c8861d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87634111"
---
# <a name="partitions-in-multidimensional-models"></a><span data-ttu-id="19749-102">多次元モデル内のパーティション</span><span class="sxs-lookup"><span data-stu-id="19749-102">Partitions in Multidimensional Models</span></span>
  <span data-ttu-id="19749-103">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]では、 *パーティション* は、メジャー グループに読み込まれるファクト データの物理ストレージを提供します。</span><span class="sxs-lookup"><span data-stu-id="19749-103">In [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], a *partition* provides the physical storage of fact data loaded into a measure group.</span></span> <span data-ttu-id="19749-104">各メジャー グループに対して 1 つのパーティションが自動的に作成されますが、さらにデータを分割する追加のパーティションを作成するのが一般的です。そうすることで、処理効率が上がり、クエリ パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="19749-104">A single partition is created for each measure group automatically, but it is common to create additional partitions that further segment the data, resulting in more efficient processing and faster query performance.</span></span>  
  
 <span data-ttu-id="19749-105">処理効率が上がるのは、1 つ以上のサーバーでパーティションを個別に処理することも並列処理することもできるためです。</span><span class="sxs-lookup"><span data-stu-id="19749-105">Processing is more efficient because partitions can be processed independently and in parallel, on one or more servers.</span></span> <span data-ttu-id="19749-106">クエリの実行速度が向上するのは、各パーティションを、結果として応答時間が短縮されるストレージ モードと集計の最適化を使用するように構成できるためです。</span><span class="sxs-lookup"><span data-stu-id="19749-106">Queries run faster because each partition can be configured to have storage modes and aggregation optimizations that result in shorter response times.</span></span> <span data-ttu-id="19749-107">たとえば、新しいデータが含まれるパーティションに MOLAP ストレージを選択すると、通常は ROLAP よりも高速になります。</span><span class="sxs-lookup"><span data-stu-id="19749-107">For example, choosing MOLAP storage for partitions containing newer data is typically faster than ROLAP.</span></span> <span data-ttu-id="19749-108">同様に、日付でパーティション分割する場合、新しいデータが含まれるパーティションは、アクセス頻度の低い古いデータが含まれるパーティションよりもさらに最適化されます。</span><span class="sxs-lookup"><span data-stu-id="19749-108">Likewise, if you partition by date, partitions containing newer data can have more optimizations than partitions containing older data that is accessed less frequently.</span></span> <span data-ttu-id="19749-109">パーティションごとにストレージと集計デザインが異なると、その後のマージ操作に悪影響を及ぼします。</span><span class="sxs-lookup"><span data-stu-id="19749-109">Note that varying storage and aggregation design by partition will have a negative impact on future merge operations.</span></span> <span data-ttu-id="19749-110">個々のパーティションを最適化する前に、マージがパーティション管理の戦略に必要な要素であるかどうかを必ず検討してください。</span><span class="sxs-lookup"><span data-stu-id="19749-110">Be sure to consider whether merging is an essential component of your partition management strategy before optimizing individual partitions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="19749-111">Business Intelligence Edition および Enterprise Edition では複数のパーティションがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="19749-111">Support for multiple partitions is available in the business intelligence edition and enterprise edition.</span></span> <span data-ttu-id="19749-112">Standard Edition では、複数のパーティションがサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="19749-112">The standard edition does not support multiple partitions.</span></span> <span data-ttu-id="19749-113">詳しくは「 [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="19749-113">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="important-considerations-when-designing-a-partitioning-strategy"></a><span data-ttu-id="19749-114">パーティション分割方法を設計する際の重要な考慮事項</span><span class="sxs-lookup"><span data-stu-id="19749-114">Important considerations when designing a partitioning strategy</span></span>  
 <span data-ttu-id="19749-115">パーティション間でデータが重複しないなど、キューブのデータの整合性はキューブのパーティション間に分散するデータに依存します。</span><span class="sxs-lookup"><span data-stu-id="19749-115">The integrity of a cube's data relies on the data being distributed among the partitions of the cube such that no data is duplicated among the partitions.</span></span> <span data-ttu-id="19749-116">データがパーティションから集約される場合、複数のパーティションに存在するすべてのデータ要素は、それぞれ別のデータ要素として集約されることになります。</span><span class="sxs-lookup"><span data-stu-id="19749-116">When data is summarized from the partitions, any data elements that are present in more than one partition will be summarized as if they were different data elements.</span></span> <span data-ttu-id="19749-117">この結果、不正確な集約とエラーを生じるデータがエンド ユーザーに提供される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="19749-117">This can result in incorrect summaries and erroneous data provided to the end user.</span></span> <span data-ttu-id="19749-118">たとえば、製品 X の売上取引がファクト テーブルの 2 つのパーティションで重複している場合、製品 X の売上の集約には、重複する取引の会計が二重に含まれる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="19749-118">For example, if a sales transaction for Product X is duplicated in the fact tables for two partitions, summaries of Product X sales can include a double accounting of the duplicated transaction.</span></span>  
  
 <span data-ttu-id="19749-119">パーティションはマージできます。マージ機能は、すべてのストレージおよびデータ更新手段で使用できます。</span><span class="sxs-lookup"><span data-stu-id="19749-119">Partitions can be merged; you can use this feature in your overall storage and data update strategy.</span></span> <span data-ttu-id="19749-120">パーティションは、ストレージ モードと集計デザインが同じ場合にのみマージできます。</span><span class="sxs-lookup"><span data-stu-id="19749-120">Partitions can be merged only if they have the same storage mode and aggregation design.</span></span> <span data-ttu-id="19749-121">将来マージ可能なパーティションを作成するには、パーティションの作成時に別のパーティションの集計デザインをコピーします。</span><span class="sxs-lookup"><span data-stu-id="19749-121">To create partitions that are candidates for later merging, you can copy the aggregation design of another partition when you create partitions.</span></span> <span data-ttu-id="19749-122">また、作成したパーティションを編集して、別のパーティションの集計デザインをコピーすることもできます。</span><span class="sxs-lookup"><span data-stu-id="19749-122">You can also edit a partition after it has been created to copy the aggregation design of another partition.</span></span> <span data-ttu-id="19749-123">マージした後のパーティションでデータが重複すると、キューブのデータの正確性が損なわれるため、パーティションのマージは慎重に行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="19749-123">Merging partitions must also be performed carefully to avoid duplication of data in the resulting partition, which can cause cube data to be inaccurate.</span></span>  
  
## <a name="local-partitions"></a><span data-ttu-id="19749-124">ローカル パーティション</span><span class="sxs-lookup"><span data-stu-id="19749-124">Local Partitions</span></span>  
 <span data-ttu-id="19749-125">ローカル パーティションは、1 つのサーバー上で定義、処理、および保存されるパーティションです。</span><span class="sxs-lookup"><span data-stu-id="19749-125">Local partitions are partitions that are defined, processed, and stored on one server.</span></span> <span data-ttu-id="19749-126">キューブに大きなメジャー グループがある場合は、処理がパーティション全体で並行して行われるようにパーティション分割します。</span><span class="sxs-lookup"><span data-stu-id="19749-126">If you have large measure groups in a cube, you might want to partition them out so that processing occurs in parallel across the partitions.</span></span> <span data-ttu-id="19749-127">並列処理は高速で実行できるのが利点です。</span><span class="sxs-lookup"><span data-stu-id="19749-127">The advantage is that parallel processing provides faster execution.</span></span> <span data-ttu-id="19749-128">1 つのパーティションの処理ジョブは、別の処理ジョブが開始される前に終了する必要がないので、並行して実行できます。</span><span class="sxs-lookup"><span data-stu-id="19749-128">Because one partition processing job does not have to finish before another starts, they can run in parallel.</span></span> <span data-ttu-id="19749-129">詳細については、「 [ローカル パーティションの作成と管理 (Analysis Services)](create-and-manage-a-local-partition-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="19749-129">For more information, see [Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md).</span></span>  
  
## <a name="remote-partitions"></a><span data-ttu-id="19749-130">リモート パーティション</span><span class="sxs-lookup"><span data-stu-id="19749-130">Remote Partitions</span></span>  
 <span data-ttu-id="19749-131">リモート パーティションは、1 つのサーバー上で定義されますが、別のサーバーで処理および保存が行われます。</span><span class="sxs-lookup"><span data-stu-id="19749-131">Remote partitions are partitions that are defined on one server, but are processed and stored on another.</span></span> <span data-ttu-id="19749-132">データおよびメタデータのストレージを複数のサーバーに分散するには、リモート パーティションを使用します。</span><span class="sxs-lookup"><span data-stu-id="19749-132">If you want to distribute storage of your data and metadata across multiple servers, use remote partitions.</span></span> <span data-ttu-id="19749-133">通常、開発から運用に移行すると、分析対象のデータのサイズは数倍に大きくなります。</span><span class="sxs-lookup"><span data-stu-id="19749-133">Ordinarily, when you transition from development to production, the size of data under analysis grows several times over.</span></span> <span data-ttu-id="19749-134">このように大きなデータがある場合は、そのデータを複数のコンピューターに分散することも 1 つの方法です。</span><span class="sxs-lookup"><span data-stu-id="19749-134">With such large chunks of data, one possible alternative is to distribute that data over multiple computers.</span></span> <span data-ttu-id="19749-135">これは、1 つのコンピューターですべてのデータを保持できないためだけでなく、複数のコンピューターでデータを並行して処理する必要があるためです。</span><span class="sxs-lookup"><span data-stu-id="19749-135">This is not just because one computer cannot hold all the data, but because you will want more than one computer processing the data in parallel.</span></span> <span data-ttu-id="19749-136">詳細については、「 [リモート パーティションの作成と管理 (Analysis Services)](create-and-manage-a-remote-partition-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="19749-136">For more information, see [Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md).</span></span>  
  
## <a name="aggregations"></a><span data-ttu-id="19749-137">集計</span><span class="sxs-lookup"><span data-stu-id="19749-137">Aggregations</span></span>  
 <span data-ttu-id="19749-138">集計とは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] で高速なクエリ応答を実現するために、キューブ データを事前に計算してまとめたものです。</span><span class="sxs-lookup"><span data-stu-id="19749-138">Aggregations are precalculated summaries of cube data that help enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to provide rapid query responses.</span></span> <span data-ttu-id="19749-139">メジャー グループに作成される集計の数は、ストレージに制限を設定するか、パフォーマンスを制限するか、集計の作成プロセスを一定期間実行した後に適宜停止することによって制御できます。</span><span class="sxs-lookup"><span data-stu-id="19749-139">You can control the number of aggregations created for a measure group by setting limits on storage, performance gains, or arbitrarily stopping the aggregation build process after it has been running for a while.</span></span> <span data-ttu-id="19749-140">必ずしも集計を増やすことが優れているとは限りません。</span><span class="sxs-lookup"><span data-stu-id="19749-140">More aggregations are not necessarily better.</span></span> <span data-ttu-id="19749-141">新しい集計を作成するたびに、ディスク領域と処理時間に関してコストが発生します。</span><span class="sxs-lookup"><span data-stu-id="19749-141">Every new aggregation comes at a cost, both in terms of disk space and processing time.</span></span> <span data-ttu-id="19749-142">30% のパフォーマンス向上のために集計を作成した後は、テストまたは経験において必要と判断した場合のみその数を増やすことをお勧めします。詳細については、「[集計のデザイン (Analysis Services - 多次元)](designing-aggregations-analysis-services-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="19749-142">We recommend creating aggregations for a thirty percent performance gain, and then raising the number only if testing or experience warrants it.For more information, see [Designing Aggregations &#40;Analysis Services - Multidimensional&#41;](designing-aggregations-analysis-services-multidimensional.md).</span></span>  
  
## <a name="partition-merging-and-editing"></a><span data-ttu-id="19749-143">パーティションのマージと編集</span><span class="sxs-lookup"><span data-stu-id="19749-143">Partition Merging and Editing</span></span>  
 <span data-ttu-id="19749-144">2 つのパーティションで同じ集計デザインを使用している場合は、その 2 つのパーティションを 1 つにマージできます。</span><span class="sxs-lookup"><span data-stu-id="19749-144">If two partitions use the same aggregation design, you can merge those two partitions into one.</span></span> <span data-ttu-id="19749-145">たとえば、月ごとにパーティション分割された在庫ディメンションがある場合、各月の末日に、その月のパーティションを年度累計のパーティションにマージできます。</span><span class="sxs-lookup"><span data-stu-id="19749-145">For example, if you have an inventory dimension that is partitioned by month, then at the end of each calendar month, you can merge that month partition with the existing year-to-date partition.</span></span> <span data-ttu-id="19749-146">この方法では、現在の月のパーティションを短時間で処理および分析できる一方、その年の残りの月はマージ時にのみ再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="19749-146">This way, the current month partition can be processed and analyzed quickly, while the rest of the year in months only has to be reprocessed when merged.</span></span> <span data-ttu-id="19749-147">その再処理には時間がかかるため、それほど頻繁に実行しなくてもかまいません。</span><span class="sxs-lookup"><span data-stu-id="19749-147">That reprocess requires longer processing time, and can be run less frequently.</span></span> <span data-ttu-id="19749-148">パーティションのマージ プロセスの管理については、「 [Analysis Services でのパーティションのマージ (SSAS - 多次元)](merge-partitions-in-analysis-services-ssas-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="19749-148">For more information about managing the partition merging process, see [Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md).</span></span> <span data-ttu-id="19749-149">キューブデザイナーの [**パーティション**] タブを使用してキューブパーティションを編集するには、「[パーティションの編集または削除 &#40;Analysis Services-多次元&#41;](edit-or-delete-partitions-analyisis-services-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="19749-149">To edit cube partitions by using the **Partitions** tab in Cube Designer, see [Edit or Delete Partitions &#40;Analysis Services - Multidimensional&#41;](edit-or-delete-partitions-analyisis-services-multidimensional.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="19749-150">関連トピック</span><span class="sxs-lookup"><span data-stu-id="19749-150">Related Topics</span></span>  
  
|<span data-ttu-id="19749-151">トピック</span><span class="sxs-lookup"><span data-stu-id="19749-151">Topic</span></span>|<span data-ttu-id="19749-152">説明</span><span class="sxs-lookup"><span data-stu-id="19749-152">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="19749-153">ローカル パーティションの作成と管理 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="19749-153">Create and Manage a Local Partition &#40;Analysis Services&#41;</span></span>](create-and-manage-a-local-partition-analysis-services.md)|<span data-ttu-id="19749-154">データが重複しないようにフィルターまたは異なるファクト テーブルを使用してデータをパーティション分割する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-154">Contains information about how to partition data using filters or different fact tables without duplicating data.</span></span>|  
|[<span data-ttu-id="19749-155">パーティション ストレージの設定 (Analysis Services - 多次元)</span><span class="sxs-lookup"><span data-stu-id="19749-155">Set Partition Storage &#40;Analysis Services - Multidimensional&#41;</span></span>](set-partition-storage-analysis-services-multidimensional.md)|<span data-ttu-id="19749-156">パーティションのストレージの構成方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-156">Describes how to configure storage for partitions.</span></span>|  
|[<span data-ttu-id="19749-157">パーティションの編集または削除 &#40;Analysis Services-多次元&#41;</span><span class="sxs-lookup"><span data-stu-id="19749-157">Edit or Delete Partitions &#40;Analysis Services - Multidimensional&#41;</span></span>](edit-or-delete-partitions-analyisis-services-multidimensional.md)|<span data-ttu-id="19749-158">パーティションを表示し、編集する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-158">Describes how to view and edit partitions.</span></span>|  
|[<span data-ttu-id="19749-159">Analysis Services でのパーティションのマージ (SSAS - 多次元)</span><span class="sxs-lookup"><span data-stu-id="19749-159">Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;</span></span>](merge-partitions-in-analysis-services-ssas-multidimensional.md)|<span data-ttu-id="19749-160">データが重複しないように異なるファクト テーブルまたはデータ スライスを持つパーティションをマージする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-160">Contains information about how to merge partitions that have different fact tables or different data slices without duplicating data.</span></span>|  
|[<span data-ttu-id="19749-161">パーティションの書き戻しの設定</span><span class="sxs-lookup"><span data-stu-id="19749-161">Set Partition Writeback</span></span>](set-partition-writeback.md)|<span data-ttu-id="19749-162">パーティションへの書き込みを許可する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-162">Provides instructions on write-enabling a partition.</span></span>|  
|[<span data-ttu-id="19749-163">リモート パーティションの作成と管理 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="19749-163">Create and Manage a Remote Partition &#40;Analysis Services&#41;</span></span>](create-and-manage-a-remote-partition-analysis-services.md)|<span data-ttu-id="19749-164">リモート パーティションを作成して管理する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="19749-164">Describes how to create and manage a remote partition.</span></span>|  
  
  
