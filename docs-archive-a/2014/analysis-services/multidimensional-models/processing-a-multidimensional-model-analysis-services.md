---
title: 多次元モデルオブジェクトの処理 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- online mode [Analysis Services]
- processing objects [Analysis Services]
- partitions [Analysis Services], processing
- jobs [Analysis Services]
- objects [Analysis Services], processing
- reprocessing objects
- impact analysis [Analysis Services]
- dimensions [Analysis Services], processing
- project mode [Analysis Services]
- cubes [Analysis Services], processing
ms.assetid: 625aa5a6-aa09-4bac-be8a-778fa81c5a61
author: minewiskan
ms.author: owend
ms.openlocfilehash: e61ff8f80579bba59aced5de4e824f036d633cac
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87641886"
---
# <a name="multidimensional-model-object-processing"></a><span data-ttu-id="20e75-102">多次元モデルのオブジェクト処理</span><span class="sxs-lookup"><span data-stu-id="20e75-102">Multidimensional Model Object Processing</span></span>
  <span data-ttu-id="20e75-103">"処理" とは、Analysis Services がリレーショナル データ ソースから多次元モデルにデータを読み込む 1 つまたは一連のステップです。</span><span class="sxs-lookup"><span data-stu-id="20e75-103">Processing is the step, or series of steps, in which Analysis Services loads data from a relational data source into a multidimensional model.</span></span> <span data-ttu-id="20e75-104">MOLAP ストレージを使用するオブジェクトの場合、データはディスクのデータベース ファイル フォルダーに保存されます。</span><span class="sxs-lookup"><span data-stu-id="20e75-104">For objects that use MOLAP storage, data is saved on disk in the database file folder.</span></span> <span data-ttu-id="20e75-105">ROLAP ストレージの場合、処理は要求に応じて、オブジェクトに対する MDX クエリへの応答として発生します。</span><span class="sxs-lookup"><span data-stu-id="20e75-105">For ROLAP storage, processing occurs on demand, in response to an MDX query on an object.</span></span> <span data-ttu-id="20e75-106">ROLAP ストレージを使用するオブジェクトの場合の処理とは、クエリ結果を返す前にキャッシュを更新する操作のことを指します。</span><span class="sxs-lookup"><span data-stu-id="20e75-106">For objects that use ROLAP storage, processing refers to updating the cache before returning query results.</span></span>  
  
 <span data-ttu-id="20e75-107">既定では、処理は、サーバーにソリューションを配置するときに発生します。</span><span class="sxs-lookup"><span data-stu-id="20e75-107">By default, processing occurs when you deploy a solution to the server.</span></span> <span data-ttu-id="20e75-108">また、ソリューションの全体または一部を、 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] や [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]などのツールを使用して随時処理したり、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] や SQL Server エージェントを使用してスケジュールに従って処理することもできます。</span><span class="sxs-lookup"><span data-stu-id="20e75-108">You can also process all or part of a solution, either ad hoc using tools such as [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or on a schedule using [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and SQL Server Agent.</span></span> <span data-ttu-id="20e75-109">ディメンションの削除や互換性レベルの変更など、モデルの構造を変更するときは、モデルの物理的および論理的な構造を同期するために再度処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-109">When making a structural change to the model, such as removing a dimension or changing its compatibility level, you will need to process again to synchronize the physical and logical aspects of the model.</span></span>  
  
 <span data-ttu-id="20e75-110">このトピックのセクションは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="20e75-110">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="20e75-111">前提条件</span><span class="sxs-lookup"><span data-stu-id="20e75-111">Prerequisites</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="20e75-112">ツールまたは方法を選択する</span><span class="sxs-lookup"><span data-stu-id="20e75-112">Choosing a tool or approach</span></span>](#bkmk_tool)  
  
 [<span data-ttu-id="20e75-113">オブジェクトの処理</span><span class="sxs-lookup"><span data-stu-id="20e75-113">Processing Objects</span></span>](#bkmk_proc)  
  
 [<span data-ttu-id="20e75-114">オブジェクトの再処理</span><span class="sxs-lookup"><span data-stu-id="20e75-114">Reprocessing Objects</span></span>](#bkmk_reproc)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="20e75-115">前提条件</span><span class="sxs-lookup"><span data-stu-id="20e75-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="20e75-116">処理を行うには、Analysis Services のインスタンスに対する管理権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="20e75-116">Processing requires administrative permissions on the Analysis Services instance.</span></span> <span data-ttu-id="20e75-117">[!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] や [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]から対話形式で処理を行う場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンスのサーバー管理者ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-117">If you are processing interactively from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], you must be a member of the server administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="20e75-118">たとえば、SQL Server エージェントでスケジュールを設定した SSIS パッケージを使用するなど、自動的に実行される処理の場合は、パッケージの実行に使用するアカウントがサーバー管理者ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-118">For processing that runs unattended, for example using an SSIS package that you schedule through SQL Server Agent, the account used to run the package must be a member of the server administrator role.</span></span> <span data-ttu-id="20e75-119">管理者権限の設定の詳細については、「 [Analysis Services&#41;&#40;サーバー管理者のアクセス許可を付与](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-119">For more information about setting administrator permissions, see [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md).</span></span>  
  
-   <span data-ttu-id="20e75-120">データの取得に使用するアカウントは、データ ソース オブジェクトで指定されます。Windows 認証を使用する場合は権限借用オプションで指定され、データベース認証を使用する場合は接続文字列のユーザー名で指定されます。</span><span class="sxs-lookup"><span data-stu-id="20e75-120">The account used to retrieve data is specified in the data source object, either as an impersonation option if you are using Windows authentication, or as the user name on the connection string if using database authentication.</span></span> <span data-ttu-id="20e75-121">このアカウントには、モデルで使用するリレーショナル データ ソースに対する読み取り権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="20e75-121">The account must have read permissions on relational data sources used by the model.</span></span>  
  
-   <span data-ttu-id="20e75-122">オブジェクトを処理する前に、プロジェクトまたはソリューションを配置する必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-122">The project or solution must be deployed before you can process any objects.</span></span>  
  
     <span data-ttu-id="20e75-123">最初のうち、モデル開発の早い段階では、配置と処理が一緒に発生します。</span><span class="sxs-lookup"><span data-stu-id="20e75-123">Initially, during the early stages of model development, deployment and processing occur together.</span></span> <span data-ttu-id="20e75-124">ただし、ソリューションを配置した後は、モデルを処理するオプションを設定することができます。</span><span class="sxs-lookup"><span data-stu-id="20e75-124">However, you can set options to process the model later, after you deploy the solution.</span></span> <span data-ttu-id="20e75-125">配置の詳細については、「[Analysis Services プロジェクトの配置 (SSDT)](deploy-analysis-services-projects-ssdt.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-125">For more information about deployment, see [Deploy Analysis Services Projects &#40;SSDT&#41;](deploy-analysis-services-projects-ssdt.md).</span></span>  
  
##  <a name="choosing-a-tool-or-approach"></a><a name="bkmk_tool"></a><span data-ttu-id="20e75-126">ツールまたは方法の選択</span><span class="sxs-lookup"><span data-stu-id="20e75-126">Choosing a tool or approach</span></span>  
 <span data-ttu-id="20e75-127">[!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] や [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]などのクライアント アプリケーション、または SQL Server エージェント ジョブや [!INCLUDE[ssIS](../../includes/ssis-md.md)] パッケージとして実行されるスクリプト操作を使用して、オブジェクトを対話形式で処理することができます。</span><span class="sxs-lookup"><span data-stu-id="20e75-127">You can process objects interactively using a client application such as [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], or a scripted operation that run as a SQL Server Agent job or [!INCLUDE[ssIS](../../includes/ssis-md.md)] package.</span></span>  
  
 <span data-ttu-id="20e75-128">データベースをどのように処理するかは、モデルが開発中か、実稼動しているかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="20e75-128">How you process a database varies considerably depending on whether the model is in active development or in production.</span></span> <span data-ttu-id="20e75-129">いったんモデルが実稼動サーバーに配置されたら、多次元データの整合性や可用性を確保するために、処理は厳密に管理される必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-129">Once a model is deployed to a production server, processing must be tightly controlled to ensure the integrity and availability of multidimensional data.</span></span> <span data-ttu-id="20e75-130">オブジェクトどうしは、相互に依存するため、通常、処理はモデル間で連鎖的に影響を及ぼします。これは、他のオブジェクトも平行して処理されたり、処理されなかったりするためです。</span><span class="sxs-lookup"><span data-stu-id="20e75-130">Because objects are interdependent, processing typically has a cascading effect across the model as other objects are also processed or unprocessed in tandem.</span></span> <span data-ttu-id="20e75-131">いくつかのオブジェクトが未処理状態の場合、そのデータに対するクエリは解決せず、データを使用するレポートやアプリケーションは中断します。</span><span class="sxs-lookup"><span data-stu-id="20e75-131">If some objects are left in an unprocessed state, queries for that data will not resolve, breaking any reports or applications that use it.</span></span> <span data-ttu-id="20e75-132">実稼動データベースを処理する方法を開発する場合、演算子エラーや手順の見落としを避けるために、デバッグおよびテストが完了しているスクリプトまたは [!INCLUDE[ssIS](../../includes/ssis-md.md)] パッケージの使用を検討してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-132">When developing a strategy for processing a production database, consider using script or [!INCLUDE[ssIS](../../includes/ssis-md.md)] packages that you have debugged and tested to avoid operator error or overlooked steps.</span></span>  
  
 <span data-ttu-id="20e75-133">詳細については、「[処理するためのツールと方法 (Analysis Services)](tools-and-approaches-for-processing-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-133">For more information, see [Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md).</span></span>  
  
##  <a name="processing-objects"></a><a name="bkmk_proc"></a><span data-ttu-id="20e75-134">オブジェクトの処理</span><span class="sxs-lookup"><span data-stu-id="20e75-134">Processing Objects</span></span>  
 <span data-ttu-id="20e75-135">処理は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] オブジェクト (メジャー グループ、パーティション、ディメンション、キューブ、マイニング モデル、マイニング構造、およびデータベース) に影響します。</span><span class="sxs-lookup"><span data-stu-id="20e75-135">Processing affects the following [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects: measure groups, partitions, dimensions, cubes, mining models, mining structures, and databases.</span></span> <span data-ttu-id="20e75-136">あるオブジェクトに 1 つまたは複数のオブジェクトが含まれている場合は、最上位レベルのオブジェクトを処理すると、連鎖的に下位レベルのオブジェクトがすべて処理されます。</span><span class="sxs-lookup"><span data-stu-id="20e75-136">When an object contains one or more objects, processing the highest-level object causes a cascade of processing all the lower-level objects.</span></span> <span data-ttu-id="20e75-137">たとえば、通常、キューブには、1 つ以上のメジャー グループ (各メジャー グループには 1 つ以上のパーティションが含まれています) とディメンションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="20e75-137">For example, a cube typically contains one or more measure groups (each of which contains one or more partitions) and dimensions.</span></span> <span data-ttu-id="20e75-138">キューブを処理すると、そのキューブ内のメジャー グループと、その構成要素である、現在未処理の状態にあるディメンションがすべて処理されます。</span><span class="sxs-lookup"><span data-stu-id="20e75-138">Processing a cube causes processing of all the measure groups within the cube and the constituent dimensions that are currently in an unprocessed state.</span></span> <span data-ttu-id="20e75-139">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] オブジェクトの処理に関する詳細については、「 [Analysis Services オブジェクトの処理 (Analysis Services)](processing-analysis-services-objects.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-139">For more information about processing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, see [Processing Analysis Services Objects](processing-analysis-services-objects.md).</span></span>  
  
 <span data-ttu-id="20e75-140">処理ジョブの実行中は、クエリを実行するために、影響を受ける [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] オブジェクトにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="20e75-140">While the processing job is working, the affected [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects can be accessed for querying.</span></span> <span data-ttu-id="20e75-141">処理ジョブはトランザクション内で実行され、そのトランザクションはコミットまたはロールバックできます。</span><span class="sxs-lookup"><span data-stu-id="20e75-141">The processing job works inside a transaction and the transaction can be committed or rolled back.</span></span> <span data-ttu-id="20e75-142">処理ジョブが失敗すると、トランザクションはロールバックされます。</span><span class="sxs-lookup"><span data-stu-id="20e75-142">If the processing job fails, the transaction is rolled back.</span></span> <span data-ttu-id="20e75-143">処理ジョブが成功すると、変更がコミットされている間はオブジェクトが排他的にロックされます。つまり、このオブジェクトはクエリや処理に一時的に使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="20e75-143">If the processing job succeeds, an exclusive lock is put on the object when changes are being committed, which means the object is temporarily unavailable for query or processing.</span></span> <span data-ttu-id="20e75-144">トランザクションのコミット フェーズの間でも、クエリをオブジェクトに送信できますが、そのクエリはコミットが完了するまでキューに置かれます。</span><span class="sxs-lookup"><span data-stu-id="20e75-144">During the commit phase of the transaction, queries can still be sent to the object, but they will be queued until the commit is completed.</span></span>  
  
 <span data-ttu-id="20e75-145">処理ジョブを実行するとき、オブジェクトの処理の有無およびその処理方法は、そのオブジェクトに設定されている処理オプションによって異なります。</span><span class="sxs-lookup"><span data-stu-id="20e75-145">During a processing job, whether an object is processed, and how it will be processed, depends on the processing option that is set for that object.</span></span> <span data-ttu-id="20e75-146">各オブジェクトに適用できる特定の処理オプションの詳細については、「[処理オプションと設定 (Analysis Services)](processing-options-and-settings-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-146">For more information about the specific processing options that can be applied to each object, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
##  <a name="reprocessing-objects"></a><a name="bkmk_reproc"></a><span data-ttu-id="20e75-147">オブジェクトの再処理</span><span class="sxs-lookup"><span data-stu-id="20e75-147">Reprocessing Objects</span></span>  
 <span data-ttu-id="20e75-148">未処理の要素を含んでいるキューブは、参照する前に再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-148">Cubes that contain unprocessed elements have to be reprocessed before they can be browsed.</span></span> <span data-ttu-id="20e75-149">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 内のキューブには、キューブをクエリする前に処理する必要のあるメジャー グループとパーティションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="20e75-149">Cubes in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] contain measure groups and partitions that must be processed before the cube can be queried.</span></span> <span data-ttu-id="20e75-150">キューブを処理すると、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] は、キューブの構成要素であるディメンションが未処理の状態にある場合、そのディメンションを処理します。</span><span class="sxs-lookup"><span data-stu-id="20e75-150">Processing a cube causes [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to process constituent dimensions of the cube if those dimensions are in an unprocessed state.</span></span> <span data-ttu-id="20e75-151">オブジェクトを最初に処理した後、次のような状態が発生した場合は、部分的または全体的にオブジェクトを再処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="20e75-151">After an object has been processed the first time, it must be reprocessed either partially or in full whenever one of the following situations occurs:</span></span>  
  
-   <span data-ttu-id="20e75-152">オブジェクトの構造が変化した場合 (ファクト テーブル内の列を削除するなど)</span><span class="sxs-lookup"><span data-stu-id="20e75-152">The structure of the object changes, such as dropping a column in a fact table.</span></span>  
  
-   <span data-ttu-id="20e75-153">オブジェクトの集計デザインが変化した場合</span><span class="sxs-lookup"><span data-stu-id="20e75-153">The aggregation design for the object changes.</span></span>  
  
-   <span data-ttu-id="20e75-154">オブジェクト内のデータを更新する必要がある場合</span><span class="sxs-lookup"><span data-stu-id="20e75-154">The data in the object needs to be updated.</span></span>  
  
 <span data-ttu-id="20e75-155">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]でオブジェクトを処理する場合は、処理オプションを選択するか、適切な種類の処理を決定する [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の機能を有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="20e75-155">When you process objects in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can select a processing option, or you can enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to determine the appropriate type of processing.</span></span> <span data-ttu-id="20e75-156">使用可能な処理方法はオブジェクトごとに異なり、オブジェクトの種類に基づいています。</span><span class="sxs-lookup"><span data-stu-id="20e75-156">The processing methods made available differ from one object to another, and are based on the type of object.</span></span> <span data-ttu-id="20e75-157">また、使用可能な方法は、オブジェクトの最後の処理後にオブジェクトに対して行われた変更に基づいています。</span><span class="sxs-lookup"><span data-stu-id="20e75-157">Additionally, the methods available are based on what changes have occurred to the object since it was last processed.</span></span> <span data-ttu-id="20e75-158">処理方法を自動的に選択する [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] の機能を有効にすると、オブジェクトを完全処理状態に最短時間で戻す方法が使用されます。</span><span class="sxs-lookup"><span data-stu-id="20e75-158">If you enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to automatically select a processing method, it will use the method that returns the object to a fully processed state in the least time.</span></span> <span data-ttu-id="20e75-159">詳細については、「[処理オプションと設定 &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="20e75-159">For more information, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="20e75-160">参照</span><span class="sxs-lookup"><span data-stu-id="20e75-160">See Also</span></span>  
 <span data-ttu-id="20e75-161">[論理アーキテクチャ &#40;Analysis Services-多次元データ&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="20e75-161">[Logical Architecture &#40;Analysis Services - Multidimensional Data&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span></span>  
 [<span data-ttu-id="20e75-162">データベース オブジェクト &#40;Analysis Services - 多次元データ&#41;</span><span class="sxs-lookup"><span data-stu-id="20e75-162">Database Objects &#40;Analysis Services - Multidimensional Data&#41;</span></span>](olap-logical/database-objects-analysis-services-multidimensional-data.md)  
  
  
