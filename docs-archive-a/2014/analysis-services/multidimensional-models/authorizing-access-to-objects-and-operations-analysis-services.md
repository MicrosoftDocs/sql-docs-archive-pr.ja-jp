---
title: オブジェクトと操作へのアクセスの承認 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.membership.f1
- sql12.asvs.roledesignerdialog.general.f1
helpviewer_keywords:
- access rights [Analysis Services], users
- permissions [Analysis Services], users
- security [Analysis Services], user access
- user access rights [Analysis Services]
- granting permissions [Analysis Services], users
ms.assetid: af28524e-5eca-4dce-a050-da4f406ee1c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 34a91283d735730bcc5f011377b1f1e729e7e753
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87741430"
---
# <a name="authorizing-access-to-objects-and-operations-analysis-services"></a><span data-ttu-id="0d904-102">オブジェクトと操作へのアクセスの承認 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="0d904-102">Authorizing access to objects and operations (Analysis Services)</span></span>
  <span data-ttu-id="0d904-103">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] データベース内のキューブ、ディメンション、マイニング モデルへの管理者以外のユーザー アクセスは、1 つ以上のデータベース ロールのメンバーシップにより許可されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-103">Non-administrative user access to cubes, dimensions, and mining models within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database is granted through membership in one or more database roles.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="0d904-104">管理者は、これらのデータベース ロールを作成し、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] オブジェクトに対する読み取り権限または読み取り/書き込み権限を与え、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows のユーザーとグループを各ロールに割り当てます。</span><span class="sxs-lookup"><span data-stu-id="0d904-104">administrators create these database roles, granting Read or Read/Write permissions on [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, and then assigning [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows users and groups to each role.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="0d904-105">では、ユーザーまたはグループが属している各データベース ロールに関連付けられている権限を組み合わせて、特定の Windows ユーザーまたはグループに有効な権限を判断します。</span><span class="sxs-lookup"><span data-stu-id="0d904-105">determines the effective permissions for a specific Windows user or group by combining the permissions that are associated with each database role to which the user or group belongs.</span></span> <span data-ttu-id="0d904-106">その結果、1 つのデータベース ロールでディメンション、メジャー、または属性を表示するためのユーザーまたはグループ権限を付与していなくても、別のデータベース ロールでそのユーザーまたはグループ権限を付与している場合、そのユーザーまたはグループにはオブジェクトを表示する権限が与えられます。</span><span class="sxs-lookup"><span data-stu-id="0d904-106">As a result, if one database role does not give a user or group permission to view a dimension, measure, or attribute, but a different database role does give that user or group permission, the user or group will have permission to view the object.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0d904-107">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバー管理者ロールのメンバーと、フル コントロール (管理者) 権限を持つデータベース ロールのメンバーは、データベースのデータとメタデータすべてにアクセスでき、特定のオブジェクトを表示するのにその他の権限を必要としません。</span><span class="sxs-lookup"><span data-stu-id="0d904-107">Members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Server Administrator role and members of a database role having Full Control (Administrator) permissions can access all data and metadata in the database and need no additional permissions to view specific objects.</span></span> <span data-ttu-id="0d904-108">さらに、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サーバー ロールのメンバーに対してデータベースのオブジェクトへのアクセスを拒否することはできず、データベース内でフル コントロール (管理者) 権限を持つ [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] データベース ロールのメンバーに対してそのデータベース内のオブジェクトへのアクセスを拒否することもできません。</span><span class="sxs-lookup"><span data-stu-id="0d904-108">Moreover, members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server role cannot be denied access to any object in any database, and members of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database role that has Full Control (Administrator) permissions within a database cannot be denied access to any object within that database.</span></span> <span data-ttu-id="0d904-109">処理などの特殊な管理操作は、より権限の少ない別のロールを通じて承認されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-109">Specialized administrative operations, such as processing, can be authorized through separate roles having less permission.</span></span> <span data-ttu-id="0d904-110">詳細については、「[処理権限の付与 &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-110">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
## <a name="list-roles-defined-for-your-database"></a><span data-ttu-id="0d904-111">データベースに対して定義されたロールの一覧表示</span><span class="sxs-lookup"><span data-stu-id="0d904-111">List roles defined for your database</span></span>  
 <span data-ttu-id="0d904-112">管理者は、SQL Server Management Studio から簡単な DMV クエリを実行することにより、サーバー上で定義されたすべてのロールの一覧を取得できます。</span><span class="sxs-lookup"><span data-stu-id="0d904-112">Administrators can run a simple DMV query in SQL Server Management Studio to get a list of all roles defined on the server.</span></span>  
  
1.  <span data-ttu-id="0d904-113">SSMS で、データベースを右クリックし、[**新しいクエリ**] [MDX] を選択し  |  **MDX**ます。</span><span class="sxs-lookup"><span data-stu-id="0d904-113">In SSMS, right-click a database and select **New Query** | **MDX**.</span></span>  
  
2.  <span data-ttu-id="0d904-114">次のクエリを入力し、F5 キーを押して実行します。</span><span class="sxs-lookup"><span data-stu-id="0d904-114">Type the following query and press F5 to execute:</span></span>  
  
    ```sql  
    Select * from $SYSTEM.DBSCHEMA_CATALOGS  
    ```  
  
     <span data-ttu-id="0d904-115">結果には、データベース名、説明、ロール名、最終更新日が含まれます。</span><span class="sxs-lookup"><span data-stu-id="0d904-115">Results include the database name, description, role name, and the date last modified.</span></span> <span data-ttu-id="0d904-116">この情報を開始位置として使用することにより、個々のデータベースに進んで特定のロールのメンバーシップと権限を確認できます。</span><span class="sxs-lookup"><span data-stu-id="0d904-116">Using this information as a starting point, you can proceed to individual databases to check membership and permissions of a specific role.</span></span>  
  
## <a name="top-down-overview-of-analysis-services-authorization"></a><span data-ttu-id="0d904-117">Analysis Services の承認に関するトップダウンの概要</span><span class="sxs-lookup"><span data-stu-id="0d904-117">Top-down overview of Analysis Services authorization</span></span>  
 <span data-ttu-id="0d904-118">ここでは、権限の構成に関する基本的なワークフローについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0d904-118">This section covers the basic workflow for configuring permissions.</span></span>  
  
 <span data-ttu-id="0d904-119">**手順 1: サーバーの管理**</span><span class="sxs-lookup"><span data-stu-id="0d904-119">**Step 1: Server Administration**</span></span>  
  
 <span data-ttu-id="0d904-120">最初の手順として、サーバー レベルで管理者権限を持つユーザーを決定します。</span><span class="sxs-lookup"><span data-stu-id="0d904-120">As a first step, decide who will have administrator rights at the server level.</span></span> <span data-ttu-id="0d904-121">SQL Server をインストールするローカル管理者は、インストール時に、Analysis Services サーバー管理者として Windows アカウントを 1 つ以上指定するよう求められます。</span><span class="sxs-lookup"><span data-stu-id="0d904-121">During installation, the local administrator who installs SQL Server is required to specify one or more Windows accounts as the Analysis Services server administrator.</span></span> <span data-ttu-id="0d904-122">サーバー管理者には、サーバー上の可能な権限がすべて付与されています。これには、サーバー上の任意のオブジェクトを表示、変更、削除したり、関連付けられているデータを表示したりする権限が含まれます。</span><span class="sxs-lookup"><span data-stu-id="0d904-122">Server administrators have all possible permissions on a server, including the permission to view, modify, and delete any object on the server, or view associated data.</span></span> <span data-ttu-id="0d904-123">インストールが完了したら、サーバー管理者は、アカウントを追加または削除してこのロールのメンバーシップを変更できます。</span><span class="sxs-lookup"><span data-stu-id="0d904-123">After installation is complete, a server administrator can add or remove accounts to change membership of this role.</span></span> <span data-ttu-id="0d904-124">このアクセス許可レベルの詳細については、「 [Analysis Services&#41;&#40;サーバー管理者のアクセス許可を付与](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-124">See [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) for details about this permission level.</span></span>  
  
 <span data-ttu-id="0d904-125">**手順 2: データベースの管理**</span><span class="sxs-lookup"><span data-stu-id="0d904-125">**Step 2: Database Administration**</span></span>  
  
 <span data-ttu-id="0d904-126">次に、テーブルまたは多次元ソリューションが作成されたら、データベースとしてサーバーに配置されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-126">Next, after a tabular or multidimensional solution is created, it is deployed to the server as a database.</span></span> <span data-ttu-id="0d904-127">サーバー管理者は、問題のあるデータベースに対してフル コントロール権限を持つロールを定義することにより、データベース管理タスクを委任できます。</span><span class="sxs-lookup"><span data-stu-id="0d904-127">A server administrator can delegate database administration tasks by defining a role that has Full Control permissions for the database in question.</span></span> <span data-ttu-id="0d904-128">このロールのメンバーは、データベース内のオブジェクトを処理または照会したり、キューブ、ディメンション、およびデータベース自体にある他のオブジェクトにアクセスするために追加のロールを作成したりできます。</span><span class="sxs-lookup"><span data-stu-id="0d904-128">Members of this role can process or query objects in the database, as well as create additional roles for accessing cubes, dimensions, and other objects within the database itself.</span></span> <span data-ttu-id="0d904-129">詳細については、「[データベース権限の付与 &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-129">See [Grant database permissions &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) for more information.</span></span>  
  
 <span data-ttu-id="0d904-130">**手順 3: クエリと処理のワークロードへのキューブ アクセスまたはモデル アクセスの有効化**</span><span class="sxs-lookup"><span data-stu-id="0d904-130">**Step 3: Enable cube or model access for query and processing workloads**</span></span>  
  
 <span data-ttu-id="0d904-131">既定では、キューブまたはテーブル モデルにアクセスできるのは、サーバー管理者とデータベース管理者だけです。</span><span class="sxs-lookup"><span data-stu-id="0d904-131">By default, only server and database administrators have access to cubes or tabular models.</span></span> <span data-ttu-id="0d904-132">組織内の他のユーザーがこれらのデータ構造を使用できるようにするには、`Read` 特権を指定する権限と共に、Windows ユーザーおよびグループ アカウントを、キューブまたはモデルにマップするための追加のロール割り当てが必要です。</span><span class="sxs-lookup"><span data-stu-id="0d904-132">Making these data structures available to other people in your organization requires additional role assignments that map Windows user and group accounts to cubes or models, along with permissions that specify `Read` privileges.</span></span> <span data-ttu-id="0d904-133">詳細については、「[キューブ権限またはモデル権限の付与 &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-133">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details.</span></span>  
  
 <span data-ttu-id="0d904-134">処理タスクを他の管理機能と分離することにより、サーバー管理者およびデータベース管理者がこのタスクを他のユーザーに委任したり、スケジュール ソフトウェアを実行するサービス アカウントを指定することによって自動処理を構成したりできるようになります。</span><span class="sxs-lookup"><span data-stu-id="0d904-134">Processing tasks can be isolated from other administrative functions, allowing server and database administrators to delegate this task to other people, or to configure unattended processing by specifying service accounts that run scheduling software.</span></span> <span data-ttu-id="0d904-135">詳細については、「[処理権限の付与 &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-135">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0d904-136">ユーザーは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のデータ読み込み元である、基になるリレーショナル データベースのリレーショナル テーブルへの権限は必要とせず、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンスを実行しているコンピューターでのファイル レベルの権限も必要としません。</span><span class="sxs-lookup"><span data-stu-id="0d904-136">Users do not require any permissions to the relational tables in the underlying relational database from which [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] loads its data, and do not require any file level permissions on the computer on which the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="0d904-137">**手順 4 (省略可): 内部キューブ オブジェクトへのアクセスの許可または拒否**</span><span class="sxs-lookup"><span data-stu-id="0d904-137">**Step 4 (Optional): Allow or deny access to interior cube objects**</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="0d904-138">は、データ モデル内のディメンション メンバーおよびセルを含む、個別のオブジェクトの設定権限のセキュリティ設定を提供します。</span><span class="sxs-lookup"><span data-stu-id="0d904-138">provides security settings for setting permissions on individual objects, including dimension members and cells within a data model.</span></span> <span data-ttu-id="0d904-139">詳細については、「[ディメンション データへのカスタム アクセス権の付与 &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md)」および「[セル データへのカスタム アクセス権の付与 &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-139">For details, see [Grant custom access to dimension data &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) and [Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md).</span></span>  
  
 <span data-ttu-id="0d904-140">権限は、ユーザー ID によって異なります。</span><span class="sxs-lookup"><span data-stu-id="0d904-140">You can also vary permissions based on user identity.</span></span> <span data-ttu-id="0d904-141">これは動的なセキュリティと呼ばれ、[UserName &#40;MDX&#41;](/sql/mdx/username-mdx) 関数を使用して実装されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-141">This is often referred to as dynamic security, and is implemented using the [UserName &#40;MDX&#41;](/sql/mdx/username-mdx) function</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="0d904-142">ベスト プラクティス</span><span class="sxs-lookup"><span data-stu-id="0d904-142">Best practices</span></span>  
 <span data-ttu-id="0d904-143">権限のより優れた管理のために、次のような方法が推奨されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-143">To better manage permissions, we suggest an approach similar to the following:</span></span>  
  
1.  <span data-ttu-id="0d904-144">ロールを保守するユーザーが、ロールの機能を一目でわかるように、関数ごと (dbadmin、cubedeveloper、processadmin など) にロールを作成します。</span><span class="sxs-lookup"><span data-stu-id="0d904-144">Create roles by function (for example, dbadmin, cubedeveloper, processadmin) so that whoever maintains the roles can see at glance what the role allows.</span></span> <span data-ttu-id="0d904-145">他の場所でも示されているように、モデル定義でロールを定義できるため、後のソリューションの配置よりそれらのロールを保持することが優先されます。</span><span class="sxs-lookup"><span data-stu-id="0d904-145">As noted elsewhere, you can define roles in the model definition, thus preserving those roles over subsequent solution deployments.</span></span>  
  
2.  <span data-ttu-id="0d904-146">対応する Windows セキュリティ グループを Active Directory に作成し、そのセキュリティ グループを Active Directory に保持することにより、適切な個々のアカウントが確実に含まれるようにします。</span><span class="sxs-lookup"><span data-stu-id="0d904-146">Create a corresponding Windows security group in Active Directory, and then maintain the security group in Active Directory to insure it contains the appropriate individual accounts.</span></span> <span data-ttu-id="0d904-147">これにより、組織内のアカウント メンテナンスに使用されるツールおよび処理を既に使いこなしているセキュリティ スペシャリストが、セキュリティ グループ メンバーシップの責任を負うことになります。</span><span class="sxs-lookup"><span data-stu-id="0d904-147">This places the responsibility of security group membership on security specialists who are already have proficiency with the tools and processes used for account maintenance in your organization.</span></span>  
  
3.  <span data-ttu-id="0d904-148">モデルがそのソース ファイルからサーバーに再配置された場合にはすばやくロールの割り当てをレプリケートできるように、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] にスクリプトを生成します。</span><span class="sxs-lookup"><span data-stu-id="0d904-148">Generate scripts in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] so that you can quickly replicate role assignments whenever the model is redeployed from its source files to a server.</span></span> <span data-ttu-id="0d904-149">スクリプトをすばやく生成する方法の詳細については、「[キューブ権限またはモデル権限の付与 &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-149">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details on how to quickly generate a script.</span></span>  
  
4.  <span data-ttu-id="0d904-150">ロールのスコープとメンバーシップを反映する名前付け規則を採用します。</span><span class="sxs-lookup"><span data-stu-id="0d904-150">Adopt a naming convention that reflects the scope and membership of the role.</span></span> <span data-ttu-id="0d904-151">ロール名は、デザイン ツールおよび管理ツールにのみ表示されるため、キューブ セキュリティ スペシャリストにとって理解しやすい名前付け規則を使用してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-151">Role names are only visible in design and administration tools, so use a naming convention that makes sense to your cube security specialists.</span></span> <span data-ttu-id="0d904-152">たとえば、 **processadmin-windowsgroup1** は、個々の Windows ユーザー アカウントが **windowsgroup1** セキュリティ グループのメンバーである組織内のユーザーに対して、読み取りアクセスおよび処理権限を示します。</span><span class="sxs-lookup"><span data-stu-id="0d904-152">For example, **processadmin-windowsgroup1** indicates read access, plus processing rights, to people in your organization whose individual Windows user accounts are members of the **windowsgroup1** security group.</span></span>  
  
     <span data-ttu-id="0d904-153">アカウント情報を含めることは、多数のロールで使用されているアカウントを追跡するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0d904-153">Including account information can help you keep track of which accounts are used in various roles.</span></span> <span data-ttu-id="0d904-154">ロールは追加式のため、 **windowsgroup1** に関連付けられている結合されたロールは、そのセキュリティ グループに所属するユーザーにとって有効な権限セットを構成します。</span><span class="sxs-lookup"><span data-stu-id="0d904-154">Because roles are additive, the combined roles associated with **windowsgroup1** make up the effective permission set for people belonging to that security group.</span></span>  
  
5.  <span data-ttu-id="0d904-155">開発中、キューブ開発者はモデルおよびデータベースのフル コントロール権限を必要としますが、一度データベースが実稼働サーバーにロールアウトされると、必要とされるのは読み込み権限のみです。</span><span class="sxs-lookup"><span data-stu-id="0d904-155">Cube developers will require Full Control permissions for models and databases under development, but only need Read permissions once a database is rolled out to a production server.</span></span> <span data-ttu-id="0d904-156">開発、テスト、および運用環境の配置を含むすべてのシナリオに対してロールの定義と割り当てを開発してください。</span><span class="sxs-lookup"><span data-stu-id="0d904-156">Remember to develop role definitions and assignments for all scenarios, including development, test, and production deployments.</span></span>  
  
 <span data-ttu-id="0d904-157">このような方法を使用すると、モデル内のロールの定義とメンバーシップへの動きを最小限にし、ロールの割り当てに可視性が加わるため、キューブ権限の実装および保持が簡単になります。</span><span class="sxs-lookup"><span data-stu-id="0d904-157">Using an approach like this one minimizes churn to role definitions and role membership in the model, and provides visibility into role assignments that makes cube permissions easier to implement and maintain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0d904-158">参照</span><span class="sxs-lookup"><span data-stu-id="0d904-158">See Also</span></span>  
 <span data-ttu-id="0d904-159">[サーバー管理者のアクセス許可を付与 &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="0d904-159">[Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span></span>  
 <span data-ttu-id="0d904-160">[ロールとアクセス許可 &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="0d904-160">[Roles and Permissions &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span></span>  
 [<span data-ttu-id="0d904-161">Analysis Services でサポートされる認証方法</span><span class="sxs-lookup"><span data-stu-id="0d904-161">Authentication methodologies supported by Analysis Services</span></span>](../instances/authentication-methodologies-supported-by-analysis-services.md)  
  
  
