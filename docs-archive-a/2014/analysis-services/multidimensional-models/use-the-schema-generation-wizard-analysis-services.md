---
title: スキーマ生成ウィザードを使用する (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, steps
- relational schema [Analysis Services], Schema Generation Wizard
ms.assetid: 8c710745-d41d-4c31-b6a2-2956229df75a
author: minewiskan
ms.author: owend
ms.openlocfilehash: fa65c2c6f377a375d0fc6aa8298cdec749805b6c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87642356"
---
# <a name="use-the-schema-generation-wizard-analysis-services"></a><span data-ttu-id="9a4df-102">スキーマ生成ウィザードの使用 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="9a4df-102">Use the Schema Generation Wizard (Analysis Services)</span></span>
  <span data-ttu-id="9a4df-103">スキーマ生成ウィザードが生成フェーズで必要とする情報の量は限られています。</span><span class="sxs-lookup"><span data-stu-id="9a4df-103">The Schema Generation Wizard requires a limited amount of information during the generation phase.</span></span> <span data-ttu-id="9a4df-104">スキーマ生成ウィザードでリレーショナル スキーマを生成するために必要な情報のほとんどは、プロジェクトで既に作成した [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] キューブおよびディメンションから抽出されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-104">Most of the information that the Schema Generation Wizard requires for generating relational schemas is extracted from the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions that you already created in the project.</span></span> <span data-ttu-id="9a4df-105">また、サブジェクト領域データベース スキーマの生成方法とスキーマ内のオブジェクトの名前付け方法をカスタマイズすることもできます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-105">Additionally, you can customize how the subject area database schema is generated and how objects in the schema are named.</span></span>  
  
## <a name="start-the-wizard"></a><span data-ttu-id="9a4df-106">ウィザードの起動</span><span class="sxs-lookup"><span data-stu-id="9a4df-106">Start the Wizard</span></span>  
 <span data-ttu-id="9a4df-107">スキーマ生成ウィザードを開くには、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] で次のいずれかの方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-107">You can open the Schema Generation Wizard from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] in several different ways:</span></span>  
  
-   <span data-ttu-id="9a4df-108">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] プロジェクト オブジェクトを右クリックして、コンテキスト メニューの **[リレーショナル スキーマの生成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="9a4df-108">Right-click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object and then click **Generate Relational Schema** from the context menu.</span></span>  
  
-   <span data-ttu-id="9a4df-109">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] プロジェクト オブジェクトをクリックして、 **[データベース]** メニューの **[リレーショナル スキーマの生成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="9a4df-109">Click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object, and then click **Generate Relational Schema** from the **Database** menu.</span></span>  
  
-   <span data-ttu-id="9a4df-110">スキーマ生成ウィザードをディメンション ウィザードから直接起動します。これを行うには、ディメンション ウィザードの最後のページにある **[今すぐスキーマを生成する]** チェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="9a4df-110">Start the wizard from within the Dimension Wizard by clicking the **Generate Schema Now** check box on the last page of the wizard.</span></span>  
  
## <a name="step-1-specify-targets"></a><span data-ttu-id="9a4df-111">手順 1: ターゲットの指定</span><span class="sxs-lookup"><span data-stu-id="9a4df-111">Step 1: Specify Targets</span></span>  
 <span data-ttu-id="9a4df-112">スキーマ生成ウィザードがサブジェクト領域データベースのスキーマを生成するデータ ソース ビュー (DSV) を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9a4df-112">You must specify the data source view (DSV) in which you want the Schema Generation Wizard to generate the schema for the subject area database.</span></span> <span data-ttu-id="9a4df-113">既存の DSV を選択することもできますが、通常は、データ ソースに基づいて新しい DSV を作成します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-113">Although you can select an existing DSV, typically you create a new one based on a data source.</span></span> <span data-ttu-id="9a4df-114">データ ソースは、既存の接続または新しい接続に基づいて作成できます。また、別のオブジェクトに基づいて作成することもできます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-114">You can create the data source based on an existing or a new connection, or based on another object.</span></span> <span data-ttu-id="9a4df-115">スキーマ生成ウィザードは、データ ソース ビューにサブジェクト領域データベースのスキーマを生成するだけでなく、データ ソースによって参照されるデータベースにもスキーマを生成します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-115">The Schema Generation Wizard generates the schema for the subject area database in the database referenced by the data source, as well as the data source view.</span></span> <span data-ttu-id="9a4df-116">スキーマ生成ウィザードは、サブジェクト領域データベース自体を作成しませんが、代わりに、ユーザーが指定した既存のデータベースのキューブおよびディメンションをサポートするリレーショナル スキーマを作成します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-116">The Schema Generation Wizard does not create the subject area database itself; instead, the wizard creates the relational schema to support the cubes and dimensions in an existing database that you specify.</span></span>  
  
 <span data-ttu-id="9a4df-117">スキーマ生成ウィザードによって基になるオブジェクトが生成されると、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のディメンションおよびキューブは、データ ソースのビュースタイル バインドを使用して、生成されたテーブルや列にバインドされます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-117">When the Schema Generation Wizard generates the underlying objects, it binds the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes to the generated tables and columns by using data source view-style bindings.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9a4df-118">以前に生成されたオブジェクトから [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のディメンションおよびキューブをアンバインドするには、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のディメンションおよびキューブがバインドされているデータ ソース ビューを削除し、スキーマ生成ウィザードを使用してそのキューブやディメンションの新しいデータ ソース ビューを定義します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-118">To unbind [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes from previously generated objects, delete the data source view to which the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions are bound, and then define a new data source view for the cubes and dimensions by using the Schema Generation Wizard.</span></span>  
  
## <a name="step-3-specify-schema-options-for-the-subject-area-database"></a><span data-ttu-id="9a4df-119">手順 3: サブジェクト領域データベースのスキーマ オプションの指定</span><span class="sxs-lookup"><span data-stu-id="9a4df-119">Step 3: Specify Schema Options for the Subject Area Database</span></span>  
 <span data-ttu-id="9a4df-120">スキーマ生成ウィザードには、サブジェクト領域データベースに生成するスキーマを定義するいくつかのオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="9a4df-120">The Schema Generation Wizard provides a number of options for defining the schema that is generated for the subject area database.</span></span> <span data-ttu-id="9a4df-121">これらのオプションは、ウィザードの **[サブジェクト領域データベース スキーマのオプション]** ページで指定できます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-121">You can specify these options on the **Subject Area Database Schema Options** page of the wizard.</span></span>  
  
### <a name="specifying-the-schema-owner"></a><span data-ttu-id="9a4df-122">スキーマの所有者の指定</span><span class="sxs-lookup"><span data-stu-id="9a4df-122">Specifying the Schema Owner</span></span>  
 <span data-ttu-id="9a4df-123">スキーマの所有者は、 **[所有しているスキーマ]** の値を有効な文字列に設定して指定できます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-123">You can specify the owner of the schema by setting the value of **Owning schema** to a valid string.</span></span> <span data-ttu-id="9a4df-124">スキーマの既定の所有者は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] プロジェクトですが、任意のスキーマの所有者を指定できます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-124">The default owner of the schema is the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project, but you can specify any desired schema owner.</span></span>  
  
### <a name="specifying-primary-keys-indexes-and-constraints"></a><span data-ttu-id="9a4df-125">主キー、インデックス、および制約の指定</span><span class="sxs-lookup"><span data-stu-id="9a4df-125">Specifying Primary Keys, Indexes, and Constraints</span></span>  
 <span data-ttu-id="9a4df-126">既定では、スキーマ生成ウィザードはサブジェクト領域データベースの各ディメンション テーブルに主キー制約を作成します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-126">The Schema Generation Wizard by default creates a primary key constraint in each dimension table in the subject area database.</span></span> <span data-ttu-id="9a4df-127">主キーは、対応する [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ディメンションのキー属性として指定された属性に対応します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-127">The primary key corresponds to the attribute that is designated as the key attribute in the corresponding [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimension.</span></span> <span data-ttu-id="9a4df-128">この制約によって、ほとんどの環境で処理パフォーマンスが向上し、コストは最小化されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-128">This constraint improves processing performance in most environments, with minimal cost.</span></span> <span data-ttu-id="9a4df-129">主キーをサブジェクト領域データベースに作成しない場合でも、論理主キーは常にデータ ソース ビューに作成されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-129">Logical primary keys are always created in the data source view, even if you choose not to create the primary key in the subject area database.</span></span> <span data-ttu-id="9a4df-130">ディメンション テーブルで主キー制約を定義するには、 **[ディメンション テーブルに主キーを作成する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-130">To define primary key constraints on dimension tables, select **Create primary keys on dimension tables**.</span></span>  
  
 <span data-ttu-id="9a4df-131">また、既定では、ウィザードによって各ファクト テーブルの外部キー列にインデックスが作成されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-131">The wizard by default also creates indexes on the foreign key columns in each fact table.</span></span> <span data-ttu-id="9a4df-132">これらのインデックスによって、ほとんどの環境で処理パフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-132">These indexes improve processing performance in most environments.</span></span> <span data-ttu-id="9a4df-133">新しいデータをサブジェクト領域データベースから取得するために [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] が生成した処理クエリには、通常、ファクト テーブルとディメンション テーブルの間の JOIN ステートメントが非常に多く含まれているので、一般的にパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-133">Performance is typically improved because the processing queries that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] generates to retrieve new data from the subject area database typically include a significant number of join statements between the fact table and the dimension tables.</span></span> <span data-ttu-id="9a4df-134">各ファクト テーブルの外部キー列にインデックスを定義するには、 **[インデックスを作成する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-134">To define indexes on the foreign key columns in each fact table, select **Create indexes**.</span></span>  
  
 <span data-ttu-id="9a4df-135">最後に、既定ではウィザードによってファクト テーブルと各ディメンション テーブルの間の参照整合性が保証されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-135">Finally, the wizard by default enforces referential integrity between the fact table and each of the dimension tables.</span></span> <span data-ttu-id="9a4df-136">参照整合性を保証しない場合でも、スキーマ生成ウィザードはデータベースおよびデータ ソース ビューにこれらのリレーションシップを作成します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-136">If you choose not to enforce referential integrity, the Schema Generation Wizard still creates these relationships in the database and the data source view.</span></span> <span data-ttu-id="9a4df-137">参照整合性を保証するには、 **[参照整合性を適用する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-137">To enforce referential integrity, select **Enforce referential integrity**.</span></span>  
  
### <a name="preserving-data-for-incremental-generation"></a><span data-ttu-id="9a4df-138">増分生成のデータの保存</span><span class="sxs-lookup"><span data-stu-id="9a4df-138">Preserving Data for Incremental Generation</span></span>  
 <span data-ttu-id="9a4df-139">既定では、スキーマ生成ウィザードは、データベース スキーマが再生成されるときにデータを保存しようとします。</span><span class="sxs-lookup"><span data-stu-id="9a4df-139">The Schema Generation Wizard by default attempts to preserve data when the database schema is regenerated.</span></span> <span data-ttu-id="9a4df-140">スキーマが変更されてスキーマ生成ウィザードで行を削除する必要がある場合は、行を削除する前に警告が表示されます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-140">If the Schema Generation Wizard has to delete any rows because of a schema change, you receive a warning before the rows are deleted.</span></span> <span data-ttu-id="9a4df-141">たとえば、ディメンションを削除した場合や、ディメンションの属性を変更したときにデータ型が変わった場合には、行を削除して参照整合性の問題を解決する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9a4df-141">For example, rows may have to be deleted to solve referential integrity issues because you dropped a dimension or because a data type changed when you changed a dimension attribute.</span></span> <span data-ttu-id="9a4df-142">データベース スキーマを再生成するときにデータを保存するには、 **[再生成時にデータを保存する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="9a4df-142">To preserve data when the database schema is regenerated, select **Preserve data on regeneration**.</span></span>  
  
## <a name="step-4-specify-naming-conventions"></a><span data-ttu-id="9a4df-143">手順 4: 名前付け規則の指定</span><span class="sxs-lookup"><span data-stu-id="9a4df-143">Step 4: Specify Naming Conventions</span></span>  
 <span data-ttu-id="9a4df-144">スキーマ生成ウィザードの **[名前付け規則の指定]** ページで、サブジェクト領域データベースに特定のオブジェクトを生成するときにウィザードが使用する名前付け規則を定義できます。</span><span class="sxs-lookup"><span data-stu-id="9a4df-144">You can define the naming conventions that the Schema Generation Wizard uses when generating certain objects in the subject area database on the **Specify Naming Conventions** page of the wizard.</span></span> <span data-ttu-id="9a4df-145">**[名前付け規則の指定]** ページで使用できるオプションの詳細については、「[[名前付け規則の指定] &#40;スキーマ生成ウィザード&#41; &#40;Analysis Services - 多次元データ&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9a4df-145">For more information about the options available on the **Specify Naming Conventions** page, see [Specify Naming Conventions &#40;Schema Generation Wizard&#41; &#40;Analysis Services - Multidimensional Data&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md).</span></span>  
  
  
