---
title: 再生用のプロファイラートレースの作成 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Profiler, Analysis Services
- monitoring Analysis Services [SQL Server]
- replaying queries
- replaying discovers
- events [Analysis Services]
- replaying commands
- Profiler [SQL Server Profiler], Analysis Services
- performance [Analysis Services], replays
- traces [Analysis Services]
ms.assetid: 93b2fc46-7cfb-4ab5-abeb-1475a7d6f0f2
author: minewiskan
ms.author: owend
ms.openlocfilehash: 9822d9d2589decdde731da5f5888572962b0e612
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714761"
---
# <a name="create-profiler-traces-for-replay-analysis-services"></a><span data-ttu-id="c3ff5-102">再生用のプロファイラー トレースの作成 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="c3ff5-102">Create Profiler Traces for Replay (Analysis Services)</span></span>
  <span data-ttu-id="c3ff5-103">ユーザーによってに送信されたクエリ、検出、およびコマンドを再生するには、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] で [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] 必要なイベントを収集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-103">To replay queries, discovers, and commands that are submitted by users to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must gather the required events.</span></span> <span data-ttu-id="c3ff5-104">このようなイベントの収集を開始するには、 **[トレースのプロパティ]** ダイアログ ボックスの **[イベントの選択]** タブで適切なイベント クラスを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-104">In order to initiate collection of these events, appropriate event classes must be selected in the **Event Selection** tab of the **Trace Properties** dialog box.</span></span> <span data-ttu-id="c3ff5-105">たとえば、Query Begin イベント クラスが選択されている場合は、クエリを含んでいるイベントが収集され、再生に使用されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-105">For example if the Query Begin event class is selected, events that contain queries are collected and used for replay.</span></span> <span data-ttu-id="c3ff5-106">また、トレース ファイルには、分散環境におけるサーバー トランザクションを当初のトランザクション シーケンスで再生するための十分な情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-106">Also, the trace file contains sufficient information to support replaying server transactions in a distributed environment in the original sequence of transactions.</span></span>  
  
## <a name="replay-for-queries"></a><span data-ttu-id="c3ff5-107">クエリの再生</span><span class="sxs-lookup"><span data-stu-id="c3ff5-107">Replay for Queries</span></span>  
 <span data-ttu-id="c3ff5-108">クエリを再生するには、次のイベントを [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] でキャプチャする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-108">To replay queries, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="c3ff5-109">すべてのデータ列が含まれた Audit Login イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-109">Audit Login event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-110">このイベント クラスでは、ログインしたユーザーとセッションの設定に関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-110">This event class provides information about which user logged in and about the session settings.</span></span> <span data-ttu-id="c3ff5-111">サーバー プロセス ID (SPID) では、ユーザー セッションに対する参照が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-111">The server process ID (SPID) provides the reference to the user session.</span></span> <span data-ttu-id="c3ff5-112">詳細については、「 [Security Audit のデータ列](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-112">For more information, see [Security Audit Data Columns](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span></span>  
  
-   <span data-ttu-id="c3ff5-113">すべてのデータ列が含まれた Query Begin イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-113">Query Begin event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-114">このイベント クラスでは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]に送信されたクエリに関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-114">This event class provides information about the query that was submitted to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="c3ff5-115">イベント サブクラス列では、クエリの種類に関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-115">The Event Subclass column provides information about the type of query.</span></span> <span data-ttu-id="c3ff5-116">TextData 列では、クエリの実際のテキストが提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-116">The TextData column provides the actual text of the query.</span></span> <span data-ttu-id="c3ff5-117">RequestParameters 列では、パラメーター化クエリのパラメーターが提供され、RequestProperties 列では、XML for Analysis (XMLA) 要求のプロパティが提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-117">The RequestParameters column provides the parameters for parameterized queries, and the RequestProperties column provides the properties of an XML for Analysis (XMLA) request.</span></span> <span data-ttu-id="c3ff5-118">詳細については、「 [Queries イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-118">For more information, see [Queries Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span></span>  
  
-   <span data-ttu-id="c3ff5-119">すべてのデータ列が含まれた Query End イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-119">Query End event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-120">このイベント クラスでは、クエリの実行状態が検証されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-120">This event class verifies the status of the query execution.</span></span> <span data-ttu-id="c3ff5-121">詳細については、「 [Queries イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-121">For more information, see [Queries Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/queries-events-data-columns).</span></span>  
  
## <a name="replay-for-discovers"></a><span data-ttu-id="c3ff5-122">検出の再生</span><span class="sxs-lookup"><span data-stu-id="c3ff5-122">Replay for Discovers</span></span>  
 <span data-ttu-id="c3ff5-123">検出を再生するには、次のイベントを [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] でキャプチャする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-123">To replay discovers, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="c3ff5-124">すべてのデータ列が含まれた Audit Login イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-124">Audit Login event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-125">このイベント クラスでは、ログインしたユーザーとセッションの設定に関する情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-125">This event class provides information about which user logged in and about the session settings.</span></span> <span data-ttu-id="c3ff5-126">SPID では、ユーザー セッションに対する参照が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-126">The SPID provides the reference to the user session.</span></span> <span data-ttu-id="c3ff5-127">詳細については、「 [Security Audit のデータ列](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-127">For more information, see [Security Audit Data Columns](https://docs.microsoft.com/bi-reference/trace-events/security-audit-data-columns).</span></span>  
  
-   <span data-ttu-id="c3ff5-128">すべてのデータ列が含まれた Discover Begin イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-128">Discover Begin event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-129">TextData 列は \<RequestType> discover 要求の一部を提供し、RequestProperties 列は \<Properties> discover 要求の一部を提供します。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-129">The TextData column provides the \<RequestType> portion of the discover request, and the RequestProperties column provides the \<Properties> portion of the discover request.</span></span> <span data-ttu-id="c3ff5-130">EventSubclass 列では、検出の種類が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-130">The EventSubclass column provides the discover type.</span></span> <span data-ttu-id="c3ff5-131">詳細については、「 [Discover イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-131">For more information, see [Discover Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span></span>  
  
-   <span data-ttu-id="c3ff5-132">すべてのデータ列が含まれた Discover End イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-132">Discover End event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-133">このイベント クラスでは、検出要求の状態が検証されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-133">This event class verifies the status of the discover request.</span></span> <span data-ttu-id="c3ff5-134">詳細については、「 [Discover イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-134">For more information, see [Discover Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/discover-events-data-columns).</span></span>  
  
## <a name="replay-for-commands"></a><span data-ttu-id="c3ff5-135">コマンドの再生</span><span class="sxs-lookup"><span data-stu-id="c3ff5-135">Replay for Commands</span></span>  
 <span data-ttu-id="c3ff5-136">コマンドを再生するには、次のイベントを [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] でキャプチャする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-136">To replay commands, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] must capture the following events:</span></span>  
  
-   <span data-ttu-id="c3ff5-137">すべてのデータ列が含まれた Command Begin イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-137">Command Begin event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-138">TextData 列では、処理の種類、データベース ID、キューブ ID などのコマンドの詳細情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-138">The TextData column provides the command details, such as the process type, database ID, and cube ID.</span></span> <span data-ttu-id="c3ff5-139">RequestParameters 列では、パラメーター化コマンドのパラメーターが提供され、RequestProperties 列では、XMLA 要求のプロパティが提供されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-139">The RequestParameters column provides the parameters for parameterized command, and the RequestProperties column provides the properties of an XMLA request.</span></span> <span data-ttu-id="c3ff5-140">詳細については、「 [Command イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-140">For more information, see [Command Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span></span>  
  
-   <span data-ttu-id="c3ff5-141">すべてのデータ列が含まれた Command End イベント クラス。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-141">Command End event class with all its data columns.</span></span> <span data-ttu-id="c3ff5-142">このイベント クラスでは、コマンドの状態が検証されます。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-142">This event class verifies the status of the command.</span></span> <span data-ttu-id="c3ff5-143">詳細については、「 [Command イベントのデータ列](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c3ff5-143">For more information, see [Command Events Data Columns](https://docs.microsoft.com/bi-reference/trace-events/command-events-data-columns).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c3ff5-144">参照</span><span class="sxs-lookup"><span data-stu-id="c3ff5-144">See Also</span></span>  
 <span data-ttu-id="c3ff5-145">[トレースイベントの Analysis Services](https://docs.microsoft.com/bi-reference/trace-events/analysis-services-trace-events) </span><span class="sxs-lookup"><span data-stu-id="c3ff5-145">[Analysis Services Trace Events](https://docs.microsoft.com/bi-reference/trace-events/analysis-services-trace-events) </span></span>  
 [<span data-ttu-id="c3ff5-146">SQL Server Profiler による Analysis Services の監視の概要</span><span class="sxs-lookup"><span data-stu-id="c3ff5-146">Introduction to Monitoring Analysis Services with SQL Server Profiler</span></span>](introduction-to-monitoring-analysis-services-with-sql-server-profiler.md)  
  
  
