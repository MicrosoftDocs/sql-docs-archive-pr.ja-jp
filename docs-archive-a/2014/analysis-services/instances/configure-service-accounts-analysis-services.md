---
title: サービスアカウントの構成 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- security [Analysis Services], logon accounts
- logon accounts [Analysis Services]
- accounts [Analysis Services]
- logon accounts [Analysis Services], about logon accounts
ms.assetid: b481bd51-e077-42f6-8598-ce08c1a38716
author: minewiskan
ms.author: owend
ms.openlocfilehash: 455277acc9928b9569ad586c38865ba58a125917
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714794"
---
# <a name="configure-service-accounts-analysis-services"></a><span data-ttu-id="d8cd1-102">サービス アカウントの構成 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="d8cd1-102">Configure Service Accounts (Analysis Services)</span></span>
  <span data-ttu-id="d8cd1-103">製品全体のアカウントの準備については、 [を含めて、すべての](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)サービスに関する包括的なサービス アカウントの情報を提供するトピック、「 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Windows サービス アカウントと権限の構成 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-103">Product-wide account provisioning is documented in [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md), a topic that provides comprehensive service account information for all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services, including [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="d8cd1-104">有効なアカウントの種類、セットアップで割り当てられた Windows 特権、ファイル システムの権限、レジストリの権限などについては、前のトピックをご覧ください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-104">Refer to it to learn about valid account types, Windows privileges assigned by setup, file system permissions, registry permissions, and more.</span></span>  
  
 <span data-ttu-id="d8cd1-105">このトピックでは、テーブルおよびクラスター化インストールに必要な追加の権限など、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]の補足情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-105">This topic provides supplemental information for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], including additional permissions necessary for tabular and clustered installations.</span></span> <span data-ttu-id="d8cd1-106">また、サーバー操作をサポートするために必要な権限についても説明します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-106">It also covers permissions needed to support server operations.</span></span> <span data-ttu-id="d8cd1-107">たとえば、サービス アカウントの下で実行するように処理およびクエリ操作を構成できます。その場合、これを機能させるには追加の権限を付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-107">For example, you can configure processing and query operations to execute under the service account ─ in which case you will need to grant additional permissions to get this to work.</span></span>  
  
-   [<span data-ttu-id="d8cd1-108">Analysis Services に割り当てられる Windows 特権</span><span class="sxs-lookup"><span data-stu-id="d8cd1-108">Windows privileges assigned to Analysis Services</span></span>](#bkmk_winpriv)  
  
-   [<span data-ttu-id="d8cd1-109">Analysis Services に割り当てられるファイル システムのアクセス許可</span><span class="sxs-lookup"><span data-stu-id="d8cd1-109">File System Permissions assigned to Analysis Services</span></span>](#bkmk_FilePermissions)  
  
-   [<span data-ttu-id="d8cd1-110">特定のサーバー操作に対する追加のアクセス許可の付与</span><span class="sxs-lookup"><span data-stu-id="d8cd1-110">Granting additional permissions for specific server operations</span></span>](#bkmk_tasks)  
  
 <span data-ttu-id="d8cd1-111">追加の構成手順 (ここでは説明しません) として、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンスおよびサービス アカウントのサービス プリンシパル名 (SPN) を登録します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-111">An additional configuration step, not documented here, is to register a Service Principal Name (SPN) for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance and service account.</span></span> <span data-ttu-id="d8cd1-112">この手順によって、ダブルホップ シナリオでクライアント アプリケーションからバックエンド データ ソースへのパススルー認証が有効になります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-112">This step enables pass-through authentication from client applications to backend data sources in double-hop scenarios.</span></span> <span data-ttu-id="d8cd1-113">この手順は、Kerberos 制約付き委任用に構成されたサービスにのみ適用されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-113">This step only applies for services configured for Kerberos constrained delegation.</span></span> <span data-ttu-id="d8cd1-114">詳細な手順については、「 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-114">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for further instructions.</span></span>  
  
## <a name="logon-account-recommendations"></a><span data-ttu-id="d8cd1-115">ログオン アカウントに関する推奨事項</span><span class="sxs-lookup"><span data-stu-id="d8cd1-115">Logon account recommendations</span></span>  
 <span data-ttu-id="d8cd1-116">フェールオーバー クラスターでは、Analysis Services のすべてのインスタンスが Windows ドメイン ユーザー アカウントを使用するように構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-116">In a failover cluster, all instances of Analysis Services should be configured to use a Windows domain user account.</span></span> <span data-ttu-id="d8cd1-117">すべてのインスタンスに、同じアカウントを割り当てます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-117">Assign the same account to all instances.</span></span> <span data-ttu-id="d8cd1-118">詳細については、「 [Analysis Services をクラスター化する方法](https://msdn.microsoft.com/library/dn736073.aspx) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-118">See [How to Cluster Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) for details.</span></span>  
  
 <span data-ttu-id="d8cd1-119">スタンドアロンのインスタンスは、既定のインスタンスの場合は既定の仮想アカウント **NT Service\MSSQLServerOLAPService** を使用しなければならず、名前付きインスタンスの場合は **NT Service\MSOLAP$**_instance-name_ を使用します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-119">Standalone instances should use the default virtual account, **NT Service\MSSQLServerOLAPService** for the default instance, or **NT Service\MSOLAP$**_instance-name_ for a named instance.</span></span> <span data-ttu-id="d8cd1-120">この推奨事項は、すべてのサーバー モードの Analysis Services インスタンスに適用されます。オペレーティング システムには Windows Server 2008 R2 以降、Analysis Services には SQL Server 2012 を想定しています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-120">This recommendation applies to Analysis Services instances in all server modes, assuming Windows Server 2008 R2 and later for the operating system, and SQL Server 2012 and later for Analysis Services.</span></span>  
  
## <a name="granting-permissions-to-analysis-services"></a><span data-ttu-id="d8cd1-121">Analysis Services へのアクセス許可の付与</span><span class="sxs-lookup"><span data-stu-id="d8cd1-121">Granting permissions to Analysis Services</span></span>  
 <span data-ttu-id="d8cd1-122">このセクションでは、Analysis Services がローカルの内部操作 (実行可能ファイルの開始、構成ファイルの読み取り、データ ディレクトリからのデータベースの読み込みなど) に必要とするアクセス許可を説明します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-122">This section explains the permissions that Analysis Services requires for local, internal operations, such as starting the executable, reading the configuration file, and loading databases from the data directory.</span></span> <span data-ttu-id="d8cd1-123">必要としているのがその情報ではなく、外部データ アクセスやその他のサービスおよびアプリケーションとの相互運用性のためのアクセス許可の設定のガイダンスである場合は、このトピックで後述する「 [特定のサーバー操作に対する追加のアクセス許可の付与](#bkmk_tasks) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-123">If instead you're looking for guidance on setting permissions for external data access and interoperability with other services and applications, see [Granting additional permissions for specific server operations](#bkmk_tasks) further on in this topic.</span></span>  
  
 <span data-ttu-id="d8cd1-124">内部操作の場合、Analysis Services の権限保有者はログオン アカウントではなく、セットアップによって作成された、サービスごとの SID が含まれているローカル Windows セキュリティ グループです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-124">For internal operations, the permission holder in Analysis Services is not the logon account, but a local Windows security group created by Setup that contains the per-service SID.</span></span> <span data-ttu-id="d8cd1-125">Analysis Services では、以前のバージョンから一貫して、アクセス許可をセキュリティ グループに割り当てるようになっています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-125">Assigning permissions to the security group is consistent with previous versions of Analysis Services.</span></span> <span data-ttu-id="d8cd1-126">また、ログオン アカウントは時間の経過と共に変更できますが、サービスごとの SID とローカル セキュリティ グループはサーバーのインストールの有効期間にわたって一定です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-126">Also, logon accounts can change over time, but the per-service SID and local security group are constant for the lifetime of the server installation.</span></span> <span data-ttu-id="d8cd1-127">そのため、Analysis Services の場合、アクセス許可を保持するための選択肢として、ログオン アカウントよりもセキュリティ グループの方が優れています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-127">For Analysis Services, this makes the security group, rather than the logon account, a better choice for holding permissions.</span></span> <span data-ttu-id="d8cd1-128">手動でサービス インスタンスに権限を付与するときには、ファイル システム権限と Windows の特権のどちらであっても、必ずサーバー インスタンスのために作成されたローカル セキュリティ グループにアクセス許可を与えます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-128">Whenever you manually grant rights to the service instance, whether file system permissions or Windows privileges, be sure to grant permissions to the local security group created for the server instance.</span></span>  
  
 <span data-ttu-id="d8cd1-129">セキュリティ グループの名前は、一定のパターンに従います。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-129">The name of the security group follows a pattern.</span></span> <span data-ttu-id="d8cd1-130">プレフィックスは常に `SQLServerMSASUser$` であり、その後にコンピューター名が続き、最後にインスタンス名が付きます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-130">The prefix is always `SQLServerMSASUser$`, followed by the computer name, ending with the instance name.</span></span> <span data-ttu-id="d8cd1-131">既定のインスタンスは `MSSQLSERVER` です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-131">The default instance is `MSSQLSERVER`.</span></span> <span data-ttu-id="d8cd1-132">名前付きインスタンスは、セットアップ時に指定した名前です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-132">A named instance is the name given during set up.</span></span>  
  
 <span data-ttu-id="d8cd1-133">ローカル セキュリティ設定でこのセキュリティ グループを確認できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-133">You can see this security group in the local security settings:</span></span>  
  
-   <span data-ttu-id="d8cd1-134">Compmgmt.msc を実行します。**ローカルユーザーとグループ**  | **Groups**  |  `SQLServerMSASUser$` グループ \<server-name> `$MSSQLSERVER`(既定のインスタンスの場合)。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-134">Run compmgmt.msc | **Local Users and Groups** | **Groups** | `SQLServerMSASUser$`\<server-name>`$MSSQLSERVER` (for a default instance).</span></span>  
  
-   <span data-ttu-id="d8cd1-135">セキュリティ グループをダブルクリックして、そのメンバーを表示する。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-135">Double-click the security group to view its members.</span></span>  
  
 <span data-ttu-id="d8cd1-136">グループの唯一のメンバーは、サービスごとの SID です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-136">The sole member of the group is the per-service SID.</span></span> <span data-ttu-id="d8cd1-137">その隣にログオン アカウントが示されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-137">Right next to it is the logon account.</span></span> <span data-ttu-id="d8cd1-138">ログオン アカウント名は、サービスごとの SID のコンテキストを示して、分かりやすくする目的で表示されています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-138">The logon account name is cosmetic, there to provide context to the per-service SID.</span></span> <span data-ttu-id="d8cd1-139">後でログオン アカウントを変更してからこのページに戻ると、セキュリティ グループとサービスごとの SID には変化がないにもかかわらず、ログオン アカウントのラベルが異なっていることが分かります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-139">If you subsequently change the logon account and then return to this page, you'll notice that the security group and per-service SID do not change, but the logon account label is different.</span></span>  
  
##  <a name="windows-privileges-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_winpriv"></a><span data-ttu-id="d8cd1-140">Analysis Services サービスアカウントに割り当てられた Windows 特権</span><span class="sxs-lookup"><span data-stu-id="d8cd1-140">Windows privileges assigned to the Analysis Services service account</span></span>  
 <span data-ttu-id="d8cd1-141">Analysis Services では、サービスを開始し、システム リソースを要求するには、オペレーティング システムからの権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-141">Analysis Services needs permissions from the operating system for service startup and to request system resources.</span></span> <span data-ttu-id="d8cd1-142">要件は、サーバー モードおよびインスタンスがクラスター化されているかどうかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-142">Requirements vary by server mode and whether the instance is clustered.</span></span> <span data-ttu-id="d8cd1-143">Windows 特権の詳細については、「 [特権](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) 」および「 [特権の制約 (Windows)](/windows/desktop/SecAuthZ/privilege-constants) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-143">If you are unfamiliar with Windows privileges, see [Privileges](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) and [Privilege Constants (Windows)](/windows/desktop/SecAuthZ/privilege-constants) for details.</span></span>  
  
 <span data-ttu-id="d8cd1-144">Analysis Services のすべてのインスタンスには、 **[サービスとしてログオン]** (SeServiceLogonRight) 特権が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-144">All instances of Analysis Services require the **Log on as a service** (SeServiceLogonRight) privilege.</span></span> <span data-ttu-id="d8cd1-145">SQL Server セットアップによって、インストール時に指定されたサービス アカウントに特権が割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-145">SQL Server Setup assigns the privilege for you on the service account specified during installation.</span></span> <span data-ttu-id="d8cd1-146">多次元モードおよびデータ マイニング モードで実行されるサーバーの場合、これは スタンドアロン サーバー インストール環境において Analysis Services サービス アカウントが必要とする唯一の Windows 特権であり、セットアップによって Analysis Services 用に構成される唯一の特権です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-146">For servers running in Multidimensional and Data Mining mode, this is the only Windows privilege required by the Analysis Services service account for standalone server installations, and it is the only privilege that Setup configures for Analysis Services.</span></span> <span data-ttu-id="d8cd1-147">クラスター インスタンスおよび表形式インスタンスの場合、追加の Windows 特権を手動で追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-147">For clustered and tabular instances, additional Windows privileges must be added manually.</span></span>  
  
 <span data-ttu-id="d8cd1-148">フェールオーバー クラスター インスタンスには、表形式モードまたは多次元モードの場合、 **[スケジューリング優先順位の繰り上げ]** (SeIncreaseBasePriorityPrivilege) が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-148">Failover cluster instances, in either Tabular or Multidimensional mode, must have **Increase scheduling priority** (SeIncreaseBasePriorityPrivilege).</span></span>  
  
 <span data-ttu-id="d8cd1-149">表形式インスタンスでは次の 3 つの追加の特権を使用しており、いずれもインスタンスのインストール後に手動で付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-149">Tabular instances use the following three additional privileges, which must be granted manually after the instance is installed.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="d8cd1-150">**[プロセス ワーキング セットの増加]** (SeIncreaseWorkingSetPrivilege)</span><span class="sxs-lookup"><span data-stu-id="d8cd1-150">**Increase a process working set** (SeIncreaseWorkingSetPrivilege)</span></span>|<span data-ttu-id="d8cd1-151">この特権は、既定では **[ユーザー]** セキュリティ グループを介してすべてのユーザーが使用可能です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-151">This privilege is available to all users by default through the **Users** security group.</span></span> <span data-ttu-id="d8cd1-152">このグループの特権を削除してサーバーをロックすると、Analysis Services が起動に失敗して、「クライアントには必要な特権がありません」というエラーがログに記録される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-152">If you lock down a server by removing privileges for this group, Analysis Services might fail to start, logging this error: "A required privilege is not held by the client."</span></span> <span data-ttu-id="d8cd1-153">このエラーが発生した場合は、特権を適切な Analysis Services セキュリティ グループに付与することで、Analysis Services に特権を復元します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-153">When this error occurs, restore the privilege to Analysis Services by granting it to the appropriate Analysis Services security group.</span></span>|  
|<span data-ttu-id="d8cd1-154">**[プロセスに対してメモリ クォータを調整する]** (SeIncreaseQuotaSizePrivilege)</span><span class="sxs-lookup"><span data-stu-id="d8cd1-154">**Adjust memory quotas for a process** (SeIncreaseQuotaSizePrivilege)</span></span>|<span data-ttu-id="d8cd1-155">この特権は、プロセスのリソースが十分でないためにプロセスの実行を完了できない場合に、さらに多くのメモリを要求するために使用します (メモリ量は、インスタンス用に設定されたメモリしきい値に依存します)。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-155">This privilege is used to request more memory if a process has insufficient resources to complete its execution, subject to the memory thresholds established for the instance.</span></span>|  
|<span data-ttu-id="d8cd1-156">**[メモリ内のページのロック]** (SeLockMemoryPrivilege)</span><span class="sxs-lookup"><span data-stu-id="d8cd1-156">**Lock pages in memory** (SeLockMemoryPrivilege)</span></span>|<span data-ttu-id="d8cd1-157">この特権が必要になるのは、ページングが完全にオフになっているときのみです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-157">This privilege is needed only when paging is turned off entirely.</span></span> <span data-ttu-id="d8cd1-158">既定では、表形式サーバー インスタンスは Windows ページング ファイルを使用しますが、`VertiPaqPagingPolicy` を 0 に設定して、Windows ページングを使用しないようにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-158">By default, a tabular server instance uses the Windows paging file, but you can prevent it from using Windows paging by setting `VertiPaqPagingPolicy` to 0.</span></span><br /><br /> <span data-ttu-id="d8cd1-159">`VertiPaqPagingPolicy` を 1 (既定) にすると、表形式サーバー インスタンスは Windows ページング ファイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-159">`VertiPaqPagingPolicy` to 1 (default), instructs the tabular server instance to use the Windows paging file.</span></span> <span data-ttu-id="d8cd1-160">割り当てはロックされないため、必要に応じてページ アウトされます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-160">Allocations are not locked, allowing Windows to page out as needed.</span></span> <span data-ttu-id="d8cd1-161">ページングが使用されているため、メモリ内のページをロックする必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-161">Because paging is being used, there is no need to lock pages in memory.</span></span> <span data-ttu-id="d8cd1-162">したがって、既定の構成 ( `VertiPaqPagingPolicy` = 1) では、表形式のインスタンスに**Lock pages in memory**特権を付与する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-162">Thus, for the default configuration (where `VertiPaqPagingPolicy` = 1), you do not need to grant the **Lock pages in memory** privilege to a tabular instance.</span></span><br /><br /> <span data-ttu-id="d8cd1-163">`VertiPaqPagingPolicy` を 0 にした場合。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-163">`VertiPaqPagingPolicy` to 0.</span></span> <span data-ttu-id="d8cd1-164">Analysis Services のページングをオフにした場合は、割り当てがロックされ、 **[メモリ内のページのロック]** 特権が表形式インスタンスに付与されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-164">If you turn off paging for Analysis Services, allocations are locked, assuming the **Lock pages in memory** privilege is granted to the tabular instance.</span></span> <span data-ttu-id="d8cd1-165">このように設定され、かつ **[メモリ内のページのロック]** 特権がある場合、システムでメモリ不足が発生しているときは、Analysis Services に対して行われたメモリ割り当てをページ アウトできません。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-165">Given this setting and the **Lock pages in memory** privilege, Windows cannot page out memory allocations made to Analysis Services when the system is under memory pressure.</span></span> <span data-ttu-id="d8cd1-166">Analysis Services では、**メモリ内の Lock pages**アクセス許可が、0よりも前の適用として適用され `VertiPaqPagingPolicy` ます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-166">Analysis Services relies on the **Lock pages in memory** permission as the enforcement behind `VertiPaqPagingPolicy` = 0.</span></span> <span data-ttu-id="d8cd1-167">Windows ページングをオフにすることはお勧めしません。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-167">Note that turning off Windows paging is not recommended.</span></span> <span data-ttu-id="d8cd1-168">このようにすると、ページングが許可されている場合には正常に処理されるような操作でメモリ不足エラーが発生する率が高まります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-168">It will increase the rate of out-of-memory errors for operations that might otherwise succeed if paging were allowed.</span></span> <span data-ttu-id="d8cd1-169">の詳細については、「[メモリのプロパティ](../server-properties/memory-properties.md)」を参照してください `VertiPaqPagingPolicy` 。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-169">See [Memory Properties](../server-properties/memory-properties.md) for more information about `VertiPaqPagingPolicy`.</span></span>|  
  
#### <a name="to-view-or-add-windows-privileges-on-the-service-account"></a><span data-ttu-id="d8cd1-170">サービス アカウントに対する Windows 特権を表示または追加するには</span><span class="sxs-lookup"><span data-stu-id="d8cd1-170">To view or add Windows privileges on the service account</span></span>  
  
1.  <span data-ttu-id="d8cd1-171">GPEDIT.msc を実行し、[ローカル コンピューター ポリシー] | [コンピューターの構成] | [Windows の設定] | [セキュリティの設定] | [ローカル ポリシー] | [ユーザー権利の割り当て] を選択します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-171">Run GPEDIT.msc | Local Computer Policy | Computer Configuration | Windows Settings | Security Settings | Local Policies | User Rights Assignments.</span></span>  
  
2.  <span data-ttu-id="d8cd1-172">を含む既存のポリシーを確認 `SQLServerMSASUser$` します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-172">Review existing policies that include `SQLServerMSASUser$`.</span></span> <span data-ttu-id="d8cd1-173">これは、Analysis Services がインストール済みのコンピューター上にあるローカル セキュリティ グループです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-173">This is a local security group found on computers having an Analysis Services installation.</span></span> <span data-ttu-id="d8cd1-174">Windows 特権とファイル フォルダー権限の両方が、このセキュリティ グループに付与されています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-174">Both Windows privileges and file folder permissions are granted to this security group.</span></span> <span data-ttu-id="d8cd1-175">**[サービスとしてログオン]** ポリシーをダブルクリックすると、セキュリティ グループがシステムにどのように指定されているかが表示されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-175">Double-click **Log on as a service** policy to see how the security group is specified on your system.</span></span> <span data-ttu-id="d8cd1-176">セキュリティ グループの完全名は、Analysis Services を名前付きインスタンスとしてインストールしたかどうかによって異なります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-176">The full name of the security group will vary depending on whether you installed Analysis Services as a named instance.</span></span> <span data-ttu-id="d8cd1-177">アカウントの特権を追加する場合は、実際のサービス アカウントではなく、このセキュリティ グループを使用してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-177">Use this security group, rather than the actual service account, when adding account privileges.</span></span>  
  
3.  <span data-ttu-id="d8cd1-178">GPEDIT でアカウントの特権を追加するには、 **[プロセス ワーキング セットの増加]** を右クリックし、 **[プロパティ]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-178">To add account privileges in GPEDIT, right-click **Increase a process working set** and select **Properties**.</span></span>  
  
4.  <span data-ttu-id="d8cd1-179">**[ユーザーまたはグループの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-179">Click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="d8cd1-180">Analysis Services インスタンスのユーザー グループを入力します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-180">Enter the user group for the Analysis Services instance.</span></span> <span data-ttu-id="d8cd1-181">サービス アカウントはローカル セキュリティ グループのメンバーであり、そのためアカウントのドメインとしてローカル コンピューター名を付加する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-181">Remember that the service account is a member of a local security group, requiring that you prepend the local computer name as the domain of the account.</span></span>  
  
     <span data-ttu-id="d8cd1-182">次の一覧は、"SQL01-WIN12" というコンピューター (コンピューター名はローカル ドメインです) に既定のインスタンスおよび "Tabular" という名前付きインスタンスがある 2 つの例を示しています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-182">The following list shows two examples for a default instance and named instance called "Tabular" on a machine called "SQL01-WIN12", where the machine name is the local domain.</span></span>  
  
    -   <span data-ttu-id="d8cd1-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="d8cd1-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span></span>  
  
    -   <span data-ttu-id="d8cd1-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span><span class="sxs-lookup"><span data-stu-id="d8cd1-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span></span>  
  
6.  <span data-ttu-id="d8cd1-185">**[プロセスに対してメモリ クォータを調整する]** のほか、必要に応じて **[メモリ内のページのロック]** または **[スケジューリング優先順位の繰り上げ]** に対しても、この手順を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-185">Repeat for **Adjust memory quotas for a process**, and optionally, for **Lock pages in memory** or **Increase scheduling priority**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d8cd1-186">以前のバージョンのセットアップでは、Analysis Services サービス アカウントが **Performance Log Users** グループに誤って追加されていました。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-186">Previous versions of Setup inadvertently added the Analysis Services service account to the **Performance Log Users** group.</span></span> <span data-ttu-id="d8cd1-187">この欠陥は修正されましたが、既存のインストールにこの不必要なグループ メンバーシップが存在する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-187">Although this defect has been fixed, existing installations might have this unnecessary group membership.</span></span> <span data-ttu-id="d8cd1-188">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サービス アカウントでは **Performance Log Users** グループのメンバーシップを必要としないので、グループから削除できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-188">Because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account does not require membership in the **Performance Log Users** group, you can remove it from the group.</span></span>  
  
##  <a name="file-system-permissions-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_FilePermissions"></a> <span data-ttu-id="d8cd1-189">Analysis Services サービス アカウントに割り当てられたファイル システム権限</span><span class="sxs-lookup"><span data-stu-id="d8cd1-189">File System Permissions assigned to the Analysis Services service account</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d8cd1-190">各プログラム フォルダーに関連付けられている権限の一覧については、「 [Windows サービス アカウントと権限の構成](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-190">See [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) for a list of permissions associated with each program folder.</span></span>  
>   
>  <span data-ttu-id="d8cd1-191">IIS の構成と [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] に関連するファイル権限の詳細については、「[インターネット インフォメーション サービス &#40;IIS&#41; 8.0 上の Analysis Services への HTTP アクセスの構成](configure-http-access-to-analysis-services-on-iis-8-0.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-191">See [Configure HTTP Access to Analysis Services on Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md) for file permission information related to IIS configuration and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="d8cd1-192">指定のデータ フォルダーからデータベースをロードおよびアンロードするために必要な権限も含めて、サーバー操作に必要なすべてのファイル システム権限は、インストール時に SQL Server セットアップによって割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-192">All file system permissions required for server operations─ including permissions needed for loading and unloading databases from a designated data folder─ are assigned by SQL Server Setup during installation.</span></span>  
  
 <span data-ttu-id="d8cd1-193">データ ファイル、プログラム実行可能ファイル、構成ファイル、ログ ファイル、および一時ファイルの権限保有者は、SQL Server セットアップによって作成されるローカル セキュリティ グループです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-193">The permission holder on data files, program file executables, configuration files, log files, and temporary files is a local security group created by SQL Server Setup.</span></span>  
  
 <span data-ttu-id="d8cd1-194">インストールするインスタンスごとに作成されるセキュリティ グループが 1 つあります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-194">There is one security group created for each instance that you install.</span></span> <span data-ttu-id="d8cd1-195">セキュリティグループには、インスタンスの後に、既定のインスタンスの場合は**SQLServerMSASUser $ MSSQLSERVER** 、 `SQLServerMSASUser$` \<servername> $ 名前付きインスタンスの場合はという名前が付けられ \<instancename> ます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-195">The security group is named after the instance ─ either **SQLServerMSASUser$MSSQLSERVER** for the default instance, or `SQLServerMSASUser$`\<servername>$\<instancename> for a named instance.</span></span> <span data-ttu-id="d8cd1-196">セットアップは、サーバー操作に必要なファイル権限をこのセキュリティ グループに準備します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-196">Setup provisions this security group with the file permissions required to perform server operations.</span></span> <span data-ttu-id="d8cd1-197">\MSAS12.MSSQLSERVER\OLAP\BIN ディレクトリのセキュリティ権限をチェックすると、(サービス アカウントまたはサービスごとの SID ではなく) セキュリティ グループが該当ディレクトリの権限保有者であることがわかります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-197">If you check the security permissions on the \MSAS12.MSSQLSERVER\OLAP\BIN directory, you will see that the security group (not the service account or its per-service SID) is the permission holder on that directory.</span></span>  
  
 <span data-ttu-id="d8cd1-198">このセキュリティ グループには、1 つのメンバー、つまり [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンス開始アカウントのサービスごとのセキュリティ識別子 (SID) のみが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-198">The security group contains one member only: the per-service Security Identifier (SID) of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance startup account.</span></span> <span data-ttu-id="d8cd1-199">セットアップによって、サービスごとの SID がローカル セキュリティ グループに追加されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-199">Setup adds the per-service SID to the local security group.</span></span> <span data-ttu-id="d8cd1-200">SQL Server セットアップが Analysis Services を準備する方法において、SID のメンバーシップと共にローカル セキュリティ グループを使用することは、データベース エンジンと比較した場合に、小さくても顕著な相違となります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-200">The use of a local security group, with its SID membership, is a small but noticeable difference in how SQL Server Setup provisions Analysis Services, as compared to the Database Engine.</span></span>  
  
 <span data-ttu-id="d8cd1-201">ファイル権限が破損していると考えられる場合は、次の手順に従って、サービスが正しく準備されていることを検証します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-201">If you believe that file permissions are corrupted, follow these steps to verify the service is still correctly provisioned:</span></span>  
  
1.  <span data-ttu-id="d8cd1-202">サービス コントロール コマンド ライン ツール (sc.exe) を使用して、既定のサービス インスタンスの SID を取得します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-202">Use the Service Control command line tool (sc.exe) to obtain the SID of a default service instance.</span></span>  
  
     `SC showsid MSSqlServerOlapService`  
  
     <span data-ttu-id="d8cd1-203">名前付きインスタンス (インスタンス名が Tabular であるもの) の場合は、次の構文を使用します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-203">For a named instance (where the instance name is Tabular), use this syntax:</span></span>  
  
     `SC showsid MSOlap$Tabular`  
  
2.  <span data-ttu-id="d8cd1-204">**コンピューターマネージャー**  |  の**ローカルユーザーとグループ**グループを使用して、  |  **Groups** SQLServerMSASUser $ セキュリティグループのメンバーシップを検査し \<servername> $ \<instancename> ます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-204">Use **Computer Manager** | **Local Users and Groups** | **Groups** to inspect the membership of the SQLServerMSASUser$\<servername>$\<instancename> security group.</span></span>  
  
     <span data-ttu-id="d8cd1-205">メンバーの SID は、手順 1 で示したサービスごとの SID と一致する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-205">The member SID should match the per-service SID from step 1.</span></span>  
  
3.  <span data-ttu-id="d8cd1-206">**Windows エクスプローラー**の  |  **プログラムファイル**を使用  |  **Microsoft SQL Server** |MSASxx MSSQLServer |**OLAP**  | フォルダーのセキュリティプロパティが、手順 2. のセキュリティグループに付与されていることを確認する**bin** 。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-206">Use **Windows Explorer** | **Program Files** | **Microsoft SQL Server** | MSASxx.MSSQLServer | **OLAP** | **bin** to verify folder Security properties are granted to the security group in step 2.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d8cd1-207">SID は削除したり変更したりしないでください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-207">Never remove or modify a SID.</span></span> <span data-ttu-id="d8cd1-208">誤って削除されたサービスごとの SID を復元するには、「」を参照してください [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201) 。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-208">To restore a per-service SID that was inadvertently deleted, see [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201).</span></span>  
  
 <span data-ttu-id="d8cd1-209">**サービスごとの SID の詳細**</span><span class="sxs-lookup"><span data-stu-id="d8cd1-209">**More about per-service SIDs**</span></span>  
  
 <span data-ttu-id="d8cd1-210">各 Windows アカウントは関連する [SID](http://en.wikipedia.org/wiki/Security_Identifier)を持ちますが、サービスも SID を持っており、そのためサービスごとの SID と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-210">Every Windows account has an associated [SID](http://en.wikipedia.org/wiki/Security_Identifier), but services can also have SIDs, hence referred to as per-service SIDs.</span></span> <span data-ttu-id="d8cd1-211">サービスごとの SID は、サービス インスタンスのインストール時に、サービスの一意の永続的な機能として作成されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-211">A per-service SID is created when the service instance is installed, as a unique, permanent fixture of the service.</span></span> <span data-ttu-id="d8cd1-212">サービスごとの SID はコンピューター レベルのローカルな SID であり、サービス名から生成されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-212">The per-service SID is a local, machine-level SID generated from the service name.</span></span> <span data-ttu-id="d8cd1-213">既定のインスタンスの場合、それには、ユーザー フレンドリな名前として NT SERVICE\MSSQLServerOLAPService という名前が付けられています。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-213">On a default instance, its user friendly name is NT SERVICE\MSSQLServerOLAPService.</span></span>  
  
 <span data-ttu-id="d8cd1-214">サービスごとの SID の利点は、広範囲にわたって表示されるログオン アカウントを、ファイル権限に影響を及ぼすことなく自由に変更できることです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-214">The benefit of a per-service SID is that it allows the more widely-visible logon account to be changed arbitrarily, without affecting file permissions.</span></span> <span data-ttu-id="d8cd1-215">たとえば、共に同じ Windows ユーザー アカウントで実行する Analysis Services の 2 つのインスタンス (既定のインスタンスと名前付きインスタンス) をインストールする場合を考えます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-215">For example, suppose you installed two instances of Analysis Services, a default instance and named instance, both running under the same Windows user account.</span></span> <span data-ttu-id="d8cd1-216">各サービス インスタンスはログオン アカウントを共有するものの、それぞれ一意のサービスごとの SID を持ちます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-216">While the logon account is shared, each service instance will have a unique per-service SID.</span></span> <span data-ttu-id="d8cd1-217">この SID は、ログオン アカウントの SID とは異なります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-217">This SID is distinct from the SID of the logon account.</span></span> <span data-ttu-id="d8cd1-218">サービスごとの SID は、ファイル権限および Windows 特権に使用されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-218">The per-service SID is used for file permissions and Windows privileges.</span></span> <span data-ttu-id="d8cd1-219">これに対し、ログオン アカウント SID は認証と承認のシナリオで使用されます。このように、異なる目的のために異なる SID が使用されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-219">In contrast, the logon account SID is used for authentication and authorization scenarios ─ different SIDS, used for different purposes.</span></span>  
  
 <span data-ttu-id="d8cd1-220">SID は不変であるため、サービスのインストール時に作成されたファイル システム ACL を、サービス アカウントの変更頻度に関係なく、無期限に使用できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-220">Because the SID is immutable, file system ACLs created during service installation can be used indefinitely, regardless of how often you change the service account.</span></span> <span data-ttu-id="d8cd1-221">SID により権限を指定する ACL では、セキュリティのための措置を強化するために、同じアカウントで他のサービスが実行する場合でも、プログラムの実行可能プログラムおよびデータ フォルダーがサービスの単一のインスタンスによってのみアクセスされることが保証されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-221">As an added security measure, ACLs that specify permissions via a SID ensure that program executables and data folders are accessed only by a single instance of a service, even if other services run under the same account.</span></span>  
  
##  <a name="granting-additional-analysis-services-permissions-for-specific-server-operations"></a><a name="bkmk_tasks"></a><span data-ttu-id="d8cd1-222">特定のサーバー操作に対する追加の Analysis Services アクセス許可の付与</span><span class="sxs-lookup"><span data-stu-id="d8cd1-222">Granting additional Analysis Services permissions for specific server operations</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="d8cd1-223">では、一部のタスクは、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]を開始するために使用されるサービス アカウント (またはログオン アカウント) のセキュリティ コンテキストに従って実行され、他のタスクは、そのタスクを要求しているユーザーのセキュリティ コンテキストに従って実行されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-223">executes some tasks in the security context of the service account (or logon account) that is used to start [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and executes other tasks in the security context of the user who is requesting the task.</span></span>  
  
 <span data-ttu-id="d8cd1-224">次の表に、サービス アカウントとして実行するタスクをサポートするために必要な追加権限を示します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-224">The following table describes additional permissions required to support tasks executing as the service account.</span></span>  
  
|<span data-ttu-id="d8cd1-225">サーバー操作</span><span class="sxs-lookup"><span data-stu-id="d8cd1-225">Server Operation</span></span>|<span data-ttu-id="d8cd1-226">作業項目</span><span class="sxs-lookup"><span data-stu-id="d8cd1-226">Work Item</span></span>|<span data-ttu-id="d8cd1-227">妥当性</span><span class="sxs-lookup"><span data-stu-id="d8cd1-227">Justification</span></span>|  
|----------------------|---------------|-------------------|  
|<span data-ttu-id="d8cd1-228">外部リレーショナル データ ソースに対するリモート アクセス</span><span class="sxs-lookup"><span data-stu-id="d8cd1-228">Remote access to external relational data sources</span></span>|<span data-ttu-id="d8cd1-229">サービス アカウントのデータベース ログインを作成します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-229">Create a database login for the service account</span></span>|<span data-ttu-id="d8cd1-230">処理とは、外部データ ソース (通常はリレーショナル データベース) からのデータの取得を意味します。これはその後、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] データベースに読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-230">Processing refers to data retrieval from an external data source (usually a relational database), which is subsequently loaded into an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="d8cd1-231">外部データの取得で可能な資格情報に関するオプションの 1 つに、サービス アカウントを使用することがあります。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-231">One of the credential options for retrieving external data is to use the service account.</span></span> <span data-ttu-id="d8cd1-232">この資格情報に関するオプションは、サービス アカウントのデータベース ログインを作成し、ソース データベースに対する読み取り権限を付与した場合にのみ選択できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-232">This credential option works only if you create a database login for the service account and grant read permissions on the source database.</span></span> <span data-ttu-id="d8cd1-233">このタスクでのサービス アカウント オプションの使用方法の詳細については、「[権限借用オプションの設定s &#40;SSAS - 多次元&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-233">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="d8cd1-234">同様に、ROLAP をストレージ モードとして使用する場合は、同じ権限借用オプションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-234">Similarly, if ROLAP is used as the storage mode, the same impersonation options are available.</span></span> <span data-ttu-id="d8cd1-235">この場合、アカウントには、ROLAP パーティションを処理するために (つまり、集計を格納するために)、ソース データに対する書き込みアクセス権も必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-235">In this case, the account must also have write access to the source data to process the ROLAP partitions (that is, to store aggregations).</span></span>|  
|<span data-ttu-id="d8cd1-236">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="d8cd1-236">DirectQuery</span></span>|<span data-ttu-id="d8cd1-237">サービス アカウントのデータベース ログインを作成します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-237">Create a database login for the service account</span></span>|<span data-ttu-id="d8cd1-238">DirectQuery は、表形式モデルに収めるには大きすぎるか、既定のインメモリ ストレージ オプションよりも DirectQuery の適合性が高いその他の特性がある外部データセットをクエリするために使用する表形式の機能です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-238">DirectQuery is a tabular feature used to query external datasets that are either too large to fit inside the tabular model or have other characteristics that make DirectQuery a better fit than the default in-memory storage option.</span></span> <span data-ttu-id="d8cd1-239">DirectQuery モードで使用できる接続オプションの 1 つは、サービス アカウントを使用することです。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-239">One of the connection options available in DirectQuery mode is to use the service account.</span></span> <span data-ttu-id="d8cd1-240">ここでもこのオプションは、サービス アカウントにターゲット データ ソースでのデータベースのログイン権限と読み取り権限がある場合にのみ選択できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-240">Once again, this option works only when the service account has a database login and read permissions on the target data source.</span></span> <span data-ttu-id="d8cd1-241">このタスクでのサービス アカウント オプションの使用方法の詳細については、「[権限借用オプションの設定s &#40;SSAS - 多次元&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-241">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="d8cd1-242">また、データの取得のために、現在のユーザーの資格情報を使用できます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-242">Alternatively, the credentials of the current user can be used to retrieve data.</span></span> <span data-ttu-id="d8cd1-243">ほとんどの場合、このオプションではダブル ホップ接続が発生します。したがって、サービス アカウントでダウンストリーム サーバーに ID をデリゲートできるように、Kerberos の制約付き委任のためのサービス アカウントを構成します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-243">In most cases this option entails a double-hop connection, so be sure to configure the service account for Kerberos constrained delegation so that the service account can delegate identities to a downstream server.</span></span> <span data-ttu-id="d8cd1-244">詳細については、「 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-244">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>|  
|<span data-ttu-id="d8cd1-245">他の SSAS インスタンスへのリモート アクセス</span><span class="sxs-lookup"><span data-stu-id="d8cd1-245">Remote access to other SSAS instances</span></span>|<span data-ttu-id="d8cd1-246">リモート サーバー上に定義された Analysis Services のデータベース ロールへの、サービス アカウントの追加</span><span class="sxs-lookup"><span data-stu-id="d8cd1-246">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="d8cd1-247">リモート パーティション、および他のリモート [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンス上のリンク オブジェクトの参照は共に、リモート コンピューターまたはデバイス上の権限を必要とするシステム機能です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-247">Remote partitions and referencing linked objects on other remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances are both system capabilities requiring permissions on a remote computer or device.</span></span> <span data-ttu-id="d8cd1-248">ユーザーがリモート パーティションを作成および設定するか、リンク オブジェクトを設定すると、現在のユーザーのセキュリティ コンテキストで操作が実行します。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-248">When a person creates and populates remote partitions, or sets up a linked object, that operation runs in the security context of the current user.</span></span> <span data-ttu-id="d8cd1-249">後でこの操作を自動化した場合、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] はそのサービス アカウントのセキュリティ コンテキストでリモート インスタンスにアクセスします。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-249">If you subsequently automate these operations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will access remote instances in the security context of its service account.</span></span> <span data-ttu-id="d8cd1-250">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]のリモート インスタンスにあるリンク オブジェクトにアクセスするには、特定のディメンションに対する読み取りアクセス権など、リモート インスタンス上の適切なオブジェクトを読み取るための権限がログオン アカウントに必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-250">In order to access linked objects on a remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the logon account must have permission to read the appropriate objects on the remote instance, such as Read access to certain dimensions.</span></span> <span data-ttu-id="d8cd1-251">同様に、リモート パーティションを使用するには、サービス アカウントでリモート インスタンス上に管理者権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-251">Similarly, using remote partitions requires that the service account have administrative rights on the remote instance.</span></span> <span data-ttu-id="d8cd1-252">このような権限は、許可された操作を特定のオブジェクトに関連付けるロールを使用して、リモート Analysis Services インスタンス上で付与されます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-252">Such permissions are granted on the remote Analysis Services instance, using roles that associate permitted operations with a specific object.</span></span> <span data-ttu-id="d8cd1-253">処理およびクエリ操作を許可するフル コントロール権限を付与する方法については、「[データベース権限の付与 &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-253">See [Grant database permissions &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md) for instructions on how to grant Full Control permissions that allow processing and query operations.</span></span> <span data-ttu-id="d8cd1-254">リモート パーティションの詳細については、「[リモート パーティションの作成と管理 &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-254">See [Create and Manage a Remote Partition &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md) for more information about remote partitions.</span></span>|  
|<span data-ttu-id="d8cd1-255">[書き戻し]</span><span class="sxs-lookup"><span data-stu-id="d8cd1-255">Writeback</span></span>|<span data-ttu-id="d8cd1-256">リモート サーバー上に定義された Analysis Services のデータベース ロールへの、サービス アカウントの追加</span><span class="sxs-lookup"><span data-stu-id="d8cd1-256">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="d8cd1-257">書き戻しは、クライアント アプリケーションで有効にされている場合に、データ分析中に新しいデータ値の作成を可能にする多次元モデルの機能です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-257">When enabled in client applications, writeback is a feature of multidimensional models that allows the creation of new data values during data analysis.</span></span> <span data-ttu-id="d8cd1-258">ディメンションまたはキューブ内で書き戻しが有効な場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サービス アカウントに、ソースの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] リレーショナル データベースの書き戻しテーブルに対する書き込み権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-258">If writeback is enabled within any dimension or cube, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the writeback table in the source [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database.</span></span> <span data-ttu-id="d8cd1-259">このテーブルがまだ存在しておらず、作成する必要がある場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サービス アカウントに、指定の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベース内でテーブルを作成するための権限も必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-259">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>|  
|<span data-ttu-id="d8cd1-260">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] リレーショナル データベース内のクエリ ログ テーブルへの書き込み</span><span class="sxs-lookup"><span data-stu-id="d8cd1-260">Write to a query log table in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database</span></span>|<span data-ttu-id="d8cd1-261">サービス アカウントのデータベース ログインの作成、およびクエリ ログ テーブルに対する書き込み権限の割り当て</span><span class="sxs-lookup"><span data-stu-id="d8cd1-261">Create a database login for the service account and assign write permissions on the query log table</span></span>|<span data-ttu-id="d8cd1-262">以降の分析用にデータベース テーブル内に使用状況データを収集するために、クエリ ログ記録を有効にできます。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-262">You can enable query logging to collect usage data in a database table for subsequent analysis.</span></span> <span data-ttu-id="d8cd1-263">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] サービス アカウントには、指定の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースのクエリ ログ テーブルに対する書き込み権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-263">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the query log table in the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="d8cd1-264">このテーブルがまだ存在しておらず、作成する必要がある場合は、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ログオン アカウントに、指定の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベース内でテーブルを作成するための権限も必要です。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-264">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] logon account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="d8cd1-265">詳細については、 [使用法に基づく最適化ウィザードによる SQL Server Analysis Services のパフォーマンスの向上 (ブログ)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) および [Analysis Services でのクエリのログ記録 (ブログ)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="d8cd1-265">For more information, see [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard (Blog)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) and [Query Logging in Analysis Services (Blog)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d8cd1-266">参照</span><span class="sxs-lookup"><span data-stu-id="d8cd1-266">See Also</span></span>  
 <span data-ttu-id="d8cd1-267">[Windows サービスアカウントとアクセス許可の構成](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-267">[Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span></span>  
 <span data-ttu-id="d8cd1-268">[SQL Server サービスアカウントとサービスごとの SID (ブログ)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-268">[SQL Server Service Account and Per-Service SID (Blog)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span></span>  
 <span data-ttu-id="d8cd1-269">[サービス SID を使用してサービスの分離を提供する SQL Server (サポート技術情報の記事)](https://support.microsoft.com/kb/2620201) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-269">[SQL Server uses a service SID to provide service isolation (KB Article)](https://support.microsoft.com/kb/2620201) </span></span>  
 <span data-ttu-id="d8cd1-270">[アクセストークン (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-270">[Access Token (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span></span>  
 <span data-ttu-id="d8cd1-271">[セキュリティ識別子 (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-271">[Security Identifiers (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span></span>  
 <span data-ttu-id="d8cd1-272">[アクセストークン (Wikipedia)](http://en.wikipedia.org/wiki/Access_token) </span><span class="sxs-lookup"><span data-stu-id="d8cd1-272">[Access Token (Wikipedia)](http://en.wikipedia.org/wiki/Access_token) </span></span>  
 [<span data-ttu-id="d8cd1-273">アクセス制御リスト (Wikipedia)</span><span class="sxs-lookup"><span data-stu-id="d8cd1-273">Access Control Lists (Wikipedia)</span></span>](http://en.wikipedia.org/wiki/Access_control_list)  
  
  
