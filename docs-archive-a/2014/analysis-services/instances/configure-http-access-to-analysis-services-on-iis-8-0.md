---
title: インターネットインフォメーションサービス (IIS) 8.0 で Analysis Services への HTTP アクセスを構成します。Microsoft Docs
ms.custom: ''
ms.date: 06/19/2019
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: cf2e2c84-0a69-4cdd-90a1-fb4021936513
author: minewiskan
ms.author: owend
ms.openlocfilehash: 00fc6fcdf059bb26602e20d4c7fc8fb46edcfb9c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714809"
---
# <a name="configure-http-access-to-analysis-services-on-internet-information-services-iis-80"></a><span data-ttu-id="38227-102">インターネット インフォメーション サービス (IIS) 8.0 上の Analysis Services への HTTP アクセスの構成</span><span class="sxs-lookup"><span data-stu-id="38227-102">Configure HTTP Access to Analysis Services on Internet Information Services (IIS) 8.0</span></span>
  <span data-ttu-id="38227-103">この記事では、Analysis Services インスタンスにアクセスするために HTTP エンドポイントを設定する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="38227-103">This article explains how to set up an HTTP endpoint for accessing an Analysis Services instance.</span></span> <span data-ttu-id="38227-104">HTTP アクセスを有効にするには、MSMDPUMP.dll を構成します。MSMDPUMP.dll は、インターネット インフォメーション サービス (IIS) で実行され、クライアント アプリケーションと Analysis Services サーバーの間で双方向にデータをポンプする ISAPI 拡張機能です。</span><span class="sxs-lookup"><span data-stu-id="38227-104">You can enable HTTP access by configuring MSMDPUMP.dll, an ISAPI extension that runs in Internet Information Services (IIS) and pumps data to and from client applications and an Analysis Services server.</span></span> <span data-ttu-id="38227-105">この方法は、BI ソリューションが次の機能を必要とする場合に、Analysis Services への接続の代わりに使用できます。</span><span class="sxs-lookup"><span data-stu-id="38227-105">This approach provides an alternative means for connecting to Analysis Services when your BI solution calls for the following capabilities:</span></span>  
  
-   <span data-ttu-id="38227-106">クライアント アクセスが、有効にできるポートに制限があるインターネット接続またはエクストラネット接続を経由して接続する。</span><span class="sxs-lookup"><span data-stu-id="38227-106">Client access is over Internet or extranet connections, with restrictions on which ports can be enabled.</span></span>  
  
-   <span data-ttu-id="38227-107">クライアント接続が同じネットワーク内の信頼されていないドメインからの接続である。</span><span class="sxs-lookup"><span data-stu-id="38227-107">Client connections are from non-trusted domains in the same network.</span></span>  
  
-   <span data-ttu-id="38227-108">HTTP 接続は許可されているが TCP/IP 接続が許可されていないネットワーク環境でクライアント アプリケーションが実行される。</span><span class="sxs-lookup"><span data-stu-id="38227-108">Client application runs in a network environment that allows HTTP but not TCP/IP connections.</span></span>  
  
-   <span data-ttu-id="38227-109">クライアント アプリケーションが Analysis Services クライアント ライブラリを使用できない (UNIX サーバーで実行されている Java アプリケーションなど)。</span><span class="sxs-lookup"><span data-stu-id="38227-109">Client applications cannot use the Analysis Services client libraries (for example, a Java application running on a UNIX server).</span></span> <span data-ttu-id="38227-110">データ アクセスに Analysis Services クライアント ライブラリを使用できない場合は、Analysis Services インスタンスへの HTTP 直接接続で SOAP および XML/A を使用できます。</span><span class="sxs-lookup"><span data-stu-id="38227-110">If you cannot use the Analysis Services client libraries for data access, you can use SOAP and XML/A over a direct HTTP connection to an Analysis Services instance.</span></span>  
  
-   <span data-ttu-id="38227-111">Windows 統合セキュリティ以外の認証メソッドが必要である。</span><span class="sxs-lookup"><span data-stu-id="38227-111">Authentication methods other than Windows integrated security are required.</span></span> <span data-ttu-id="38227-112">つまり、HTTP アクセス用に Analysis Services を構成する際に、匿名接続および基本認証を使用できる。</span><span class="sxs-lookup"><span data-stu-id="38227-112">Specifically, you can use Anonymous connections and Basic authentication when configuring Analysis Services for HTTP access.</span></span> <span data-ttu-id="38227-113">ダイジェスト認証、フォーム認証、および ASP.NET 認証はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="38227-113">Digest, Forms, and ASP.NET authentication are not supported.</span></span> <span data-ttu-id="38227-114">基本認証の要件は、HTTP アクセスを有効にするための主な理由の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="38227-114">A requirement of Basic authentication is one of the primary reasons for enabling HTTP access.</span></span> <span data-ttu-id="38227-115">詳細については、「 [Microsoft BI 認証と ID 委任](https://go.microsoft.com/fwlink/?LinkId=286576)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-115">To learn more, see [Microsoft BI Authentication and Identity Delegation](https://go.microsoft.com/fwlink/?LinkId=286576).</span></span>  
  
 <span data-ttu-id="38227-116">テーブル モードまたは多次元モードのいずれかを実行する Analysis Services のサポートされているすべてのバージョンまたはエディションで、HTTP アクセスを構成することができます。</span><span class="sxs-lookup"><span data-stu-id="38227-116">You can configure HTTP access for any supported version or edition of Analysis Services, running either tabular mode or multidimensional mode.</span></span> <span data-ttu-id="38227-117">ローカル キューブは例外です。</span><span class="sxs-lookup"><span data-stu-id="38227-117">Local cubes are an exception.</span></span> <span data-ttu-id="38227-118">HTTP エンドポイントを介してローカル キューブに接続することはできません。</span><span class="sxs-lookup"><span data-stu-id="38227-118">You cannot connect to a local cube via an HTTP endpoint.</span></span>  
  
 <span data-ttu-id="38227-119">HTTP アクセスの設定は、インストール後のタスクです。</span><span class="sxs-lookup"><span data-stu-id="38227-119">Setting up HTTP access is a post-installation task.</span></span> <span data-ttu-id="38227-120">HTTP アクセス用に構成する前に、Analysis Services をインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-120">Analysis Services must be installed before you can configure it for HTTP access.</span></span> <span data-ttu-id="38227-121">Analysis Services 管理者として、HTTP アクセスを可能にする前に、Windows アカウントへのアクセス許可を付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-121">As the Analysis Services administrator, you will need to grant permissions to Windows accounts before HTTP access is possible.</span></span> <span data-ttu-id="38227-122">また、それ以上サーバーを構成する前に、インストールを検証すること (完全に機能することの確認) をお勧めします。</span><span class="sxs-lookup"><span data-stu-id="38227-122">Additionally, it is a best practice to validate your installation first, ensuring that it is fully operational before configuring the server any further.</span></span> <span data-ttu-id="38227-123">HTTP アクセスを構成したら、HTTP エンドポイントと、TCP/IP 上のサーバーの通常のネットワーク名の両方を使用できます。</span><span class="sxs-lookup"><span data-stu-id="38227-123">After HTTP access is configured, you can use both the HTTP endpoint and the regular network name of the server over TCP/IP.</span></span> <span data-ttu-id="38227-124">HTTP アクセスを設定しても、データ アクセスのためのその他のアプローチは無効にされません。</span><span class="sxs-lookup"><span data-stu-id="38227-124">Setting up HTTP access does not invalidate other approaches for data access.</span></span>  
  
 <span data-ttu-id="38227-125">MSMDPUMP 構成で先に進む際、client-to-IIS と IIS-to-SSAS の 2 つの接続を考慮する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="38227-125">As you move forward with MSMDPUMP configuration, remember there are two connections to consider: client-to-IIS, IIS-to-SSAS.</span></span> <span data-ttu-id="38227-126">この記事の手順では、IIS と SSAS の間の接続を扱います。</span><span class="sxs-lookup"><span data-stu-id="38227-126">The instructions in this article are about IIS-to-SSAS.</span></span> <span data-ttu-id="38227-127">IIS に接続するには、クライアント アプリケーションで追加の構成が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="38227-127">Your client application might require additional configuration before it can connect to IIS.</span></span> <span data-ttu-id="38227-128">SSL を使用するかどうか、バインドをどのように構成するかなどの決定については、この記事では扱いません。</span><span class="sxs-lookup"><span data-stu-id="38227-128">Decisions such as whether to use SSL, or how to configure bindings, are out of scope for this article.</span></span> <span data-ttu-id="38227-129">IIS の詳細については、「 [Web サーバー (IIS) の概要](https://technet.microsoft.com/library/hh831725.aspx) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-129">See [Web Server (IIS)](https://technet.microsoft.com/library/hh831725.aspx) for more information about IIS.</span></span>  
  
 <span data-ttu-id="38227-130">このトピックのセクションは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="38227-130">This topic includes the following sections:</span></span>  
  
-   [<span data-ttu-id="38227-131">概要</span><span class="sxs-lookup"><span data-stu-id="38227-131">Overview</span></span>](#bkmk_overview)  
  
-   [<span data-ttu-id="38227-132">前提条件</span><span class="sxs-lookup"><span data-stu-id="38227-132">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="38227-133">MSMDPUMP.dll の Web サーバー上のフォルダーへのコピー</span><span class="sxs-lookup"><span data-stu-id="38227-133">Copy the MSMDPUMP.dll to a folder on the Web server</span></span>](#bkmk_copy)  
  
-   [<span data-ttu-id="38227-134">IIS へのアプリケーション プールと仮想ディレクトリの作成</span><span class="sxs-lookup"><span data-stu-id="38227-134">Create an application pool and virtual directory in IIS</span></span>](#bkmk_appPool)  
  
-   [<span data-ttu-id="38227-135">IIS 認証の構成と拡張機能の追加</span><span class="sxs-lookup"><span data-stu-id="38227-135">Configure IIS authentication and add the extension</span></span>](#bkmk_auth)  
  
-   [<span data-ttu-id="38227-136">MSMDPUMP.INI ファイルの編集によるターゲット サーバーの設定</span><span class="sxs-lookup"><span data-stu-id="38227-136">Edit the MSMDPUMP.INI file to set the target server</span></span>](#bkmk_edit)  
  
-   [<span data-ttu-id="38227-137">構成のテスト</span><span class="sxs-lookup"><span data-stu-id="38227-137">Test your configuration</span></span>](#bkmk_test)  
  
##  <a name="overview"></a><a name="bkmk_overview"></a> <span data-ttu-id="38227-138">概要</span><span class="sxs-lookup"><span data-stu-id="38227-138">Overview</span></span>  
 <span data-ttu-id="38227-139">MSMDPUMP は、IIS に読み込まれ、ローカルまたはリモートの Analysis Services インスタンスへのリダイレクトを提供する ISAPI 拡張機能です。</span><span class="sxs-lookup"><span data-stu-id="38227-139">MSMDPUMP is an ISAPI extension that loads into IIS and provides redirection to a local or remote Analysis Services instance.</span></span> <span data-ttu-id="38227-140">この ISAPI 拡張機能を構成して、Analysis Services インスタンスへの HTTP エンドポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="38227-140">By configuring this ISAPI extension, you create an HTTP endpoint to an Analysis Services instance.</span></span>  
  
 <span data-ttu-id="38227-141">HTTP エンドポイントごとに 1 個の仮想ディレクトリを作成し、構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-141">You must create and configure one virtual directory for each HTTP endpoint.</span></span> <span data-ttu-id="38227-142">接続先の Analysis Services インスタンスごとに、各エンドポイントに独自の MSMDPUMP ファイル セットが必要になります。</span><span class="sxs-lookup"><span data-stu-id="38227-142">Each endpoint will need its own set of MSMDPUMP files, for each Analysis Services instance you want to connect to.</span></span> <span data-ttu-id="38227-143">このファイル セット内の構成ファイルで、各 HTTP エンドポイントに使用される Analysis Services インスタンスの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="38227-143">A configuration file in this file set specifies the name of the Analysis Services instance used for each HTTP endpoint.</span></span>  
  
 <span data-ttu-id="38227-144">IIS では、MSMDPUMP は、Analysis Services OLE DB プロバイダーを使用して、TCP/IP 経由で Analysis Services に接続します。</span><span class="sxs-lookup"><span data-stu-id="38227-144">On IIS, MSMDPUMP connects to Analysis Services using the Analysis Services OLE DB provider over TCP/IP.</span></span> <span data-ttu-id="38227-145">クライアントの要求は、ドメインの信頼関係の外部で発生する可能性がありますが、ネイティブ接続を成功させるには、Analysis Services と IIS の両方が同じドメイン内または信頼されたドメイン内に存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-145">Although client requests can originate outside of domain trust, both Analysis Services and IIS must be in the same domain or in trusted domains in order for the native connection to succeed.</span></span>  
  
 <span data-ttu-id="38227-146">MSMDPUMP が Analysis Services に接続するときには、Windows のユーザー ID を使用して接続を行います。</span><span class="sxs-lookup"><span data-stu-id="38227-146">When MSMDPUMP connects to Analysis Services, it does so under a Windows user identity.</span></span> <span data-ttu-id="38227-147">このアカウントは、仮想ディレクトリが匿名接続用に構成されている場合は匿名アカウント、それ以外の場合は Windows のユーザー アカウントになります。</span><span class="sxs-lookup"><span data-stu-id="38227-147">This account will either be the Anonymous account if you configured the virtual directory for anonymous connections, or a Windows user account.</span></span> <span data-ttu-id="38227-148">アカウントには、Analysis Services サーバーとデータベースでの適切なデータ アクセス権限が与えられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-148">The account must have the appropriate data access rights on the Analysis Services server and database.</span></span>  
  
 <span data-ttu-id="38227-149">![コンポーネント間の接続を示す図](../media/ssas.gif "コンポーネント間の接続を示す図")</span><span class="sxs-lookup"><span data-stu-id="38227-149">![Diagram showing connections between components](../media/ssas.gif "Diagram showing connections between components")</span></span>  
  
 <span data-ttu-id="38227-150">次の表には、さまざまなシナリオで HTTP アクセスを有効にするときに検討する必要がある追加の検討事項が示されています。</span><span class="sxs-lookup"><span data-stu-id="38227-150">The following table lists additional considerations when you enable HTTP access for different scenarios.</span></span>  
  
|<span data-ttu-id="38227-151">シナリオ</span><span class="sxs-lookup"><span data-stu-id="38227-151">Scenario</span></span>|<span data-ttu-id="38227-152">構成</span><span class="sxs-lookup"><span data-stu-id="38227-152">Configuration</span></span>|  
|--------------|-------------------|  
|<span data-ttu-id="38227-153">IIS と Analysis Services が同じコンピューター上にある場合</span><span class="sxs-lookup"><span data-stu-id="38227-153">IIS and Analysis Services on the same computer</span></span>|<span data-ttu-id="38227-154">これが、既定の構成 (サーバー名は localhost)、ローカルの Analysis Services OLE DB プロバイダー、および NTLM を使用した Windows 統合セキュリティを使用できるため最も簡単な構成となります。</span><span class="sxs-lookup"><span data-stu-id="38227-154">This is the simplest configuration because it allows you to use the default configuration (where the server name is localhost), the local Analysis Services OLE DB provider, and Windows integrated security with NTLM.</span></span> <span data-ttu-id="38227-155">クライアントも同じドメインにあることを前提としているため、認証はユーザーにはわからないように内部的に行われ、追加の作業も必要ありません。</span><span class="sxs-lookup"><span data-stu-id="38227-155">Assuming that the client is also in the same domain, authentication is transparent to the user, with no additional work on your part.</span></span>|  
|<span data-ttu-id="38227-156">IIS と Analysis Services が異なるコンピューター上にある場合</span><span class="sxs-lookup"><span data-stu-id="38227-156">IIS and Analysis Services on different computers</span></span>|<span data-ttu-id="38227-157">このトポロジでは、Web サーバーに Analysis Services OLE DB プロバイダーをインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-157">For this topology, you must install the Analysis Services OLE DB provider on the web server.</span></span> <span data-ttu-id="38227-158">msmdpump.ini ファイルを編集して、リモート コンピューター上の Analysis Services インスタンスの場所を指定する必要もあります。</span><span class="sxs-lookup"><span data-stu-id="38227-158">You must also edit the msmdpump.ini file to specify the location of Analysis Services instance on the remote computer.</span></span><br /><br /> <span data-ttu-id="38227-159">このトポロジでは、ダブルホップ認証ステップが追加されます。この認証では、資格情報がクライアントから Web サーバーに渡され、バックエンドの Analysis Services サーバーまで到達する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-159">This topology adds a double-hop authentication step, where credentials must flow from the client to the web server, and on to the backend Analysis Services server.</span></span> <span data-ttu-id="38227-160">Windows 資格情報と NTLM を使用している場合、NTLM では 2 番目のサーバーへのクライアント資格情報の委任が許可されないためにエラーが発生します。</span><span class="sxs-lookup"><span data-stu-id="38227-160">If you are using Windows credentials and NTLM, you will get an error because NTLM does not allow delegation of client credentials to a second server.</span></span> <span data-ttu-id="38227-161">最も一般的なソリューションは、SSL (Secure Sockets Layer) で基本認証を使用する方法です。ただし、この場合、MSMDPUMP 仮想ディレクトリにアクセスするときにユーザー名とパスワードの入力が必要となります。</span><span class="sxs-lookup"><span data-stu-id="38227-161">The most common solution is to use Basic authentication with Secure Sockets Layer (SSL), but this will require users to provide a user name and password when accessing the MSMDPUMP virtual directory.</span></span> <span data-ttu-id="38227-162">さらにわかりやすい方法として、Kerberos を有効にし、Analysis Services 制約付き委任を構成することによって認証を内部的に処理して Analysis Services にアクセスできるようにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="38227-162">A more straightforward approach might be to enable Kerberos and configure Analysis Services constrained delegation so that users can access Analysis Services in a transparent manner.</span></span> <span data-ttu-id="38227-163">詳細については、「 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-163">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for details.</span></span><br /><br /> <span data-ttu-id="38227-164">Windows ファイアウォールでどのポートのブロックを解除するかを検討してください。</span><span class="sxs-lookup"><span data-stu-id="38227-164">Consider which ports to unblock in Windows Firewall.</span></span> <span data-ttu-id="38227-165">両方のサーバー上のポートのブロックを解除して IIS 上の Web アプリケーションと、リモート サーバー上の Analysis Services にアクセスできるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-165">You will need to unblock ports on both servers to allow access to the web application on IIS, and to Analysis Services on a remote server.</span></span>|  
|<span data-ttu-id="38227-166">信頼されていないドメインからのクライアント接続、またはエクストラネット接続の場合</span><span class="sxs-lookup"><span data-stu-id="38227-166">Client connections are from a non-trusted domain or an extranet connection</span></span>|<span data-ttu-id="38227-167">信頼されていないドメインからのクライアント接続の場合、認証はさらに制限されます。</span><span class="sxs-lookup"><span data-stu-id="38227-167">Client connections from a non-trusted domain introduce further restrictions on authentication.</span></span> <span data-ttu-id="38227-168">既定では、Analysis Services は、Windows 統合認証を使用します。この認証では、ユーザーは、サーバーと同じドメインにいる必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-168">By default, Analysis Services uses Windows integrated authentication, which requires users to be on the same domain as the server.</span></span> <span data-ttu-id="38227-169">既定の設定を使用するようにサーバーが構成されている場合に、エクストラネット ユーザーがドメインの外から IIS に接続しようとすると接続エラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="38227-169">If you have Extranet users who connect to IIS from outside the domain, those users will get a connection error if the server is configured to use the default settings.</span></span><br /><br /> <span data-ttu-id="38227-170">対処方法には、エクストラネット ユーザーがドメインの資格情報を使用して VPN 経由で接続する方法があります。</span><span class="sxs-lookup"><span data-stu-id="38227-170">Workarounds include having Extranet users connect through a VPN using domain credentials.</span></span> <span data-ttu-id="38227-171">ただし、IIS Web サイト上で基本認証と SSL を有効にする方法が適している場合もあります。</span><span class="sxs-lookup"><span data-stu-id="38227-171">However, a better approach might be to enable Basic authentication and SSL on your IIS web site.</span></span>|  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="38227-172">前提条件</span><span class="sxs-lookup"><span data-stu-id="38227-172">Prerequisites</span></span>  
 <span data-ttu-id="38227-173">この記事の手順では、IIS が既に構成され、また Analysis Services が既にインストールされていることを想定しています。</span><span class="sxs-lookup"><span data-stu-id="38227-173">The instructions in this article assume IIS is already configured and that Analysis Services is already installed.</span></span> <span data-ttu-id="38227-174">Windows Server 2012 には、システムで有効にできるサーバーの役割として IIS 8.x が付属しています。</span><span class="sxs-lookup"><span data-stu-id="38227-174">Windows Server 2012 ships with IIS 8.x as a server role that you can enable on the system.</span></span>  
  
 <span data-ttu-id="38227-175">**IIS 8.0 で追加の構成**</span><span class="sxs-lookup"><span data-stu-id="38227-175">**Extra configuration in IIS 8.0**</span></span>  
  
 <span data-ttu-id="38227-176">IIS 8.0 の既定の構成では、Analysis Services への HTTP アクセスに必要なコンポーネントが不足しています。</span><span class="sxs-lookup"><span data-stu-id="38227-176">The default configuration of IIS 8.0 is missing components that are necessary for HTTP access to Analysis Services.</span></span> <span data-ttu-id="38227-177">それらのコンポーネントは **[Web サーバー (IIS)]** ロールの **[セキュリティ]** と **[アプリケーション開発]** 機能領域にあり、以下のものが含まれます。</span><span class="sxs-lookup"><span data-stu-id="38227-177">These components, found in the **Security** and **Application Development** feature areas of the **Web Server (IIS)** role, include the following:</span></span>  
  
-   <span data-ttu-id="38227-178">**セキュリティ**  | **Windows 認証**、**基本認証**、およびデータアクセスのシナリオに必要なその他のセキュリティ機能。</span><span class="sxs-lookup"><span data-stu-id="38227-178">**Security** | **Windows Authentication**, or **Basic Authentication**, and any other security features required for your data access scenario.</span></span>  
  
-   <span data-ttu-id="38227-179">**アプリケーション開発**  | **CGI**</span><span class="sxs-lookup"><span data-stu-id="38227-179">**Application Development** | **CGI**</span></span>  
  
-   <span data-ttu-id="38227-180">**アプリケーション開発**  | **ISAPI 拡張機能**</span><span class="sxs-lookup"><span data-stu-id="38227-180">**Application Development** | **ISAPI Extensions**</span></span>  
  
 <span data-ttu-id="38227-181">これらのコンポーネントを確認または追加するには、**サーバーマネージャー**  |  **管理**]  |  **[役割と機能の追加**] を使用します。</span><span class="sxs-lookup"><span data-stu-id="38227-181">To verify or add these components, use **Server Manager** | **Manage** | **Add Roles and Features**.</span></span> <span data-ttu-id="38227-182">[ **サーバー ロール**] が表示されるまで、ウィザードを進みます。</span><span class="sxs-lookup"><span data-stu-id="38227-182">Step through the wizard until you get to **Server Roles**.</span></span> <span data-ttu-id="38227-183">**[Web サーバー (IIS)]** が表示されるまで下へスクロールします。</span><span class="sxs-lookup"><span data-stu-id="38227-183">Scroll down to find **Web Server (IIS)**.</span></span>  
  
1.  <span data-ttu-id="38227-184">[ **Web サーバー**  |  の**セキュリティ**] を開き、認証方法を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-184">Open **Web Server** | **Security** and choose the authentication methods.</span></span>  
  
2.  <span data-ttu-id="38227-185">**Web サーバー**  |  **アプリケーション開発**を開き、[ **CGI**と**ISAPI 拡張**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-185">Open **Web Server** | **Application Development** and choose **CGI** and **ISAPI Extensions**.</span></span>  
  
     <span data-ttu-id="38227-186">![Web サーバー ロールの機能ページの追加](../media/ssas-httpaccess-isapicgi.png "Web サーバー ロールの機能ページの追加")</span><span class="sxs-lookup"><span data-stu-id="38227-186">![Add features page for Web server role](../media/ssas-httpaccess-isapicgi.png "Add features page for Web server role")</span></span>  
  
 <span data-ttu-id="38227-187">**IIS がリモート サーバーにある場合**</span><span class="sxs-lookup"><span data-stu-id="38227-187">**When IIS is on a remote server**</span></span>  
  
 <span data-ttu-id="38227-188">IIS と Analysis Services の間のリモート接続では、Analysis Services OLE DB プロバイダー (MSOLAP) を、IIS を実行する Windows サーバーにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-188">A remote connection between IIS and Analysis Services requires that you install the Analysis Services OLE DB provider (MSOLAP) on the Windows server running IIS.</span></span>  
  
1.  <span data-ttu-id="38227-189">[SQL Server 2014 Feature Pack](https://www.microsoft.com/download/details.aspx?id=42295)のダウンロード ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="38227-189">Go to the download page for [SQL Server 2014 Feature Pack](https://www.microsoft.com/download/details.aspx?id=42295)</span></span>  
  
2.  <span data-ttu-id="38227-190">赤い [ダウンロード] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-190">Click the red Download button.</span></span>  
  
3.  <span data-ttu-id="38227-191">ENU\x64\SQL_AS_OLEDB.msi が見つかるまで下にスクロールします。</span><span class="sxs-lookup"><span data-stu-id="38227-191">Scroll down to find ENU\x64\SQL_AS_OLEDB.msi</span></span>  
  
4.  <span data-ttu-id="38227-192">ウィザードの指示に従って、インストールを完了させます。</span><span class="sxs-lookup"><span data-stu-id="38227-192">Follow the instructions in the wizard to complete the installation.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="38227-193">クライアントがリモートの Analysis Services サーバーに接続できるようにするために、Windows ファイアウォールでポートのブロックを忘れずに解除してください。</span><span class="sxs-lookup"><span data-stu-id="38227-193">Remember to unblock the ports in Windows Firewall to allow client connections to a remote Analysis Services server.</span></span> <span data-ttu-id="38227-194">詳細については、「 [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="38227-194">For more information, see [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
##  <a name="step-1-copy-the-msmdpump-files-to-a-folder-on-the-web-server"></a><a name="bkmk_copy"></a> <span data-ttu-id="38227-195">手順 1: MSMDPUMP ファイルを Web サーバー上のフォルダーにコピーする</span><span class="sxs-lookup"><span data-stu-id="38227-195">Step 1: Copy the MSMDPUMP files to a folder on the Web server</span></span>  
 <span data-ttu-id="38227-196">作成した各 HTTP エンドポイントに、独自の MSMDPUMP ファイル セットを用意する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-196">Each HTTP endpoint that you create must have its own set of MSMDPUMP files.</span></span> <span data-ttu-id="38227-197">この手順では、Analysis Services プログラム フォルダーの MSMDPUMP 実行可能ファイル、構成ファイル、およびリソース フォルダーを、IIS が実行されているコンピューターのファイル システム上に作成する新しい仮想ディレクトリ フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="38227-197">In this step, you copy the MSMDPUMP executable, configuration file, and resource folder from the Analysis Services program folders to a new virtual directory folder that you will create on the file system of the computer running IIS.</span></span>  
  
 <span data-ttu-id="38227-198">ドライブは、NTFS ファイル システム用にフォーマットされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-198">The drive must be formatted for the NTFS file system.</span></span> <span data-ttu-id="38227-199">作成するフォルダーへのパスには、スペースを使用することはできません。</span><span class="sxs-lookup"><span data-stu-id="38227-199">The path to the folder that you create must not contain any spaces.</span></span>  
  
1.  <span data-ttu-id="38227-200">次のファイルをコピーします。 \<drive> SQL Server \\<instance \> \OLAP\bin\isapi: MSMDPUMP.DLL、MSMDPUMP.INI、および Resources フォルダーにあります。</span><span class="sxs-lookup"><span data-stu-id="38227-200">Copy the following files, found at \<drive>:\Program Files\Microsoft SQL Server\\<instance\>\OLAP\bin\isapi: MSMDPUMP.DLL, MSMDPUMP.INI, and a Resources folder.</span></span>  
  
     <span data-ttu-id="38227-201">![コピーするファイルを表示するファイル エクスプローラー](../media/ssas-httpaccess-msmdpumpfilecopy.PNG "コピーするファイルを表示するファイル エクスプローラー")</span><span class="sxs-lookup"><span data-stu-id="38227-201">![File Explorer showing files to copy](../media/ssas-httpaccess-msmdpumpfilecopy.PNG "File Explorer showing files to copy")</span></span>  
  
2.  <span data-ttu-id="38227-202">Web サーバーで、 \<drive> : \Inetpub\wwwroot \\ **OLAP**という新しいフォルダーを作成します。</span><span class="sxs-lookup"><span data-stu-id="38227-202">On the web server, create a new folder: \<drive>:\inetpub\wwwroot\\**OLAP**</span></span>  
  
3.  <span data-ttu-id="38227-203">この新しいフォルダーに、コピーしておいたファイルを貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="38227-203">Paste the files that you previously copied into this new folder.</span></span>  
  
4.  <span data-ttu-id="38227-204">Web サーバー上の \inetpub\wwwroot\OLAP フォルダーに、MSMDPUMP.DLL、MSMDPUMP.INI、および Resources フォルダーがあることを確認します。</span><span class="sxs-lookup"><span data-stu-id="38227-204">Verify that the \inetpub\wwwroot\OLAP folder on your web server contains the following: MSMDPUMP.DLL, MSMDPUMP.INI, and a Resources folder.</span></span> <span data-ttu-id="38227-205">フォルダー構造は次のようになります。</span><span class="sxs-lookup"><span data-stu-id="38227-205">Your folder structure should look like this:</span></span>  
  
    -   <span data-ttu-id="38227-206">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.dll</span><span class="sxs-lookup"><span data-stu-id="38227-206">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.dll</span></span>  
  
    -   <span data-ttu-id="38227-207">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.ini</span><span class="sxs-lookup"><span data-stu-id="38227-207">\<drive>:\inetpub\wwwroot\OLAP\MSMDPUMP.ini</span></span>  
  
    -   <span data-ttu-id="38227-208">\<drive>:\inetpub\wwwroot\OLAP\Resources</span><span class="sxs-lookup"><span data-stu-id="38227-208">\<drive>:\inetpub\wwwroot\OLAP\Resources</span></span>  
  
##  <a name="step-2-create-an-application-pool-and-virtual-directory-in-iis"></a><a name="bkmk_appPool"></a> <span data-ttu-id="38227-209">手順 2: IIS にアプリケーション プールと仮想ディレクトリを作成する</span><span class="sxs-lookup"><span data-stu-id="38227-209">Step 2: Create an application pool and virtual directory in IIS</span></span>  
 <span data-ttu-id="38227-210">次に、アプリケーション プールと、ポンプへのエンドポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="38227-210">Next, create an application pool and an endpoint to the pump.</span></span>  
  
#### <a name="create-an-application-pool"></a><span data-ttu-id="38227-211">アプリケーション プールの作成</span><span class="sxs-lookup"><span data-stu-id="38227-211">Create an application pool</span></span>  
  
1.  <span data-ttu-id="38227-212">IIS マネージャーを起動します。</span><span class="sxs-lookup"><span data-stu-id="38227-212">Start IIS Manager.</span></span>  
  
2.  <span data-ttu-id="38227-213">サーバーのフォルダーを開き、 **[アプリケーション プール]** を右クリックし、 **[アプリケーション プールの追加]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-213">Open the server folder, right-click **Application Pools** and then click **Add Application Pool**.</span></span> <span data-ttu-id="38227-214">マネージド パイプライン モードを **[クラシック]** に設定し、.NET Framework を使用して、 **OLAP**という名前のアプリケーション プールを作成します。</span><span class="sxs-lookup"><span data-stu-id="38227-214">Create an application pool named **OLAP**, using the .NET Framework, with Managed pipeline mode set to **Classic**.</span></span>  
  
     <span data-ttu-id="38227-215">![[アプリケーション プールの追加] ダイアログのスクリーンショット](../media/ssas-httpaccess.PNG "[アプリケーション プールの追加] ダイアログのスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-215">![Screenshot of Add Application Pool dialog](../media/ssas-httpaccess.PNG "Screenshot of Add Application Pool dialog")</span></span>  
  
3.  <span data-ttu-id="38227-216">既定では、IIS はセキュリティ ID として **ApplicationPoolIdentity** を使用してアプリケーション プールを作成します (これは、Analysis Services への HTTP アクセスの有効な選択肢です)。</span><span class="sxs-lookup"><span data-stu-id="38227-216">By default, IIS creates application pools using **ApplicationPoolIdentity** as the security identity, which is a valid choice for HTTP access to Analysis Services.</span></span> <span data-ttu-id="38227-217">ID を変更しなければならない特別な理由があれば、 **[OLAP]** を右クリックし **[詳細設定]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-217">If you have specific reasons for changing the identity, right-click **OLAP**, and then select **Advanced Settings**.</span></span> <span data-ttu-id="38227-218">[ **ApplicationPoolIdentity**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-218">Select **ApplicationPoolIdentity**.</span></span> <span data-ttu-id="38227-219">このプロパティの **[変更]** をクリックして、ビルトイン アカウントを目的のカスタム アカウントに置き換えます。</span><span class="sxs-lookup"><span data-stu-id="38227-219">Click the **Change** button for this property to replace the built-in account with the custom account you want to use.</span></span>  
  
     <span data-ttu-id="38227-220">![[詳細設定] プロパティ ページのスクリーンショット](../media/ssas-httpaccess-advsettings.PNG "[詳細設定] プロパティ ページのスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-220">![Screenshot of Advanced Settings property page](../media/ssas-httpaccess-advsettings.PNG "Screenshot of Advanced Settings property page")</span></span>  
  
4.  <span data-ttu-id="38227-221">既定では、64 ビット オペレーティング システムの IIS では、 **[32 ビット アプリケーションの有効化]** プロパティは **false**に設定されています。</span><span class="sxs-lookup"><span data-stu-id="38227-221">By default, on a 64-bit operating system, IIS sets the **Enable 32-bit Applications** property to **false**.</span></span> <span data-ttu-id="38227-222">Analysis Services の 64 ビット インストールから msmdpump.dll をコピーした場合、64 ビット IIS サーバーの MSMDPUMP 拡張機能の設定はこの設定で合っています。</span><span class="sxs-lookup"><span data-stu-id="38227-222">If you copied msmdpump.dll from a 64-bit installation of Analysis Services, this is the correct setting for the MSMDPUMP extension on a 64-bit IIS server.</span></span> <span data-ttu-id="38227-223">MSMDPUMP バイナリを 32 ビット インストールからコピーした場合は、このプロパティを **true**に設定します。</span><span class="sxs-lookup"><span data-stu-id="38227-223">If you copied the MSMDPUMP binaries from a 32-bit installation, set it to **true**.</span></span> <span data-ttu-id="38227-224">[ **詳細設定** ] でこのプロパティをチェックして、設定が適切かどうか確認します。</span><span class="sxs-lookup"><span data-stu-id="38227-224">Check this property now in **Advanced Settings** to ensure it is set correctly.</span></span>  
  
#### <a name="create-an-application"></a><span data-ttu-id="38227-225">アプリケーションの作成</span><span class="sxs-lookup"><span data-stu-id="38227-225">Create an application</span></span>  
  
1.  <span data-ttu-id="38227-226">IIS マネージャで、[ **サイト**] を開き、[ **既定の Web サイト**] を開きます。</span><span class="sxs-lookup"><span data-stu-id="38227-226">In IIS Manager, open **Sites**, open **Default Web Site**.</span></span> <span data-ttu-id="38227-227">**Olap**という名前のフォルダーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="38227-227">You should see a folder named **Olap**.</span></span> <span data-ttu-id="38227-228">これは \inetpub\wwwroot の下に作成した OLAP フォルダーへの参照です。</span><span class="sxs-lookup"><span data-stu-id="38227-228">This is a reference to the OLAP folder you created under \inetpub\wwwroot.</span></span>  
  
     <span data-ttu-id="38227-229">![既定の Web サイトの下の OLAP フォルダー](../media/ssas-httpaccess-convertfolderbefore.png "既定の Web サイトの下の OLAP フォルダー")</span><span class="sxs-lookup"><span data-stu-id="38227-229">![OLAP folder under default web site](../media/ssas-httpaccess-convertfolderbefore.png "OLAP folder under default web site")</span></span>  
  
2.  <span data-ttu-id="38227-230">フォルダーを右クリックし、 **[アプリケーションに変換]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-230">Right-click the folder and choose **Convert to Application**.</span></span>  
  
3.  <span data-ttu-id="38227-231">[アプリケーションの追加] でエイリアスの **OLAP** を入力します。</span><span class="sxs-lookup"><span data-stu-id="38227-231">In Add Application, enter **OLAP** for the alias.</span></span> <span data-ttu-id="38227-232">[ **選択** ] をクリックして、OLAP アプリケーション プールを選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-232">Click **Select** to choose the OLAP application pool.</span></span> <span data-ttu-id="38227-233">C:\inetpub\wwwroot\OLAP に物理パスを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-233">Physical Path should be set to C:\inetpub\wwwroot\OLAP</span></span>  
  
     <span data-ttu-id="38227-234">![[アプリケーションの追加] ダイアログ ボックス](../media/ssas-httpaccess-convertedapp.png "[アプリケーションの追加] ダイアログ ボックス")</span><span class="sxs-lookup"><span data-stu-id="38227-234">![Add Application dialog box](../media/ssas-httpaccess-convertedapp.png "Add Application dialog box")</span></span>  
  
4.  <span data-ttu-id="38227-235">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-235">Click **OK**.</span></span> <span data-ttu-id="38227-236">Web サイトを更新し、OLAP フォルダーが既定の Web サイトでアプリケーションになっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="38227-236">Refresh the web site and notice that the OLAP folder is now an application under the default web site.</span></span> <span data-ttu-id="38227-237">これで、MSMDPUMP ファイルへの仮想パスが確立されました。</span><span class="sxs-lookup"><span data-stu-id="38227-237">The virtual path to the MSMDPUMP file is now established.</span></span>  
  
     <span data-ttu-id="38227-238">![アプリ変換後の OLAP フォルダー](../media/ssas-httpaccess-convertfolderafter.png "アプリ変換後の OLAP フォルダー")</span><span class="sxs-lookup"><span data-stu-id="38227-238">![OLAP folder after app conversion](../media/ssas-httpaccess-convertfolderafter.png "OLAP folder after app conversion")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="38227-239">以前のバージョンのこれらの手順には、仮想ディレクトリを作成する手順が含まれていました。</span><span class="sxs-lookup"><span data-stu-id="38227-239">Previous versions of these instructions included steps for creating a virtual directory.</span></span> <span data-ttu-id="38227-240">その手順は必要なくなりました。</span><span class="sxs-lookup"><span data-stu-id="38227-240">That step is no longer necessary.</span></span>  
  
##  <a name="step-3-configure-iis-authentication-and-add-the-extension"></a><a name="bkmk_auth"></a> <span data-ttu-id="38227-241">手順 3: IIS 認証を構成し、拡張機能を追加する</span><span class="sxs-lookup"><span data-stu-id="38227-241">Step 3: Configure IIS authentication and add the extension</span></span>  
 <span data-ttu-id="38227-242">この手順では、作成した SSAS 仮想ディレクトリの詳細を進めます。</span><span class="sxs-lookup"><span data-stu-id="38227-242">In this step, you further configure the SSAS virtual directory you just created.</span></span> <span data-ttu-id="38227-243">認証方法を指定してから、スクリプト マップを追加します。</span><span class="sxs-lookup"><span data-stu-id="38227-243">You will specify an authentication method and then add a script map.</span></span> <span data-ttu-id="38227-244">HTTP を使用した Analysis Services でサポートされている認証方法は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="38227-244">Supported authentication methods for Analysis Services over HTTP include:</span></span>  
  
-   <span data-ttu-id="38227-245">Windows 認証 (Kerberos または NTLM)</span><span class="sxs-lookup"><span data-stu-id="38227-245">Windows authentication (Kerberos or NTLM)</span></span>  
  
-   <span data-ttu-id="38227-246">基本認証</span><span class="sxs-lookup"><span data-stu-id="38227-246">Basic authentication</span></span>  
  
-   <span data-ttu-id="38227-247">匿名認証</span><span class="sxs-lookup"><span data-stu-id="38227-247">Anonymous authentication</span></span>  
  
 <span data-ttu-id="38227-248">**Windows 認証** は最も安全性が高いと考えられ、Active Directory を使用するネットワークの既存インフラストラクチャを活用できます。</span><span class="sxs-lookup"><span data-stu-id="38227-248">**Windows authentication** is considered the most secure, and leverages existing infrastructure for networks that use Active Directory.</span></span> <span data-ttu-id="38227-249">Windows 認証を効果的に使用するには、すべてのブラウザー、クライアント アプリケーション、およびサーバー アプリケーションが Windows 認証をサポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-249">To use Windows authentication effectively, all browsers, client applications, and server applications must support it.</span></span> <span data-ttu-id="38227-250">これは最も安全性が高く推奨されるモードですが、接続を要求しているユーザーの ID を認証できる Windows ドメイン コントローラーに IIS がアクセスできる必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-250">This is the most secure and recommended mode, but it requires that IIS be able to access a Windows domain controller that can authenticate the identity of the user requesting a connection.</span></span>  
  
 <span data-ttu-id="38227-251">Analysis Services と IIS が別々のコンピューターに配置されているトポロジの場合、ユーザー ID をリモート コンピューターの 2 番目のサービスに委任するために、一般的には Analysis Services で Kerberos 制約付き委任を有効にしますが、その際に発生するダブルホップ問題を解決する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-251">For topologies that put Analysis Services and IIS on different computers, you will need to address double-hop issues that arise when a user identity needs to be delegated to a second service on a remote machine, typically by enabling Analysis Services for Kerberos constrained delegation.</span></span> <span data-ttu-id="38227-252">詳細については、「 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-252">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>  
  
 <span data-ttu-id="38227-253">**基本認証** は、Windows ID があるものの、ユーザーが信頼されないドメインから接続しており、委任や借用による接続の使用を禁止する場合に使用されます。</span><span class="sxs-lookup"><span data-stu-id="38227-253">**Basic authentication** is used when you have Windows identities, but user connections are from non-trusted domains, prohibiting the use of delegated or impersonated connections.</span></span> <span data-ttu-id="38227-254">基本認証では、接続文字列でユーザー ID とパスワードを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="38227-254">Basic authentication lets you specify a user identity and password on a connection string.</span></span> <span data-ttu-id="38227-255">現在のユーザーのセキュリティ コンテキストを使用せず、接続文字列の資格情報を使用して、Analysis Services に接続します。</span><span class="sxs-lookup"><span data-stu-id="38227-255">Instead of using the security context of the current user, credentials on the connection string are used to connect to Analysis Services.</span></span> <span data-ttu-id="38227-256">Analysis Services サービスでは Windows 認証のみがサポートされるため、Analysis Services サービスに渡される資格情報はすべて、Analysis Services がホストされているドメインのメンバーである Windows ユーザーまたは Windows グループであることが必要です。</span><span class="sxs-lookup"><span data-stu-id="38227-256">Because Analysis Services supports only Windows authentication, any credentials passed to it must be a Windows user or group that is a member of the domain in which Analysis Services is hosted.</span></span>  
  
 <span data-ttu-id="38227-257">**匿名認証** は、構成が容易で Analysis Services への HTTP 接続を短時間に検証できることから、初期テストによく使用されます。</span><span class="sxs-lookup"><span data-stu-id="38227-257">**Anonymous authentication** is often used during initial testing because its ease of configuration helps you to quickly validate HTTP connectivity to Analysis Services.</span></span> <span data-ttu-id="38227-258">わずか数回の操作で、一意のユーザー アカウントを ID として割り当て、そのアカウントに Analysis Services の権限を付与し、そのアカウントを使用してクライアント アプリケーション内のデータ アクセスを検証した後、テストの完了時に匿名認証を無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="38227-258">In just a few steps, you can assign a unique user account as the identity, grant that account permissions in Analysis Services, use the account to verify data access in a client application, and then disable Anonymous authentication when testing is complete.</span></span>  
  
 <span data-ttu-id="38227-259">運用環境でユーザーが Windows ユーザー アカウントを持っていない場合でも匿名認証を使用することができますが、「 [匿名認証を有効にする (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx)」の記事で示されているベスト プラクティスに従って、ホスト システムに対する権限をロックしてください。</span><span class="sxs-lookup"><span data-stu-id="38227-259">You can also use Anonymous authentication in a production environment if your users do not have Windows user accounts, but follow best practices by locking down permissions on the host system, as called out in this article: [Enable Anonymous Authentication (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span></span> <span data-ttu-id="38227-260">認証は仮想ディレクトリに対して設定し、親 Web サイトには設定しないでください。アカウント アクセスのレベルをさらに下げるためです。</span><span class="sxs-lookup"><span data-stu-id="38227-260">Be sure that authentication is set on the virtual directory, and not on the parent web site, to further reduce the level of account access.</span></span>  
  
 <span data-ttu-id="38227-261">匿名認証を有効にした場合、HTTP エンドポイントに接続するすべてのユーザーが匿名ユーザーとして接続できるようになります。</span><span class="sxs-lookup"><span data-stu-id="38227-261">When Anonymous is enabled, any user connection to the HTTP endpoint is allowed to connect as the anonymous user.</span></span> <span data-ttu-id="38227-262">個々のユーザー接続を監査したり、ユーザー id を使用してモデルのデータを選択したりすることはできません。</span><span class="sxs-lookup"><span data-stu-id="38227-262">You won't be able to audit individual user connections, nor use the user identity to select data from a model.</span></span> <span data-ttu-id="38227-263">このように、匿名認証を使用すると、モデル デザインからデータ更新、データ アクセスに至るまで、広範囲に影響が及びます。</span><span class="sxs-lookup"><span data-stu-id="38227-263">As you can see, using Anonymous impacts everything from model design, to data refresh and access.</span></span> <span data-ttu-id="38227-264">ただし、ユーザーにまだ Windows ユーザー ログインがない状況では、匿名アカウントを使用せざるを得ない場合があります。</span><span class="sxs-lookup"><span data-stu-id="38227-264">However, if users do not have a Windows user login to start with, using the Anonymous account might be your only option.</span></span>  
  
#### <a name="set-the-authentication-type-and-add-a-script-map"></a><span data-ttu-id="38227-265">認証の種類の設定とスクリプト マップの追加</span><span class="sxs-lookup"><span data-stu-id="38227-265">Set the authentication type and add a script map</span></span>  
  
1.  <span data-ttu-id="38227-266">IIS マネージャーで、 **[サイト]** を開き、 **[既定の Web サイト]** を開いて、 **OLAP** 仮想ディレクトリを選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-266">In IIS Manager, open **Sites**, open **Default Web Site**, and then select the **OLAP** virtual directory.</span></span>  
  
2.  <span data-ttu-id="38227-267">メイン ページの [IIS] セクションで、 **[認証]** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-267">Double-click **Authentication** in the IIS section of the main page.</span></span>  
  
     <span data-ttu-id="38227-268">![IIS マネージャー メイン ページのスクリーンショット](../media/ssas-httpaccess-iis.png "IIS マネージャー メイン ページのスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-268">![Screenshot of IIS Manager main page](../media/ssas-httpaccess-iis.png "Screenshot of IIS Manager main page")</span></span>  
  
3.  <span data-ttu-id="38227-269">Windows 統合セキュリティを使用している場合は、 **[Windows 認証]** を有効にします。</span><span class="sxs-lookup"><span data-stu-id="38227-269">Enable **Windows Authentication** if you are using Windows integrated security.</span></span>  
  
     <span data-ttu-id="38227-270">![Vdir 認証設定のスクリーンショット](../media/ssas-httpaccess-iisauth.png "Vdir 認証設定のスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-270">![Screenshot of Vdir Authentication settings](../media/ssas-httpaccess-iisauth.png "Screenshot of Vdir Authentication settings")</span></span>  
  
4.  <span data-ttu-id="38227-271">または、クライアント アプリケーションとサーバー アプリケーションが異なるドメインにある場合、 **[基本認証]** を有効にします。</span><span class="sxs-lookup"><span data-stu-id="38227-271">Alternatively, enable **Basic Authentication** if your client and server applications are in different domains.</span></span> <span data-ttu-id="38227-272">このモードでは、ユーザーがユーザー名とパスワードを入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-272">This mode requires the user to enter a user name and password.</span></span> <span data-ttu-id="38227-273">ユーザー名とパスワードは HTTP 接続経由で IIS に送信されます。</span><span class="sxs-lookup"><span data-stu-id="38227-273">The user name and password are transmitted over the HTTP connection to IIS.</span></span> <span data-ttu-id="38227-274">IIS は MSMDPUMP に接続するときに、指定された資格情報を使用してユーザーの権限を借用しようとしますが、その資格情報は Analysis Services に委任されません。</span><span class="sxs-lookup"><span data-stu-id="38227-274">IIS will try to impersonate the user using the provided credentials when connecting to MSMDPUMP, but the credentials will not be delegated to Analysis Services.</span></span> <span data-ttu-id="38227-275">代わりに、このドキュメントの手順 6. で説明するように、接続の有効なユーザー名とパスワードを渡す必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-275">Instead, you will need to pass a valid user name and password on a connection, as described in Step 6 in this document.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="38227-276">パスワードを送信するシステムを構築する場合は、通信チャネルをセキュリティで保護する手段が必要不可欠であることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="38227-276">Please note that it is imperative for anyone building a system where the password is transmitted to have ways of securing the communication channel.</span></span> <span data-ttu-id="38227-277">IIS には、チャネルをセキュリティで保護できる一連のツールが用意されています。</span><span class="sxs-lookup"><span data-stu-id="38227-277">IIS provides a set of tools that help you secure the channel.</span></span> <span data-ttu-id="38227-278">詳細については、「 [IIS 7 で SSL を設定する方法](https://go.microsoft.com/fwlink/?LinkId=207562)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-278">For more information, see [How to Set Up SSL on IIS 7](https://go.microsoft.com/fwlink/?LinkId=207562).</span></span>  
  
5.  <span data-ttu-id="38227-279">Windows 認証または基本認証を使用する場合は、 **匿名認証** を無効にします。</span><span class="sxs-lookup"><span data-stu-id="38227-279">Disable **Anonymous Authentication** if you are using Windows or Basic authentication.</span></span> <span data-ttu-id="38227-280">匿名認証が有効な場合、他の認証方法が有効になっていても、IIS はこの認証方法を最初に使用します。</span><span class="sxs-lookup"><span data-stu-id="38227-280">When Anonymous authentication is enabled, IIS will always use it first, even if other authentication methods are enabled.</span></span>  
  
     <span data-ttu-id="38227-281">匿名認証では、匿名ユーザーに対して確立したユーザー アカウントとしてポンプ (msmdpump.dll) が実行されます。</span><span class="sxs-lookup"><span data-stu-id="38227-281">Under Anonymous authentication, the pump (msmdpump.dll) runs as the user account you established for anonymous user.</span></span> <span data-ttu-id="38227-282">IIS に接続しているユーザーと Analysis Services に接続しているユーザーは区別されません。</span><span class="sxs-lookup"><span data-stu-id="38227-282">There is no distinction between the user connecting to IIS and the user connecting to Analysis Services.</span></span> <span data-ttu-id="38227-283">既定では、IIS は IUSR アカウントを使用しますが、ネットワークの権限を持つドメイン ユーザー アカウントに変更することもできます。</span><span class="sxs-lookup"><span data-stu-id="38227-283">By default, IIS uses the IUSR account, but you can change it to a domain user account that has network permissions.</span></span> <span data-ttu-id="38227-284">IIS と Analysis Services が異なるコンピューター上にある場合は、この機能が必要になります。</span><span class="sxs-lookup"><span data-stu-id="38227-284">You'll need this capability if IIS and Analysis Services are on different computers.</span></span>  
  
     <span data-ttu-id="38227-285">匿名認証用に資格情報を構成する方法については、「 [匿名認証](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-285">For instructions on how to configure credentials for Anonymous authentication, see [Anonymous Authentication](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="38227-286">通常、匿名認証は、ファイル システムのアクセス制御リストによってユーザーのアクセスが許可または拒否される、厳密に制御された環境で使用されます。</span><span class="sxs-lookup"><span data-stu-id="38227-286">Anonymous authentication is most likely found in an extremely controlled environment, where users are given or denied access by way of access control lists in the file system.</span></span> <span data-ttu-id="38227-287">ベスト プラクティスについては、「 [匿名認証 (IIS 7) を有効にする](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-287">For best practices, see [Enable Anonymous Authentication (IIS 7)](https://technet.microsoft.com/library/cc731244\(v=ws.10\).aspx).</span></span>  
  
6.  <span data-ttu-id="38227-288">**OLAP** 仮想ディレクトリをクリックして、メイン ページを開きます。</span><span class="sxs-lookup"><span data-stu-id="38227-288">Click the **OLAP** virtual directory to open the main page.</span></span> <span data-ttu-id="38227-289">**[ハンドラー マッピング]** をダブルクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-289">Double-click **Handler Mappings**.</span></span>  
  
     <span data-ttu-id="38227-290">![機能ページのハンドラー マッピング アイコン](../media/ssas-httpaccess-handlermapping.png "機能ページのハンドラー マッピング アイコン")</span><span class="sxs-lookup"><span data-stu-id="38227-290">![Handler mapping icon in feature page](../media/ssas-httpaccess-handlermapping.png "Handler mapping icon in feature page")</span></span>  
  
7.  <span data-ttu-id="38227-291">ページ上の任意の場所を右クリックし、 **[スクリプト マップの追加]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-291">Right-click anywhere on the page and then select **Add Script Map**.</span></span> <span data-ttu-id="38227-292">[スクリプトマップの追加] ダイアログボックスで、要求パスとして\*\* \* .dll\*\*を指定し、実行可能ファイルとして c:\inetpub\wwwroot\OLAP\msmdpump.dll を指定して、名前として「 **OLAP** 」と入力します。</span><span class="sxs-lookup"><span data-stu-id="38227-292">In the Add Script Map dialog box, specify **\*.dll** as the request path, specify c:\inetpub\wwwroot\OLAP\msmdpump.dll as the executable, and type **OLAP** as the name.</span></span> <span data-ttu-id="38227-293">このスクリプト マップに関連付けられている既定のすべての制限を維持します。</span><span class="sxs-lookup"><span data-stu-id="38227-293">Keep all of the default restrictions associated with this script map.</span></span>  
  
     <span data-ttu-id="38227-294">![[スクリプト マップの追加] ダイアログ ボックスのスクリーンショット](../media/ssas-httpaccess-addscript.png "[スクリプト マップの追加] ダイアログ ボックスのスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-294">![Screenshot of Add Script Map dialog box](../media/ssas-httpaccess-addscript.png "Screenshot of Add Script Map dialog box")</span></span>  
  
8.  <span data-ttu-id="38227-295">ISAPI 拡張機能を許可するように求めるメッセージが表示されたら、 **[はい]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="38227-295">When prompted to allow the ISAPI extension, click **Yes**.</span></span>  
  
     <span data-ttu-id="38227-296">![ISAPI 拡張機能追加の確認のスクリーンショット](../media/ssas-httpaccess-isapiprompt.png "ISAPI 拡張機能追加の確認のスクリーンショット")</span><span class="sxs-lookup"><span data-stu-id="38227-296">![Screenshot of confirmation to add ISAPI extension](../media/ssas-httpaccess-isapiprompt.png "Screenshot of confirmation to add ISAPI extension")</span></span>  
  
##  <a name="step-4-edit-the-msmdpumpini-file-to-set-the-target-server"></a><a name="bkmk_edit"></a> <span data-ttu-id="38227-297">手順 4: MSMDPUMP.INI ファイルを編集してターゲット サーバーを設定する</span><span class="sxs-lookup"><span data-stu-id="38227-297">Step 4: Edit the MSMDPUMP.INI file to set the target server</span></span>  
 <span data-ttu-id="38227-298">MSMDPUMP.INI ファイルを使用して、MSMDPUMP.DLL が接続する Analysis Services インスタンスを指定します。</span><span class="sxs-lookup"><span data-stu-id="38227-298">The MSMDPUMP.INI file specifies the Analysis Services instance that MSMDPUMP.DLL connects to.</span></span> <span data-ttu-id="38227-299">これには、ローカルまたはリモートの、既定のインスタンスまたは名前付きのインスタンスとしてインストールされているインスタンスを指定できます。</span><span class="sxs-lookup"><span data-stu-id="38227-299">This instance can be local or remote, installed as the default or as a named instance.</span></span>  
  
 <span data-ttu-id="38227-300">C:\inetpub\wwwroot\OLAP フォルダーにある msmdpump.ini ファイルを開いて、このファイルの内容を確認します。</span><span class="sxs-lookup"><span data-stu-id="38227-300">Open the msmdpump.ini file located in folder C:\inetpub\wwwroot\OLAP and take a look at the contents of this file.</span></span> <span data-ttu-id="38227-301">つまり、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="38227-301">It should look like the following:</span></span>  
  
```  
<ConfigurationSettings>  
<ServerName>localhost</ServerName>  
<SessionTimeout>3600</SessionTimeout>  
<ConnectionPoolSize>100</ConnectionPoolSize>  
</ConfigurationSettings>  
  
```  
  
 <span data-ttu-id="38227-302">HTTP アクセスを構成している Analysis Services インスタンスがローカル コンピューター上にあり、既定のインスタンスとしてインストールされている場合は、この設定を変更する理由はありません。</span><span class="sxs-lookup"><span data-stu-id="38227-302">If the Analysis Services instance for which you are configuring HTTP access is located on the local computer and installed as a default instance, there is no reason to change this setting.</span></span> <span data-ttu-id="38227-303">それ以外の場合は、サーバー名を指定する必要があります (例 \<ServerName> : adwrks-SRV01 \</ServerName> )。</span><span class="sxs-lookup"><span data-stu-id="38227-303">Otherwise, you must specify the server name (for example, \<ServerName>ADWRKS-SRV01\</ServerName>).</span></span> <span data-ttu-id="38227-304">名前付きインスタンスとしてインストールされているサーバーの場合は、必ずインスタンス名を追加してください (たとえば、 \<ServerName> ADWRKS-SRV01\Tabular \</ServerName> )。</span><span class="sxs-lookup"><span data-stu-id="38227-304">For a server that is installed as a named instance, be sure to append the instance name (for example, \<ServerName>ADWRKS-SRV01\Tabular\</ServerName>).</span></span>  
  
 <span data-ttu-id="38227-305">Analysis Services の既定のインスタンスは TCP/IP ポート 2383 をリッスンします。</span><span class="sxs-lookup"><span data-stu-id="38227-305">By default, Analysis Services listens on TCP/IP port 2383.</span></span> <span data-ttu-id="38227-306">Analysis Services を既定のインスタンスとしてインストールした場合、 \<ServerName> Analysis Services ポート2383で自動的にリッスンする方法が認識されるため、でポートを指定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="38227-306">If you installed Analysis Services as the default instance, you do not need to specify any port in \<ServerName> because Analysis Services knows how to listen on port 2383 automatically.</span></span> <span data-ttu-id="38227-307">ただし、Windows ファイアウォールでそのポートへの着信接続を許可する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-307">However, you do need to allow inbound connections to that port in Windows Firewall.</span></span> <span data-ttu-id="38227-308">詳細については、「 [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="38227-308">For more information, see [Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
 <span data-ttu-id="38227-309">固定ポートでリッスンする Analysis Services の名前付きインスタンスまたは既定のインスタンスを構成した場合は、ポート番号をサーバー名 (たとえば、 \<ServerName> AW-SRV01: 55555) に追加 \</ServerName> し、Windows ファイアウォールでそのポートへの着信接続を許可する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-309">If you configured a named or default instance of Analysis Services to listen on a fixed port, you must add the port number to the server name (for example, \<ServerName>AW-SRV01:55555\</ServerName>) and you must allow inbound connections in Windows Firewall to that port.</span></span>  
  
## <a name="step-5-grant-data-access-permissions"></a><span data-ttu-id="38227-310">手順 5: データ アクセス権限を付与する</span><span class="sxs-lookup"><span data-stu-id="38227-310">Step 5: Grant data access permissions</span></span>  
 <span data-ttu-id="38227-311">前に説明したように、Analysis Services インスタンスの権限を付与する必要があります。</span><span class="sxs-lookup"><span data-stu-id="38227-311">As previously noted, you will need to grant permissions on the Analysis Services instance.</span></span> <span data-ttu-id="38227-312">各データベース オブジェクトには特定レベルの権限 (読み取り、または読み取り/書き込み) を付与するロールがあり、各ロールに Windows ユーザー ID で構成されるメンバーが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="38227-312">Each database object will have roles that provide a given level of permissions (read or read/write), and each role will have members consisting of Windows user identities.</span></span>  
  
 <span data-ttu-id="38227-313">権限を設定するには、SQL Server Management Studio を使用します。</span><span class="sxs-lookup"><span data-stu-id="38227-313">To set permissions, you can use SQL Server Management Studio.</span></span> <span data-ttu-id="38227-314">[**データベース**  |  **ロール**] フォルダーでは、ロールの作成、データベースのアクセス許可の指定、Windows ユーザーアカウントまたはグループアカウントへのメンバーシップの割り当て、特定のオブジェクトに対する読み取り権限または書き込み権限の付与を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="38227-314">Under the **Database** | **Roles** folder, you can create roles, specify database permissions, assign membership to Windows user or group accounts, and then grant read or write permissions on specific objects.</span></span> <span data-ttu-id="38227-315">モデル データを使用するが更新しないクライアント接続の場合、一般的には、キューブに対する権限は **"読み取り"** で十分です。</span><span class="sxs-lookup"><span data-stu-id="38227-315">Typically, **Read** permissions on a cube are sufficient for client connections that use, but do not update, model data.</span></span>  
  
 <span data-ttu-id="38227-316">ロールの割り当ては、認証の構成方法によって変わります。</span><span class="sxs-lookup"><span data-stu-id="38227-316">Role assignment varies depending on how you configured authentication.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="38227-317">匿名</span><span class="sxs-lookup"><span data-stu-id="38227-317">Anonymous</span></span>|<span data-ttu-id="38227-318">IIS の **[匿名認証資格情報の編集]** で指定されたアカウントをメンバーシップ一覧に追加します。</span><span class="sxs-lookup"><span data-stu-id="38227-318">Add to the Membership list the account specified in **Edit Anonymous Authentication Credentials** in IIS.</span></span> <span data-ttu-id="38227-319">詳細については、「 [匿名認証](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-319">For more information, see [Anonymous Authentication](http://www.iis.net/configreference/system.webserver/security/authentication/anonymousauthentication),</span></span>|  
|<span data-ttu-id="38227-320">[Windows 認証]</span><span class="sxs-lookup"><span data-stu-id="38227-320">Windows authentication</span></span>|<span data-ttu-id="38227-321">借用または委任によって Analysis Services データを要求する Windows ユーザー アカウントまたはグループ アカウントをメンバーシップ一覧に追加します。</span><span class="sxs-lookup"><span data-stu-id="38227-321">Add to the Membership list the Windows user or group accounts requesting Analysis Services data via impersonation or delegation.</span></span><br /><br /> <span data-ttu-id="38227-322">Kerberos の制約付き委任を使用し、権限が必要なアカウントは、アクセスを要求する Windows ユーザー アカウントとグループ アカウントのみであることを想定しています。</span><span class="sxs-lookup"><span data-stu-id="38227-322">Assuming Kerberos constrained delegation is used, the only accounts that need permissions are the Windows user and group accounts requesting access.</span></span> <span data-ttu-id="38227-323">アプリケーション プール ID のために必要な権限はありません。</span><span class="sxs-lookup"><span data-stu-id="38227-323">No permissions are necessary for the application pool identity.</span></span>|  
|<span data-ttu-id="38227-324">基本認証</span><span class="sxs-lookup"><span data-stu-id="38227-324">Basic authentication</span></span>|<span data-ttu-id="38227-325">接続文字列で渡される Windows ユーザー アカウントまたはグループ アカウントをメンバーシップ一覧に追加します。</span><span class="sxs-lookup"><span data-stu-id="38227-325">Add to the Membership list the Windows user or group accounts that will be passed on the connection string.</span></span><br /><br /> <span data-ttu-id="38227-326">また、接続文字列で `EffectiveUserName` を使用して資格情報を渡している場合、アプリケーション プール ID には、Analysis Services インスタンスでの管理者権限が必要になります。</span><span class="sxs-lookup"><span data-stu-id="38227-326">In addition, if you are passing credentials via `EffectiveUserName` on the connection string, then the application pool identity must have administrator rights on the Analysis Services instance.</span></span> <span data-ttu-id="38227-327">SSMS**で &#124; の**インスタンスを右クリックし、[**セキュリティ**&#124;**追加**] &#124; ます。</span><span class="sxs-lookup"><span data-stu-id="38227-327">In SSMS, right-click the instance &#124; **Properties** &#124; **Security** &#124; **Add**.</span></span> <span data-ttu-id="38227-328">アプリケーション プール ID を入力します。</span><span class="sxs-lookup"><span data-stu-id="38227-328">Enter the application pool identity.</span></span> <span data-ttu-id="38227-329">組み込みの既定の id を使用した場合、アカウントは**IIS AppPool\DefaultAppPool**として指定されます。</span><span class="sxs-lookup"><span data-stu-id="38227-329">If you used the built-in default identity, the account is specified as **IIS AppPool\DefaultAppPool**.</span></span><br /><br /> ![](../media/ssas-httpaccess-iisapppoolidentity.png)|  
  
 <span data-ttu-id="38227-330">アクセス許可の設定の詳細については、「 [オブジェクトと操作へのアクセスの承認 &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-330">For more information about setting permissions, see [Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span></span>  
  
##  <a name="step-6-test-your-configuration"></a><a name="bkmk_test"></a> <span data-ttu-id="38227-331">手順 6: 構成をテストする</span><span class="sxs-lookup"><span data-stu-id="38227-331">Step 6: Test your configuration</span></span>  
 <span data-ttu-id="38227-332">MSMDPUMP の接続文字列構文は、MSMDPUMP.dll ファイルへの URL です。</span><span class="sxs-lookup"><span data-stu-id="38227-332">The connection string syntax for MSMDPUMP is the URL to the MSMDPUMP.dll file.</span></span>  
  
 <span data-ttu-id="38227-333">Web アプリケーションが固定ポートでリッスンしている場合は、ポート番号をサーバー名または IP アドレス (やなど) に追加し `http://my-web-srv01:8080/OLAP/msmdpump.dll` `http://123.456.789.012:8080/OLAP/msmdpump.dll` ます。</span><span class="sxs-lookup"><span data-stu-id="38227-333">If the web application is listening on a fixed port, append the port number to the server name or IP address, for example, `http://my-web-srv01:8080/OLAP/msmdpump.dll` or `http://123.456.789.012:8080/OLAP/msmdpump.dll`.</span></span>  
  
 <span data-ttu-id="38227-334">接続をすばやくテストするために、Microsoft Excel または SQL Server Management Studio を使用して接続を開くことができます。</span><span class="sxs-lookup"><span data-stu-id="38227-334">To quickly test the connection, you can open a connection using Microsoft Excel or SQL Server Management Studio</span></span>  
  
 <span data-ttu-id="38227-335">**SQL Server Management Studio を使用した接続テスト**</span><span class="sxs-lookup"><span data-stu-id="38227-335">**Test connections using SQL Server Management Studio**</span></span>  
  
1.  <span data-ttu-id="38227-336">Management Studio の [サーバーへの接続] ダイアログ ボックスで、サーバーの種類として **[Analysis Services]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-336">In Management Studio, in the Connect to Server dialog box, select **Analysis Services** as the server type.</span></span> <span data-ttu-id="38227-337">[サーバー名] に、msmdpump 拡張機能の HTTP アドレス ( `http://my-web-srv01/OLAP/msmdpump.dll`) を入力します。</span><span class="sxs-lookup"><span data-stu-id="38227-337">In Server name, enter the HTTP address of the msmdpump extension: `http://my-web-srv01/OLAP/msmdpump.dll`.</span></span>  
  
     <span data-ttu-id="38227-338">オブジェクト エクスプ ローラーには、次の HTTP 接続が表示されます:</span><span class="sxs-lookup"><span data-stu-id="38227-338">Object Explorer displays the HTTP connection:</span></span>  
  
     <span data-ttu-id="38227-339">![SSAS への http 接続を示したオブジェクト エクスプ ローラー](../media/ssas-httpaccess-ssms.PNG "SSAS への http 接続を示したオブジェクト エクスプ ローラー")</span><span class="sxs-lookup"><span data-stu-id="38227-339">![Object Explorer showing http connection to SSAS](../media/ssas-httpaccess-ssms.PNG "Object Explorer showing http connection to SSAS")</span></span>  
  
2.  <span data-ttu-id="38227-340">認証には Windows 認証を使用し、Management Studio を使用するユーザーが Analysis Services 管理者であることが必要です。</span><span class="sxs-lookup"><span data-stu-id="38227-340">Authentication must be Windows authentication, and the person using Management Studio must be an Analysis Services administrator.</span></span> <span data-ttu-id="38227-341">管理者は、さらに権限を付与して、他のユーザーがアクセスできるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="38227-341">An administrator can grant further permissions to enable access by other users.</span></span>  
  
 <span data-ttu-id="38227-342">**Excel を使用した接続テスト**</span><span class="sxs-lookup"><span data-stu-id="38227-342">**Test connections using Excel**</span></span>  
  
1.  <span data-ttu-id="38227-343">Excel の [データ] タブの [外部データの取り込み] で、 **[その他のデータ ソース]**、 **[Analysis Services]** の順にクリックして、データ接続ウィザードを起動します。</span><span class="sxs-lookup"><span data-stu-id="38227-343">On the Data tab in Excel, in Get External Data, click **From Other Sources**, and then choose **From Analysis Services** to start the Data Connection wizard.</span></span>  
  
2.  <span data-ttu-id="38227-344">[サーバー名] に、msmdpump 拡張機能の HTTP アドレス ( `http://my-web-srv01/OLAP/msmdpump.dll`) を入力します。</span><span class="sxs-lookup"><span data-stu-id="38227-344">In Server name, enter the HTTP address of the msmdpump extension: `http://my-web-srv01/OLAP/msmdpump.dll`.</span></span>  
  
3.  <span data-ttu-id="38227-345">ログオン資格情報については、Windows 統合セキュリティ、NTLM、または匿名ユーザーを使用する場合は **[Windows 認証を使用する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="38227-345">For Log on credentials, choose **Use Windows Authentication** if you are using Windows integrated security or NTLM, or Anonymous user.</span></span>  
  
     <span data-ttu-id="38227-346">基本認証の場合は、 **[以下のユーザー名とパスワードを使用する]** を選択し、サインオンに使用する資格情報を指定します。</span><span class="sxs-lookup"><span data-stu-id="38227-346">For Basic authentication, choose **Use the following User Name and Password**, and then specify the credentials used to sign on.</span></span> <span data-ttu-id="38227-347">指定した資格情報が接続文字列として Analysis Services に渡されます。</span><span class="sxs-lookup"><span data-stu-id="38227-347">The credentials you provide will be passed on the connection string to Analysis Services.</span></span>  
  
 <span data-ttu-id="38227-348">**AMO を使用した接続テスト**</span><span class="sxs-lookup"><span data-stu-id="38227-348">**Test connections using AMO**</span></span>  
  
 <span data-ttu-id="38227-349">AMO を使用したプログラムによる HTTP アクセスをテストできます。それには、サーバー名の代わりにエンドポイントの URL を使用します。</span><span class="sxs-lookup"><span data-stu-id="38227-349">You can test HTTP access programmatically using AMO, substituting the URL of the endpoint for the server name.</span></span> <span data-ttu-id="38227-350">詳細については、 [フォーラムの投稿 (ドメイン/フォレストとファイアウォールの境界を越えて HTTPS で SSAS 2008 R2 データベースを同期する方法)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/c4249d55-914d-4c81-9980-44d0b8df9c3e)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-350">For details, see [Forum Post (How to sync SSAS 2008 R2 databases via HTTPS across domain/forest and firewall boundaries)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/c4249d55-914d-4c81-9980-44d0b8df9c3e).</span></span>  
  
 <span data-ttu-id="38227-351">次の接続文字列の例では、基本認証を使用した HTTP(S) アクセスに使用する構文を示しています。</span><span class="sxs-lookup"><span data-stu-id="38227-351">An example connection string illustrating the syntax for HTTP(S) access using Basic authentication:</span></span>  
  
 `Data Source=https://<servername>/olap/msmdpump.dll; Initial Catalog=AdventureWorksDW2012; Integrated Security=Basic; User ID=XXXX; Password=XXXXX;`  
  
 <span data-ttu-id="38227-352">プログラムからの接続の設定の詳細については、「 [Establishing Secure Connections in ADOMD.NET](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-client/connections-in-adomd-net-establishing-secure-connections)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="38227-352">For more information about setting up the connection programmatically, see [Establishing Secure Connections in ADOMD.NET](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-client/connections-in-adomd-net-establishing-secure-connections).</span></span>  
  
 <span data-ttu-id="38227-353">最後に、接続が開始されるネットワーク環境内で実行されているクライアント コンピューターを使用して、より厳密な事後テストを必ず実行するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="38227-353">As a final step, be sure to follow-up with more rigorous testing by using a client computer that runs in the network environment from which the connections will originate.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="38227-354">参照</span><span class="sxs-lookup"><span data-stu-id="38227-354">See Also</span></span>  
 <span data-ttu-id="38227-355">[フォーラムの投稿 (msmdpump と基本認証を使用した http アクセス)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/79d2f225-df35-46da-aa22-d06e98f7d658) </span><span class="sxs-lookup"><span data-stu-id="38227-355">[Forum post (http access using msmdpump and basic authentication)](https://social.msdn.microsoft.com/Forums/en/sqlanalysisservices/thread/79d2f225-df35-46da-aa22-d06e98f7d658) </span></span>  
 <span data-ttu-id="38227-356">[Analysis Services アクセスを許可するように Windows ファイアウォールを構成する](configure-the-windows-firewall-to-allow-analysis-services-access.md) </span><span class="sxs-lookup"><span data-stu-id="38227-356">[Configure the Windows Firewall to Allow Analysis Services Access](configure-the-windows-firewall-to-allow-analysis-services-access.md) </span></span>  
 <span data-ttu-id="38227-357">[オブジェクトと操作へのアクセスの承認 &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="38227-357">[Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md) </span></span>  
 <span data-ttu-id="38227-358">[IIS の認証方法](https://go.microsoft.com/fwlink/?LinkdID=208461) </span><span class="sxs-lookup"><span data-stu-id="38227-358">[IIS Authentication Methods](https://go.microsoft.com/fwlink/?LinkdID=208461) </span></span>  
 [<span data-ttu-id="38227-359">IIS 7 で SSL を設定する方法</span><span class="sxs-lookup"><span data-stu-id="38227-359">How to Set Up SSL on IIS 7</span></span>](https://go.microsoft.com/fwlink/?LinkId=207562)  
  
