---
title: ディメンションの概要 (Analysis Services-多次元データ) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- dimensions [Analysis Services], about dimensions
- storage [Analysis Services], dimensions
- dimensions [Analysis Services], examples
- storing data [Analysis Services], dimensions
- storage [Analysis Services]
ms.assetid: ab170fdd-4144-42db-9497-690b9189fc25
author: minewiskan
ms.author: owend
ms.openlocfilehash: 8df85723676df5f9fb1475465c8f7585384013ab
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632767"
---
# <a name="introduction-to-dimensions-analysis-services---multidimensional-data"></a><span data-ttu-id="4c07b-102">ディメンションの概要 (Analysis Services - 多次元データ)</span><span class="sxs-lookup"><span data-stu-id="4c07b-102">Introduction to Dimensions (Analysis Services - Multidimensional Data)</span></span>
  <span data-ttu-id="4c07b-103">すべての Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ディメンションは、データソースビュー内のテーブルまたはビューの列に基づいた属性のグループです。</span><span class="sxs-lookup"><span data-stu-id="4c07b-103">All Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions are groups of attributes based on columns from tables or views in a data source view.</span></span> <span data-ttu-id="4c07b-104">ディメンションには、キューブとは無関係に存在するもの、複数のキューブ内で使用できるもの、および 1 つのキューブ内で複数回使用できるものがあり、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンス間でリンクできます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-104">Dimensions exist independent of a cube, can be used in multiple cubes, can be used multiple times in a single cube, and can be linked between [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].instances.</span></span> <span data-ttu-id="4c07b-105">キューブとは無関係に存在するディメンションをデータベース ディメンションといい、キューブ内のデータベース ディメンションとデータベース ディメンションのインスタンスをキューブ ディメンションといいます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-105">A dimension that exists independent of a cube is called a database dimension and an instance of a database dimension within a cube is called a cube dimension.</span></span>  
  
## <a name="dimension-based-on-a-star-schema-design"></a><span data-ttu-id="4c07b-106">スター スキーマ デザインに基づくディメンション</span><span class="sxs-lookup"><span data-stu-id="4c07b-106">Dimension based on a Star Schema Design</span></span>  
 <span data-ttu-id="4c07b-107">ディメンションの構造は、主に、基になるディメンション テーブルの構造によって決まります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-107">The structure of a dimension is largely driven by the structure of the underlying dimension table or tables.</span></span> <span data-ttu-id="4c07b-108">最も単純な構造をスター スキーマといいます。このスキーマでは、各ディメンションが、主キーと外部キーのリレーションシップによってファクト テーブルに直接リンクされている 1 つのディメンション テーブルに基づいています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-108">The simplest structure is called a star schema, where each dimension is based on a single dimension table that is directly linked to the fact table by a primary key - foreign key relationship.</span></span>  
  
 <span data-ttu-id="4c07b-109">次の図は、サンプルデータベースのサブセクションを示しています。このサブセクション [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] では、 **FactResellerSales**ファクトテーブルが**DimReseller**と**DimPromotion**の2つのディメンションテーブルに関連付けられています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-109">The following diagram illustrates a subsection of the [!INCLUDE[ssSampleDBDWobject](../../includes/sssampledbdwobject-md.md)] sample database, in which the **FactResellerSales** fact table is related to two dimension tables, **DimReseller** and **DimPromotion**.</span></span> <span data-ttu-id="4c07b-110">**FactResellerSales**ファクトテーブルの**ResellerKey**列は、 **DimReseller**ディメンションテーブルの**ResellerKey**主キー列に対する外部キーリレーションシップを定義します。</span><span class="sxs-lookup"><span data-stu-id="4c07b-110">The **ResellerKey** column in the **FactResellerSales** fact table defines a foreign key relationship to the **ResellerKey** primary key column in the **DimReseller** dimension table.</span></span> <span data-ttu-id="4c07b-111">同様に、 **FactResellerSales**ファクトテーブルの**PromotionKey**列は、 **DimPromotion**ディメンションテーブルの**PromotionKey**主キー列に対する外部キーリレーションシップを定義します。</span><span class="sxs-lookup"><span data-stu-id="4c07b-111">Similarly, the **PromotionKey** column in the **FactResellerSales** fact table defines a foreign key relationship to the **PromotionKey** primary key column in the **DimPromotion** dimension table.</span></span>  
  
 <span data-ttu-id="4c07b-112">![ファクト ディメンションのリレーションシップの論理スキーマ](../../analysis-services/dev-guide/media/dimfactrelationship.gif "ファクト ディメンションのリレーションシップの論理スキーマ")</span><span class="sxs-lookup"><span data-stu-id="4c07b-112">![Logical schema for fact dimension relationship](../../analysis-services/dev-guide/media/dimfactrelationship.gif "Logical schema for fact dimension relationship")</span></span>  
  
## <a name="dimension-based-on-a-snowflake-schema-design"></a><span data-ttu-id="4c07b-113">スノーフレーク スキーマ デザインに基づくディメンション</span><span class="sxs-lookup"><span data-stu-id="4c07b-113">Dimension based on a Snowflake Schema Design</span></span>  
 <span data-ttu-id="4c07b-114">ディメンションを定義するには複数のテーブルからの情報を必要とするため、より複雑な構造が必要になることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-114">Frequently, a more complex structure is required because information from multiple tables is required to define the dimension.</span></span> <span data-ttu-id="4c07b-115">この構造は、スノーフレーク スキーマといいます。このスキーマでは、各ディメンションが、最終的には主キーと外部キーのリレーションシップによってファクト テーブルにリンクされる、相互にリンクされた複数のテーブルの列の属性に基づいています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-115">In this structure, called a snowflake schema, each dimension is based on attributes from columns in multiple tables linked to each other and ultimately to the fact table by primary key - foreign key relationships.</span></span> <span data-ttu-id="4c07b-116">たとえば、次の図は、 **AdventureWorksDW**サンプルプロジェクトの Product ディメンションを完全に記述するために必要なテーブルを示しています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-116">For example, the following diagram illustrates the tables required to completely describe the Product dimension in the **AdventureWorksDW** sample project:</span></span>  
  
 <span data-ttu-id="4c07b-117">![AdventureWorksAS の Product ディメンション用のテーブル](../../analysis-services/dev-guide/media/dimproduct.gif "AdventureWorksAS の Product ディメンション用のテーブル")</span><span class="sxs-lookup"><span data-stu-id="4c07b-117">![Tables for AdventureWorksAS Product dimension](../../analysis-services/dev-guide/media/dimproduct.gif "Tables for AdventureWorksAS Product dimension")</span></span>  
  
 <span data-ttu-id="4c07b-118">製品を完全に記述するには、製品のカテゴリとサブカテゴリを Product ディメンションに含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-118">To completely describe a product, the product's category and subcategory must be included in the Product dimension.</span></span> <span data-ttu-id="4c07b-119">ただし、この情報は、 **DimProduct**ディメンションのメインテーブルに直接は存在しません。</span><span class="sxs-lookup"><span data-stu-id="4c07b-119">However, that information does not reside directly in the main table for the **DimProduct** dimension.</span></span> <span data-ttu-id="4c07b-120">**DimProduct**から**DimProductSubcategory**への外部キーリレーションシップにより、 **DimProductCategory**テーブルとの外部キーリレーションシップがあるため、product ディメンションの製品カテゴリとサブカテゴリの情報を含めることができます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-120">A foreign key relationship from **DimProduct** to **DimProductSubcategory**, which in turn has a foreign key relationship to the **DimProductCategory** table, makes it possible to include the information for product categories and subcategories in the Product dimension.</span></span>  
  
## <a name="snowflake-schema-versus-reference-relationship"></a><span data-ttu-id="4c07b-121">スノーフレーク スキーマと参照リレーションシップの対比</span><span class="sxs-lookup"><span data-stu-id="4c07b-121">Snowflake Schema versus Reference Relationship</span></span>  
 <span data-ttu-id="4c07b-122">状況によっては、スノーフレーク スキーマを使用して 1 つのディメンション内の属性を複数のテーブルから定義するか、2 つの異なるディメンションを定義して、そのディメンション間の参照ディメンション リレーションシップを定義するか、選択が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-122">Sometimes, you may have a choice between using a snowflake schema to define attributes in a dimension from multiple tables, or defining two separate dimensions and defining a reference dimension relationship between them.</span></span> <span data-ttu-id="4c07b-123">次の図は、このようなシナリオを示しています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-123">The following diagram illustrates such a scenario.</span></span>  
  
 <span data-ttu-id="4c07b-124">![サンプルの参照されるディメンションの論理スキーマ](../../analysis-services/dev-guide/media/dimindirect.gif "サンプルの参照されるディメンションの論理スキーマ")</span><span class="sxs-lookup"><span data-stu-id="4c07b-124">![Logical schema for sample referenced dimension](../../analysis-services/dev-guide/media/dimindirect.gif "Logical schema for sample referenced dimension")</span></span>  
  
 <span data-ttu-id="4c07b-125">上の図では、 **FactResellerSales**ファクトテーブルに、 **DimGeography**ディメンションテーブルとの外部キーリレーションシップがありません。</span><span class="sxs-lookup"><span data-stu-id="4c07b-125">In the previous diagram, the **FactResellerSales** fact table does not have a foreign key relationship with the **DimGeography** dimension table.</span></span> <span data-ttu-id="4c07b-126">ただし、 **FactResellerSales**ファクトテーブルには、 **DimReseller**ディメンションテーブルとの外部キーリレーションシップがあります。このリレーションシップには、 **DimGeography**ディメンションテーブルとの外部キーリレーションシップがあります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-126">However, the **FactResellerSales** fact table does have a foreign key relationship with the **DimReseller** dimension table, which in turn has a foreign key relationship with the **DimGeography** dimension table.</span></span> <span data-ttu-id="4c07b-127">各リセラーに関する地理情報を含むリセラーディメンションを定義するには、 **DimGeography**ディメンションテーブルと**DimReseller**ディメンションテーブルからこれらの属性を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-127">To define a Reseller dimension that contains geography information about each reseller, you would have to retrieve these attributes from the **DimGeography** and the **DimReseller** dimension tables.</span></span> <span data-ttu-id="4c07b-128">ただし [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] で、2 つの異なるディメンションを作成し、その 2 つのディメンション間で参照ディメンション リレーションシップを定義することによりメジャー グループ内でこれらのディメンションをリンクしても、同じ結果を得られます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-128">However, in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can achieve the same result by creating two separate dimensions and linking them in a measure group by defining a reference dimension relationship between the two dimensions.</span></span> <span data-ttu-id="4c07b-129">参照ディメンションリレーションシップの詳細については、「[ディメンションリレーションシップ](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4c07b-129">For more information about reference dimension relationships, see [Dimension Relationships](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md).</span></span>  
  
 <span data-ttu-id="4c07b-130">このシナリオで参照ディメンション リレーションシップを使用することの利点の 1 つとして、1 つの地理ディメンションを作成した後、追加のストレージ領域を必要とすることなく、この地理ディメンションに基づいて、複数のキューブ ディメンションを作成できることが挙げられます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-130">One advantage of using reference dimension relationships in this scenario is that you could create a single geography dimension and then create multiple cube dimensions based on the geography dimension, without requiring any additional storage space.</span></span> <span data-ttu-id="4c07b-131">たとえば、地理キューブ ディメンションの 1 つを販売店ディメンションにリンクし、別の地理キューブ ディメンションを顧客ディメンションにリンクすることができます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-131">For example, you could link one of the geography cube dimensions to a reseller dimension and another of the geography cube dimensions to a customer dimension.</span></span> <span data-ttu-id="4c07b-132">**関連トピック:**[ディメンションリレーションシップ](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md)、[参照リレーションシップと参照関係プロパティの定義](../multidimensional-models/define-a-referenced-relationship-and-referenced-relationship-properties.md)</span><span class="sxs-lookup"><span data-stu-id="4c07b-132">**Related topics:**[Dimension Relationships](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md), [Define a Referenced Relationship and Referenced Relationship Properties](../multidimensional-models/define-a-referenced-relationship-and-referenced-relationship-properties.md)</span></span>  
  
## <a name="processing-a-dimension"></a><span data-ttu-id="4c07b-133">ディメンションの処理</span><span class="sxs-lookup"><span data-stu-id="4c07b-133">Processing a Dimension</span></span>  
 <span data-ttu-id="4c07b-134">ディメンションを作成した後、ディメンション内の属性および階層のメンバーを表示するには、あらかじめこのディメンションを処理しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="4c07b-134">After you create a dimension, you must process the dimension before you can view the members of the attributes and hierarchies in the dimension.</span></span> <span data-ttu-id="4c07b-135">ディメンションの構造が変更されたり、その基になるテーブルの情報が更新された場合、ディメンションをもう一度処理しないと、変更内容を表示できません。</span><span class="sxs-lookup"><span data-stu-id="4c07b-135">After the structure of a dimension is changed or the information in its underlying tables is updated, you have to process the dimension again before you can view the changes.</span></span> <span data-ttu-id="4c07b-136">構造の変更後にディメンションを処理する際は、そのディメンションが含まれたキューブも処理する必要があります。これを行わないと、キューブを表示できません。</span><span class="sxs-lookup"><span data-stu-id="4c07b-136">When you process a dimension after structural changes, you must also process any cubes that include the dimension - or the cube will not be viewable.</span></span>  
  
## <a name="security"></a><span data-ttu-id="4c07b-137">セキュリティ</span><span class="sxs-lookup"><span data-stu-id="4c07b-137">Security</span></span>  
 <span data-ttu-id="4c07b-138">ディメンションの従属オブジェクトは、階層、レベル、メンバーを含め、[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のロールを使用してすべてセキュリティで保護されています。</span><span class="sxs-lookup"><span data-stu-id="4c07b-138">All the subordinate objects of a dimension, including hierarchies, levels, and members, are secured using roles in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="4c07b-139">ディメンションのセキュリティは、そのディメンションを使用するデータベース内のすべてのキューブ、または特定のキューブにのみ適用できます。</span><span class="sxs-lookup"><span data-stu-id="4c07b-139">Dimension security can be applied for all the cubes in the database that use the dimension, or for only a specific cube.</span></span> <span data-ttu-id="4c07b-140">ディメンションセキュリティの詳細については、「[ディメンションに対する権限の許可 &#40;Analysis Services&#41;](../multidimensional-models/grant-permissions-on-a-dimension-analysis-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4c07b-140">For more information about dimension security, see [Grant permissions on a dimension &#40;Analysis Services&#41;](../multidimensional-models/grant-permissions-on-a-dimension-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c07b-141">参照</span><span class="sxs-lookup"><span data-stu-id="4c07b-141">See Also</span></span>  
 <span data-ttu-id="4c07b-142">[ディメンションストレージ](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md) </span><span class="sxs-lookup"><span data-stu-id="4c07b-142">[Dimension Storage](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md) </span></span>  
 <span data-ttu-id="4c07b-143">[ディメンションの翻訳](../multidimensional-models-olap-logical-dimension-objects/dimension-translations.md) </span><span class="sxs-lookup"><span data-stu-id="4c07b-143">[Dimension Translations](../multidimensional-models-olap-logical-dimension-objects/dimension-translations.md) </span></span>  
 [<span data-ttu-id="4c07b-144">書き込み許可ディメンション</span><span class="sxs-lookup"><span data-stu-id="4c07b-144">Write-Enabled Dimensions</span></span>](../multidimensional-models-olap-logical-dimension-objects/write-enabled-dimensions.md)  
  
  
