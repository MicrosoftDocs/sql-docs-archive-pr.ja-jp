---
title: SQL Server 2014 トランザクションログのアーキテクチャと管理 |Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
ms.assetid: 4d1a4f97-3fe4-44af-9d4f-f884a6eaa457
author: rothja
ms.author: jroth
ms.openlocfilehash: 8d32950d94bff22d6549c468e8fe8db3f30fd09a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87632812"
---
# <a name="sql-server-2014-transaction-log-architecture-and-management"></a><span data-ttu-id="7655e-102">SQL Server 2014 トランザクションログのアーキテクチャと管理</span><span class="sxs-lookup"><span data-stu-id="7655e-102">SQL Server 2014 Transaction Log Architecture and Management</span></span>

<span data-ttu-id="7655e-103">**適用対象:** SQL Server (2008 以降)</span><span class="sxs-lookup"><span data-stu-id="7655e-103">**Applies to:** SQL Server (starting with 2008)</span></span>

  <span data-ttu-id="7655e-104">すべての [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] データベースにはトランザクション ログがあり、データベース内のすべてのトランザクションとそれらのトランザクションによって加えられた変更が記録されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-104">Every [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] database has a transaction log that records all transactions and the database modifications that are made by each transaction.</span></span> <span data-ttu-id="7655e-105">トランザクション ログはデータベースの重要なコンポーネントの 1 つであり、システム障害が発生すると、データベースを一貫性のある状態にするために求められる場合があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-105">The transaction log is a critical component of the database and, if there is a system failure, the transaction log might be required to bring your database back to a consistent state.</span></span> <span data-ttu-id="7655e-106">このガイドでは、トランザクション ログの物理アーキテクチャおよび論理アーキテクチャについて説明します。</span><span class="sxs-lookup"><span data-stu-id="7655e-106">This guide provides information about the physical and logical architecture of the transaction log.</span></span> <span data-ttu-id="7655e-107">アーキテクチャを理解することで、トランザクション ログを効率的に管理できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7655e-107">Understanding the architecture can improve your effectiveness in managing transaction logs.</span></span>  

  
##  <a name="transaction-log-logical-architecture"></a><a name="Logical_Arch"></a><span data-ttu-id="7655e-108">トランザクションログの論理アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="7655e-108">Transaction Log Logical Architecture</span></span>  

 <span data-ttu-id="7655e-109">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] のトランザクション ログは、論理的にはトランザクション ログが一続きのログ レコードから構成されているものとして機能します。</span><span class="sxs-lookup"><span data-stu-id="7655e-109">The [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] transaction log operates logically as if the transaction log is a string of log records.</span></span> <span data-ttu-id="7655e-110">それぞれのログ レコードは、LSN (ログ シーケンス番号) によって識別されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-110">Each log record is identified by a log sequence number (LSN).</span></span> <span data-ttu-id="7655e-111">新しい各ログ レコードは、ログの論理上の末尾に前レコードの LSN より大きな LSN を付けて書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-111">Each new log record is written to the logical end of the log with an LSN that is higher than the LSN of the record before it.</span></span> <span data-ttu-id="7655e-112">ログ レコードは、作成された順で連続して保管されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-112">Log records are stored in a serial sequence as they are created.</span></span> <span data-ttu-id="7655e-113">各ログ レコードにはトランザクション ID が含まれ、どのトランザクションについてのレコードかを示します。</span><span class="sxs-lookup"><span data-stu-id="7655e-113">Each log record contains the ID of the transaction that it belongs to.</span></span> <span data-ttu-id="7655e-114">各トランザクションに関連付けられているログ レコードはすべて、逆方向のポインターを使用して連鎖的にリンクされており、これによってトランザクションのロールバックをスピードアップできます。</span><span class="sxs-lookup"><span data-stu-id="7655e-114">For each transaction, all log records associated with the transaction are individually linked in a chain using backward pointers that speed the rollback of the transaction.</span></span>  
  
 <span data-ttu-id="7655e-115">データ変更のログ レコードには、実行した論理操作の記録または変更したデータの前後のイメージの記録が行われます。</span><span class="sxs-lookup"><span data-stu-id="7655e-115">Log records for data modifications record either the logical operation performed or they record the before and after images of the modified data.</span></span> <span data-ttu-id="7655e-116">前イメージは、操作が実行される前のデータのコピーです。後イメージは、操作を実行した後のデータのコピーです。</span><span class="sxs-lookup"><span data-stu-id="7655e-116">The before image is a copy of the data before the operation is performed; the after image is a copy of the data after the operation has been performed.</span></span>  
  
 <span data-ttu-id="7655e-117">操作を復旧する手順は、ログ レコードの種類によって異なります。</span><span class="sxs-lookup"><span data-stu-id="7655e-117">The steps to recover an operation depend on the type of log record:</span></span>  
  
-   <span data-ttu-id="7655e-118">論理操作が記録されている場合</span><span class="sxs-lookup"><span data-stu-id="7655e-118">Logical operation logged</span></span>  
  
    -   <span data-ttu-id="7655e-119">論理操作をロールフォワードするには、その操作を再実行します。</span><span class="sxs-lookup"><span data-stu-id="7655e-119">To roll the logical operation forward, the operation is performed again.</span></span>  
  
    -   <span data-ttu-id="7655e-120">論理操作をロールバックするには、逆の論理操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="7655e-120">To roll the logical operation back, the reverse logical operation is performed.</span></span>  
  
-   <span data-ttu-id="7655e-121">前後イメージが記録されている場合</span><span class="sxs-lookup"><span data-stu-id="7655e-121">Before and after image logged</span></span>  
  
    -   <span data-ttu-id="7655e-122">操作をロールフォワードするには、後イメージを適用します。</span><span class="sxs-lookup"><span data-stu-id="7655e-122">To roll the operation forward, the after image is applied.</span></span>  
  
    -   <span data-ttu-id="7655e-123">操作をロールバックするには、前イメージを適用します。</span><span class="sxs-lookup"><span data-stu-id="7655e-123">To roll the operation back, the before image is applied.</span></span>  
  
 <span data-ttu-id="7655e-124">トランザクション ログには各種の操作が記録されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-124">Many types of operations are recorded in the transaction log.</span></span> <span data-ttu-id="7655e-125">記録される操作には次のようなものがあります。</span><span class="sxs-lookup"><span data-stu-id="7655e-125">These operations include:</span></span>  
  
-   <span data-ttu-id="7655e-126">各トランザクションの開始および終了。</span><span class="sxs-lookup"><span data-stu-id="7655e-126">The start and end of each transaction.</span></span>  
  
-   <span data-ttu-id="7655e-127">あらゆるデータ変更 (挿入、更新、または削除)。</span><span class="sxs-lookup"><span data-stu-id="7655e-127">Every data modification (insert, update, or delete).</span></span> <span data-ttu-id="7655e-128">これには、システム ストアド プロシージャまたは DDL (データ定義言語) ステートメントによって、システム テーブルなどのテーブルに加えられた変更が含まれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-128">This includes changes by system stored procedures or data definition language (DDL) statements to any table, including system tables.</span></span>  
  
-   <span data-ttu-id="7655e-129">エクステントおよびページのすべての割り当てと割り当て解除。</span><span class="sxs-lookup"><span data-stu-id="7655e-129">Every extent and page allocation or deallocation.</span></span>  
  
-   <span data-ttu-id="7655e-130">テーブルまたはインデックスの作成と削除。</span><span class="sxs-lookup"><span data-stu-id="7655e-130">Creating or dropping a table or index.</span></span>  
  
 <span data-ttu-id="7655e-131">ロールバック操作も記録されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-131">Rollback operations are also logged.</span></span> <span data-ttu-id="7655e-132">トランザクションごとにトランザクション ログの領域が予約されるので、明示的にロールバック ステートメントを実行したときやエラーが発生したときのロールバックに備え、十分なログ領域が確保されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-132">Each transaction reserves space on the transaction log to make sure that enough log space exists to support a rollback that is caused by either an explicit rollback statement or if an error is encountered.</span></span> <span data-ttu-id="7655e-133">予約領域のサイズは、トランザクションで実行される操作によって変わりますが、一般には各操作を記録するために使用される領域のサイズと同じです。</span><span class="sxs-lookup"><span data-stu-id="7655e-133">The amount of space reserved depends on the operations performed in the transaction, but generally it is equal to the amount of space used to log each operation.</span></span> <span data-ttu-id="7655e-134">この予約領域は、トランザクションが完了したときに解放されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-134">This reserved space is freed when the transaction is completed.</span></span>  
  
 <span data-ttu-id="7655e-135"> ログ ファイルの中で、データベース全体を正常にロールバックするために必要な最初のログ レコードから最後に書き込まれたログ レコードまでの部分を、ログのアクティブな部分、または*アクティブ ログ*といいます。</span><span class="sxs-lookup"><span data-stu-id="7655e-135">The section of the log file from the first log record that must be present for a successful database-wide rollback to the last-written log record is called the active part of the log, or the *active log*.</span></span> <span data-ttu-id="7655e-136">これは、データベースの完全復旧を実行するために必要なログのセクションです。</span><span class="sxs-lookup"><span data-stu-id="7655e-136">This is the section of the log required to a full recovery of the database.</span></span> <span data-ttu-id="7655e-137">アクティブなログはどの部分も切り捨てることができません。</span><span class="sxs-lookup"><span data-stu-id="7655e-137">No part of the active log can ever be truncated.</span></span> <span data-ttu-id="7655e-138">この最初のログレコードのログシーケンス番号 (LSN) は、最小復旧 LSN (*MinLSN*) と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-138">The log sequence number (LSN) of this first log record is known as the minimum recovery LSN (*MinLSN*).</span></span>  
  
##  <a name="transaction-log-physical-architecture"></a><a name="physical_arch"></a> <span data-ttu-id="7655e-139">トランザクション ログの物理アーキテクチャ</span><span class="sxs-lookup"><span data-stu-id="7655e-139">Transaction Log Physical Architecture</span></span>  

 <span data-ttu-id="7655e-140">データベースのトランザクション ログは、1 つ以上の物理ファイルにマップされます。</span><span class="sxs-lookup"><span data-stu-id="7655e-140">The transaction log in a database maps over one or more physical files.</span></span> <span data-ttu-id="7655e-141">概念的には、ログ ファイルは一続きのログ レコードです。</span><span class="sxs-lookup"><span data-stu-id="7655e-141">Conceptually, the log file is a string of log records.</span></span> <span data-ttu-id="7655e-142">物理的には、一連のログ レコードは、トランザクション ログを実装する一連の物理ファイルに効率的に格納されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-142">Physically, the sequence of log records is stored efficiently in the set of physical files that implement the transaction log.</span></span> <span data-ttu-id="7655e-143">1 つのデータベースにトランザクション ログ ファイルが少なくとも 1 つ必要です。</span><span class="sxs-lookup"><span data-stu-id="7655e-143">There must be at least one log file for each database.</span></span>  
  
 <span data-ttu-id="7655e-144">[!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] により、各物理ログ ファイルは内部的に多くの仮想ログ ファイルに分割されています。</span><span class="sxs-lookup"><span data-stu-id="7655e-144">The [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] divides each physical log file internally into a number of virtual log files.</span></span> <span data-ttu-id="7655e-145">仮想ログ ファイルのサイズは固定されておらず、1 つの物理ログ ファイルに対する仮想ログ ファイルの数も決まっていません。</span><span class="sxs-lookup"><span data-stu-id="7655e-145">Virtual log files have no fixed size, and there is no fixed number of virtual log files for a physical log file.</span></span> <span data-ttu-id="7655e-146">仮想ログ ファイルのサイズは、ログ ファイルの作成時や拡張時に [!INCLUDE[ssDE](../includes/ssde-md.md)] により動的に選択されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-146">The [!INCLUDE[ssDE](../includes/ssde-md.md)] chooses the size of the virtual log files dynamically while it is creating or extending log files.</span></span> <span data-ttu-id="7655e-147">[!INCLUDE[ssDE](../includes/ssde-md.md)] では、管理する仮想ファイルの数を少なく保とうとします。</span><span class="sxs-lookup"><span data-stu-id="7655e-147">The [!INCLUDE[ssDE](../includes/ssde-md.md)] tries to maintain a small number of virtual files.</span></span> <span data-ttu-id="7655e-148">ログ ファイルを拡張した後の仮想ファイルのサイズは、既存のログのサイズと増加した新しいファイルのサイズの合計になります。</span><span class="sxs-lookup"><span data-stu-id="7655e-148">The size of the virtual files after a log file has been extended is the sum of the size of the existing log and the size of the new file increment.</span></span> <span data-ttu-id="7655e-149">管理者が仮想ログ ファイルのサイズや数を構成または設定することはできません。</span><span class="sxs-lookup"><span data-stu-id="7655e-149">The size or number of virtual log files cannot be configured or set by administrators.</span></span>  
  
 <span data-ttu-id="7655e-150">仮想ログ ファイルがシステムのパフォーマンスに影響を与えるのは、小さな *size* 値と *growth_increment* 値で物理ログ ファイルを定義した場合のみです。</span><span class="sxs-lookup"><span data-stu-id="7655e-150">The only time virtual log files affect system performance is if the physical log files are defined by small *size* and *growth_increment* values.</span></span> <span data-ttu-id="7655e-151">*size* 値はログ ファイルの初期サイズであり、 *growth_increment* 値は新しい領域が必要になるたびにファイルに追加される容量を示します。</span><span class="sxs-lookup"><span data-stu-id="7655e-151">The *size* value is the initial size for the log file and the *growth_increment* value is the amount of space added to the file every time new space is required.</span></span> <span data-ttu-id="7655e-152">小さな増加が繰り返されることにより、これらのログ ファイルが大きいサイズに拡張された場合、多くの仮想ログ ファイルが生成されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-152">If the log files grow to a large size because of many small increments, they will have many virtual log files.</span></span> <span data-ttu-id="7655e-153">このような状況では、データベースの起動、ログのバックアップ操作、およびログの復元操作の速度が低下する場合があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-153">This can slow down database startup and also log backup and restore operations.</span></span> <span data-ttu-id="7655e-154">ログ ファイルの *size* には最終的に必要なサイズに近い値を割り当て、*growth_increment* には比較的大きい値を割り当てることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7655e-154">We recommend that you assign log files a *size* value close to the final size required, and also have a relatively large *growth_increment* value.</span></span> <span data-ttu-id="7655e-155">これらのパラメーターの詳細については、「[ALTER DATABASE の File および Filegroup オプション &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-155">For more information about these parameters, see [ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options).</span></span>  
  
 <span data-ttu-id="7655e-156">トランザクション ログは、循環して使用されるファイルです。</span><span class="sxs-lookup"><span data-stu-id="7655e-156">The transaction log is a wrap-around file.</span></span> <span data-ttu-id="7655e-157">たとえば、4 つの仮想ログ ファイルに分割された 1 つの物理ログ ファイルが格納されたデータベースがあるとします。</span><span class="sxs-lookup"><span data-stu-id="7655e-157">For example, consider a database with one physical log file divided into four virtual log files.</span></span> <span data-ttu-id="7655e-158">このデータベースの作成時、論理ログ ファイルは物理ログ ファイルの先頭から始まります。</span><span class="sxs-lookup"><span data-stu-id="7655e-158">When the database is created, the logical log file begins at the start of the physical log file.</span></span> <span data-ttu-id="7655e-159">新しいログ レコードは論理ログの末尾に追加され、物理ログの末尾に向かって拡張されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-159">New log records are added at the end of the logical log and expand toward the end of the physical log.</span></span> <span data-ttu-id="7655e-160">ログの切り捨てにより、最小復旧ログ シーケンス番号 (MinLSN) より前にあるすべての仮想ログ レコードが解放されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-160">Log truncation frees any virtual logs whose records all appear in front of the minimum recovery log sequence number (MinLSN).</span></span> <span data-ttu-id="7655e-161">*MinLSN* は、データベース全体を正常にロールバックするために必要な最も古いログ レコードのログ シーケンス番号です。</span><span class="sxs-lookup"><span data-stu-id="7655e-161">The *MinLSN* is the log sequence number of the oldest log record that is required for a successful database-wide rollback.</span></span> <span data-ttu-id="7655e-162">例として挙げたデータベースのトランザクション ログは、次の図のようになります。</span><span class="sxs-lookup"><span data-stu-id="7655e-162">The transaction log in the example database would look similar to the one in the following illustration.</span></span>  
  
 <span data-ttu-id="7655e-163">![4 つの仮想ログ ファイルに分割されたログ ファイル](media/tranlog3.gif "4 つの仮想ログ ファイルに分割されたログ ファイル")</span><span class="sxs-lookup"><span data-stu-id="7655e-163">![Log file divided into four virtual log files](media/tranlog3.gif "Log file divided into four virtual log files")</span></span>  
  
 <span data-ttu-id="7655e-164">論理ログの末尾が物理ログ ファイルの末尾に達すると、新しいログ レコードはまた物理ログ ファイルの先頭から記録されていきます。</span><span class="sxs-lookup"><span data-stu-id="7655e-164">When the end of the logical log reaches the end of the physical log file, the new log records wrap around to the start of the physical log file.</span></span>  
  
 <span data-ttu-id="7655e-165">![ログ ファイルの先頭に循環されるログ レコード](media/tranlog4.gif "ログ ファイルの先頭に循環されるログ レコード")</span><span class="sxs-lookup"><span data-stu-id="7655e-165">![Log records wrap around to start of log file](media/tranlog4.gif "Log records wrap around to start of log file")</span></span>  
  
 <span data-ttu-id="7655e-166">このサイクルは、論理ログの末尾が論理ログの先頭に達しない限り、無限に繰り返されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-166">This cycle repeats endlessly, as long as the end of the logical log never reaches the beginning of the logical log.</span></span> <span data-ttu-id="7655e-167">古いログ レコードが頻繁に切り捨てられ、次のチェックポイントで作成されるすべての新規ログ レコードを格納するのに必要な領域が常に確保されている場合、論理ログがいっぱいになることはありません。</span><span class="sxs-lookup"><span data-stu-id="7655e-167">If the old log records are truncated frequently enough to always leave sufficient room for all the new log records created through the next checkpoint, the log never fills.</span></span> <span data-ttu-id="7655e-168">ただし、論理ログの末尾が論理ログの先頭に達した場合には、次のいずれかの処理が発生します。</span><span class="sxs-lookup"><span data-stu-id="7655e-168">However, if the end of the logical log does reach the start of the logical log, one of two things occurs:</span></span>  
  
-   <span data-ttu-id="7655e-169">ログで FILEGROWTH の設定が有効になっていて、ディスクの領域が使用できる場合、ファイルは *growth_increment* パラメーターで指定した量だけ拡張され、新規ログ レコードがその拡張部分に追加されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-169">If the FILEGROWTH setting is enabled for the log and space is available on the disk, the file is extended by the amount specified in the *growth_increment* parameter and the new log records are added to the extension.</span></span> <span data-ttu-id="7655e-170">FILEGROWTH 設定の詳細については、「[ALTER DATABASE の File および Filegroup オプション &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-170">For more information about the FILEGROWTH setting, see [ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options).</span></span>  
  
-   <span data-ttu-id="7655e-171">FILEGROWTH の設定が有効になっていない場合、またはログ ファイルを保持しているディスクの空き領域が *growth_increment* で指定した量よりも少ない場合は、エラー 9002 が生成されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-171">If the FILEGROWTH setting is not enabled, or the disk that is holding the log file has less free space than the amount specified in *growth_increment*, an 9002 error is generated.</span></span>  
  
 <span data-ttu-id="7655e-172">ログに複数の物理ログ ファイルが含まれている場合、論理ログは、すべての物理ログ ファイルの領域を使用し終えてから、最初の物理ログ ファイルの先頭に戻ります。</span><span class="sxs-lookup"><span data-stu-id="7655e-172">If the log contains multiple physical log files, the logical log will move through all the physical log files before it wraps back to the start of the first physical log file.</span></span>  
  
### <a name="log-truncation"></a><span data-ttu-id="7655e-173">ログの切り捨て</span><span class="sxs-lookup"><span data-stu-id="7655e-173">Log Truncation</span></span>  

 <span data-ttu-id="7655e-174">ログの切り捨ては、ログがいっぱいにならないようにするために不可欠です。</span><span class="sxs-lookup"><span data-stu-id="7655e-174">Log truncation is essential to keep the log from filling.</span></span> <span data-ttu-id="7655e-175">ログの切り捨てでは、 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] データベースの論理トランザクション ログから非アクティブな仮想ログ ファイルが削除されます。これにより、論理ログの領域が解放され、物理トランザクション ログで再利用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7655e-175">Log truncation deletes inactive virtual log files from the logical transaction log of a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] database, freeing space in the logical log for reuse by the physical transaction log.</span></span> <span data-ttu-id="7655e-176">トランザクション ログが切り捨てられなければ、物理ログ ファイルに割り当てられているディスク上の領域がいっぱいになってしまいます。</span><span class="sxs-lookup"><span data-stu-id="7655e-176">If a transaction log were never truncated, it would eventually fill all the disk space that is allocated to its physical log files.</span></span> <span data-ttu-id="7655e-177">ただし、ログの切り捨て前に、チェックポイント操作が必要です。</span><span class="sxs-lookup"><span data-stu-id="7655e-177">However, before the log can be truncated, a checkpoint operation must occur.</span></span> <span data-ttu-id="7655e-178">チェックポイントでは、現在メモリにある修正ページ (ダーティ ページ) とトランザクション ログ情報がメモリからディスクに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-178">A checkpoint writes the current in-memory modified pages (known as dirty pages) and transaction log information from memory to disk.</span></span> <span data-ttu-id="7655e-179">チェックポイントが実行されると、トランザクション ログの非アクティブな部分は再利用できるようにマークが付けられます。</span><span class="sxs-lookup"><span data-stu-id="7655e-179">When the checkpoint is performed, the inactive portion of the transaction log is marked as reusable.</span></span> <span data-ttu-id="7655e-180">その後、ログの切り捨てにより、非アクティブな部分を解放できます。</span><span class="sxs-lookup"><span data-stu-id="7655e-180">Thereafter, the inactive portion can be freed by log truncation.</span></span> <span data-ttu-id="7655e-181">チェックポイントの詳細については、「[データベース チェックポイント &#40;SQL Server&#41;](../relational-databases/logs/database-checkpoints-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-181">For more information about checkpoints, see [Database Checkpoints &#40;SQL Server&#41;](../relational-databases/logs/database-checkpoints-sql-server.md).</span></span>  
  
 <span data-ttu-id="7655e-182">次の図は、切り捨てを行う前と後のトランザクション ログを示しています。</span><span class="sxs-lookup"><span data-stu-id="7655e-182">The following illustrations show a transaction log before and after truncation.</span></span> <span data-ttu-id="7655e-183">最初の図は、切り捨てが行われていないトランザクション ログを示しています。</span><span class="sxs-lookup"><span data-stu-id="7655e-183">The first illustration shows a transaction log that has never been truncated.</span></span> <span data-ttu-id="7655e-184">現在、4 つの仮想ログ ファイルが論理ログで使用されています。</span><span class="sxs-lookup"><span data-stu-id="7655e-184">Currently, four virtual log files are in use by the logical log.</span></span> <span data-ttu-id="7655e-185">この論理ログは最初の仮想ログ ファイルの先頭から始まり、仮想ログ 4 で終了します。</span><span class="sxs-lookup"><span data-stu-id="7655e-185">The logical log starts at the front of the first virtual log file and ends at virtual log 4.</span></span> <span data-ttu-id="7655e-186">MinLSN レコードは仮想ログ 3 にあります。</span><span class="sxs-lookup"><span data-stu-id="7655e-186">The MinLSN record is in virtual log 3.</span></span> <span data-ttu-id="7655e-187">仮想ログ 1 および仮想ログ 2 には、非アクティブなログ レコードのみが含まれています。</span><span class="sxs-lookup"><span data-stu-id="7655e-187">Virtual log 1 and virtual log 2 contain only inactive log records.</span></span> <span data-ttu-id="7655e-188">これらのレコードは切り捨てることができます。</span><span class="sxs-lookup"><span data-stu-id="7655e-188">These records can be truncated.</span></span> <span data-ttu-id="7655e-189">仮想ログ 5 はまだ使用されていないので、現在の論理ログには含まれていません。</span><span class="sxs-lookup"><span data-stu-id="7655e-189">Virtual log 5 is still unused and is not part of the current logical log.</span></span>  
  
 <span data-ttu-id="7655e-190">![4 つの仮想ログがあるトランザクション ログ](media/tranlog2.gif "4 つの仮想ログがあるトランザクション ログ")</span><span class="sxs-lookup"><span data-stu-id="7655e-190">![Transaction log with four virtual logs](media/tranlog2.gif "Transaction log with four virtual logs")</span></span>  
  
 <span data-ttu-id="7655e-191">2 番目の図は、切り捨て後のログの状態を示しています。</span><span class="sxs-lookup"><span data-stu-id="7655e-191">The second illustration shows how the log appears after being truncated.</span></span> <span data-ttu-id="7655e-192">仮想ログ 1 および仮想ログ 2 は再利用のために解放されています。</span><span class="sxs-lookup"><span data-stu-id="7655e-192">Virtual log 1 and virtual log 2 have been freed for reuse.</span></span> <span data-ttu-id="7655e-193">この時点で、論理ログは仮想ログ 3 の先頭から始まっています。</span><span class="sxs-lookup"><span data-stu-id="7655e-193">The logical log now starts at the beginning of virtual log 3.</span></span> <span data-ttu-id="7655e-194">仮想ログ 5 はまだ使用されていないので、現在の論理ログには含まれていません。</span><span class="sxs-lookup"><span data-stu-id="7655e-194">Virtual log 5 is still unused, and it is not part of the current logical log.</span></span>  
  
 <span data-ttu-id="7655e-195">![4 つの仮想ログ ファイルに分割されたログ ファイル](media/tranlog3.gif "4 つの仮想ログ ファイルに分割されたログ ファイル")</span><span class="sxs-lookup"><span data-stu-id="7655e-195">![Log file divided into four virtual log files](media/tranlog3.gif "Log file divided into four virtual log files")</span></span>  
  
 <span data-ttu-id="7655e-196">何かの理由で遅延が発生している場合を除いて、ログの切り捨ては、次のイベントの後に自動的に発生します。</span><span class="sxs-lookup"><span data-stu-id="7655e-196">Log truncation occurs automatically after the following events, except when delayed for some reason:</span></span>  
  
-   <span data-ttu-id="7655e-197">単純復旧モデルでは、チェックポイント以降。</span><span class="sxs-lookup"><span data-stu-id="7655e-197">Under the simple recovery model, after a checkpoint.</span></span>  
  
-   <span data-ttu-id="7655e-198">完全復旧モデルまたは一括ログ復旧モデルで、前回のバックアップ後にチェックポイントが発生している場合は、ログ バックアップの後。</span><span class="sxs-lookup"><span data-stu-id="7655e-198">Under the full recovery model or bulk-logged recovery model, after a log backup, if a checkpoint has occurred since the previous backup.</span></span>  
  
 <span data-ttu-id="7655e-199">ログの切り捨ては、さまざまな要因で遅延が発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-199">Log truncation can be delayed by a variety of factors.</span></span> <span data-ttu-id="7655e-200">ログの切り捨てで長時間の遅延が発生すると、トランザクション ログがいっぱいになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-200">In the event of a long delay in log truncation, the transaction log can fill up.</span></span> <span data-ttu-id="7655e-201">詳細については、「[ログの切り捨てを遅らせ](../relational-databases/logs/the-transaction-log-sql-server.md#FactorsThatDelayTruncation)、[完全なトランザクションログのトラブルシューティングを行う要因 &#40;SQL Server エラー 9002&#41;](../relational-databases/logs/troubleshoot-a-full-transaction-log-sql-server-error-9002.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-201">For information, see [Factors That Can Delay Log Truncation](../relational-databases/logs/the-transaction-log-sql-server.md#FactorsThatDelayTruncation) and [Troubleshoot a Full Transaction Log &#40;SQL Server Error 9002&#41;](../relational-databases/logs/troubleshoot-a-full-transaction-log-sql-server-error-9002.md).</span></span>  
  
##  <a name="write-ahead-transaction-log"></a><a name="WAL"></a><span data-ttu-id="7655e-202">先行書き込みトランザクションログ</span><span class="sxs-lookup"><span data-stu-id="7655e-202">Write-Ahead Transaction Log</span></span>  

 <span data-ttu-id="7655e-203">このセクションでは、データの変更をディスクに記録するときの先行書き込みトランザクション ログの役割について説明します。</span><span class="sxs-lookup"><span data-stu-id="7655e-203">This section describes the role of the write-ahead transaction log in recording data modifications to disk.</span></span> [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="7655e-204">では、先行書き込みログ (WAL) を使用します。これにより、関連付けられているログ レコードより前にデータ変更がディスクに書き込まれることがなくなります。</span><span class="sxs-lookup"><span data-stu-id="7655e-204">uses a write-ahead log (WAL), which guarantees that no data modifications are written to disk before the associated log record is written to disk.</span></span> <span data-ttu-id="7655e-205">これにより、トランザクションの ACID プロパティが維持されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-205">This maintains the ACID properties for a transaction.</span></span>  
  
 <span data-ttu-id="7655e-206">先行書き込みログがどのように機能するのかを理解するには、変更されたデータがディスクに書き込まれるしくみを把握しておくことが重要です。</span><span class="sxs-lookup"><span data-stu-id="7655e-206">To understand how the write-ahead log works, it is important for you to know how modified data is written to disk.</span></span> [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="7655e-207">はバッファー キャッシュを保持し、データを取得する必要がある場合は、そのキャッシュの中へデータ ページを読み取ります。</span><span class="sxs-lookup"><span data-stu-id="7655e-207">maintains a buffer cache into which it reads data pages when data must be retrieved.</span></span> <span data-ttu-id="7655e-208">ページがバッファーキャッシュ内で変更されても、すぐにディスクに書き戻されるわけではありません。代わりに、ページは*ダーティ*とマークされます。</span><span class="sxs-lookup"><span data-stu-id="7655e-208">When a page is modified in the buffer cache, it is not immediately written back to disk; instead, the page is marked as *dirty*.</span></span> <span data-ttu-id="7655e-209">データ ページが物理的にディスクに書き込まれる前には、複数回の論理書き込みが行われる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-209">A data page can have more than one logical write made before it is physically written to disk.</span></span> <span data-ttu-id="7655e-210">論理書き込みを行うたびに、トランザクション ログ レコードが、変更を記録するログ キャッシュに挿入されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-210">For each logical write, a transaction log record is inserted in the log cache that records the modification.</span></span> <span data-ttu-id="7655e-211">ログ レコードは、関連付けられているダーティ ページがバッファー キャッシュから削除されディスクに書き込まれる前に、ディスクに書き込まれる必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-211">The log records must be written to disk before the associated dirty page is removed from the buffer cache and written to disk.</span></span> <span data-ttu-id="7655e-212">チェックポイント プロセスでは、指定されたデータベースからのページを含むバッファーのバッファー キャッシュを定期的にスキャンし、ダーティ ページをすべてディスクに書き込みます。</span><span class="sxs-lookup"><span data-stu-id="7655e-212">The checkpoint process periodically scans the buffer cache for buffers with pages from a specified database and writes all dirty pages to disk.</span></span> <span data-ttu-id="7655e-213">チェックポイントは、すべてのダーティ ページがディスクに書き込まれたことを確認するために作成されるポイントで、その後の復旧の時間を短縮します。</span><span class="sxs-lookup"><span data-stu-id="7655e-213">Checkpoints save time during a later recovery by creating a point at which all dirty pages are guaranteed to have been written to disk.</span></span>  
  
 <span data-ttu-id="7655e-214">変更されたデータ ページをバッファー キャッシュからディスクに書き込むことを "ページのフラッシュ" といいます。</span><span class="sxs-lookup"><span data-stu-id="7655e-214">Writing a modified data page from the buffer cache to disk is called flushing the page.</span></span> [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="7655e-215">には、関連付けられているログ レコードの書き込み前にダーティ ページをフラッシュしないためのロジックが用意されています。</span><span class="sxs-lookup"><span data-stu-id="7655e-215">has logic that prevents a dirty page from being flushed before the associated log record is written.</span></span> <span data-ttu-id="7655e-216">ログ レコードは、トランザクションがコミットされるときにディスクに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-216">Log records are written to disk when the transactions are committed.</span></span>  
  
##  <a name="transaction-log-backups"></a><a name="Backups"></a><span data-ttu-id="7655e-217">トランザクションログのバックアップ</span><span class="sxs-lookup"><span data-stu-id="7655e-217">Transaction Log Backups</span></span>  

 <span data-ttu-id="7655e-218">このセクションでは、トランザクション ログのバックアップと復元 (適用) の方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="7655e-218">This section presents concepts about how to back up and restore (apply) transaction logs.</span></span> <span data-ttu-id="7655e-219">完全復旧モデルと一括ログ復旧モデルでは、データを復旧するためにトランザクション ログを定期的にバックアップすること (*ログのバックアップ*) が必要不可欠です。</span><span class="sxs-lookup"><span data-stu-id="7655e-219">Under the full and bulk-logged recovery models, taking routine backups of transaction logs (*log backups*) is necessary for recovering data.</span></span> <span data-ttu-id="7655e-220">ログのバックアップは、完全バックアップの実行中でも行うことができます。</span><span class="sxs-lookup"><span data-stu-id="7655e-220">You can back up the log while any full backup is running.</span></span> <span data-ttu-id="7655e-221">復旧モデルの詳細については、「 [SQL Server データベースのバックアップと復元](../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-221">For more information about recovery models, see [Back Up and Restore of SQL Server Databases](../relational-databases/backup-restore/back-up-and-restore-of-sql-server-databases.md).</span></span>  
  
 <span data-ttu-id="7655e-222">最初のログ バックアップを作成する前に、データベース バックアップや一連のファイル バックアップの最初のバックアップを行って、完全バックアップを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-222">Before you can create the first log backup, you must create a full backup, such as a database backup or the first in a set of file backups.</span></span> <span data-ttu-id="7655e-223">ファイル バックアップだけを使ったデータベースの復元は複雑になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-223">Restoring a database by using only file backups can become complex.</span></span> <span data-ttu-id="7655e-224">したがって、可能な時点でデータベースの完全バックアップを行うことから始めることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7655e-224">Therefore, we recommend that you start with a full database backup when you can.</span></span> <span data-ttu-id="7655e-225">その後、トランザクション ログを定期的にバックアップする必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-225">Thereafter, backing up the transaction log regularly is necessary.</span></span> <span data-ttu-id="7655e-226">その結果、作業損失の可能性が最小限に抑えられるだけでなく、トランザクション ログの切り捨ても可能になります。</span><span class="sxs-lookup"><span data-stu-id="7655e-226">This not only minimizes work-loss exposure but also enables truncation of the transaction log.</span></span> <span data-ttu-id="7655e-227">一般に、トランザクション ログは、通常のログ バックアップ後に毎回切り捨てられます。</span><span class="sxs-lookup"><span data-stu-id="7655e-227">Typically, the transaction log is truncated after every conventional log backup.</span></span>  
  
 <span data-ttu-id="7655e-228">ログ バックアップは、ビジネス要件に対応するために十分な頻度で作成することをお勧めします。特に、ログ ドライブに障害が起こった場合に生じる作業損失に対する許容範囲を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-228">We recommend taking frequent enough log backups to support your business requirements, specifically your tolerance for work loss such as might be caused by a damaged log drive.</span></span> <span data-ttu-id="7655e-229">ログ バックアップを行う適切な頻度は、作業損失に対する許容範囲と、ログ バックアップを保存、管理、復元できる量とのバランスによります。</span><span class="sxs-lookup"><span data-stu-id="7655e-229">The appropriate frequency for taking log backups depends on your tolerance for work-loss exposure balanced by how many log backups you can store, manage, and, potentially, restore.</span></span> <span data-ttu-id="7655e-230">15 分から 30 分間隔でログ バックアップを行えば十分でしょう。</span><span class="sxs-lookup"><span data-stu-id="7655e-230">Taking a log backup every 15 to 30 minutes might be enough.</span></span> <span data-ttu-id="7655e-231">業務上、作業損失の可能性を最小限に抑えることが求められる場合は、ログ バックアップの頻度を増やすことを検討します。</span><span class="sxs-lookup"><span data-stu-id="7655e-231">If your business requires that you minimize work-loss exposure, consider taking log backups more frequently.</span></span> <span data-ttu-id="7655e-232">ログ バックアップの頻度を増やせば、ログ切り捨ての頻度も高くなり、ログ ファイルが小さくなる利点もあります。</span><span class="sxs-lookup"><span data-stu-id="7655e-232">More frequent log backups have the added advantage of increasing the frequency of log truncation, resulting in smaller log files.</span></span>  
  
 <span data-ttu-id="7655e-233">復元する必要があるログ バックアップの数を制限するには、定期的なデータのバックアップが不可欠です。</span><span class="sxs-lookup"><span data-stu-id="7655e-233">To limit the number of log backups that you need to restore, it is essential to routinely back up your data.</span></span> <span data-ttu-id="7655e-234">たとえば、データベースの完全バックアップを毎週実行し、差分バックアップを毎日実行するようにスケジュールできます。</span><span class="sxs-lookup"><span data-stu-id="7655e-234">For example, you might schedule a weekly full database backup and daily differential database backups.</span></span>  
  
### <a name="the-log-chain"></a><span data-ttu-id="7655e-235">ログ チェーン</span><span class="sxs-lookup"><span data-stu-id="7655e-235">The Log Chain</span></span>  

 <span data-ttu-id="7655e-236">連続した一連のログバックアップは、*ログチェーン*と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="7655e-236">A continuous sequence of log backups is called a *log chain*.</span></span> <span data-ttu-id="7655e-237">ログ チェーンは、データベースの完全バックアップから始まります。</span><span class="sxs-lookup"><span data-stu-id="7655e-237">A log chain starts with a full backup of the database.</span></span> <span data-ttu-id="7655e-238">通常、新しいログ チェーンが開始されるのは、データベースが最初にバックアップされたとき、または復旧モデルを単純復旧から完全復旧または一括ログ復旧に変更したときだけです。</span><span class="sxs-lookup"><span data-stu-id="7655e-238">Usually, a new log chain is only started when the database is backed up for the first time or after the recovery model is switched from simple recovery to full or bulk-logged recovery.</span></span> <span data-ttu-id="7655e-239">データベースの完全バックアップの作成時に既存のバックアップ セットを上書きしない限り、既存のログ チェーンはそのまま残ります。</span><span class="sxs-lookup"><span data-stu-id="7655e-239">Unless you choose to overwrite existing backup sets when creating a full database backup, the existing log chain remains intact.</span></span> <span data-ttu-id="7655e-240">ログ チェーンがそのまま残っている場合は、メディア セット内にあるデータベースの完全バックアップからデータベースを復元し、その後で復旧ポイントに達するまで後続のログ バックアップをすべて復元できます。</span><span class="sxs-lookup"><span data-stu-id="7655e-240">With the log chain intact, you can restore your database from any full database backup in the media set, followed by all subsequent log backups up through your recovery point.</span></span> <span data-ttu-id="7655e-241">復旧ポイントは、最後のログ バックアップの末尾、または任意のログ バックアップの特定の復旧ポイントである場合があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-241">The recovery point could be the end of the last log backup or a specific recovery point in any of the log backups.</span></span> <span data-ttu-id="7655e-242">詳細については、「[トランザクション ログ バックアップ &#40;SQL Server&#41;](../relational-databases/backup-restore/transaction-log-backups-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-242">For more information, see [Transaction Log Backups &#40;SQL Server&#41;](../relational-databases/backup-restore/transaction-log-backups-sql-server.md).</span></span>  
  
 <span data-ttu-id="7655e-243">データベースを障害の発生時点まで復元するには、ログ チェーンが途切れていないことが条件になります。</span><span class="sxs-lookup"><span data-stu-id="7655e-243">To restore a database up to the point of failure, the log chain must be intact.</span></span> <span data-ttu-id="7655e-244">つまり、トランザクション ログ バックアップのシーケンスは、障害の発生時点まで途切れずに続いている必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-244">That is, an unbroken sequence of transaction log backups must extend up to the point of failure.</span></span> <span data-ttu-id="7655e-245">ログのシーケンスの始まりは、復元するデータ バックアップの種類 (データベース バックアップ、部分バックアップ、ファイル バックアップ) によって異なります。</span><span class="sxs-lookup"><span data-stu-id="7655e-245">Where this sequence of log must start depends on the type of data backups you are restoring: database, partial, or file.</span></span> <span data-ttu-id="7655e-246">データベース バックアップまたは部分バックアップの場合、ログ バックアップのシーケンスはデータベース バックアップまたは部分バックアップの最後から始まっている必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-246">For a database or partial backup, the sequence of log backups must extend from the end of a database or partial backup.</span></span> <span data-ttu-id="7655e-247">一連のファイル バックアップの場合、ログ バックアップのシーケンスはファイル バックアップの完全なセットから始まっている必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-247">For a set of file backups, the sequence of log backups must extend from the start of a full set of file backups.</span></span> <span data-ttu-id="7655e-248">詳細については、「[トランザクション ログ バックアップの適用 &#40;SQL Server&#41;](../relational-databases/backup-restore/apply-transaction-log-backups-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-248">For more information, see [Apply Transaction Log Backups &#40;SQL Server&#41;](../relational-databases/backup-restore/apply-transaction-log-backups-sql-server.md).</span></span>  
  
### <a name="restore-log-backups"></a><span data-ttu-id="7655e-249">ログ バックアップの復元</span><span class="sxs-lookup"><span data-stu-id="7655e-249">Restore Log Backups</span></span>  

 <span data-ttu-id="7655e-250">ログ バックアップを復元すると、トランザクション ログに記録された変更がロールフォワードされ、ログ バックアップ操作が開始された時点のデータベースの正確な状態が再現されます。</span><span class="sxs-lookup"><span data-stu-id="7655e-250">Restoring a log backup rolls forward the changes that were recorded in the transaction log to re-create the exact state of the database at the time the log backup operation started.</span></span> <span data-ttu-id="7655e-251">データベースを復元するときは、復元するデータベースの完全バックアップ後に作成されたログ バックアップを復元するか、復元する最初のファイル バックアップの先頭からログ バックアップを復元する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-251">When you restore a database, you will have to restore the log backups that were created after the full database backup that you restore, or from the start of the first file backup that you restore.</span></span> <span data-ttu-id="7655e-252">通常、最新のデータまたは差分バックアップを復元した後、復旧ポイントに到達するまで一連のログ バックアップを復元する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7655e-252">Typically, after you restore the most recent data or differential backup, you must restore a series of log backups until you reach your recovery point.</span></span> <span data-ttu-id="7655e-253">その後、データベースを復旧します。</span><span class="sxs-lookup"><span data-stu-id="7655e-253">Then, you recover the database.</span></span> <span data-ttu-id="7655e-254">その結果、復旧を開始したときに不完全だったトランザクションがすべてロールバックされ、データベースがオンラインになります。</span><span class="sxs-lookup"><span data-stu-id="7655e-254">This rolls back all transactions that were incomplete when the recovery started and brings the database online.</span></span> <span data-ttu-id="7655e-255">データベースが復旧された後は、それ以上バックアップを復元できません。</span><span class="sxs-lookup"><span data-stu-id="7655e-255">After the database has been recovered, you cannot restore any more backups.</span></span> <span data-ttu-id="7655e-256">詳細については、「[トランザクション ログ バックアップの適用 &#40;SQL Server&#41;](../relational-databases/backup-restore/apply-transaction-log-backups-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="7655e-256">For more information, see [Apply Transaction Log Backups &#40;SQL Server&#41;](../relational-databases/backup-restore/apply-transaction-log-backups-sql-server.md).</span></span>  
  
## <a name="additional-reading"></a><span data-ttu-id="7655e-257">追加の参考資料</span><span class="sxs-lookup"><span data-stu-id="7655e-257">Additional Reading</span></span>  

 <span data-ttu-id="7655e-258">トランザクション ログに関するその他の情報については、次の記事および書籍を参照することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="7655e-258">We recommend the following articles and books for additional information about the transaction log.</span></span>  
  
 [<span data-ttu-id="7655e-259">SQL Server のログ記録と復旧について (著者: Paul Randall)</span><span class="sxs-lookup"><span data-stu-id="7655e-259">Understanding Logging and Recovery in SQL Server by Paul Randall</span></span>](https://technet.microsoft.com/magazine/2009.02.logging.aspx)  
  
 [<span data-ttu-id="7655e-260">SQL Server Transaction Log Management (SQL Server のトランザクション ログ管理) (著者: Tony Davis、Gail Shaw)</span><span class="sxs-lookup"><span data-stu-id="7655e-260">SQL Server Transaction Log Management by Tony Davis and Gail Shaw</span></span>](http://www.simple-talk.com/books/sql-books/sql-server-transaction-log-management-by-tony-davis-and-gail-shaw/)  
  
  
