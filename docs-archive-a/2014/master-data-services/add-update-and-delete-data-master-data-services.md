---
title: データの追加、更新、削除 (マスターデータサービス) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: master-data-services
ms.topic: conceptual
ms.assetid: b6295ead-bd2f-49dd-8756-35c6afb59648
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 5d3d0bf9460591a49cbaa2e5bcbfde6bc003d7a8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87718404"
---
# <a name="add-update-and-delete-data-master-data-services"></a><span data-ttu-id="9c7c4-102">データの追加、更新、および削除 (マスター データ サービス)</span><span class="sxs-lookup"><span data-stu-id="9c7c4-102">Add, Update and Delete Data (Master Data Services)</span></span>
  <span data-ttu-id="9c7c4-103">[!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)]のモデルに一括でデータの追加および変更を行えます。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-103">You can add data and make data changes to a model in [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)], in bulk.</span></span>  
  
 <span data-ttu-id="9c7c4-104">**前提条件**</span><span class="sxs-lookup"><span data-stu-id="9c7c4-104">**Prerequisites**</span></span>  
  
-   <span data-ttu-id="9c7c4-105">Stg にデータを挿入する権限が必要です。 \<name>_Leaf、stg。 \<name>_Consolidated、stg。 \<name>データベースのテーブルを _Relationship [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-105">You must have permission to insert data into the stg.\<name>_Leaf, the stg.\<name>_Consolidated, stg.\<name>_Relationship table in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
-   <span data-ttu-id="9c7c4-106">データベースで stg. udp_ \<name> _Leaf、stg udp \_ \<name> _Consolidated、または stg. udp \_ \<name> _Relationship ストアドプロシージャ [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] のいずれかを実行する権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-106">You must have permissions to execute either the stg.udp_\<name>_Leaf, stg.udp\_\<name>_Consolidated, or the stg.udp\_\<name>_Relationship stored procedure in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
-   <span data-ttu-id="9c7c4-107">モデルのステータスが **[コミット済み]** でないことが必須です。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-107">The model must not have a status of **Committed**.</span></span>  
  
 <span data-ttu-id="9c7c4-108">**データベースのデータを追加、更新、および削除するには [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)]**</span><span class="sxs-lookup"><span data-stu-id="9c7c4-108">**To add, update, and delete data in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database**</span></span>  
  
1.  <span data-ttu-id="9c7c4-109">必須フィールドの値を指定するなど、 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] データベースの適切なステージング テーブルにインポートするメンバーを準備します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-109">Prepare the members for import into the appropriate staging table in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database, including providing values for the required fields.</span></span> <span data-ttu-id="9c7c4-110">ステージングテーブルの概要については、「[データのインポート &#40;マスターデータサービス](overview-importing-data-from-tables-master-data-services.md)」を参照してください&#41;</span><span class="sxs-lookup"><span data-stu-id="9c7c4-110">For an overview of staging tables, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)</span></span>  
  
    -   <span data-ttu-id="9c7c4-111">リーフメンバーの場合、テーブルは stg です。 \<name>_Leaf。ここでは、 \<name> 対応するエンティティを参照します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-111">For leaf members the table is stg.\<name>_Leaf, where \<name> refers to the corresponding entity.</span></span> <span data-ttu-id="9c7c4-112">必須フィールドの詳細については、「[リーフ メンバー ステージング テーブル (マスター データ サービス)](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-112">For information about the required fields, see [Leaf Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)</span></span>  
  
    -   <span data-ttu-id="9c7c4-113">統合メンバーの場合、テーブルは stg です。 \<name>_Consolidated。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-113">For consolidated members, the table is stg.\<name>_Consolidated.</span></span> <span data-ttu-id="9c7c4-114">必須フィールドの詳細については、「[統合メンバー ステージング テーブル (マスター データ サービス)](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-114">For information about the required fields, see [Consolidated Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="9c7c4-115">明示的階層内のメンバーの位置を移動する場合、テーブルは stg です。 \<name>_Relationship。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-115">For moving the location of members in explicit hierarchies, the table is stg.\<name>_Relationship.</span></span> <span data-ttu-id="9c7c4-116">必須フィールドの詳細については、「[リレーションシップ ステージング テーブル (マスター データ サービス)](../../2014/master-data-services/relationship-staging-table-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-116">For information about the required fields, see [Relationship Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/relationship-staging-table-master-data-services.md).</span></span>  
  
         <span data-ttu-id="9c7c4-117">明示的階層内のメンバーの移動の概要については、「[データのインポート &#40;マスターデータサービス&#41;](overview-importing-data-from-tables-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-117">For an overview on moving members in explicit hierarchies, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="9c7c4-118">**[ImportType]** フィールドの値を使用して、メンバーの新規作成、メンバーの非アクティブ化、またはメンバーの削除を行っていることを指定します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-118">Use the **ImportType** field value to specify that you're creating new members, deactivating members, or deleting members.</span></span> <span data-ttu-id="9c7c4-119">値の詳細については、「[リーフ メンバー ステージング テーブル (マスター データ サービス)](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)」および「[統合メンバー ステージング テーブル (マスター データ サービス)](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-119">For more information about the values, see [Leaf Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md) and [Consolidated Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md).</span></span>  
  
         <span data-ttu-id="9c7c4-120">メンバーの非アクティブ化と削除の概要については、「[データのインポート &#40;マスターデータサービス&#41;](overview-importing-data-from-tables-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-120">For an overview of deactivating and deleting members, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span>  
  
2.  <span data-ttu-id="9c7c4-121">[!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] を開き、 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] データベースのデータベース エンジン インスタンスに接続します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-121">Open [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] and connect to the Database Engine instance for your [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
     <span data-ttu-id="9c7c4-122">詳細については、「 [SQL Server Management Studio](../ssms/sql-server-management-studio-ssms.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-122">For more information, see [SQL Server Management Studio](../ssms/sql-server-management-studio-ssms.md).</span></span>  
  
3.  <span data-ttu-id="9c7c4-123">[ [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] のインポートおよびエクスポート] ウィザードを使用して、データをステージング テーブルにインポートします。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-123">Import data into the staging tables by using the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Import and Export wizard.</span></span>  
  
     <span data-ttu-id="9c7c4-124">詳細については、「 [SQL Server Import and Export Wizard](../integration-services/import-export-data/import-and-export-data-with-the-sql-server-import-and-export-wizard.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-124">For more information, see [SQL Server Import and Export Wizard](../integration-services/import-export-data/import-and-export-data-with-the-sql-server-import-and-export-wizard.md).</span></span>  
  
4.  <span data-ttu-id="9c7c4-125">次のいずれかを実行して、ステージング テーブルからデータを [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] テーブルに読み込みます。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-125">Load the data from the staging tables to the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] tables, by doing one of the following</span></span>  
  
    -   <span data-ttu-id="9c7c4-126">データの移動先のステージング テーブルに対応するステージング ストアド プロシージャを実行します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-126">Run the staging stored procedure that corresponds to the staging table that you want to move data to.</span></span>  
  
         <span data-ttu-id="9c7c4-127">ステージングストアドプロシージャとステージングテーブルの概要については、「[データのインポート &#40;マスターデータサービス&#41;](overview-importing-data-from-tables-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-127">For an overview of staging stored procedures and staging tables, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span> <span data-ttu-id="9c7c4-128">ステージング ストアド プロシージャのパラメーターの詳細およびコード例については、「[ステージング ストアド プロシージャ (マスター データ サービス)](../../2014/master-data-services/staging-stored-procedure-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-128">For more information about parameters for staging stored procedures, and a code example, see [Staging Stored Procedure &#40;Master Data Services&#41;](../../2014/master-data-services/staging-stored-procedure-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="9c7c4-129">マスター データ管理の **[統合管理]** 機能領域 を使用します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-129">Use the **Integration Management** functional area of Master Data Management.</span></span>  
  
         <span data-ttu-id="9c7c4-130">**[ステージング バッチ]** ページで、ドロップダウン リストでデータの追加先のモデルを選択してから、 **[バッチの開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-130">On the **Staging Batches** page, select the model to which you're adding data to, in the drop-down list, and then click **Start Batches**.</span></span> <span data-ttu-id="9c7c4-131">バッチ処理の状態が、 **[状態]** フィールドに示されます。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-131">The status of the batch processing is indicated in the **Status** field.</span></span> <span data-ttu-id="9c7c4-132">状態の詳細については、「[インポート状態 (マスター データ サービス)](../../2014/master-data-services/import-statuses-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-132">For more information about the statuses, see [Import Statuses &#40;Master Data Services&#41;](../../2014/master-data-services/import-statuses-master-data-services.md).</span></span>  
  
         <span data-ttu-id="9c7c4-133">![マスター データ マネージャーでの [ステージング バッチ] ページ](../../2014/master-data-services/media/mds-staging-batches.png "マスター データ マネージャーでの [ステージング バッチ] ページ")</span><span class="sxs-lookup"><span data-stu-id="9c7c4-133">![Staging Batches Page in Master Data Manager](../../2014/master-data-services/media/mds-staging-batches.png "Staging Batches Page in Master Data Manager")</span></span>  
  
         <span data-ttu-id="9c7c4-134">ステージング処理は、 **の** [ステージング バッチの間隔] [!INCLUDE[ssMDScfgmgr](../includes/ssmdscfgmgr-md.md)]設定に定められた間隔で開始されます。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-134">The staging process  is started at intervals determined by the **Staging batch interval** setting in [!INCLUDE[ssMDScfgmgr](../includes/ssmdscfgmgr-md.md)].</span></span> <span data-ttu-id="9c7c4-135">詳細については、「[システム設定 &#40;マスター データ サービス&#41;](../../2014/master-data-services/system-settings-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-135">For more information, see [System Settings &#40;Master Data Services&#41;](../../2014/master-data-services/system-settings-master-data-services.md).</span></span>  
  
5.  <span data-ttu-id="9c7c4-136">ステージング中に発生したエラーを表示します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-136">View errors that occurred during staging.</span></span> <span data-ttu-id="9c7c4-137">詳細については、「[ステージング処理中に発生したエラーを表示](view-errors-that-occur-during-staging-master-data-services.md)する」を参照してください &#40;マスターデータサービス&#41;および[ステージング処理のエラー &#40;マスターデータサービス&#41;](../../2014/master-data-services/staging-process-errors-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-137">For more information, see [View Errors that Occur During the Staging Process &#40;Master Data Services&#41;](view-errors-that-occur-during-staging-master-data-services.md) and [Staging Process Errors &#40;Master Data Services&#41;](../../2014/master-data-services/staging-process-errors-master-data-services.md).</span></span>  
  
6.  <span data-ttu-id="9c7c4-138">ビジネス ルールに対してデータを検証します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-138">Validate the data against business rules.</span></span>  
  
     <span data-ttu-id="9c7c4-139">マスター データ マネージャーで、モデルの **[エクスプ ローラー]** 機能領域に移動してから、データを検証するビジネス ルールを適用します。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-139">In Master Data Manager, navigate to the **Explorer** functional area for your model, and then apply business rules to validate the data.</span></span> <span data-ttu-id="9c7c4-140">詳細については、「[ビジネス ルールに対して特定のメンバーを検証する (マスター データ サービス)](../../2014/master-data-services/validate-specific-members-against-business-rules-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-140">For more information , see [Validate Specific Members against Business Rules &#40;Master Data Services&#41;](../../2014/master-data-services/validate-specific-members-against-business-rules-master-data-services.md).</span></span> <span data-ttu-id="9c7c4-141">データの検証にはストアド プロシージャを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-141">You can also use a stored procedure to validate the data.</span></span> <span data-ttu-id="9c7c4-142">詳細については、「 [検証ストアド プロシージャ (マスター データ サービス)](../../2014/master-data-services/validation-stored-procedure-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-142">For more information, see [Validation Stored Procedure &#40;Master Data Services&#41;](../../2014/master-data-services/validation-stored-procedure-master-data-services.md).</span></span>  
  
     <span data-ttu-id="9c7c4-143">ステージング テーブルからデータを読み込む場合、ビジネス ルールに対してデータが自動的に検証されることはありません。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-143">When you load data by from the staging tables, the data is not automatically validated against business rules.</span></span> <span data-ttu-id="9c7c4-144">検証とその実施タイミングの詳細については、「[検証 (マスター データ サービス)](../../2014/master-data-services/validation-master-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9c7c4-144">For more information on what validation is and when it occurs, see [Validation &#40;Master Data Services&#41;](../../2014/master-data-services/validation-master-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9c7c4-145">参照</span><span class="sxs-lookup"><span data-stu-id="9c7c4-145">See Also</span></span>  
 [<span data-ttu-id="9c7c4-146">データのインポート &#40;マスターデータサービス&#41;</span><span class="sxs-lookup"><span data-stu-id="9c7c4-146">Data Import &#40;Master Data Services&#41;</span></span>](overview-importing-data-from-tables-master-data-services.md)  
  
  
