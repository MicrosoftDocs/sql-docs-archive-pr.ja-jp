---
title: 照合ポリシーの作成 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.kb.kbmatchingresults.f1
- sql12.dqs.kb.kbmatchingmap.f1
- sql12.dqs.kb.kbmatchingpolicy.f1
ms.assetid: cce77a06-ca31-47b6-8146-22edf001d605
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 0aeca06ede925486c46e2b858d62ff527d1ebdbe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87736798"
---
# <a name="create-a-matching-policy"></a><span data-ttu-id="64ebb-102">照合ポリシーの作成</span><span class="sxs-lookup"><span data-stu-id="64ebb-102">Create a Matching Policy</span></span>
  <span data-ttu-id="64ebb-103">このトピックでは、 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) でナレッジ ベースの照合ポリシーを作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-103">This topic describes how to build a matching policy in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="64ebb-104">サンプル データに対して照合ポリシー アクティビティを実行して、DQS の照合プロセスの準備を行います。</span><span class="sxs-lookup"><span data-stu-id="64ebb-104">You prepare for the matching process in DQS by running the Matching Policy activity on sample data.</span></span> <span data-ttu-id="64ebb-105">このアクティビティでは、まず、ポリシーの照合ルールを 1 つ以上作成してテストします。次に、ナレッジ ベースを発行して、それらの照合ルールを使用できるように公開します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-105">In this activity you create and test one or more matching rules in the policy, and then publish the knowledge base to make the matching rules publicly available for use.</span></span> <span data-ttu-id="64ebb-106">ナレッジ ベースで作成できる照合ポリシーは 1 つだけですが、そのポリシーに複数の照合ルールを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-106">There can be only one matching policy in a knowledge base, but that policy can contain multiple matching rules.</span></span>  
  
 <span data-ttu-id="64ebb-107">照合ポリシーを作成する手順は、データ ソースを特定してドメインを列にマップするマップ プロセス、1 つ以上の照合ルールを作成してそれぞれを個別にテストする照合ポリシー プロセス、およびすべての照合ルールをまとめて実行し、問題がなければポリシーをナレッジ ベースに追加する照合結果プロセスの 3 つのステージで構成されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-107">Matching policy creation is performed in three stages: a mapping process in which you identify the data source and map domains to columns, a matching policy process in which you create one or more matching rules and test each matching rule separately, and a matching results process in which you run all matching rules together, and if satisfied with them, add the policy to the knowledge base.</span></span> <span data-ttu-id="64ebb-108">照合ポリシー アクティビティのウィザードでは、これらの各プロセスをそれぞれ異なるページで実行します。前後の各ページに移動したり、プロセスを再実行したり、特定の照合ポリシー プロセスを完了した後にそのプロセスの同じステージに戻ることも可能です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-108">Each of these processes is performed on a separate page of the Matching Policy activity wizard, enabling you to move back and forth to different pages, to re-run the process, and to close out of a specific matching policy process and return to the same stage of the process.</span></span> <span data-ttu-id="64ebb-109">すべてのルールをまとめてテストした後、必要に応じて **[照合ポリシー]** ページに戻り、個々のルールを調整して再び個別にテストすることもできます。その後、 **[照合結果]** ページに戻り、もう一度すべてのルールをまとめて実行します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-109">After testing all rules together, if desired you can return to the **Matching Policy** page, tweak an individual rule, test it again separately, and then return to the **Matching Results** page to run all rules together once again.</span></span> <span data-ttu-id="64ebb-110">DQS から提供されるソース データ、照合ルール、および照合結果に関する統計情報に基づいて照合ポリシーに関する決定を行い、照合ポリシーを調整することができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-110">DQS provides you with statistics about the source data, the matching rules, and the matching results that enable you to make informed decisions about the matching policy, so you can refine it.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="64ebb-111">はじめに</span><span class="sxs-lookup"><span data-stu-id="64ebb-111">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="64ebb-112">前提条件</span><span class="sxs-lookup"><span data-stu-id="64ebb-112">Prerequisites</span></span>  
 <span data-ttu-id="64ebb-113">ソース データが Excel ファイルに含まれている場合は、 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] コンピューターに Microsoft Excel がインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-113">Microsoft Excel must be installed on the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] computer if the source data is in an Excel file.</span></span> <span data-ttu-id="64ebb-114">Excel がインストールされていないと、マップ ステージで Excel ファイルを選択できません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-114">Otherwise, you will not be able to select the Excel file in the mapping stage.</span></span> <span data-ttu-id="64ebb-115">Microsoft Excel で作成されるファイルの拡張子は、.xlsx、.xls、または .csv です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-115">The files created by Microsoft Excel can have an extension of .xlsx, .xls, or .csv.</span></span> <span data-ttu-id="64ebb-116">64 ビット バージョンの Excel を使用する場合は、Excel 2003 ファイル (.xls) のみがサポートされます。Excel 2007 または 2010 ファイル (.xlsx) はサポートされません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-116">If the 64-bit version of Excel is used, only Excel 2003 files (.xls) are supported; Excel 2007 or 2010 files (.xlsx) are not supported.</span></span> <span data-ttu-id="64ebb-117">64 ビット バージョンの Excel 2007 または 2010 を使用している場合は、ファイルを .xls ファイルまたは .csv ファイルとして保存するか、32 ビット バージョンの Excel をインストールしてください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-117">If you are using 64-bit version of Excel 2007 or 2010, save the file as an .xls file or a .csv file, or install a 32-bit version of Excel instead.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="64ebb-118">セキュリティ</span><span class="sxs-lookup"><span data-stu-id="64ebb-118">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="64ebb-119">Permissions</span><span class="sxs-lookup"><span data-stu-id="64ebb-119">Permissions</span></span>  
 <span data-ttu-id="64ebb-120">照合ポリシーを作成するには、DQS_MAIN データベースの dqs_kb_editor ロールまたは dqs_administrator ロールが必要です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-120">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a matching policy.</span></span>  
  
##  <a name="how-to-set-matching-rule-parameters"></a><a name="MatchingRules"></a><span data-ttu-id="64ebb-121">照合ルールのパラメーターを設定する方法</span><span class="sxs-lookup"><span data-stu-id="64ebb-121">How to Set Matching Rule Parameters</span></span>  
 <span data-ttu-id="64ebb-122">照合ルールを作成する際には、2 つのレコードが一致しているかどうかの確認に使用される要素を反復的なプロセスで入力します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-122">Creating a matching rule is an iterative process in which you enter the factors used to determine if one record is a match for another.</span></span> <span data-ttu-id="64ebb-123">テーブル内の任意のドメインの条件を入力できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-123">You can enter conditions for any domain in a table.</span></span> <span data-ttu-id="64ebb-124">DQS で 2 つのレコードが照合される際には、照合ルールに含まれているドメインにマップされているフィールドの値が比較されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-124">When DQS performs matching on two records, it will compare the values in the fields mapped to the domains that are included in the matching rule.</span></span> <span data-ttu-id="64ebb-125">ルールの各フィールドの値が分析され、ルールで各ドメインに対して入力した要素を使用して最終的な照合スコアが計算されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-125">DQS analyzes the values in each field in the rule, and then uses the factors entered in the rule for each domain to calculate a final matching score.</span></span> <span data-ttu-id="64ebb-126">比較された 2 つのレコードの照合スコアが最小照合スコアより大きい場合、その 2 つのフィールドは一致と見なされます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-126">If the matching score for the two records compared is greater than the minimum matching score, then the two fields are considered matches.</span></span>  
  
 <span data-ttu-id="64ebb-127">照合ルールで入力する要素を以下に示します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-127">The factors that you enter in a matching rule include the following:</span></span>  
  
-   <span data-ttu-id="64ebb-128">重み: ルールに含まれている各ドメインの重みを表す数値を入力します。これにより、ルールに含まれている各ドメインの照合分析の相対的な重要度が決まります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-128">Weight: For each domain in the rule, enter a numerical weight that determines how the matching analysis for the domain will be compared to that for each other domain in the rule.</span></span> <span data-ttu-id="64ebb-129">重みは、そのフィールドのスコアが 2 つのレコードの照合スコア全体に与える影響を示します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-129">The weight indicates the contribution of the field's score to the overall matching score between two records.</span></span> <span data-ttu-id="64ebb-130">各ソース フィールドに割り当てられた計算済みのスコアが集計されて、2 つのレコードの複合的な照合スコアが特定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-130">The calculated scores assigned to each source field are summed together for a composite matching score for the two records.</span></span> <span data-ttu-id="64ebb-131">前提条件ではない各フィールド (類似性が "完全一致" または "部分一致" のフィールド) に対して、10 ～ 100 の重みを設定します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-131">For each field that is not a prerequisite (with a similarity of exact or similar), set the weight between 10 and 100.</span></span> <span data-ttu-id="64ebb-132">前提条件ではないドメインの重みの合計が 100 になるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-132">The sum of the weights of the domains that are not prerequisites must be equal to 100.</span></span> <span data-ttu-id="64ebb-133">値が前提条件である場合、重みは 0 に設定され、変更できません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-133">If the value is a prerequisite, the weight is set to 0 and cannot be changed.</span></span>  
  
-   <span data-ttu-id="64ebb-134">"完全一致" の類似性: 2 つの異なるレコードの同じフィールドの値が一致と見なされるためには値が同一でなければならない場合は、 **[完全一致]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-134">Similarity of Exact: Select **Exact** if the values in the same field of two different records must be identical for the values to be considered to be a match.</span></span> <span data-ttu-id="64ebb-135">値が同一である場合は、そのドメインの照合スコアが "100" に設定され、そのスコアとルール内の他のドメインのスコアを使用して合計照合スコアが特定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-135">If identical, the matching score for that domain will be set to "100", and DQS will use that score and the scores for the other domains in the rule to determine the aggregate matching score.</span></span> <span data-ttu-id="64ebb-136">値が同一でない場合は、そのドメインの照合スコアが "0" に設定され、ルールの次の条件が処理されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-136">If not identical, the matching score for that domain will be set to "0", and processing of the rule will proceed to the next condition.</span></span> <span data-ttu-id="64ebb-137">数値ドメインの照合ルールを設定し、 **[部分一致]** を選択した場合は、パーセンテージまたは整数の許容範囲を入力できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-137">If you set up a matching rule for a numeric domain and you select **Similar**, you can enter a tolerance either as a percentage or an integer.</span></span> <span data-ttu-id="64ebb-138">日付型のドメインで **[部分一致]** を選択した場合は、日、月、または年 (整数) の許容範囲を入力できます。日付ドメインにはパーセンテージの許容範囲はありません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-138">For a domain of type date, you can enter a tolerance as a day, month, or year (integer) if you select **Similar**; there is no percentage tolerance for a date domain.</span></span> <span data-ttu-id="64ebb-139">このオプションは、 **[完全一致]** を選択した場合には使用できません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-139">If you select **Exact**, you do not have this option.</span></span>  
  
-   <span data-ttu-id="64ebb-140">"部分一致" の類似性: 2 つの異なるレコードの同じフィールドの値が同一でなくても一致と見なされうる場合は、 **[部分一致]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-140">Similarity of Similar: Select **Similar** if two values in the same field of two different records can be considered a match even if the values are not identical.</span></span> <span data-ttu-id="64ebb-141">ルールが実行されると、そのドメインの照合スコアが計算され、そのスコアとルール内の他のドメインのスコアを使用して合計照合スコアが特定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-141">When DQS runs the rule, it will calculate a matching score for that domain, and will use that score and the scores for the other domains in the rule to determine the aggregate matching score.</span></span> <span data-ttu-id="64ebb-142">フィールドの値の最小類似は 60% です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-142">The minimum similarity between the values of a field is 60%.</span></span> <span data-ttu-id="64ebb-143">2 つのレコードのフィールドに対して計算された照合スコアが 60 未満だった場合は、類似性スコアが自動的に 0 に設定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-143">If the calculated matching score for a field of two records is less than 60, the similarity score is automatically set to 0.</span></span> <span data-ttu-id="64ebb-144">数値フィールドの照合ルールを設定し、 **[部分一致]** を選択した場合は、パーセンテージまたは整数の許容範囲を入力できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-144">If you are setting up a matching rule for a numeric field, and you select **Similar**, you can enter a tolerance as a percentage or integer.</span></span> <span data-ttu-id="64ebb-145">日付フィールドの照合ルールを設定し、 **[部分一致]** を選択した場合は、数値の許容範囲を入力できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-145">If you are setting up a matching rule for a date field, and you select **Similar**, you can enter a numerical tolerance.</span></span>  
  
-   <span data-ttu-id="64ebb-146">前提条件: 2 つの異なるレコードの同じフィールドの値の一致率が 100% でなければそれらのレコードを一致と見なさず、ルールの他の句を無視する場合は、 **[前提条件]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-146">Prerequisite: Select **Prerequisite** to specify that the values in the same field in two different records must return a 100% match, or the records are not considered a match and the other clauses in the rule are disregarded.</span></span> <span data-ttu-id="64ebb-147">**[前提条件]** を選択すると、そのドメインの重みのフィールドが削除されて、そのドメインの重みを定義できなくなります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-147">When **Prerequisite** is selected, the weight field for the domain is removed so that you cannot define a weight for the domain.</span></span> <span data-ttu-id="64ebb-148">重みの合計が 100 になるように、1 つまたは複数のドメインの重みを設定し直す必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-148">You must reset one or more domain weights so that the sum of weights is equal to 100.</span></span> <span data-ttu-id="64ebb-149">前提条件のドメインは、レコードの照合スコアに影響しません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-149">Prerequisite domains do not contribute to the record matching score.</span></span> <span data-ttu-id="64ebb-150">レコードの照合スコアは、[類似性] が [部分一致] または [完全一致] に設定されているフィールドの値を比較することによって決定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-150">The record matching score is determined by comparing the values in fields for which the Similarity is set to Similar or Exact.</span></span> <span data-ttu-id="64ebb-151">フィールドを前提条件にすると、そのドメインの [類似性] が自動的に [完全一致] に設定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-151">When you make a field a prerequisite, the Similarity for that domain is automatically set to Exact.</span></span>  
  
 <span data-ttu-id="64ebb-152">最小照合スコアは、値がそれ以上の場合に 2 つのレコードが一致と見なされる (レコードの状態が "一致" に設定される) しきい値です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-152">The minimum matching score is the threshold at or above which two records are considered to be a match (and the status for the records is set to "Matched").</span></span> <span data-ttu-id="64ebb-153">値を整数で入力するか ("1" 刻み)、上下の矢印をクリックして設定します ("10" ずつ増減)。</span><span class="sxs-lookup"><span data-stu-id="64ebb-153">Enter an integer value in increments of "1" or click the up or down arrow to increase or decrease the value in increments of "10".</span></span> <span data-ttu-id="64ebb-154">最小値は 80 です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-154">The minimum value is 80.</span></span> <span data-ttu-id="64ebb-155">照合スコアが 80 未満の場合、2 つのレコードは一致と見なされません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-155">If the matching score is below 80, the two records are not considered a match.</span></span> <span data-ttu-id="64ebb-156">このページで最小照合スコアの範囲を変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-156">You cannot change the range of the minimum matching score in this page.</span></span> <span data-ttu-id="64ebb-157">最小照合スコアの最小値は 80 です。</span><span class="sxs-lookup"><span data-stu-id="64ebb-157">The lowest min. matching score is 80.</span></span> <span data-ttu-id="64ebb-158">ただし、管理ページで最小照合スコアの最小値を変更できます (DQS 管理者である場合)。</span><span class="sxs-lookup"><span data-stu-id="64ebb-158">You can, however, change the lowest minimum matching score within the Administration page (if you are a DQS administrator).</span></span>  
  
 <span data-ttu-id="64ebb-159">照合ルールの作成は、反復的なプロセスです。必要な結果を得るためには、ルールに含まれているドメインの相対的な重み、ドメインの類似性や前提条件のプロパティ、またはルールの最小照合スコアを変更しなければならなくなる場合があるためです。</span><span class="sxs-lookup"><span data-stu-id="64ebb-159">Creating a matching rule is an iterative process because you may need to change the relative weights of the domains in the rule, or the similarity or the prerequisite property for a domain, or the min. matching score for the rule, in order to achieve the results that you need.</span></span> <span data-ttu-id="64ebb-160">複数のルールを作成し、各ルールを実行して照合スコアが作成されるようにする必要がある場合もあります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-160">You may also find that you need to create multiple rules, each of which will be run to create the matching score.</span></span> <span data-ttu-id="64ebb-161">1 つのルールでは必要な結果を得るのが難しい場合でも、</span><span class="sxs-lookup"><span data-stu-id="64ebb-161">It may be difficult to achieve the result you need with only one rule.</span></span> <span data-ttu-id="64ebb-162">複数のルールを使用すると、必要な一致をさまざまな角度から分析できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-162">Multiple rules will provide different views of a required match.</span></span> <span data-ttu-id="64ebb-163">複数のルールを使用すると、各ルールのドメインの数を減らして、各ドメインの重みの値を高くすることができるため、結果が改善される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-163">With multiple rules, you may be able to include fewer domains in each rule, use higher weights for each domain, and achieve better results.</span></span> <span data-ttu-id="64ebb-164">必要な一致を見つけるために必要なルールの数は、データの精度や完全性が低いほど多くなり、</span><span class="sxs-lookup"><span data-stu-id="64ebb-164">If the data is less accurate and less complete, you may need more rules to find required matches.</span></span> <span data-ttu-id="64ebb-165">データの精度や完全性が高いほど少なくなります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-165">If the data is more accurate and complete, you need fewer rules.</span></span>  
  
 <span data-ttu-id="64ebb-166">プロファイリングでは、完全性と一意性について調査できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-166">Profiling gives insights on completeness and uniqueness.</span></span> <span data-ttu-id="64ebb-167">完全性と一意性は、同時に検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-167">Consider completeness and uniqueness in tandem.</span></span> <span data-ttu-id="64ebb-168">照合プロセスでフィールドに適用する重みを決定する際には、完全性と一意性のデータを使用します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-168">Use completeness and uniqueness data to determine what weight to give a field in the matching process.</span></span> <span data-ttu-id="64ebb-169">一意性が高いフィールドを照合ポリシーで使用する場合は、一致する結果が少なくなる可能性があるため、そのフィールドの重みを比較的小さな値に設定します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-169">If there is a high level of uniqueness in a field, using the field in a matching policy can decrease the matching results, so you may want to set the weight for that field to a relatively small value.</span></span> <span data-ttu-id="64ebb-170">一意性も完全性も低い列のドメインは含めないようにし、</span><span class="sxs-lookup"><span data-stu-id="64ebb-170">If you have a low level of uniqueness for a column, but low completeness, you may not want to include a domain for that column.</span></span> <span data-ttu-id="64ebb-171">一意性は低いが完全性は高い場合は含めるようにします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-171">With a low level of uniqueness, but a high level of completeness, you may want to include the domain.</span></span> <span data-ttu-id="64ebb-172">性別など、一意性が必然的に低くなる列もあります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-172">Some columns, such as gender, may naturally have a low level of uniqueness.</span></span> <span data-ttu-id="64ebb-173">詳細については、「 [[プロファイラー] タブと [結果] タブ](#Tabs)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-173">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
##  <a name="first-step-starting-a-matching-policy"></a><a name="Starting"></a> <span data-ttu-id="64ebb-174">最初の手順: 照合ポリシーの開始</span><span class="sxs-lookup"><span data-stu-id="64ebb-174">First Step: Starting a Matching Policy</span></span>  
 <span data-ttu-id="64ebb-175">照合ポリシー アクティビティは、 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] アプリケーションのナレッジ ベース管理領域で実行します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-175">You perform the matching policy activity in the knowledge base management area of the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] application.</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="64ebb-176">[Data Quality Client アプリケーションを実行](../../2014/data-quality-services/run-the-data-quality-client-application.md)します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-176">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="64ebb-177">新しいナレッジ ベースの照合ポリシーを作成する場合は、 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] のホーム画面で **[新しいナレッジ ベース]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-177">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, click **New knowledge base** to create a matching policy in a new knowledge base.</span></span> <span data-ttu-id="64ebb-178">ナレッジ ベースの名前を入力し、説明を入力して、必要に応じて **[次の場所からナレッジ ベースを作成]** を設定します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-178">Enter a name for the knowledge base, enter a description, and set **Create knowledge base from** as desired.</span></span> <span data-ttu-id="64ebb-179">アクティビティとして **[照合ポリシー]** をクリックし、</span><span class="sxs-lookup"><span data-stu-id="64ebb-179">Click **Matching Policy** for the activity.</span></span> <span data-ttu-id="64ebb-180">**[次へ]** をクリックして続行します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-180">Click **Next** to proceed.</span></span>  
  
3.  <span data-ttu-id="64ebb-181">既存のナレッジ ベースの照合ポリシーを作成または変更する場合は、 **[ナレッジ ベースを開く]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-181">Click **Open knowledge base** to create or modify the matching policy in an existing knowledge base.</span></span> <span data-ttu-id="64ebb-182">ナレッジ ベースを選択し、 **[照合ポリシー]** を選択して、 **[次へ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-182">Select the knowledge base, select **Matching Policy**, and then click **Next**.</span></span> <span data-ttu-id="64ebb-183">**[最近使用したナレッジ ベース]** でナレッジ ベースをクリックすることもできます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-183">You can also click a knowledge base under **Recent Knowledge Base**.</span></span> <span data-ttu-id="64ebb-184">照合ポリシー アクティビティの途中で閉じられたナレッジ ベースを開くと、閉じられたときのステージ (ナレッジ ベース テーブルのそのナレッジ ベースの **[状態]** 列または **[最近使用したナレッジ ベース]** のナレッジ ベース名に示されます) に移動します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-184">If you open a knowledge base that was closed while a matching policy was being worked on, you will proceed to the stage that the matching policy activity was closed in (as indicated by the **State** column for the knowledge base in the knowledge base table or in the knowledge base name under **Recent Knowledge Base**).</span></span> <span data-ttu-id="64ebb-185">照合ポリシーが含まれている完了済みのナレッジ ベースを開くと、 **[照合ポリシー]** ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-185">If you open a knowledge base that includes a matching policy and was finished, you will go to the **Matching Policy** page.</span></span> <span data-ttu-id="64ebb-186">照合ポリシーが含まれていない完了済みのナレッジ ベースを開くと、 **[マッピング]** ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-186">If you open a knowledge base that does not include a matching policy and was finished, you will go to the **Mapping** Page.</span></span>  
  
##  <a name="mapping-stage"></a><a name="MatchingStage"></a> <span data-ttu-id="64ebb-187">マップ ステージ</span><span class="sxs-lookup"><span data-stu-id="64ebb-187">Mapping Stage</span></span>  
 <span data-ttu-id="64ebb-188">マップ ステージでは、照合ポリシーを作成するデータのソースを特定し、ドメインを照合ポリシー アクティビティで使用できるようにソース列をドメインにマップします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-188">In the mapping stage you identify the source of the data that you will create the matching policy for, and you map source columns to domains to make the domains available for the matching policy activity.</span></span>  
  
1.  <span data-ttu-id="64ebb-189">データベースのポリシーを作成する場合は、 **[マップ]** ページで **[データ ソース]** を **[SQL Server]** のままにして、 **[データベース]** でポリシーを作成するデータベースを選択し、 **[テーブル/ビュー]** でテーブルまたはビューを選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-189">On the **Map** page, to create a policy for a database, leave **Data Source** as **SQL Server**, select the database that you want to create the policy for in **Database**, and then select the table or view in **Table/View**.</span></span> <span data-ttu-id="64ebb-190">ソース データベースは、 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)]と同じ SQL Server インスタンス上に存在する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-190">The source database must be present in the same SQL Server instance as [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)].</span></span> <span data-ttu-id="64ebb-191">それ以外の場合、データベースはドロップダウン リストに表示されません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-191">Otherwise, it will not appear in the drop-down list.</span></span>  
  
2.  <span data-ttu-id="64ebb-192">Excel ワークシートのデータのポリシーを作成する場合は、 **[データ ソース]** で **[Excel ファイル]** を選択し、 **[参照]** をクリックして Excel ファイルを選択します。必要に応じて、 **[先頭の行を見出しとして使用]** は選択したままにします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-192">To create a policy for the data in an Excel spreadsheet, select **Excel File** for **Data Source**, click **Browse** and select the Excel file, and leave **Use first row as header** selected if appropriate.</span></span> <span data-ttu-id="64ebb-193">**[ワークシート]** で、データのソースとなる Excel ファイルのワークシートを選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-193">In **Worksheet**, select the worksheet in the Excel file that will be the source of the data.</span></span> <span data-ttu-id="64ebb-194">Excel ファイルを選択するには、Data Quality Client コンピューターに Microsoft Excel がインストールされている必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-194">Microsoft Excel must be installed on the Data Quality Client computer to select an Excel file.</span></span> <span data-ttu-id="64ebb-195">インストールされていない場合は、[参照] ボタンを使用できません。Microsoft Excel がインストールされていないことを通知するメッセージが、このテキスト ボックスの下に表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-195">Otherwise, the Browse button will not be available, and you will be notified beneath this text box that Microsoft Excel is not installed.</span></span>  
  
3.  <span data-ttu-id="64ebb-196">**[マッピング]** の **[ソース列]** でフィールドを選択し、 **[ドメインの作成]** アイコンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-196">Under **Mappings**, select a field for **Source Column**, and then click the **Create Domain** icon.</span></span>  
  
4.  <span data-ttu-id="64ebb-197">**[マッピング]** の **[ソース列]** でデータ ソースのフィールドを選択し、対応するドメインを選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-197">Under **Mappings**, select a field in the data source for **Source Column**, and then select the corresponding domain.</span></span> <span data-ttu-id="64ebb-198">照合プロセスで使用するすべてのドメインについて繰り返します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-198">Repeat for all domains that you use in the matching process.</span></span> <span data-ttu-id="64ebb-199">必要に応じて、 **[ドメインの作成]** または **[複合ドメインの作成]** をクリックしてドメインを作成します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-199">Create domains as necessary by clicking **Create a Domain** or **Create a Composite Domain**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-200">照合ポリシーの作成時にソース データを DQS ドメインにマッピングできるのは、ソースのデータ型が DQS でサポートされていて、なおかつ DQS ドメインのデータ型と一致する場合だけです。</span><span class="sxs-lookup"><span data-stu-id="64ebb-200">You can map your source data to a DQS domain while creating a matching policy only if the source data type is supported in DQS, and matches with the DQS domain data type.</span></span> <span data-ttu-id="64ebb-201">DQS でサポートされるデータ型の詳細については、「 [DQS ドメインに対してサポートされる SQL Server のデータ型と SSIS のデータ型](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-201">For information about supported data types in DQS, see [Supported SQL Server and SSIS Data Types for DQS Domains](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md).</span></span>  
  
5.  <span data-ttu-id="64ebb-202">マッピング テーブルに行を追加するには、**プラス記号 (+)** コントロールをクリックします。行を削除するには、**マイナス記号 (-)** コントロールをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-202">Click the **plus (+)** control to add a row to the Mappings table or the **minus (-)** control to remove a row.</span></span>  
  
6.  <span data-ttu-id="64ebb-203">選択した SQL Server のテーブルやビューのデータ、または選択した Excel ワークシートのデータを表示するには、 **[データ ソースのプレビュー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-203">Click **Preview data source** to see the data in the SQL Server table or view that you selected, or the Excel worksheet that you selected.</span></span>  
  
7.  <span data-ttu-id="64ebb-204">ナレッジ ベースで使用できる複合ドメインの一覧を表示し、必要に応じてマップするものを選択するには、 **[複合ドメインの表示と選択]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-204">Click **View/Select Composite Domains** to view a list of the composite domains available in the knowledge base and select as appropriate for mapping.</span></span>  
  
8.  <span data-ttu-id="64ebb-205">**[次へ]** をクリックして照合ポリシー ステージに進みます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-205">Click **Next** to proceed to the matching policy stage.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-206">**[閉じる]** をクリックすると、照合プロジェクトのステージが保存され、DQS ホーム ページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-206">Click **Close** to save the stage of the matching project, and return to the DQS home page.</span></span> <span data-ttu-id="64ebb-207">次回このプロジェクトを開いたとき、プロジェクトは同じステージから開始されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-207">The next time you open this project, it will start from the same stage.</span></span> <span data-ttu-id="64ebb-208">**[キャンセル]** をクリックすると、照合アクティビティが終了して作業内容が破棄され、DQS ホーム ページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-208">Click **Cancel** to end the matching activity, losing your work, and return to the DQS home page.</span></span>  
  
##  <a name="matching-policy-stage"></a><a name="MatchingPolicyStage"></a> <span data-ttu-id="64ebb-209">照合ポリシー ステージ</span><span class="sxs-lookup"><span data-stu-id="64ebb-209">Matching Policy Stage</span></span>  
 <span data-ttu-id="64ebb-210">[照合ポリシー] ページで、照合ルールを作成して個別にテストします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-210">You create matching rules and test them individually in the Matching Policy page.</span></span> <span data-ttu-id="64ebb-211">**[照合ポリシー]** ページで照合ルールをテストすると、選択したルールに対して特定されたクラスターが照合結果のテーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-211">When you test a matching rule on the **Matching Policy** page, you will see a matching results table that shows the clusters that DQS has identified for the selected rule.</span></span> <span data-ttu-id="64ebb-212">このテーブルには、クラスターの各レコードが、マップされるドメイン値および照合スコアと共に表示されるほか、クラスターの最初のピボット レコードも表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-212">The table shows each record in the cluster with the mapping domain values and matching score, and the initial pivot record for the cluster.</span></span> <span data-ttu-id="64ebb-213">照合プロセス全体のプロファイル データ、各照合ルールの条件、および各照合ルールの個別の結果に関する統計情報を表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-213">You can also display profiling data for the matching process as a whole, the conditions in each matching rule, and statistics on the results for each matching rule separately.</span></span> <span data-ttu-id="64ebb-214">マスター ルール データにフィルターを適用することもできます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-214">You can filter on the master rule data that you want.</span></span>  
  
 <span data-ttu-id="64ebb-215">照合ルールの動作の詳細については、「 [照合ルールのパラメーターを設定する方法](#MatchingRules)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-215">For more information on how matching rules work, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
1.  <span data-ttu-id="64ebb-216">**[照合ポリシー]** ページで、 **[照合ルールを作成します]** アイコンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-216">On the **Matching Policy** page, click the **Create a matching rule** icon.</span></span>  
  
2.  <span data-ttu-id="64ebb-217">ルールの名前と説明を入力します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-217">Enter a name and description for the rule.</span></span>  
  
3.  <span data-ttu-id="64ebb-218">照合要件を厳しくする場合は、 **[最小の照合スコア]** の値を大きくします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-218">Increase the value of the **Min. matching score** if you want to make the matching requirements more stringent.</span></span> <span data-ttu-id="64ebb-219">最小照合スコアの詳細については、「 [照合ルールのパラメーターを設定する方法](#MatchingRules)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-219">For more information about the minimum matching score, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
4.  <span data-ttu-id="64ebb-220">**[新しいドメイン要素を追加します]** アイコンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-220">Click the **Add a new domain element** icon.</span></span>  
  
5.  <span data-ttu-id="64ebb-221">ルールの値を入力するドメインまたは複合ドメインを選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-221">Select a domain or composite domain to enter rule values for.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-222">複合ドメインは、その複合ドメイン内の各単一ドメインがソース列にマップされている場合にのみ選択できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-222">You can select a composite domain only if each single domain in the composite domain has been mapped to a source column.</span></span>  
  
6.  <span data-ttu-id="64ebb-223">**[類似性]** で、2 つの異なるレコードの同じフィールドの値が同一でなくても一致と見なされうる場合は **[部分一致]** を選択し、</span><span class="sxs-lookup"><span data-stu-id="64ebb-223">For **Similarity**, select **Similar** if two values in the same field of two different records can be considered a match even if not identical.</span></span> <span data-ttu-id="64ebb-224">2 つの異なるレコードの同じフィールドの値が一致と見なされるためには値が同一でなければならない場合は **[完全一致]** を選択します</span><span class="sxs-lookup"><span data-stu-id="64ebb-224">Select **Exact** if two values in the same field of two different records must be identical to be considered to be a match.</span></span> <span data-ttu-id="64ebb-225">詳細については、「 [照合ルールのパラメーターを設定する方法](#MatchingRules)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-225">(For more information, see [How to Set Matching Rule Parameters](#MatchingRules).)</span></span>  
  
7.  <span data-ttu-id="64ebb-226">**[重み]** で、ドメインの照合スコアが 2 つのレコードの照合スコア全体に与える影響を決定する値を入力します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-226">For **Weight**, enter a value that determines the contribution of a domain's matching score to the overall matching score for two records.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-227">複合ドメインの重みを定義するときには、複合ドメイン内の各単一ドメインの重みを個別に入力することも (この場合、複合ドメインの重みは指定しません)、複合ドメインに対して単一の重みを入力することもできます (この場合、複合ドメイン内の単一ドメインの重みは指定しません)。</span><span class="sxs-lookup"><span data-stu-id="64ebb-227">When you define a weight for a composite domain, you can enter a different weight for each single domain in the composite domain, in which case the composite domain is not given a separate weight, or you can enter a single weight for the composite domain, in which the single domains in the composite domain are not given separate weights.</span></span>  
  
8.  <span data-ttu-id="64ebb-228">2 つのレコードのフィールドの値の一致率が 100% でなければそれらのレコードを一致と見なさず、ルールの他の句を無視する場合は、 **[前提条件]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-228">Select **Prerequisite** to specify that the values for the field in the two records must return a 100% match, else the records are not considered a match and the other clauses in the rule are disregarded.</span></span> <span data-ttu-id="64ebb-229">**[類似性]** が **[部分一致]** になっている場合は **[完全一致]** に変更され、重みが削除されます (一致率が 100% でなければならないため)。</span><span class="sxs-lookup"><span data-stu-id="64ebb-229">If the **Similarity** is **Similar**, it will change to **Exact**, and the weight will be removed because the match must be 100%.</span></span>  
  
9. <span data-ttu-id="64ebb-230">照合ルールに含める他のすべてのドメインに対して、手順 4. ～ 8. を繰り返します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-230">Repeat steps 4 through 8 for all other domains that will be part of the matching rule.</span></span> <span data-ttu-id="64ebb-231">ルールに含まれているすべてのドメインの重みの合計が 100 になるようにします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-231">Ensure that the sum of the weights for all domains in the rule equals 100.</span></span>  
  
10. <span data-ttu-id="64ebb-232">照合の実行時に、クラスターのグループに共通のレコードがあるかどうかに関係なく、すべてのクラスターのピボット レコードとそれに従ったレコードを表示する場合は、ドロップダウン リストから **[重複するクラスター]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-232">Select **Overlapping clusters** from the drop-down list to display the pivot records and following records for all clusters when matching is executed, even if groups of clusters have records in common.</span></span> <span data-ttu-id="64ebb-233">**[重複しないクラスター]** を選択すると、照合の実行時に、共通のレコードを持つクラスターが 1 つのクラスターとして表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-233">Select **Non overlapping clusters** to display clusters that have records in common as a single cluster when matching is executed.</span></span>  
  
11. <span data-ttu-id="64ebb-234">照合ポリシーの実行時に、データ ソースからステージング テーブルにデータをコピーしてインデックスを再作成する場合は、 **[ソースからデータを再読み込み]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-234">Click **Reload data from source** to copy data from the data source into the staging table and re-index it when you run the matching policy.</span></span> <span data-ttu-id="64ebb-235">ステージング テーブルへのデータのコピーとインデックスの再作成を行わずに照合ポリシーを実行する場合は、 **[以前のデータで実行]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-235">Click **Execute on previous data** to run a matching policy without copying the data into the staging table and re-indexing the data.</span></span> <span data-ttu-id="64ebb-236">**[以前のデータで実行]** は、照合ポリシーの初回実行時は無効になります。また、 **[マップ]** ページでマッピングを変更した後に、ポップアップ画面で **[はい]** をクリックした場合も無効になります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-236">**Execute on previous data** is disabled for the first run of the matching policy, or if you change mapping in the **Map** page, and then press **Yes** in the following popup.</span></span> <span data-ttu-id="64ebb-237">この場合はどちらも、インデックスを再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-237">In both of those cases, you must re-index.</span></span> <span data-ttu-id="64ebb-238">照合ポリシーに変更がなければ、インデックスを再作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-238">It is not necessary to re-index if the matching policy has not changed.</span></span> <span data-ttu-id="64ebb-239">以前のデータで実行するとパフォーマンスの向上に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-239">Executing on previous data can help performance.</span></span>  
  
12. <span data-ttu-id="64ebb-240">選択したルールの照合プロセスを実行するには、 **[開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-240">Click **Start** to run the matching process for the selected rule.</span></span> <span data-ttu-id="64ebb-241">プロセスが完了すると、クラスター内の各レコードのレコード ID、クラスター番号、およびデータ列 (照合ルールに含まれていない列を含む) がテーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-241">When the process is complete, the table displays the Record ID, Cluster number, and data columns (including those not in the matching rule) for each record in a cluster.</span></span> <span data-ttu-id="64ebb-242">クラスター内のピボット行は、重複除去プロセスで保持される最有力候補と見なされます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-242">The pivot row in the cluster is considered to be the prime candidate for surviving the de-duplication process.</span></span> <span data-ttu-id="64ebb-243">クラスター内のその他の各行は重複と見なされ、照合スコア (ピボット レコードとの比較) が結果テーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-243">Each additional row in a cluster is considered a duplicate; its matching score (compared to the pivot record) is provided in the results table.</span></span> <span data-ttu-id="64ebb-244">クラスター番号は、クラスター内のピボット レコードのレコード ID と同じになります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-244">The cluster number is that same as the record ID for the pivot record in the cluster.</span></span>  
  
13. <span data-ttu-id="64ebb-245">**"照合結果"** テーブルのデータは、次のように操作することができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-245">You can work with the data in the **Matching Results** table as follows:</span></span>  
  
    -   <span data-ttu-id="64ebb-246">**[フィルター]** で **[一致]** を選択すると、一致しているすべての行とそのスコアが表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-246">In **Filter**, select **Matched** to show all matched rows and their score.</span></span> <span data-ttu-id="64ebb-247">一致と見なされない行 (照合スコアが最小照合スコアを下回る行) は表示されません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-247">Rows that are not considered matches (that have a matching score less than the minimum matching score) are not shown in the matching results table.</span></span> <span data-ttu-id="64ebb-248">**[不一致]** を選択すると、一致している行ではなく、一致していないすべての行が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-248">Select **Unmatched** to show all unmatched rows, not matched rows.</span></span>  
  
    -   <span data-ttu-id="64ebb-249">**[パーセント]** ボックスの一覧で、パーセンテージ ("5" 刻み) を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-249">In the **Percent Drop Down Box**, select a percentage from the drop-down list, in increments of "5".</span></span> <span data-ttu-id="64ebb-250">選択したパーセンテージ以上の照合スコアを持つすべての行が照合結果テーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-250">All rows with a matching score that is greater than or equal to that percentage will be displayed in the matching results table.</span></span>  
  
    -   <span data-ttu-id="64ebb-251">照合結果テーブルのレコードをダブルクリックすると、 **[照合スコアの詳細]** ポップアップが表示され、ピボット レコードとソース レコード (およびそれらのフィールドの値)、それらのレコード間のスコア、およびレコード照合のドリルダウンが表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-251">If you double-click a record in the matching results table, DQS displays a **Matching Score Details** popup that displays the pivot record and source record (and the values in all their fields), the score between them, and a drill-down of the record matching.</span></span> <span data-ttu-id="64ebb-252">ドリルダウンでは、ピボット レコードとソース レコードの各フィールドの値が表示されるため、それらを比較することができます。2 つのレコードの照合スコア全体に占める各フィールドの照合スコアも確認できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-252">The drill-down displays the values in each field of the pivot record and source record so you can compare them, and shows the matching score that each field contributes to the overall matching score for the two records.</span></span>  
  
14. <span data-ttu-id="64ebb-253">**[プロファイラー]** タブと **[照合結果]** タブで統計情報を表示して、必要な結果が得られたことを確認します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-253">View the statistics in the **Profiler** and **Matching Results** tabs to ensure that you are achieving the results that you need.</span></span> <span data-ttu-id="64ebb-254">詳細については、「 [[プロファイラー] タブと [結果] タブ](#Tabs)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-254">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
15. <span data-ttu-id="64ebb-255">ルールを変更する必要がある場合は、ルール エディターで変更して、 **[再起動]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-255">If the rule needs to be changed, change it in the Rule Editor, and click **Restart**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-256">初回の分析が完了すると、 **[開始]** ボタンが **[再起動]** ボタンに変わります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-256">After the first analysis has completed, the **Start** button turns into a **Restart** button.</span></span> <span data-ttu-id="64ebb-257">前回の分析の結果がまだ保存されていない場合は、 **[再起動]** をクリックすると前のデータが失われます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-257">If the results from the previous analysis have not been saved as yet, clicking **Restart** will cause that previous data to be lost.</span></span> <span data-ttu-id="64ebb-258">分析の実行中にページを移動しないでください。ページを移動すると、分析プロセスが終了します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-258">As the analysis is running, do not leave the page or the analysis process will be terminated.</span></span>  
  
16. <span data-ttu-id="64ebb-259">**[照合結果]** タブには、ルールの過去 2 回の実行の統計情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-259">The **Matching Results** tab displays statistics for the last two runs of the rule.</span></span> <span data-ttu-id="64ebb-260">照合ルールを異なる設定で複数回実行すると、現在のルールと以前のルールの統計情報を比較することができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-260">If you have run the matching rule more than once with different settings, compare the statistics for the current rule and the previous rule.</span></span> <span data-ttu-id="64ebb-261">以前のルールの方が結果が良かった場合は、 **[以前のルールを復元]** をクリックして以前のルールの条件を復元し、ルールを編集前の状態に戻します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-261">If you find that the results from the previous rule were better, click **Restore Previous rule** to restore the conditions of the previous rule, returning the rule to its previous state before editing.</span></span> <span data-ttu-id="64ebb-262">現在のルールの条件は失われます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-262">The current rule conditions will be lost.</span></span> <span data-ttu-id="64ebb-263">これにより、過去 2 回の照合結果に基づいてポリシーを調整できるため、照合ポリシーの調整に費やされる時間を短縮できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-263">This enables you to tune the policy based on the last two matching runs, decreasing the time that you spend tuning the matching policy.</span></span>  
  
17. <span data-ttu-id="64ebb-264">照合ポリシーに別のルールを追加する場合は、この手順を手順 1. から繰り返します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-264">If you want another rule to be added to the matching policy, repeat from step 1.</span></span>  
  
18. <span data-ttu-id="64ebb-265">**[次へ]** をクリックして照合結果ステージに進みます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-265">Click **Next** to proceed to the matching results stage.</span></span>  
  
##  <a name="matching-results-stage"></a><a name="MatchingResultsStage"></a> <span data-ttu-id="64ebb-266">照合結果ステージ</span><span class="sxs-lookup"><span data-stu-id="64ebb-266">Matching Results Stage</span></span>  
 <span data-ttu-id="64ebb-267">**[照合結果]** ページでは、すべての照合ルールを一度にテストします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-267">You test all your matching rules at once in the **Matching Results** page.</span></span> <span data-ttu-id="64ebb-268">ルールのテストを実行する前に、重複するクラスターと重複しないクラスターのどちらを特定するかを指定できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-268">Before you do so, you can specify that the rule test run identify overlapping or non-overlapping clusters.</span></span> <span data-ttu-id="64ebb-269">ルールを複数回実行する場合は、ソースから再読み込みされたデータに対して実行するか、以前のデータに対して実行するかも指定できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-269">If you are running the rules multiple times, you can execute the rule on data reloaded from the source or on previous data.</span></span>  
  
 <span data-ttu-id="64ebb-270">**[照合結果]** ページで照合ルールをテストすると、すべてのルールに対して特定されたクラスターが照合結果のテーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-270">When you test the matching rules on the **Matching Results** page, you will see a matching results table that shows the clusters that DQS has identified for all rules.</span></span> <span data-ttu-id="64ebb-271">このテーブルには、クラスターの各レコードが、マップされるドメイン値および照合スコアと共に表示されるほか、クラスターの最初のピボット レコードも表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-271">The table shows each record in the cluster with the mapping domain values and matching score, and the initial pivot record for the cluster.</span></span> <span data-ttu-id="64ebb-272">照合ルール全体のプロファイル データ、各照合ルールの条件、およびすべての照合ルールの結果に関する統計情報を表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-272">You can also display profiling data for the matching rules as a whole, the conditions in each matching rule, and statistics on the results for all matching rules.</span></span>  
  
1.  <span data-ttu-id="64ebb-273">**[照合結果]** ページで、ドロップダウン リストから **[重複するクラスター]** を選択すると、照合の実行時に、クラスターのグループに共通のレコードがあるかどうかに関係なく、すべてのクラスターのピボット レコードとそれに従ったレコードが表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-273">On the **Matching Results** page, select **Overlapping clusters** from the drop-down list to display the pivot records and following records for all clusters when matching is executed, even if groups of clusters have records in common.</span></span> <span data-ttu-id="64ebb-274">**[重複しないクラスター]** を選択すると、照合の実行時に、共通のレコードを持つクラスターが 1 つのクラスターとして表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-274">Select **Non overlapping clusters** to display clusters that have records in common as a single cluster when matching is executed.</span></span>  
  
2.  <span data-ttu-id="64ebb-275">照合ポリシーの実行時に、データ ソースからステージング テーブルにデータをコピーしてインデックスを再作成する場合は、 **[ソースからデータを再読み込み]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-275">Click **Reload data from source** to copy data from the data source into the staging table and re-index it when you run the matching policy.</span></span> <span data-ttu-id="64ebb-276">ステージング テーブルへのデータのコピーとインデックスの再作成を行わずに照合ポリシーを実行する場合は、 **[以前のデータで実行]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-276">Click **Execute on previous data** to run a matching policy without copying the data into the staging table and re-indexing the data.</span></span> <span data-ttu-id="64ebb-277">**[以前のデータで実行]** は、照合ポリシーの初回実行時は無効になります。また、 **[マップ]** ページでマッピングを変更した後に、ポップアップ画面で **[はい]** をクリックした場合も無効になります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-277">**Execute on previous data** is disabled for the first run of the matching policy, or if you change mapping in the **Map** page, and then press **Yes** in the following popup.</span></span> <span data-ttu-id="64ebb-278">この場合はどちらも、インデックスを再作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-278">In both of those cases, you must re-index.</span></span> <span data-ttu-id="64ebb-279">照合ポリシーに変更がなければ、インデックスを再作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-279">It is not necessary to re-index if the matching policy has not changed.</span></span> <span data-ttu-id="64ebb-280">以前のデータで実行するとパフォーマンスの向上に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-280">Executing on previous data can help performance.</span></span>  
  
3.  <span data-ttu-id="64ebb-281">定義したすべてのルールの照合プロセスを実行するには、 **[開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-281">Click **Start** to run the matching process for all rules that you have defined.</span></span> <span data-ttu-id="64ebb-282">クラスター内の各レコードのレコード ID、クラスター番号、およびデータ列 (照合ルールに含まれていない列を含む) が **"照合結果"** テーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-282">The **Matching Results** table displays the record ID, cluster number, and data columns (including those not in the matching rule) for each record in a cluster.</span></span> <span data-ttu-id="64ebb-283">クラスターの先頭レコードはランダムに選択されます</span><span class="sxs-lookup"><span data-stu-id="64ebb-283">The leading record in the cluster is selected randomly.</span></span> <span data-ttu-id="64ebb-284">(残りのレコードを確認するには、照合プロジェクトの実行時に [**エクスポート**] ページで [サバイバーシップ] 規則を選択します)。クラスター内のその他の各行は重複していると見なされます。結果テーブルには、照合スコア (ピボットレコードと比較) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-284">(You determine the surviving record by selected the survivorship rule on the **Export** page when you run the matching project.) Each additional row in a cluster is considered a duplicate; its matching score (compared to the pivot record) is provided in the results table.</span></span>  
  
4.  <span data-ttu-id="64ebb-285">**"照合結果"** テーブルのデータは、次のように操作することができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-285">You can work with the data in the **Matching Results** table as follows:</span></span>  
  
    -   <span data-ttu-id="64ebb-286">**[フィルター]** で **[一致]** を選択すると、一致しているすべての行とそのスコアが表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-286">In **Filter**, select **Matched** to show all matched rows and their score.</span></span> <span data-ttu-id="64ebb-287">一致と見なされない行 (照合スコアが最小照合スコアを下回る行) は表示されません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-287">Rows that are not considered matches (that have a matching score less than the minimum matching score) are not shown in the matching results table.</span></span> <span data-ttu-id="64ebb-288">**[不一致]** を選択すると、一致している行ではなく、一致していないすべての行が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-288">Select **Unmatched** to show all unmatched rows, not matched rows.</span></span>  
  
    -   <span data-ttu-id="64ebb-289">**[パーセント]** ボックスの一覧で、パーセンテージ ("5" 刻み) を選択します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-289">In the **Percent Drop Down Box**, select a percentage from the drop-down list, in increments of "5".</span></span> <span data-ttu-id="64ebb-290">選択したパーセンテージ以上の照合スコアを持つすべての行が照合結果テーブルに表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-290">All rows with a matching score that is greater than or equal to that percentage will be displayed in the matching results table.</span></span>  
  
    -   <span data-ttu-id="64ebb-291">照合結果テーブルのレコードをダブルクリックすると、 **[照合スコアの詳細]** ポップアップが表示され、ピボット レコードとソース レコード (およびそれらのフィールドの値)、それらのレコード間のスコア、およびレコード照合のドリルダウンが表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-291">If you double-click a record in the matching results table, DQS displays a **Matching Score Details** popup that displays the pivot record and source record (and the values in all their fields), the score between them, and a drill-down of the record matching.</span></span> <span data-ttu-id="64ebb-292">ドリルダウンでは、ピボット レコードとソース レコードの各フィールドの値が表示されるため、それらを比較することができます。2 つのレコードの照合スコア全体に占める各フィールドの照合スコアも確認できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-292">The drill-down displays the values in each field of the pivot record and source record so you can compare them, and shows the matching score that each field contributes to the overall matching score for the two records.</span></span>  
  
5.  <span data-ttu-id="64ebb-293">**[プロファイラー]** タブと **[照合結果]** タブで統計情報を表示して、必要な結果が得られたことを確認します。</span><span class="sxs-lookup"><span data-stu-id="64ebb-293">View the statistics in the **Profiler** and **Matching Results** tabs to ensure that you are achieving the results that you need.</span></span> <span data-ttu-id="64ebb-294">各ルールのドメインの設定を確認するには、 **[照合ルール]** タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-294">Click the **Matching Rules** tab to see what the domain settings for each rule are.</span></span> <span data-ttu-id="64ebb-295">詳細については、「 [[プロファイラー] タブと [結果] タブ](#Tabs)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-295">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
6.  <span data-ttu-id="64ebb-296">すべてのルールの結果に満足できない場合は、 **[戻る]** をクリックして **[照合ポリシー]** ページに戻り、必要に応じてルールを変更します。その後、 **[照合結果]** ページに戻って **[再起動]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-296">If you are not satisfied with the results of all rules, then click **Back** to return to the **Matching Policy** page, modify one or more rules as necessary, return to the **Matching Results** page, and then click **Restart**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-297">分析が完了すると、 **[開始]** ボタンが **[再起動]** ボタンに変わります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-297">After the analysis has completed, the **Start** button turns into a **Restart** button.</span></span> <span data-ttu-id="64ebb-298">前回の分析の結果がまだ保存されていない場合は、 **[再起動]** をクリックすると前のデータが失われます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-298">If the results from the previous analysis have not been saved as yet, clicking **Restart** will cause that previous data to be lost.</span></span>  
  
7.  <span data-ttu-id="64ebb-299">すべてのルールの結果に問題がなければ、 **[完了]** をクリックして照合ポリシー プロセスを完了し、次のいずれかをクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-299">If you are satisfied with the results of all rules, click **Finish** to complete the matching policy process, and then click one of the following:</span></span>  
  
    -   <span data-ttu-id="64ebb-300">**[はい - ナレッジ ベースを発行して終了]**: 現在のユーザーまたは他のユーザーに対してナレッジ ベースが発行されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-300">**Yes - Publish the knowledge base and exit**: The knowledge base will be published for the current user or others to use.</span></span> <span data-ttu-id="64ebb-301">ナレッジ ベースはロックされず、(ナレッジ ベース テーブルの) ナレッジ ベースの状態が空白に設定されます。ドメイン管理アクティビティとナレッジ検出アクティビティの両方を使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-301">The knowledge base will not be locked, the state of the knowledge base (in the knowledge base table) will be set to empty, and both the Domain Management and Knowledge Discovery activities will be available.</span></span> <span data-ttu-id="64ebb-302">[ナレッジ ベースを開く] 画面に戻ります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-302">You will be returned to the Open Knowledge Base screen.</span></span>  
  
    -   <span data-ttu-id="64ebb-303">**[いいえ - 作業内容をナレッジ ベースに保存して終了]**: 作業内容が保存され、ナレッジ ベースはロックされたままになります。ナレッジ ベースの状態は **[作業中]** に設定されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-303">**No - Save the work on the knowledge base and exit**: Your work will be saved, the knowledge base will remained locked, and the state of the knowledge base will be set to **In work**.</span></span> <span data-ttu-id="64ebb-304">ドメイン管理アクティビティとナレッジ検出アクティビティの両方を使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-304">Both the Domain Management and Knowledge Discovery activities will be available.</span></span> <span data-ttu-id="64ebb-305">ホーム ページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-305">You will be returned to the home page.</span></span>  
  
    -   <span data-ttu-id="64ebb-306">**[キャンセル]-現在の画面に表示**されます。ポップアップは閉じられ、[ドメイン管理] 画面に戻ります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-306">**Cancel - Stay on the current screen**: The popup will be closed and you will be returned to the Domain Management screen.</span></span>  
  
8.  <span data-ttu-id="64ebb-307">作業内容を保存して DQS ホーム ページに戻るには、 **[閉じる]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-307">Click **Close** to save your work, and return to the DQS home page.</span></span> <span data-ttu-id="64ebb-308">ナレッジ ベースの状態として、"ポリシーの照合 - " という文字列と現在の状態が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-308">The state of the knowledge base will show the string "Matching Policy - ", and the current state.</span></span> <span data-ttu-id="64ebb-309">**[照合結果]** 画面で **[閉じる]** をクリックした場合は、"ポリシーの照合 - 結果" と表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-309">If you clicked **Close** while you are in the **Matching Result** screen, the state will show: "Matching Policy - Results".</span></span> <span data-ttu-id="64ebb-310">**[照合ポリシー]** 画面で [閉じる] をクリックした場合は、"ポリシーの照合 - ポリシーの照合" と表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-310">If you clicked close while you are in the **Matching Policy** screen, the state will show: "Matching Policy - Matching Policy".</span></span> <span data-ttu-id="64ebb-311">**[閉じる]** をクリックした後で **[ナレッジ検出]** アクティビティを実行するには、 **[照合ポリシー]** アクティビティに戻り、 **[完了]** をクリックします。次に、ナレッジ ベースを発行する場合は **[はい]** を、作業内容をナレッジ ベースに保存して終了する場合は **[いいえ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-311">After clicking **Close**, to perform the **Knowledge Discovery** activity, you would have to return to the **Matching policy** activity, click **Finish**, and then click either **Yes** to publish the knowledge base or **No** to save the work on the knowledge base and exit.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="64ebb-312">照合プロセスの実行中に **[閉じる]** をクリックした場合は、 **[閉じる]** をクリックしても照合プロセスは終了しません。</span><span class="sxs-lookup"><span data-stu-id="64ebb-312">If you click **Close** while a matching process is running, the matching process will not terminate when you click **Close**.</span></span> <span data-ttu-id="64ebb-313">再びナレッジ ベースを開くと、プロセスがまだ実行されているかどうかを確認できます。プロセスが完了している場合は結果が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-313">You can reopen the knowledge base and see either that the process is still running, or if completed, that the results are displayed.</span></span> <span data-ttu-id="64ebb-314">プロセスが完了していない場合は進行状況が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-314">If the process has not completed, the screen will display the progress.</span></span>  
  
9. <span data-ttu-id="64ebb-315">照合ポリシー アクティビティを終了し、作業内容を破棄して DQS ホーム ページに戻るには、 **[キャンセル]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-315">Click **Cancel** to terminate the Matching Policy activity, losing your work, and return to the DQS home page.</span></span>  
  
##  <a name="follow-up-after-creating-a-matching-policy"></a><a name="FollowUp"></a> <span data-ttu-id="64ebb-316">補足情報: 照合ポリシーの作成後</span><span class="sxs-lookup"><span data-stu-id="64ebb-316">Follow Up: After Creating a Matching Policy</span></span>  
 <span data-ttu-id="64ebb-317">照合ポリシーを作成したら、その照合ポリシーを含むナレッジ ベースに基づいて照合プロジェクトを実行できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-317">After you create a matching policy, you can run a matching project based upon the knowledge base that contains the matching policy.</span></span> <span data-ttu-id="64ebb-318">詳細については、「 [照合プロジェクトの実行](../../2014/data-quality-services/run-a-matching-project.md)」をご参照ください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-318">For more information, see [Run a Matching Project](../../2014/data-quality-services/run-a-matching-project.md).</span></span>  
  
##  <a name="profiler-and-results-tabs"></a><a name="Tabs"></a> <span data-ttu-id="64ebb-319">[プロファイラー] タブと [結果] タブ</span><span class="sxs-lookup"><span data-stu-id="64ebb-319">Profiler and Results Tabs</span></span>  
 <span data-ttu-id="64ebb-320">[プロファイラー] タブと [結果] タブには、[照合ポリシー] と [照合結果] の両方のページの統計情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="64ebb-320">The Profiler and Results tab contain statistics for both the Matching Policy and the Matching Results pages.</span></span>  
  
###  <a name="profiler-tab"></a><a name="Profiler"></a> <span data-ttu-id="64ebb-321">[プロファイラー] タブ</span><span class="sxs-lookup"><span data-stu-id="64ebb-321">Profiler Tab</span></span>  
 <span data-ttu-id="64ebb-322">**[プロファイラー]** タブをクリックすると、ソース データベースの統計情報とポリシーのルールに含まれる各フィールドの統計情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-322">Click the **Profiler** tab to display statistics for the source database and for each field included in the policy rule.</span></span> <span data-ttu-id="64ebb-323">これらの統計情報は、ポリシーのルールを実行すると更新されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-323">The statistics will be updated as the policy rule is run.</span></span>  
  
 <span data-ttu-id="64ebb-324">以下の統計情報の解釈に関する詳細については、「 [照合ルールのパラメーターを設定する方法](#MatchingRules)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="64ebb-324">For more information on how to interpret the following statistics, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
 <span data-ttu-id="64ebb-325">ソース データベースの統計情報には、次の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-325">The source database statistics include the following:</span></span>  
  
-   <span data-ttu-id="64ebb-326">**レコード**: ソース データベース内のレコードの総数</span><span class="sxs-lookup"><span data-stu-id="64ebb-326">**Records**: The total number of records in the source database</span></span>  
  
-   <span data-ttu-id="64ebb-327">**合計値**: データ ソースのフィールドの値の総数</span><span class="sxs-lookup"><span data-stu-id="64ebb-327">**Total Values**: The total number of values in the fields of the data source</span></span>  
  
-   <span data-ttu-id="64ebb-328">**新しい値**: 前回の実行以降の新しい値の総数と、全体に占める割合</span><span class="sxs-lookup"><span data-stu-id="64ebb-328">**New Values**: The total number of values that are new since the previous run, and their percentage of the whole</span></span>  
  
-   <span data-ttu-id="64ebb-329">**一意の値**: フィールドの一意の値の総数と、全体に占める割合</span><span class="sxs-lookup"><span data-stu-id="64ebb-329">**Unique Values**: The total number of unique values in the fields, and their percentage of the whole</span></span>  
  
-   <span data-ttu-id="64ebb-330">**新しい一意の値**: フィールドの新しい一意の値の総数と、全体に占める割合</span><span class="sxs-lookup"><span data-stu-id="64ebb-330">**New Unique Values**: The total number of unique values that are new in the fields, and their percentage of the whole</span></span>  
  
 <span data-ttu-id="64ebb-331">フィールドの統計情報には、次の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-331">The field statistics include the following:</span></span>  
  
-   <span data-ttu-id="64ebb-332">**フィールド名**</span><span class="sxs-lookup"><span data-stu-id="64ebb-332">**Field name**</span></span>  
  
-   <span data-ttu-id="64ebb-333">**ドメイン名**</span><span class="sxs-lookup"><span data-stu-id="64ebb-333">**Domain name**</span></span>  
  
-   <span data-ttu-id="64ebb-334">**新規**: 新しい値の数と、ドメインの既存の値に対する割合</span><span class="sxs-lookup"><span data-stu-id="64ebb-334">**New**: The number of new values and the percent of new values compared to existing values in the domain</span></span>  
  
-   <span data-ttu-id="64ebb-335">**一意**: フィールドの一意のレコードの数と、全体に占める割合</span><span class="sxs-lookup"><span data-stu-id="64ebb-335">**Unique**: The number of unique records in the field and their percentage of the total</span></span>  
  
-   <span data-ttu-id="64ebb-336">**完全**: 照合のテストのためにマップされた各ソース フィールドの完全性</span><span class="sxs-lookup"><span data-stu-id="64ebb-336">**Completeness**: The completeness of each source field that is mapped for the matching exercise</span></span>  
  
###  <a name="matching-policy-notifications"></a><a name="Notifications"></a> <span data-ttu-id="64ebb-337">照合ポリシーの通知</span><span class="sxs-lookup"><span data-stu-id="64ebb-337">Matching Policy Notifications</span></span>  
 <span data-ttu-id="64ebb-338">照合ポリシー アクティビティでは、以下の状況で通知が生成されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-338">For the matching policy activity, the following conditions result in notifications:</span></span>  
  
-   <span data-ttu-id="64ebb-339">フィールドがすべてのレコードで空の場合。そのフィールドをマッピングから除去することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="64ebb-339">The field is empty in all records; it is recommended that you eliminate it from mapping.</span></span>  
  
-   <span data-ttu-id="64ebb-340">フィールドの完全性スコアが非常に低い場合。そのフィールドをマッピングから除去できます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-340">The field completeness score is very low; you may want to eliminate it from mapping.</span></span>  
  
-   <span data-ttu-id="64ebb-341">フィールド内のすべての値が無効である場合。マッピングと、ドメイン ルールとフィールドの内容の関連を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-341">All values in a field are invalid; you should verify the mapping and the relevancy of domain rules to the field contents.</span></span>  
  
-   <span data-ttu-id="64ebb-342">フィールド内の有効な値が少ない場合。マッピングと、ドメイン ルールとフィールドの内容の関連を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="64ebb-342">There is a low level of valid values in the field; you should verify the mapping and the relevancy of domain rules to the field contents.</span></span>  
  
-   <span data-ttu-id="64ebb-343">フィールドの一意性が高い場合。</span><span class="sxs-lookup"><span data-stu-id="64ebb-343">There is a high level of uniqueness in this field.</span></span> <span data-ttu-id="64ebb-344">照合ポリシーでこのフィールドを使用すると、照合結果の数を減らすことができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-344">Using this field in matching policy can decrease the matching results.</span></span>  
  
###  <a name="matching-results-tab"></a><a name="ResultsTab"></a> <span data-ttu-id="64ebb-345">[照合結果] タブ</span><span class="sxs-lookup"><span data-stu-id="64ebb-345">Matching Results Tab</span></span>  
 <span data-ttu-id="64ebb-346">**[照合結果]** タブをクリックすると、照合ポリシーのルールの実行に関する統計情報と、前回のルールの実行に関する統計情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-346">Click the **Matching Results** tab to display statistics for the matching policy rule run, and the previous rule run.</span></span> <span data-ttu-id="64ebb-347">同じルールを別のパラメーターで複数回実行した場合は、照合結果テーブルに両方の実行の統計情報が表示されるため、それらを比較することができます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-347">If you have run the same rule more than once with different parameters, the matching results table will display statistics for both runs, enabling you to compare them.</span></span> <span data-ttu-id="64ebb-348">必要に応じて以前のルールを復元することもできます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-348">You can also restore the previous rule if you would like.</span></span>  
  
 <span data-ttu-id="64ebb-349">この統計情報には、次の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="64ebb-349">The statistics include the following:</span></span>  
  
-   <span data-ttu-id="64ebb-350">データベース内のレコードの総数</span><span class="sxs-lookup"><span data-stu-id="64ebb-350">The total number of records in the database</span></span>  
  
-   <span data-ttu-id="64ebb-351">データベース内の一致レコードの総数</span><span class="sxs-lookup"><span data-stu-id="64ebb-351">The total number of matching records in the database</span></span>  
  
-   <span data-ttu-id="64ebb-352">データベース内の重複と見なされないレコードの数</span><span class="sxs-lookup"><span data-stu-id="64ebb-352">The number of records in the database that are not considered to be duplicates</span></span>  
  
-   <span data-ttu-id="64ebb-353">検出されたクラスターの数</span><span class="sxs-lookup"><span data-stu-id="64ebb-353">The number of clusters discovered</span></span>  
  
-   <span data-ttu-id="64ebb-354">クラスターの平均サイズ (重複レコードの数をクラスターの数で割った値)</span><span class="sxs-lookup"><span data-stu-id="64ebb-354">The average cluster size (number of duplicate records divided by number of clusters)</span></span>  
  
-   <span data-ttu-id="64ebb-355">クラスター内の重複の最小数</span><span class="sxs-lookup"><span data-stu-id="64ebb-355">The fewest number of duplicates in a cluster</span></span>  
  
-   <span data-ttu-id="64ebb-356">クラスター内の重複の最大数</span><span class="sxs-lookup"><span data-stu-id="64ebb-356">The greatest number of duplicates in a cluster</span></span>  
  
  
