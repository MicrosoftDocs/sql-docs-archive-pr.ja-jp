---
title: 複合ドメインでのデータのクレンジング | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
ms.assetid: 7d1076e0-7710-469a-9107-e293e4bd80ac
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: c9e00342933f18112707e43b479bced763eca44c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87639662"
---
# <a name="cleanse-data-in-a-composite-domain"></a><span data-ttu-id="e97fd-102">複合ドメインでのデータのクレンジング</span><span class="sxs-lookup"><span data-stu-id="e97fd-102">Cleanse Data in a Composite Domain</span></span>
  <span data-ttu-id="e97fd-103">このトピックでは、 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) での複合ドメインのクレンジングについて説明します。</span><span class="sxs-lookup"><span data-stu-id="e97fd-103">This topic provides information about cleansing of composite domains in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="e97fd-104">複合ドメインは 2 つ以上の単一ドメインで構成され、複数の関連用語で構成されるデータ フィールドにマップされます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-104">A composite domain consists of two or more single domains, and maps to a data field that consists of multiple related terms.</span></span> <span data-ttu-id="e97fd-105">複合ドメイン内の個々のドメインには、ナレッジの共通領域が必要です。</span><span class="sxs-lookup"><span data-stu-id="e97fd-105">The individual domains in a composite domain must have a common area of knowledge.</span></span> <span data-ttu-id="e97fd-106">複合ドメインの詳細については、「 [Managing a Composite Domain](../../2014/data-quality-services/managing-a-composite-domain.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e97fd-106">For detailed information about composite domains, see [Managing a Composite Domain](../../2014/data-quality-services/managing-a-composite-domain.md).</span></span>  
  
##  <a name="mapping-a-composite-domain-to-the-source-data"></a><a name="Mapping"></a> <span data-ttu-id="e97fd-107">ソース データへの複合ドメインのマッピング</span><span class="sxs-lookup"><span data-stu-id="e97fd-107">Mapping a Composite Domain to the Source Data</span></span>  
 <span data-ttu-id="e97fd-108">複合ドメインにソース データをマップするには、次の 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="e97fd-108">There are two ways in which you can map your source data to a composite domain:</span></span>  
  
-   <span data-ttu-id="e97fd-109">ソース データを単一フィールド ("完全名") として、複合ドメインにマップします。</span><span class="sxs-lookup"><span data-stu-id="e97fd-109">The source data is a single field (let's say Full Name), which is mapped to a composite domain.</span></span>  
  
    -   <span data-ttu-id="e97fd-110">複合ドメインを参照データ サービスにマップすると、ソース データはそのまま参照データ サービスに送信されて修正および解析されます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-110">If the composite domain is mapped to a reference data service, the source data will be sent as is to the reference data service for correction and parsing.</span></span>  
  
    -   <span data-ttu-id="e97fd-111">複合ドメインを参照データ サービスにマップしない場合、複合ドメインに定義されている解析方法に基づいて解析されます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-111">If the composite domain is not mapped to a reference data service, will be parsed based on the parsing method defined for the composite domain.</span></span> <span data-ttu-id="e97fd-112">複合ドメインの解析方法の指定方法については、「 [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e97fd-112">For more information about specifying a parsing method for composite domains, see [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md)</span></span>  
  
-   <span data-ttu-id="e97fd-113">ソース データを複数のフィールド ("名"、"ミドル ネーム"、"姓") で構成し、複合ドメイン内の個々のドメインにマップします。</span><span class="sxs-lookup"><span data-stu-id="e97fd-113">The source data consists of multiple fields (let's say First Name, Middle Name, and Last Name), which are mapped to individual domains within a composite domain.</span></span>  
  
 <span data-ttu-id="e97fd-114">複合ドメインをソースデータにマップする方法の例については、「[参照データへのドメインまたは複合ドメインのアタッチ](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e97fd-114">For an example of how to map composite domains to source data, see [Attach a Domain or Composite Domain to Reference Data](../../2014/data-quality-services/attach-a-domain-or-composite-domain-to-reference-data.md).</span></span>  
  
##  <a name="data-correction-using-definitive-cross-domain-rules"></a><a name="CDCorrection"></a> <span data-ttu-id="e97fd-115">明確なクロス ドメイン ルールを使用したデータの修正</span><span class="sxs-lookup"><span data-stu-id="e97fd-115">Data Correction using Definitive Cross-Domain Rules</span></span>  
 <span data-ttu-id="e97fd-116">複合ドメインのクロス ドメイン ルールを使用して、複合ドメイン内の個々のドメインの間のリレーションシップを示すルールを作成できます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-116">Cross-domain rules in composite domain enable you to create rules that indicate relationship between individual domains in a composite domain.</span></span> <span data-ttu-id="e97fd-117">複合ドメインを含むソース データでクレンジング アクティビティを実行するときに、クロス ドメイン ルールが考慮されます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-117">Cross-domain rules are taken into account when you run the cleansing activity on your source data involving composite domains.</span></span> <span data-ttu-id="e97fd-118">明確な *Then* クロス ドメイン ルールの **"値が次の値と等しい"** では、単にクロス ドメイン ルールの有効性について知らせるだけでなく、データ クレンジング アクティビティ中にデータの修正も行います。</span><span class="sxs-lookup"><span data-stu-id="e97fd-118">Apart from just letting you know about the validity of a cross-domain rule, the definitive *Then* cross-domain rule, **Value is equal to**, also corrects the data during the data-cleansing activity.</span></span>  
  
 <span data-ttu-id="e97fd-119">次の例を考えてみます。ProductName、CompanyName、および ProductVersion の 3 つの個別ドメインを含む複合ドメイン Product があります。</span><span class="sxs-lookup"><span data-stu-id="e97fd-119">Consider the following example: there is a composite domain, Product, with three individual domains: ProductName, CompanyName, and ProductVersion.</span></span> <span data-ttu-id="e97fd-120">次の明確なクロス ドメイン ルールを作成します。</span><span class="sxs-lookup"><span data-stu-id="e97fd-120">Create the following definitive cross-domain rule:</span></span>  
  
 <span data-ttu-id="e97fd-121">ドメイン 'CompanyName' 値に *Microsoft* が含まれ、ドメイン 'ProductName' 値が *Office* で 'ProductVersion' 値が *2010* の場合、ドメイン 'ProductName' 値は *Microsoft Office 2010* になる。</span><span class="sxs-lookup"><span data-stu-id="e97fd-121">IF Domain 'CompanyName' Value contains *Microsoft* and Domain 'ProductName' Value is equal to *Office* and 'ProductVersion' Value is equal to *2010* THEN Domain 'ProductName' Value is equal to *Microsoft Office 2010*.</span></span>  
  
 <span data-ttu-id="e97fd-122">このクロス ドメイン ルールを実行すると、クレンジング アクティビティの後にソース データ (ProductName) が次のように修正されます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-122">When this cross-domain rule runs, the source data (ProductName) gets corrected to the following after the cleansing activity:</span></span>  
  
 <span data-ttu-id="e97fd-123">**ソースデータ**</span><span class="sxs-lookup"><span data-stu-id="e97fd-123">**Source Data**</span></span>  
  
|<span data-ttu-id="e97fd-124">ProductName</span><span class="sxs-lookup"><span data-stu-id="e97fd-124">ProductName</span></span>|<span data-ttu-id="e97fd-125">CompanyName</span><span class="sxs-lookup"><span data-stu-id="e97fd-125">CompanyName</span></span>|<span data-ttu-id="e97fd-126">ProductVersion</span><span class="sxs-lookup"><span data-stu-id="e97fd-126">ProductVersion</span></span>|  
|-----------------|-----------------|--------------------|  
|<span data-ttu-id="e97fd-127">Office</span><span class="sxs-lookup"><span data-stu-id="e97fd-127">Office</span></span>|<span data-ttu-id="e97fd-128">Microsoft Inc.</span><span class="sxs-lookup"><span data-stu-id="e97fd-128">Microsoft Inc.</span></span>|<span data-ttu-id="e97fd-129">2010</span><span class="sxs-lookup"><span data-stu-id="e97fd-129">2010</span></span>|  
  
 <span data-ttu-id="e97fd-130">**出力データ**</span><span class="sxs-lookup"><span data-stu-id="e97fd-130">**Output Data**</span></span>  
  
|<span data-ttu-id="e97fd-131">ProductName</span><span class="sxs-lookup"><span data-stu-id="e97fd-131">ProductName</span></span>|<span data-ttu-id="e97fd-132">CompanyName</span><span class="sxs-lookup"><span data-stu-id="e97fd-132">CompanyName</span></span>|<span data-ttu-id="e97fd-133">ProductVersion</span><span class="sxs-lookup"><span data-stu-id="e97fd-133">ProductVersion</span></span>|  
|-----------------|-----------------|--------------------|  
|<span data-ttu-id="e97fd-134">Microsoft Office 2010</span><span class="sxs-lookup"><span data-stu-id="e97fd-134">Microsoft Office 2010</span></span>|<span data-ttu-id="e97fd-135">Microsoft Inc.</span><span class="sxs-lookup"><span data-stu-id="e97fd-135">Microsoft Inc.</span></span>|<span data-ttu-id="e97fd-136">2010</span><span class="sxs-lookup"><span data-stu-id="e97fd-136">2010</span></span>|  
  
 <span data-ttu-id="e97fd-137">明確な *Then* クロス ドメイン ルール **"値が次の値と等しい"** をテストするときは、 **[複合ドメイン ルールのテスト]** ダイアログ ボックスに、正しいデータを示す新しい列 **[次に修正]** が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-137">When you test the definitive *Then* cross-domain rule, **Value is equal to**, the **Test Composite Domain Rule** dialog box contains a new column, **Correct To**, which displays the correct data.</span></span> <span data-ttu-id="e97fd-138">クレンジングデータ品質プロジェクトでは、この明確なクロスドメインルールによってデータが100% の信頼度で変更され、[**理由**] 列に "ルール ' ' によって修正されました" というメッセージが表示されます *\<Cross-Domain Rule Name>* 。</span><span class="sxs-lookup"><span data-stu-id="e97fd-138">In a cleansing data quality project, this definitive cross-domain rule changes the data with 100% confidence, and the **Reason** column displays the following message: Corrected by Rule '*\<Cross-Domain Rule Name>*'.</span></span> <span data-ttu-id="e97fd-139">クロス ドメイン ルールの詳細については、「 [Create a Cross-Domain Rule](../../2014/data-quality-services/create-a-cross-domain-rule.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e97fd-139">For more information about cross domain rules, see [Create a Cross-Domain Rule](../../2014/data-quality-services/create-a-cross-domain-rule.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e97fd-140">明確なクロス ドメイン ルールは、参照データ サービスにアタッチされている複合ドメインでは動作しません。</span><span class="sxs-lookup"><span data-stu-id="e97fd-140">The definitive cross-domain rule will not work for composite domains that are attached to reference data service.</span></span>  
  
##  <a name="data-profiling-for-composite-domains"></a><a name="DataProfiling"></a> <span data-ttu-id="e97fd-141">複合ドメインのデータ プロファイル</span><span class="sxs-lookup"><span data-stu-id="e97fd-141">Data Profiling for Composite Domains</span></span>  
 <span data-ttu-id="e97fd-142">DQS プロファイルでは、クレンジング アクティビティ中に、 *完全性* (データがどの程度存在するか) と *正確性* (データがどの程度意図されたとおりに使用できるか) の 2 つのデータ品質ディメンションを提供します。</span><span class="sxs-lookup"><span data-stu-id="e97fd-142">DQS profiling provides two data quality dimensions: *completeness* (the extent to which data is present) and *accuracy* (the extent to which data can be used for its intended use) during the cleansing activity.</span></span> <span data-ttu-id="e97fd-143">複合ドメインでは、プロファイリングから得られる完全性の統計情報を必ずしも信頼できません。</span><span class="sxs-lookup"><span data-stu-id="e97fd-143">Profiling may not provide reliable completeness statistics for composite domains.</span></span> <span data-ttu-id="e97fd-144">完全性の統計情報が必要な場合は、複合ドメインの代わりに単一ドメインを使用します。</span><span class="sxs-lookup"><span data-stu-id="e97fd-144">If you need completeness statistics, use single domains instead of composite domains.</span></span> <span data-ttu-id="e97fd-145">複合ドメインを使用する必要がある場合は、プロファイリング用に単一ドメインのナレッジ ベースを作成して完全性を確認し、クレンジング アクティビティ用に複合ドメインのドメインを別途作成します。</span><span class="sxs-lookup"><span data-stu-id="e97fd-145">If you want to use composite domains, you may want to create one knowledge base with single domains for profiling, to determine completeness, and create another domain with a composite domain for the cleansing activity.</span></span> <span data-ttu-id="e97fd-146">たとえば、複合ドメインを使用したプロファイリングで住所レコードの完全性が 95% と示されたとしても、それよりはるかに不完全な列 (郵便番号の列など) がレコードに含まれている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="e97fd-146">For example, profiling could show 95% completeness for address records using a composite domain, but there could be a much higher level of incompleteness for one of the columns, for example, a postal (zip) code column.</span></span> <span data-ttu-id="e97fd-147">この例では、単一ドメインを使用して郵便番号の列の完全性を測定することができます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-147">In this example, you might want to measure the completeness of the zip code column with a single domain.</span></span>  
  
 <span data-ttu-id="e97fd-148">精度は複数の列でまとめて測定できるため、プロファイリングから得られる複合ドメインの精度の統計情報は信頼できます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-148">Profiling will likely provide reliable accuracy statistics for composite domains because you can measure accuracy for multiple columns together.</span></span> <span data-ttu-id="e97fd-149">このデータの値は合成集約に含まれるため、複合ドメインで精度を測定できます。</span><span class="sxs-lookup"><span data-stu-id="e97fd-149">The value of this data is in the composite aggregation, so you may want to measure the accuracy with a composite domain.</span></span>  
  
 <span data-ttu-id="e97fd-150">クレンジング アクティビティの間のデータ プロファイリングについて詳しくは、「[DQS &#40;内部&#41; ナレッジを使用したデータのクレンジング](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md)」の「[プロファイラーの統計情報](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md#Profiler)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="e97fd-150">For detailed information about data profiling during the cleansing activity, see [Profiler Statistics](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md#Profiler) in [Cleanse Data Using DQS &#40;Internal&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-dqs-internal-knowledge.md).</span></span>  
  
  
