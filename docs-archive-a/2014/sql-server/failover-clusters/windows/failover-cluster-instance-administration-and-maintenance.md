---
title: フェールオーバー クラスター インスタンスの管理とメンテナンス | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- user accounts [SQL Server], failover clustering
- clusters [SQL Server], maintaining
- nodes [Faillover Clustering]
- failover clustering [SQL Server], maintaining
- adding nodes
- virtual servers [SQL Server], removing nodes
- clustered instance of SQL Server
- nodes [Faillover Clustering], removing
- nodes [Faillover Clustering], adding
- service accounts [SQL Server]
- removing nodes
- virtual servers [SQL Server], adding nodes
ms.assetid: 2d5c63e9-8061-45c3-94db-8dd3100b8a91
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 059d052402a1ad486c28a211585022bd67bcf3d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87640530"
---
# <a name="failover-cluster-instance-administration-and-maintenance"></a><span data-ttu-id="47c9c-102">フェールオーバー クラスター インスタンスの管理とメンテナンス</span><span class="sxs-lookup"><span data-stu-id="47c9c-102">Failover Cluster Instance Administration and Maintenance</span></span>
  <span data-ttu-id="47c9c-103">既存の AlwaysOn フェールオーバー クラスター インスタンス (FCI) に対するノードの追加または削除のようなメンテナンス タスクは、[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のセットアップ プログラムを使用して行います。</span><span class="sxs-lookup"><span data-stu-id="47c9c-103">Maintenance tasks like adding or removing nodes from an existing AlwaysOn Failover Cluster Instance (FCI) are accomplished using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program.</span></span> <span data-ttu-id="47c9c-104">IP アドレス リソースの変更や、特定の FCI シナリオからの復元が必要になった場合など、その他の管理タスクについては、Windows Server フェールオーバー クラスタリング (WSFC) サービスの管理スナップインであるフェールオーバー クラスター マネージャー スナップインを使用して行います。</span><span class="sxs-lookup"><span data-stu-id="47c9c-104">Other administration tasks like changing the IP address resource, recovering from certain FCI scenarios are accomplished using the Failover Cluster Manager snap-in, which is the management snap-in for the Windows Server Failover Clustering (WSFC) service.</span></span>  
  
## <a name="maintaining-a-failover-cluster-instance"></a><span data-ttu-id="47c9c-105">フェールオーバー クラスター インスタンスの管理</span><span class="sxs-lookup"><span data-stu-id="47c9c-105">Maintaining a Failover Cluster Instance</span></span>  
 <span data-ttu-id="47c9c-106">FCI をインストールすると、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のセットアップ プログラムを使用して、フェールオーバー クラスターを変更または修復できます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-106">After you have installed an FCI, you can change or repair it using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program.</span></span> <span data-ttu-id="47c9c-107">たとえば、FCI に別のノードを追加したり、FCI をスタンドアロン インスタンスとして実行したり、FCI 構成からノードを削除したりできます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-107">For example, you can add additional nodes to an FCI, run an FCI as a stand-alone instance, or remove a node from a FCI configuration.</span></span>  
  
### <a name="adding-a-node-to-an-existing-failover-cluster-instance"></a><span data-ttu-id="47c9c-108">既存のフェールオーバー クラスター インスタンスへのノードの追加</span><span class="sxs-lookup"><span data-stu-id="47c9c-108">Adding a Node to an Existing Failover Cluster Instance</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="47c9c-109">セットアップ プログラムには、既存の FCI を維持するオプションが含まれています。</span><span class="sxs-lookup"><span data-stu-id="47c9c-109">Setup gives you the option of maintaining an existing FCI.</span></span> <span data-ttu-id="47c9c-110">このオプションを選択すると、FCI を追加するコンピューター上で [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップ プログラムを実行することによって、FCI に他のノードを追加できます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-110">If you choose this option, you can add other nodes to your FCI by running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup on the computer that you want to add to the FCI.</span></span> <span data-ttu-id="47c9c-111">詳細については、「[新しい SQL Server フェールオーバー クラスターの作成 &#40;セットアップ&#41;](../install/create-a-new-sql-server-failover-cluster-setup.md)」と「[SQL Server フェールオーバー クラスターでのノードの追加または削除 &#40;セットアップ&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-111">For more information, see [Create a New SQL Server Failover Cluster &#40;Setup&#41;](../install/create-a-new-sql-server-failover-cluster-setup.md) and [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
### <a name="removing-a-node-from-an-existing-failover-cluster-instance"></a><span data-ttu-id="47c9c-112">既存のフェールオーバー クラスター インスタンスからのノードの削除</span><span class="sxs-lookup"><span data-stu-id="47c9c-112">Removing a Node from an Existing Failover Cluster Instance</span></span>  
 <span data-ttu-id="47c9c-113">FCI からノードを削除するコンピューター上で [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップ プログラムを実行すると、FCI からノードを削除できます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-113">You can remove a node from an FCI by running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup on the computer that you want to remove from the FCI.</span></span> <span data-ttu-id="47c9c-114">FCI の各ノードは、FCI 上で他のノードと依存関係のないピア (同等) と見なされるので、どのノードでも削除できます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-114">Each node in an FCI is considered a peer without dependencies on other nodes on the FCI, and you can remove any node.</span></span> <span data-ttu-id="47c9c-115">損傷したノードは、使用できない場合でも削除できます。ただし、その削除プロセスで、使用できないノードから [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] バイナリがアンインストールされることはありません。</span><span class="sxs-lookup"><span data-stu-id="47c9c-115">A damaged node does not have to be available to be removed, and the removal process does not uninstall the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] binaries from the unavailable node.</span></span> <span data-ttu-id="47c9c-116">削除したノードは、いつでも FCI に戻すことができます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-116">A removed node can be added back to a FCI at any time.</span></span> <span data-ttu-id="47c9c-117">詳細については、「 [SQL Server フェールオーバークラスターでのノードの追加または削除」 &#40;セットアップ&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-117">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
### <a name="changing-service-accounts"></a><span data-ttu-id="47c9c-118">サービス アカウントの変更</span><span class="sxs-lookup"><span data-stu-id="47c9c-118">Changing Service Accounts</span></span>  
 <span data-ttu-id="47c9c-119">FCI ノードがダウンしている、またはオフラインになっているときは、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] サービス アカウントのパスワードを変更しないでください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-119">You should not change passwords for any of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service accounts when an FCI node is down or offline.</span></span> <span data-ttu-id="47c9c-120">変更する必要がある場合は、すべてのノードがオンラインに戻ったときに [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 構成マネージャーを使用してパスワードを再設定してください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-120">If you must do this, you must reset the password again by using [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager when all nodes are back online.</span></span>  
  
 <span data-ttu-id="47c9c-121">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のサービス アカウントがクラスター内で管理者でない場合は、クラスターのどのノードでも管理共有を削除できません。</span><span class="sxs-lookup"><span data-stu-id="47c9c-121">If the service account for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is not an administrator in your cluster, the administrative shares cannot be deleted on any nodes of the cluster.</span></span> <span data-ttu-id="47c9c-122">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] が動作するためには、クラスター内で管理共有を利用できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="47c9c-122">The administrative shares must be available in a cluster for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to function.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="47c9c-123">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] サービス アカウントと WSFC サービス アカウントに同じアカウントを使用しないでください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-123">Do not use the same account for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account and the WSFC service account.</span></span> <span data-ttu-id="47c9c-124">WSFC サービス アカウントのパスワードを変更すると、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のインストールが失敗します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-124">If the password changes for the WSFC service account, your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation will fail.</span></span>  
  
 <span data-ttu-id="47c9c-125">[!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)]では、サービス SID が [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] サービス アカウントに使用されます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-125">On [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], service SIDs are used for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service accounts.</span></span> <span data-ttu-id="47c9c-126">詳細については、「 [Windows サービス アカウントと権限の構成](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="47c9c-126">For more information, see [Configure Windows Service Accounts and Permissions](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).</span></span>  
  
## <a name="administering-a-failover-cluster-instance"></a><span data-ttu-id="47c9c-127">フェールオーバー クラスター インスタンスの管理</span><span class="sxs-lookup"><span data-stu-id="47c9c-127">Administering a Failover Cluster Instance</span></span>  
  
|<span data-ttu-id="47c9c-128">タスクの説明</span><span class="sxs-lookup"><span data-stu-id="47c9c-128">Task Description</span></span>|<span data-ttu-id="47c9c-129">トピック</span><span class="sxs-lookup"><span data-stu-id="47c9c-129">Topic Link</span></span>|  
|----------------------|----------------|  
|<span data-ttu-id="47c9c-130">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] リソースに依存関係を追加する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-130">Describes how to add dependencies to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource.</span></span>|[<span data-ttu-id="47c9c-131">SQL Server リソースへの依存関係の追加</span><span class="sxs-lookup"><span data-stu-id="47c9c-131">Add Dependencies to a SQL Server Resource</span></span>](add-dependencies-to-a-sql-server-resource.md)|  
|<span data-ttu-id="47c9c-132">Kerberos は、クライアント/サーバー アプリケーションで強力な認証を行うためにデザインされたネットワーク認証プロトコルです。</span><span class="sxs-lookup"><span data-stu-id="47c9c-132">Kerberos is a network authentication protocol designed to provide strong authentication for client/server applications.</span></span> <span data-ttu-id="47c9c-133">企業全体のネットワーク認証のセキュリティ強化に役立つ、相互運用性の基盤となるプロトコルです。</span><span class="sxs-lookup"><span data-stu-id="47c9c-133">Kerberos provides a foundation for interoperability and helps to enhance the security of enterprise-wide network authentication.</span></span> <span data-ttu-id="47c9c-134">Kerberos 認証は [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のスタンドアロンのインスタンス、または AlwaysOn FCI と共に使用できます。</span><span class="sxs-lookup"><span data-stu-id="47c9c-134">You can use Kerberos authentication with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] stand-alone instances or with AlwaysOn FCIs.</span></span>|<span data-ttu-id="47c9c-135">[Kerberos 接続用のサービスプリンシパル名を登録](../../../database-engine/configure-windows/register-a-service-principal-name-for-kerberos-connections.md)します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-135">[Register a Service Principal Name for Kerberos Connections](../../../database-engine/configure-windows/register-a-service-principal-name-for-kerberos-connections.md).</span></span>|  
|<span data-ttu-id="47c9c-136">Kerberos 認証を有効にする方法について説明したコンテンツへのリンクを提供します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-136">Provides links to content that describes how to enable Kerberos authentication</span></span>||  
|<span data-ttu-id="47c9c-137">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターの障害から復旧する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-137">Describes the procedure used to recover from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster failure.</span></span>|[<span data-ttu-id="47c9c-138">フェールオーバークラスターインスタンス障害からの回復</span><span class="sxs-lookup"><span data-stu-id="47c9c-138">Recover from Failover Cluster Instance Failure</span></span>](recover-from-failover-cluster-instance-failure.md)|  
|<span data-ttu-id="47c9c-139">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスター インスタンスの IP アドレス リソースを変更する手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="47c9c-139">Describe the procedure used to change the IP address resource for a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span>|[<span data-ttu-id="47c9c-140">フェールオーバー クラスター インスタンスの IP アドレスの変更</span><span class="sxs-lookup"><span data-stu-id="47c9c-140">Change the IP Address of a Failover Cluster Instance</span></span>](change-the-ip-address-of-a-failover-cluster-instance.md)|  
  
## <a name="see-also"></a><span data-ttu-id="47c9c-141">参照</span><span class="sxs-lookup"><span data-stu-id="47c9c-141">See Also</span></span>  
 <span data-ttu-id="47c9c-142">[HealthCheckTimeout プロパティの設定の構成](configure-healthchecktimeout-property-settings.md) </span><span class="sxs-lookup"><span data-stu-id="47c9c-142">[Configure HealthCheckTimeout Property Settings](configure-healthchecktimeout-property-settings.md) </span></span>  
 <span data-ttu-id="47c9c-143">[FailureConditionLevel プロパティ設定の構成](configure-failureconditionlevel-property-settings.md) </span><span class="sxs-lookup"><span data-stu-id="47c9c-143">[Configure FailureConditionLevel Property Settings](configure-failureconditionlevel-property-settings.md) </span></span>  
 [<span data-ttu-id="47c9c-144">フェールオーバー クラスター インスタンスの診断ログを表示して読む方法</span><span class="sxs-lookup"><span data-stu-id="47c9c-144">View and Read Failover Cluster Instance Diagnostics Log</span></span>](view-and-read-failover-cluster-instance-diagnostics-log.md)  
  
  
