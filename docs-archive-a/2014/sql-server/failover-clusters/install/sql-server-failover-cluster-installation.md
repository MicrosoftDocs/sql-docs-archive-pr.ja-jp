---
title: SQL Server フェールオーバー クラスターのインストール | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: c0e75a7c-85c5-423c-a218-77247bf071aa
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6d11b892bc3ae3dccfbab5bef01feca325056945
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87640550"
---
# <a name="sql-server-failover-cluster-installation"></a><span data-ttu-id="fe24b-102">SQL Server フェールオーバー クラスターのインストール</span><span class="sxs-lookup"><span data-stu-id="fe24b-102">SQL Server Failover Cluster Installation</span></span>
  <span data-ttu-id="fe24b-103">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のフェールオーバー クラスターをインストールするには、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップを実行してフェールオーバー クラスター インスタンスを作成し、構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-103">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must create and configure a failover cluster instance by running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
## <a name="installing-a-failover-cluster"></a><span data-ttu-id="fe24b-104">フェールオーバー クラスターのインストール</span><span class="sxs-lookup"><span data-stu-id="fe24b-104">Installing a Failover Cluster</span></span>  
 <span data-ttu-id="fe24b-105">フェールオーバー クラスターをインストールするには、ローカル管理者権限、サービスとしてログオンする権限、およびフェールオーバー クラスター内にあるすべてのノード上のオペレーティング システムの一部として動作する権限を持つドメイン アカウントを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-105">To install a failover cluster, you must use a domain account with local administrator rights, permission to log on as a service, and to act as part of the operating system on all nodes in the failover cluster.</span></span> <span data-ttu-id="fe24b-106">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップ プログラムを使用してフェールオーバー クラスターをインストールするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-106">To install a failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program, follow these steps:</span></span>  
  
1.  <span data-ttu-id="fe24b-107">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターをインストール、構成、および管理するには、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップを使用します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-107">To install, configure, and maintain a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    -   <span data-ttu-id="fe24b-108">フェールオーバー クラスター インスタンスの作成に必要な情報 (クラスター ディスク リソース、IP アドレス、ネットワーク名など)、およびフェールオーバーで利用できるノードを確認します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-108">Identify the information you need to create your failover cluster instance (for example, cluster disk resource, IP addresses, and network name) and the nodes available for failover.</span></span> <span data-ttu-id="fe24b-109">詳細:</span><span class="sxs-lookup"><span data-stu-id="fe24b-109">For more information:</span></span>  
  
        -   [<span data-ttu-id="fe24b-110">フェールオーバー クラスタリングをインストールする前に</span><span class="sxs-lookup"><span data-stu-id="fe24b-110">Before Installing Failover Clustering</span></span>](before-installing-failover-clustering.md)  
  
        -   [<span data-ttu-id="fe24b-111">SQL Server インストールにおけるセキュリティの考慮事項</span><span class="sxs-lookup"><span data-stu-id="fe24b-111">Security Considerations for a SQL Server Installation</span></span>](../../install/security-considerations-for-a-sql-server-installation.md)  
  
    -   <span data-ttu-id="fe24b-112">これらの構成手順は、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップ プログラムを実行する前に行う必要があります。Windows のクラスター アドミニストレーターを使用して、手順を実行してください。構成するフェールオーバー クラスター インスタンスごとに 1 つの WSFC グループが必要です。</span><span class="sxs-lookup"><span data-stu-id="fe24b-112">The configuration steps must take place before you run the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup program; use the Windows Cluster Administrator to carry them out. You must have one WSFC group for each failover cluster instance you want to configure.</span></span>  
  
    -   <span data-ttu-id="fe24b-113">システムが最小要件を満たしていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-113">You must ensure that your system meets minimum requirements.</span></span> <span data-ttu-id="fe24b-114">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターに関する特定の要件の詳細については、「 [フェールオーバー クラスタリングをインストールする前に](before-installing-failover-clustering.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe24b-114">For more information on specific requirements for a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, see [Before Installing Failover Clustering](before-installing-failover-clustering.md).</span></span>  
  
2.  <span data-ttu-id="fe24b-115">他のクラスター ノードに影響を与えずに、フェールオーバー クラスター構成からノードを追加または削除します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-115">Add or remove nodes from a failover cluster configuration without affecting the other cluster nodes.</span></span> <span data-ttu-id="fe24b-116">詳細については、「[SQL Server フェールオーバー クラスターでのノードの追加または削除 &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="fe24b-116">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
    -   <span data-ttu-id="fe24b-117">フェールオーバー クラスター内のすべてのノードは、32 ビットまたは 64 ビットのいずれかの同一プラットフォームで構成され、エディションおよびバージョンが同じオペレーティング システムを実行している必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-117">All nodes in a failover cluster must be of the same platform, either 32-bit or 64-bit, and must run the same operating system edition and version.</span></span> <span data-ttu-id="fe24b-118">また、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] の 64 ビット エディションは、64 ビット版の Windows オペレーティング システムを実行する 64 ビット ハードウェアにインストールする必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-118">Also, 64-bit [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions must be installed on 64-bit hardware running the 64-bit versions of Windows operating systems.</span></span> <span data-ttu-id="fe24b-119">このリリースのフェールオーバー クラスタリングでは、WOW64 がサポートされません。</span><span class="sxs-lookup"><span data-stu-id="fe24b-119">There is no WOW64 support for failover clustering in this release.</span></span>  
  
3.  <span data-ttu-id="fe24b-120">フェールオーバー クラスター インスタンスごとに複数の IP アドレスを指定します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-120">Specify multiple IP addresses for each failover cluster instance.</span></span> <span data-ttu-id="fe24b-121">各サブネットに複数の IP アドレスを指定することができます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-121">You can specify mutiple IP addresses for each subnet.</span></span> <span data-ttu-id="fe24b-122">同じサブネットに複数の IP アドレスがある場合、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップは依存関係を AND に設定します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-122">If the mutiple IP addresses are on the same subnet, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to AND.</span></span> <span data-ttu-id="fe24b-123">複数のサブネットにわたってノードをクラスター化している場合、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] セットアップは依存関係を OR に設定します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-123">If you are clustering nodes across multiple subnets, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup sets the dependency to OR.</span></span>  
  
## <a name="ssnoversion-failover-cluster-installation-options"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fe24b-124">フェールオーバー クラスター インストール オプション</span><span class="sxs-lookup"><span data-stu-id="fe24b-124">Failover Cluster Installation options</span></span>  
  
##### <a name="option-1-integrated-installation-with-add-node"></a><span data-ttu-id="fe24b-125">オプション 1: ノードの追加を伴う統合インストール</span><span class="sxs-lookup"><span data-stu-id="fe24b-125">Option 1: Integrated installation with Add Node</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fe24b-126">統合フェールオーバー クラスター インストールは、次の 2 つの手順で構成されています。</span><span class="sxs-lookup"><span data-stu-id="fe24b-126">integrated failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="fe24b-127">単一ノードの [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスター インスタンスを作成および構成します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-127">Create and configure a single-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span> <span data-ttu-id="fe24b-128">ノードの構成が正常に完了すると、完全に機能するフェールオーバー クラスター インスタンスが完成します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-128">At the completion of a successful configuration of the node, you have a fully functional failover cluster instance.</span></span> <span data-ttu-id="fe24b-129">フェールオーバー クラスターには 1 つのノードしかないので、この時点では高可用性は備わっていません。</span><span class="sxs-lookup"><span data-stu-id="fe24b-129">At this time it does not have high-availability because there is only one node in the failover cluster.</span></span>  
  
2.  <span data-ttu-id="fe24b-130">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターに追加する各ノードで、セットアップを実行し、ノードの追加機能を使用して、ノードを追加します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-130">On each node to be added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Add Node functionality to add that node.</span></span>  
  
##### <a name="option-2-advancedenterprise-installation"></a><span data-ttu-id="fe24b-131">オプション 2: 高度/エンタープライズ インストール</span><span class="sxs-lookup"><span data-stu-id="fe24b-131">Option 2: Advanced/Enterprise installation</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fe24b-132">高度/エンタープライズ フェールオーバー クラスター インストールは、次の 2 つの手順で構成されています。</span><span class="sxs-lookup"><span data-stu-id="fe24b-132">Advanced/Enterprise failover cluster installation consists of two steps:</span></span>  
  
1.  <span data-ttu-id="fe24b-133">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターの一部となる各ノードで、セットアップを実行し、フェールオーバー クラスターの準備機能を使用します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-133">On each node that will be part of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, run Setup with Prepare Failover Cluster functionality.</span></span> <span data-ttu-id="fe24b-134">この手順ではノードのクラスター化の準備を行いますが、この手順が終了しても [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] インスタンスは操作できません。</span><span class="sxs-lookup"><span data-stu-id="fe24b-134">This step prepares the nodes ready to be clustered, but there is no operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance at the end of this step.</span></span>  
  
2.  <span data-ttu-id="fe24b-135">ノードのクラスター化の準備が整ったら、共有ディスクを所有するノードでセットアップを実行し、フェールオーバー クラスターの実行機能を使用します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-135">After the nodes are prepared for clustering, run Setup on the node that owns the shared disk with the Complete Failover Cluster functionality.</span></span> <span data-ttu-id="fe24b-136">この手順で、フェールオーバー クラスター インスタンスを構成し、完了します。</span><span class="sxs-lookup"><span data-stu-id="fe24b-136">This step configures and completes the failover cluster instance.</span></span> <span data-ttu-id="fe24b-137">この手順が完了すると、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスター インスタンスが操作可能になります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-137">At the end of this step, you will have an operational [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="fe24b-138">マルチノード [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターのインストールでは、いずれのインストール オプションも使用できます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-138">Either installation option allows for multi-node [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation.</span></span> <span data-ttu-id="fe24b-139">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターを作成した後、いずれのオプションでもノードの追加機能を使用してさらにノードを追加することができます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-139">Add Node can be used to add additional nodes for either option after a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster has been created.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="fe24b-140">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のインストール場所に使用されているオペレーティング システムのドライブ文字は、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] フェールオーバー クラスターに追加されるすべてのノードで一致している必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-140">The operating system drive letter for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] install locations must match on all the nodes added to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
#### <a name="ip-address-configuration-during-setup"></a><span data-ttu-id="fe24b-141">セットアップ中の IP アドレスの構成</span><span class="sxs-lookup"><span data-stu-id="fe24b-141">IP Address Configuration During Setup</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fe24b-142">セットアップでは、次の操作中に、IP リソースの依存関係の設定を指定したり、変更したりできます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-142">Setup lets you set or change the IP resource dependency settings during the following actions:</span></span>  
  
-   <span data-ttu-id="fe24b-143">統合インストール - [新しい SQL Server フェールオーバー クラスターの作成 &#40;セットアップ&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="fe24b-143">Integrated Install - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="fe24b-144">CompleteFailoverCluster (詳細インストール) - [新しい SQL Server フェールオーバー クラスターの作成 &#40;セットアップ&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="fe24b-144">CompleteFailoverCluster (Advanced Install) - [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="fe24b-145">ノードの追加 - [SQL Server フェールオーバー クラスターでのノードの追加または削除 &#40;セットアップ&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="fe24b-145">Add Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
-   <span data-ttu-id="fe24b-146">ノードの削除 - [SQL Server フェールオーバー クラスターでのノードの追加または削除 &#40;セットアップ&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="fe24b-146">Remove Node - [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)</span></span>  
  
 <span data-ttu-id="fe24b-147">**注** IPv6 IP アドレスがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="fe24b-147">**Note** IPV6 IP addresses are supported.</span></span>  <span data-ttu-id="fe24b-148">IPv4 と IPv6 の両方を構成すると、それぞれ異なるサブネットとして扱われ、IPV6 がまずオンラインになることが想定されます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-148">If you configure both IPV4 and IPV6 there are treated like different subnets, and IPV6 is expected to come online first.</span></span>  
  
##### <a name="ssnoversion-multi-subnet-failover-cluster"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fe24b-149">マルチサブネット フェールオーバー クラスター</span><span class="sxs-lookup"><span data-stu-id="fe24b-149">Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="fe24b-150">クラスター上のノードが別々のサブネットにある場合、OR 依存関係を設定できます。</span><span class="sxs-lookup"><span data-stu-id="fe24b-150">You can set OR dependencies when the nodes on the cluster are on different subnets.</span></span> <span data-ttu-id="fe24b-151">ただし、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] マルチサブネット フェールオーバー クラスターの各ノードが、指定されている 1 つ以上の IP アドレスの実行可能な所有者である必要があります。</span><span class="sxs-lookup"><span data-stu-id="fe24b-151">However, each node in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster must be a possible owner of at least one of IP address specified.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fe24b-152">参照</span><span class="sxs-lookup"><span data-stu-id="fe24b-152">See Also</span></span>  
 <span data-ttu-id="fe24b-153">[フェールオーバークラスタリングをインストールする前に](before-installing-failover-clustering.md) </span><span class="sxs-lookup"><span data-stu-id="fe24b-153">[Before Installing Failover Clustering](before-installing-failover-clustering.md) </span></span>  
 <span data-ttu-id="fe24b-154">[新しい SQL Server フェールオーバー クラスターの作成 &#40;セットアップ&#41;](create-a-new-sql-server-failover-cluster-setup.md) </span><span class="sxs-lookup"><span data-stu-id="fe24b-154">[Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md) </span></span>  
 <span data-ttu-id="fe24b-155">[コマンドプロンプトから SQL Server 2014 をインストールする](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="fe24b-155">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="fe24b-156">SQL Server フェールオーバー クラスターのアップグレード</span><span class="sxs-lookup"><span data-stu-id="fe24b-156">Upgrade a SQL Server Failover Cluster</span></span>](../windows/upgrade-a-sql-server-failover-cluster-instance.md)  
  
  
