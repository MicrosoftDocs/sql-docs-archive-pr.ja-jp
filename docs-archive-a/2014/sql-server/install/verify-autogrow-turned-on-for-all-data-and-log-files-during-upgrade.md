---
title: アップグレード処理中にすべてのデータファイルとログファイルで自動拡張が有効になっていることを確認する |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- log files [SQL Server], size
- data files [SQL Server], size
- tempdb [SQL Server], size
- autogrow [SQL Server]
ms.assetid: a5860904-e2be-4224-8a51-df18a10d3fb9
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 8ca12075598bce210a905cbdfba89f2d879cf09b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87742746"
---
# <a name="verify-autogrow-is-turned-on-for-all-data-and-log-files-during-the-upgrade-process"></a><span data-ttu-id="bfb74-102">アップグレード処理中、すべてのデータ ファイルとログ ファイルの自動拡張が有効になっていることを確認する</span><span class="sxs-lookup"><span data-stu-id="bfb74-102">Verify autogrow is turned on for all data and log files during the upgrade process</span></span>
  <span data-ttu-id="bfb74-103">アップグレード アドバイザーによって、自動拡張に設定されていないデータまたはログ ファイルが検出されました。</span><span class="sxs-lookup"><span data-stu-id="bfb74-103">Upgrade Advisor detected data or log files that are not set to autogrow.</span></span> <span data-ttu-id="bfb74-104">新機能と強化された機能では、ユーザーデータベースおよび**tempdb**システムデータベース用に追加のディスク領域が必要になります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-104">New and enhanced features require additional disk space for user databases and the **tempdb** system database.</span></span> <span data-ttu-id="bfb74-105">アップグレード中およびその後の運用操作中に、リソースがサイズの増加に対応できるようにするには、アップグレードする前に、すべてのユーザーデータファイルとログファイル、および**tempdb**データとログファイルに対して自動拡張を ON に設定することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bfb74-105">To ensure resources can accommodate size increases during upgrade and subsequent production operations, we recommend setting autogrow to ON for all user data and log files and the **tempdb** data and log files before upgrading.</span></span>  
  
 <span data-ttu-id="bfb74-106">アップグレードを完了し、作業負荷をテストした後、必要に応じてユーザー データ ファイルとログ ファイルの自動拡張をオフにしたり、FILEGROWTH 増分値を調整してください。</span><span class="sxs-lookup"><span data-stu-id="bfb74-106">After you have upgraded and tested your workloads, you may want to turn autogrow off or adjust the FILEGROWTH increment accordingly for user data and log files.</span></span> <span data-ttu-id="bfb74-107">**Tempdb**システムデータベースの自動拡張をオンのままにすることをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bfb74-107">We recommend that autogrow remain on for the **tempdb** system database.</span></span> <span data-ttu-id="bfb74-108">詳細については、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] オンライン ブックの「tempdb に使用するディスク領域の計画」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bfb74-108">For more information, see "Capacity Planning for tempdb" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="component"></a><span data-ttu-id="bfb74-109">コンポーネント</span><span class="sxs-lookup"><span data-stu-id="bfb74-109">Component</span></span>  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)]  
  
## <a name="description"></a><span data-ttu-id="bfb74-110">説明</span><span class="sxs-lookup"><span data-stu-id="bfb74-110">Description</span></span>  
 <span data-ttu-id="bfb74-111">**データファイル**</span><span class="sxs-lookup"><span data-stu-id="bfb74-111">**Data files**</span></span>  
  
 <span data-ttu-id="bfb74-112">次の表に示す [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の機能変更では、ユーザー定義データ ファイル用に追加ディスク領域が必要となります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-112">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined data files.</span></span>  
  
|<span data-ttu-id="bfb74-113">特徴量</span><span class="sxs-lookup"><span data-stu-id="bfb74-113">Feature</span></span>|<span data-ttu-id="bfb74-114">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] から導入された変更</span><span class="sxs-lookup"><span data-stu-id="bfb74-114">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="bfb74-115">フルテキスト</span><span class="sxs-lookup"><span data-stu-id="bfb74-115">Full-text</span></span>|<span data-ttu-id="bfb74-116">ドキュメント ID (DOCID) マップは、フルテキスト カタログではなく、データ ファイルに格納されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-116">The document ID (DOCID) map is stored in the data file instead of in the full-text catalog.</span></span>|  
|<span data-ttu-id="bfb74-117">`text`、`ntext`、`image` の各列</span><span class="sxs-lookup"><span data-stu-id="bfb74-117">`text`, `ntext`, and `image` columns</span></span>|<span data-ttu-id="bfb74-118">`text`、`ntext`、または `image` のデータ型として定義されるラージ オブジェクト (LOB) 列には、列ごとに 40 バイトのディスク領域を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-118">Large object (LOB) columns defined as `text`, `ntext`, or `image` data types require an additional 40 bytes of disk space per column.</span></span> <span data-ttu-id="bfb74-119">この 1 回限りの領域増加は、各 LOB 列の初回更新時に発生します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-119">This one-time space increase occurs during the first update of each LOB column.</span></span>|  
|<span data-ttu-id="bfb74-120">metadata</span><span class="sxs-lookup"><span data-stu-id="bfb74-120">metadata</span></span>|<span data-ttu-id="bfb74-121">追加のシステム メタデータが、データベース オブジェクトおよびユーザー権限の各ユーザー データベースの PRIMARY ファイル グループに作成および保持されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-121">Additional system metadata is created and maintained in the PRIMARY filegroup of each user database for database objects and user permissions.</span></span> <span data-ttu-id="bfb74-122">たとえば、以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] では、権限を与えるユーザーまたは権限が与えられるユーザーに関連する権限は、ビットマップとして 1 つの行に格納されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-122">For example, in earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the permissions associated with a grantor or grantee is stored in a single row as a bitmap.</span></span> <span data-ttu-id="bfb74-123">そのビットマップが複数の行に拡張されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-123">The bitmap is expanded into multiple rows.</span></span><br /><br /> <span data-ttu-id="bfb74-124">そのため、アップグレード時に、古いメタデータと新しいメタデータの両方を格納するのに十分なディスク領域を確保する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-124">During the upgrade process, there must be enough disk space to store both the old and new metadata.</span></span> <span data-ttu-id="bfb74-125">古いメタデータは、アップグレード完了後に削除されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-125">The old metadata is deleted after the upgrade is complete.</span></span>|  
  
 <span data-ttu-id="bfb74-126">**トランザクション ログ ファイル**</span><span class="sxs-lookup"><span data-stu-id="bfb74-126">**Transaction log files**</span></span>  
  
 <span data-ttu-id="bfb74-127">次の表に示す [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の機能変更では、ユーザー定義トランザクション ログ ファイル用に追加ディスク領域が必要となります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-127">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined transaction log files.</span></span>  
  
|<span data-ttu-id="bfb74-128">特徴量</span><span class="sxs-lookup"><span data-stu-id="bfb74-128">Feature</span></span>|<span data-ttu-id="bfb74-129">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] から導入された変更</span><span class="sxs-lookup"><span data-stu-id="bfb74-129">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="bfb74-130">復元および復旧</span><span class="sxs-lookup"><span data-stu-id="bfb74-130">Restore and recovery</span></span>|<span data-ttu-id="bfb74-131">クラッシュ復旧の元に戻すフェーズの間、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] を使用してデータベースにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-131">During the undo phase of a crash recovery, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] allows users to access the database.</span></span> <span data-ttu-id="bfb74-132">これは、クラッシュの発生時にコミットされなかったトランザクションに、クラッシュ前に保持されたロックが必要であるためです。</span><span class="sxs-lookup"><span data-stu-id="bfb74-132">This is possible because the transactions that were uncommitted when the crash occurred reacquire any locks they held before the crash.</span></span> <span data-ttu-id="bfb74-133">トランザクションのロールバック中に、トランザクションのロックによってユーザーによる介入からトランザクションが保護されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-133">While transactions are being rolled back, their locks protect them from interference by users.</span></span> <span data-ttu-id="bfb74-134">このロックに関する追加情報は、トランザクション ログに保持されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-134">This additional locking information must be maintained in the transaction log.</span></span>|  
  
 <span data-ttu-id="bfb74-135">**tempdb データとログ ファイル**</span><span class="sxs-lookup"><span data-stu-id="bfb74-135">**tempdb data and log files**</span></span>  
  
 <span data-ttu-id="bfb74-136">以前のバージョンので [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] は、 **tempdb**データベースを使用して次のオブジェクトが格納されていました。</span><span class="sxs-lookup"><span data-stu-id="bfb74-136">In earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **tempdb** database is used to store the following objects:</span></span>  
  
-   <span data-ttu-id="bfb74-137">テーブル、ストアド プロシージャ、テーブル変数、カーソルなどの明示的に作成される一時オブジェクト</span><span class="sxs-lookup"><span data-stu-id="bfb74-137">Temporary objects explicitly created such as tables, stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="bfb74-138">[!INCLUDE[ssDE](../../includes/ssde-md.md)]によって作成される内部作業テーブル</span><span class="sxs-lookup"><span data-stu-id="bfb74-138">Internal work tables created by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="bfb74-139">インデックスの作成や再構築時の一時ソートによる結果 (SORT_IN_TEMPDB を指定した場合)</span><span class="sxs-lookup"><span data-stu-id="bfb74-139">Results from temporary sorts when you create or rebuild indexes, if SORT_IN_TEMPDB is specified.</span></span>  
  
 <span data-ttu-id="bfb74-140">その他のオブジェクトも**tempdb**データベースを使用します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-140">Additional objects also use the **tempdb** database.</span></span> <span data-ttu-id="bfb74-141">次の表に、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **tempdb**のデータファイルとログファイルに必要な追加のディスク領域を生成する機能の変更または追加機能を示します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-141">The following table lists changes or additions to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for **tempdb** data and log files.</span></span>  
  
|<span data-ttu-id="bfb74-142">特徴量</span><span class="sxs-lookup"><span data-stu-id="bfb74-142">Feature</span></span>|<span data-ttu-id="bfb74-143">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] から導入された変更</span><span class="sxs-lookup"><span data-stu-id="bfb74-143">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="bfb74-144">行のバージョン管理</span><span class="sxs-lookup"><span data-stu-id="bfb74-144">Row versioning</span></span>|<span data-ttu-id="bfb74-145">行のバージョン管理は、の一般的なフレームワークであり、次のような場合 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に使用されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-145">Row versioning is a general framework in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is used to:</span></span><br /><br /> <span data-ttu-id="bfb74-146">サポートトリガー: トリガーで inserted テーブルと deleted テーブルを作成します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-146">Support triggers: Build the inserted and deleted tables in triggers.</span></span> <span data-ttu-id="bfb74-147">トリガーによって変更された行はすべて、バージョン化されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-147">Any rows modified by the trigger are versioned.</span></span> <span data-ttu-id="bfb74-148">これには、トリガーによりデータが変更された行だけでなく、トリガーを起動したステートメントにより変更された行も含まれます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-148">This includes the rows modified by the statement that launched the trigger, as well as any data modifications made by the trigger.</span></span> <span data-ttu-id="bfb74-149">AFTER トリガーは、 **tempdb**のバージョンストアを使用して、トリガーによって変更された行の前のイメージを保持します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-149">AFTER triggers use the version store of **tempdb** to hold the before images of the rows changed by the trigger.</span></span> <span data-ttu-id="bfb74-150">トリガーを有効にしてデータを一括読み込みする場合、各行のコピーをバージョン ストアに追加する。</span><span class="sxs-lookup"><span data-stu-id="bfb74-150">When you bulkload data with triggers enabled, a copy of each row is added to the version store.</span></span><br /><br /> <span data-ttu-id="bfb74-151">複数のアクティブな結果セット (MARS) をサポートする。</span><span class="sxs-lookup"><span data-stu-id="bfb74-151">Support Multiple Active Result Sets (MARS).</span></span> <span data-ttu-id="bfb74-152">アクティブな結果セットが存在するときに、MARS セッションでデータ変更ステートメント (INSERT、UPDATE、DELETE など) が実行された場合、その変更ステートメントの影響を受けた行はバージョン化されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-152">If a MARS session issues a data modification statement (such as INSERT, UPDATE, or DELETE) at a time there is an active result set, the rows affected by the modification statement are versioned.</span></span><br /><br /> <span data-ttu-id="bfb74-153">ONLINE オプションを指定するインデックス操作をサポートする。</span><span class="sxs-lookup"><span data-stu-id="bfb74-153">Support index operations that specify the ONLINE option.</span></span> <span data-ttu-id="bfb74-154">オンライン インデックス操作では、行のバージョン管理を使用して、他のトランザクションによる変更がインデックス操作に影響を与えないようにしています。</span><span class="sxs-lookup"><span data-stu-id="bfb74-154">Online index operations use row versioning to isolate the index operation from the effects of modifications made by other transactions.</span></span> <span data-ttu-id="bfb74-155">そのため、読み取った行の共有ロックを要求する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-155">This avoids the need for requesting share locks on rows that have been read.</span></span> <span data-ttu-id="bfb74-156">さらに、オンラインインデックス操作中のユーザーの更新および削除操作の同時実行には、 **tempdb**のバージョンレコード用の領域が必要です。</span><span class="sxs-lookup"><span data-stu-id="bfb74-156">In addition, concurrent user update and delete operations during online index operations require space for version records in **tempdb**.</span></span><br /><br /> <span data-ttu-id="bfb74-157">行のバージョン管理に基づくトランザクション分離レベルのサポート: 行のバージョン管理を使用してステートメントレベルの読み取りの一貫性を提供する、read committed 分離レベルの新しい実装。</span><span class="sxs-lookup"><span data-stu-id="bfb74-157">Support row versioning-based transaction isolation levels: A new implementation of read committed isolation level that uses row versioning to provide statement-level read consistency.</span></span> <span data-ttu-id="bfb74-158">新しい分離レベルであるスナップショット。このレベルにより、トランザクションレベルの読み取り一貫性を実現します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-158">A new isolation level, snapshot, to provide transaction-level read consistency.</span></span><br /><br /> <br /><br /> <span data-ttu-id="bfb74-159">行バージョンは、行のバージョン管理に基づく分離レベルで実行されるトランザクションの要件を満たすのに十分な**tempdb**バージョンストアに保持されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-159">Row versions are held in the **tempdb** version store long enough to satisfy the requirements of transactions running under row versioning-based isolation levels.</span></span><br /><br /> <span data-ttu-id="bfb74-160">行バージョンおよびバージョン ストアの詳細については、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] オンライン ブックの「行のバージョン管理に基づく分離レベルについて」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="bfb74-160">For more information about row versioning and the version store, see the topic "Understanding Row Versioning-based Isolation Levels" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|  
|<span data-ttu-id="bfb74-161">一時テーブルおよび一時変数メタデータのキャッシュ</span><span class="sxs-lookup"><span data-stu-id="bfb74-161">Caching of temp table and temp variable metadata</span></span>|<span data-ttu-id="bfb74-162">によってメタデータキャッシュにキャッシュされた一時テーブルおよび一時変数のすべてのメタデータについて [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 、 **tempdb**に2つの追加ページが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-162">For every metadata of temp table and temp variable cached in the metadata cache by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], two extra pages are allocated for **tempdb**.</span></span><br /><br /> <span data-ttu-id="bfb74-163">ストアド プロシージャまたはトリガーで一時テーブルまたは一時変数を作成する場合、そのプロシージャまたはトリガーによる実行が完了しても、一時オブジェクトは削除されません。</span><span class="sxs-lookup"><span data-stu-id="bfb74-163">If a stored procedure or trigger creates a temp table or temp variable, the temporary object is not deleted when the procedure or trigger completes execution.</span></span> <span data-ttu-id="bfb74-164">その代わりに、一時オブジェクトが 1 ページに切り詰められ、そのプロシージャまたはトリガーを次回に実行するときに再利用されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-164">Instead, the temporary object is truncated to one page and reused the next time the procedure or trigger is executed.</span></span>|  
|<span data-ttu-id="bfb74-165">パーティション テーブルのインデックス</span><span class="sxs-lookup"><span data-stu-id="bfb74-165">Indexes on partitioned tables</span></span>|<span data-ttu-id="bfb74-166">で [!INCLUDE[ssDE](../../includes/ssde-md.md)] パーティションインデックスを構築するために並べ替えを実行する場合、SORT_IN_TEMPDB インデックスオプションを指定した場合、 **tempdb**には、各パーティションの中間の並べ替え実行を格納するための十分な領域が必要です。</span><span class="sxs-lookup"><span data-stu-id="bfb74-166">When the [!INCLUDE[ssDE](../../includes/ssde-md.md)] performs sorting to build partitioned indexes, enough space to hold the intermediate sort runs of each partition is required in **tempdb** if the SORT_IN_TEMPDB index option is specified.</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|[!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="bfb74-167">メモリに保持できない既存のダイアログコンテキストを保持する場合、 **tempdb**を明示的に使用します (ダイアログあたり約 1 KB)。</span><span class="sxs-lookup"><span data-stu-id="bfb74-167">explicitly uses **tempdb** when preserving existing dialog context that cannot stay in memory (approximately 1 KB per dialog).</span></span><br /><br /> [!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="bfb74-168">では、クエリ実行のコンテキストでオブジェクトのキャッシュによって**tempdb**を暗黙的に使用します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-168">implicitly uses **tempdb** through the caching of objects in the context of query execution.</span></span> <span data-ttu-id="bfb74-169">たとえば、タイマー イベントに使用される作業テーブルおよびバックグラウンド送信メッセージ交換で使用します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-169">For example, work tables used for timer events and background delivered conversations.</span></span><br /><br /> <span data-ttu-id="bfb74-170">DBMail、イベント通知、およびクエリ通知の機能では、[!INCLUDE[ssSB](../../includes/sssb-md.md)] を暗黙的に使用します。</span><span class="sxs-lookup"><span data-stu-id="bfb74-170">The features DBMail, event notifications, and query notifications implicitly use [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span></span>|  
|<span data-ttu-id="bfb74-171">ラージ オブジェクト (LOB) のデータ型</span><span class="sxs-lookup"><span data-stu-id="bfb74-171">Large object (LOB) data type</span></span><br /><br /> <span data-ttu-id="bfb74-172">LOB の変数およびパラメーター</span><span class="sxs-lookup"><span data-stu-id="bfb74-172">LOB variables and parameters</span></span>|<span data-ttu-id="bfb74-173">データ型、 `varchar(max)` `nvarchar(max)` 、 **varbinary (max) テキスト**、 `ntext` 、 `image,` およびは、 `xml` ラージオブジェクト型です。</span><span class="sxs-lookup"><span data-stu-id="bfb74-173">The data types `varchar(max)`, `nvarchar(max)`, **varbinary(max)text**, `ntext`, `image,` and `xml` are large object types.</span></span><br /><br /> <span data-ttu-id="bfb74-174">データベースで行のバージョン管理に基づくトランザクション分離レベルが有効になっていて、ラージオブジェクトの変更が行われると、変更された LOB のフラグメントが**tempdb**のバージョンストアにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-174">When a row versioning-based transaction isolation level is enabled on the database and modifications of large objects are made, the changed fragment of the LOB is copied to the version store in **tempdb**.</span></span><br /><br /> <span data-ttu-id="bfb74-175">ラージオブジェクトデータ型として定義されるパラメーターは、 **tempdb**に格納されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-175">Parameters defined as a large object data type are stored in **tempdb**.</span></span>|  
|<span data-ttu-id="bfb74-176">共通テーブル式 (Cte)</span><span class="sxs-lookup"><span data-stu-id="bfb74-176">Common table expressions (CTEs)</span></span>|<span data-ttu-id="bfb74-177">共通テーブル式のクエリが実行されると、スプール操作の一時作業テーブルが**tempdb**に作成されます。</span><span class="sxs-lookup"><span data-stu-id="bfb74-177">Temporary work tables for spool operations are created in **tempdb** when common table expression queries are executed.</span></span>|  
  
## <a name="corrective-action"></a><span data-ttu-id="bfb74-178">修正措置</span><span class="sxs-lookup"><span data-stu-id="bfb74-178">Corrective Action</span></span>  
 <span data-ttu-id="bfb74-179">データまたはログ ファイルを自動拡張に設定するには、データベースのデータおよびログを指定するように以下のステートメントを変更してください。</span><span class="sxs-lookup"><span data-stu-id="bfb74-179">To set a data or log file to autogrow, modify the following statements to specify the data and log for your database.</span></span> <span data-ttu-id="bfb74-180">また FILEGROWTH 増分値を、使用している環境で適切な値に調整する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-180">You should adjust the FILEGROWTH increment to a value that is appropriate for your environment.</span></span>  
  
```  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = tempdev,  
    FILEGROWTH = 20MB);  
GO  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = templog,  
    FILEGROWTH = 10MB);  
```  
  
 <span data-ttu-id="bfb74-181">データ ファイルの既定の拡張増分値が 1 MB になります。</span><span class="sxs-lookup"><span data-stu-id="bfb74-181">The default growth increment for data files is 1 MB.</span></span> <span data-ttu-id="bfb74-182">ログ ファイルの既定値は 10% です。</span><span class="sxs-lookup"><span data-stu-id="bfb74-182">The log file default is10%.</span></span> <span data-ttu-id="bfb74-183">FILEGROWTH 増分値を設定するときは、次の一般的なガイドラインに従うことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="bfb74-183">We recommend the following general guidelines when setting the FILEGROWTH increment:</span></span>  
  
|<span data-ttu-id="bfb74-184">ファイル サイズ</span><span class="sxs-lookup"><span data-stu-id="bfb74-184">File size</span></span>|<span data-ttu-id="bfb74-185">FILEGROWTH 増分値</span><span class="sxs-lookup"><span data-stu-id="bfb74-185">FILEGROWTH increment</span></span>|  
|---------------|--------------------------|  
|<span data-ttu-id="bfb74-186">0 ～ 50 MB</span><span class="sxs-lookup"><span data-stu-id="bfb74-186">0-50MB</span></span>|<span data-ttu-id="bfb74-187">10 MB</span><span class="sxs-lookup"><span data-stu-id="bfb74-187">10MB</span></span>|  
|<span data-ttu-id="bfb74-188">100 ～ 200 MB</span><span class="sxs-lookup"><span data-stu-id="bfb74-188">100-200MB</span></span>|<span data-ttu-id="bfb74-189">MB</span><span class="sxs-lookup"><span data-stu-id="bfb74-189">20MB</span></span>|  
|<span data-ttu-id="bfb74-190">500 MB 以上</span><span class="sxs-lookup"><span data-stu-id="bfb74-190">500MB or more</span></span>|<span data-ttu-id="bfb74-191">10%</span><span class="sxs-lookup"><span data-stu-id="bfb74-191">10%</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="bfb74-192">参照</span><span class="sxs-lookup"><span data-stu-id="bfb74-192">See Also</span></span>  
 <span data-ttu-id="bfb74-193">[データベースエンジンのアップグレードに関する問題](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span><span class="sxs-lookup"><span data-stu-id="bfb74-193">[Database Engine Upgrade Issues](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span></span>  
 [<span data-ttu-id="bfb74-194">SQL Server 2014 Upgrade Advisor &#91;新しい&#93;</span><span class="sxs-lookup"><span data-stu-id="bfb74-194">SQL Server 2014 Upgrade Advisor &#91;new&#93;</span></span>](sql-server-2014-upgrade-advisor.md)  
  
  
