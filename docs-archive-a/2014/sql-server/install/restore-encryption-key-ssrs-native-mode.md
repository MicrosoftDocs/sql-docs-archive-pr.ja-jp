---
title: 暗号化キーの復元 (SSRS ネイティブモード) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- SQL12.rsconfigtool.restoreencryptionkey.F1
ms.assetid: 11ce51e5-f5d4-40b6-88d8-9360fb50e66c
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 3047e81b3f79219064f81a3492afe6460e1e4966
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87631487"
---
# <a name="restore-encryption-key-ssrs-native-mode"></a><span data-ttu-id="ed8d6-102">暗号化キーを復元する (SSRS ネイティブ モード)</span><span class="sxs-lookup"><span data-stu-id="ed8d6-102">Restore Encryption Key (SSRS Native Mode)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="ed8d6-103">では、暗号化キーを使用して、レポート サーバー データベースに格納されている機密データのセキュリティを保護します。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-103">uses an encryption key to secure sensitive data that is stored in the report server database.</span></span> <span data-ttu-id="ed8d6-104">暗号化されたデータに継続してアクセスできるようにするには、サービス アカウントの変更のために後で暗号化キーを復元する必要がある場合に備えて、または計画的な移行の一環として、暗号化キーのバックアップを作成することが重要です。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-104">To ensure that you have continued access to encrypted data, it is important that you create a backup of the encryption key in case you need to restore it later due to changes in the service account or as part of a planned migration.</span></span> <span data-ttu-id="ed8d6-105">このトピックでは、 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 構成マネージャーを使用してキーを復元する方法の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-105">This topic is an overview of how to use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to restore keys.</span></span>  
  
 [!INCLUDE[applies](../../includes/applies-md.md)]<span data-ttu-id="ed8d6-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]ネイティブモード。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode.</span></span>  
  
 <span data-ttu-id="ed8d6-107">キーを復元するには、パスワードで保護されたファイルにキーのバックアップ コピーを保存しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-107">To restore the key, you must have previously saved a backup copy of the key to a password protected file.</span></span> <span data-ttu-id="ed8d6-108">キーの復元時には、レポート サーバーによって、既存のキーがパスワードで保護されたファイル内のキーに置き換えられます。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-108">During key restoration, the report server will replace an existing key with the key that is found in the password protected file.</span></span> <span data-ttu-id="ed8d6-109">ファイル内のキーは、データの暗号化および暗号化解除に使用されるキーと同一である必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-109">The key that is inside the file must be identical to the key that is used to encrypt and decrypt data.</span></span>  
  
 <span data-ttu-id="ed8d6-110">有効なキーを復元したかどうかを確認するには、レポート マネージャーを使用してサブスクリプションを表示するか、保存されている資格情報を使用するデータ ソースが含まれているレポートを表示します。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-110">To verify whether you restored a valid key, use Report Manager to view subscriptions or any report that has a data source that uses stored credentials.</span></span> <span data-ttu-id="ed8d6-111">サブスクリプション定義ページを開こうとしたときに "レポート サーバーでは暗号化されたデータにアクセスできません" というエラーが表示された場合や、保存されている資格情報をレポート データ ソースに対して使用していたレポートを開く際に、資格情報を入力するように求められた場合は、復元したキーが無効です。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-111">If you receive "The report server is unable to access encrypted data" error when attempting to open a subscription definition page, or if you are prompted to enter credentials when opening a report that previously used stored credentials for the report data source, you restored an invalid key.</span></span>  
  
 <span data-ttu-id="ed8d6-112">データの暗号化に使用されたキーとは異なる無効なキーを復元すると、レポート サーバー データベースに現在格納されているデータの暗号化は解除できません。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-112">If you restore an invalid key that is different from the one used to encrypt the data, it will be impossible to decrypt data that is currently stored in the report server database.</span></span> <span data-ttu-id="ed8d6-113">無効なキーを復元した場合は、正しいキーのバックアップ コピーが使用可能であれば、このコピーをすぐに復元してください。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-113">If you restore an invalid key, you should immediately restore a backup copy of the correct key if it is available.</span></span> <span data-ttu-id="ed8d6-114">データの暗号化に使用されたキーのバックアップ コピーがない場合は、すべての暗号化されたデータを削除する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-114">If you do not have a backup copy of the key that was used to encrypt data, you must delete all encrypted data.</span></span> <span data-ttu-id="ed8d6-115">削除するには、 **[暗号化キー]** ページの [[削除]](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-115">Click the **Delete** button on the [Encryption Keys](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) page to perform this step.</span></span> <span data-ttu-id="ed8d6-116">暗号化されたコンテンツを削除したら、すべてのサブスクリプションを手動で更新し、レポートに定義されているすべての保存された資格情報とレポート サーバー上のデータ ドリブン サブスクリプションを再指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-116">After you delete the encrypted content, you must manually update all subscriptions and re-specify all stored credentials defined for reports and data-driven subscriptions on the report server.</span></span>  
  
## <a name="restore-encryption-key-dialog"></a><span data-ttu-id="ed8d6-117">[暗号化キーの復元] ダイアログ ボックス</span><span class="sxs-lookup"><span data-stu-id="ed8d6-117">Restore Encryption Key Dialog</span></span>  
 <span data-ttu-id="ed8d6-118">Configuration Manager の場所については [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 、「 [Reporting Services Configuration Manager &#40;ネイティブモード&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-118">For information on where to find the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
 <span data-ttu-id="ed8d6-119">[暗号化キーの復元] ダイアログ ボックスを開くには、 **構成マネージャーのナビゲーション ウィンドウの** [暗号化キー] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] をクリックし、 **[復元]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-119">To open the Restore Encryption Key dialog box, click **Encryption Keys** in the navigation pane of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, and then click **Restore**.</span></span> <span data-ttu-id="ed8d6-120">このダイアログ ボックスは、 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 構成マネージャーの [サービス アカウント] ページを使用してサービス アカウントを更新した場合にも表示されます。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-120">This dialog box also appears when you update the service account using the Service Account page in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="ed8d6-121">詳細については、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-121">For more information on the</span></span>  
  
## <a name="options"></a><span data-ttu-id="ed8d6-122">Options</span><span class="sxs-lookup"><span data-stu-id="ed8d6-122">Options</span></span>  
 <span data-ttu-id="ed8d6-123">**ファイルの場所**</span><span class="sxs-lookup"><span data-stu-id="ed8d6-123">**File Location**</span></span>  
 <span data-ttu-id="ed8d6-124">対称キーのコピーを含むパスワードで保護されたファイルを選択します。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-124">Select the password-protected file that contains a copy of the symmetric key.</span></span> <span data-ttu-id="ed8d6-125">既定のファイル拡張子は .snk です。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-125">The default file extension is .snk.</span></span>  
  
 <span data-ttu-id="ed8d6-126">**パスワード**</span><span class="sxs-lookup"><span data-stu-id="ed8d6-126">**Password**</span></span>  
 <span data-ttu-id="ed8d6-127">ファイルのロックを解除するパスワードを入力します。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-127">Enter the password that unlocks the file.</span></span> <span data-ttu-id="ed8d6-128">パスワードを知っているユーザーのみがキーを復元できます。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-128">Only users who know the password can restore the key.</span></span> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="ed8d6-129">では、強力なパスワード ポリシーが適用されます。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-129">enforces a strong password policy.</span></span> <span data-ttu-id="ed8d6-130">パスワードは 8 文字以上で、大文字と小文字、英数字、および 1 つ以上の記号文字の組み合わせにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ed8d6-130">The password must contain at least 8 characters and include a combination of uppercase and lowercase alphanumeric characters and at least one symbol character.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed8d6-131">参照</span><span class="sxs-lookup"><span data-stu-id="ed8d6-131">See Also</span></span>  
 <span data-ttu-id="ed8d6-132">[Reporting Services Configuration Manager F1 ヘルプトピック &#40;SSRS ネイティブモード&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="ed8d6-132">[Reporting Services Configuration Manager F1 Help Topics &#40;SSRS Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="ed8d6-133">[Reporting Services の暗号化キーのバックアップと復元](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="ed8d6-133">[Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="ed8d6-134">[暗号化キーの削除と再作成  &#40;SSRS 構成マネージャー&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="ed8d6-134">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="ed8d6-135">[レポート サーバーの初期化 &#40;SSRS 構成マネージャー&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed8d6-135">[Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span></span>  
 <span data-ttu-id="ed8d6-136">[暗号化されたレポート サーバー データの格納 &#40;SSRS 構成マネージャー&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span><span class="sxs-lookup"><span data-stu-id="ed8d6-136">[Store Encrypted Report Server Data &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span></span>  
 [<span data-ttu-id="ed8d6-137">SSRS ネイティブモードの暗号化キー &#40;&#41;</span><span class="sxs-lookup"><span data-stu-id="ed8d6-137">Encryption Keys &#40;SSRS Native Mode&#41;</span></span>](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md)  
  
  
