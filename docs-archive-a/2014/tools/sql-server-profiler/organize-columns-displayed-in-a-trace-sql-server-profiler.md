---
title: トレースに表示される列の構成 (SQL Server Profiler) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- organizing trace columns displayed [SQL Server]
- arranging trace columns displayed
- traces [SQL Server], data columns
ms.assetid: 6b923f94-0eb1-467e-82f6-ceed43f77017
author: stevestein
ms.author: sstein
ms.openlocfilehash: 0e129195418c655365659805679775d93b2293d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87711245"
---
# <a name="organize-columns-displayed-in-a-trace-sql-server-profiler"></a><span data-ttu-id="65e06-102">トレースに表示される列の構成 (SQL Server Profiler)</span><span class="sxs-lookup"><span data-stu-id="65e06-102">Organize Columns Displayed in a Trace (SQL Server Profiler)</span></span>
  <span data-ttu-id="65e06-103">トレース テーブルまたは **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[列の構成]** をクリックするか、またはトレースを定義するときに、トレースのデータ列をグループ化できます。</span><span class="sxs-lookup"><span data-stu-id="65e06-103">You can group data columns in a trace by selecting **Organize Columns** in the trace table or **Trace File Properties** dialog box, or when you define a trace.</span></span> <span data-ttu-id="65e06-104">データ列をグループ化すると、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] のトレース出力を分析しやすくなります。</span><span class="sxs-lookup"><span data-stu-id="65e06-104">Grouping the data columns enables you to better analyze [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace output.</span></span> <span data-ttu-id="65e06-105">詳細については、「 [SQL Server Profiler を使用したトレースの表示と分析](view-and-analyze-traces-with-sql-server-profiler.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="65e06-105">For more information, see [View and Analyze Traces with SQL Server Profiler](view-and-analyze-traces-with-sql-server-profiler.md).</span></span>  
  
 <span data-ttu-id="65e06-106">**[列の構成]** を使用すると、トレース イベントをグループ化するか、または選択するデータ列でトレース イベントをグループ化して集計できます。</span><span class="sxs-lookup"><span data-stu-id="65e06-106">**Organize Columns** enables you to either group the trace events, or to group and aggregate them by the data columns you select.</span></span>  
  
-   <span data-ttu-id="65e06-107">グループ化する複数のデータ列を選択して、トレース イベントのグループ化のみを行います。</span><span class="sxs-lookup"><span data-stu-id="65e06-107">Choose multiple data columns for grouping to only group trace events.</span></span> <span data-ttu-id="65e06-108">グループ化する複数のデータ列を選択すると、トレース ウィンドウに、選択したデータ列の値でグループ化されたイベントが表示されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-108">When you choose multiple data columns for grouping, the trace window displays events grouped by the values in the data columns you selected for grouping.</span></span> <span data-ttu-id="65e06-109">次の例は、グループ化用に **Duration** データ列と **StartTime** データ列を選択した場合に、トレース ウィンドウのグリッドがどのように表示されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="65e06-109">The following example shows how the trace window grid would appear if you chose the **Duration** and **StartTime** data columns for grouping.</span></span> <span data-ttu-id="65e06-110">**Duration** 列の値が昇順に表示され、その次に **StartTime** 列の値が表示されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-110">Note that the **Duration** column values are displayed in ascending order, then the **StartTime** values.</span></span>  
  
|<span data-ttu-id="65e06-111">Duration</span><span class="sxs-lookup"><span data-stu-id="65e06-111">Duration</span></span>|<span data-ttu-id="65e06-112">StartTime</span><span class="sxs-lookup"><span data-stu-id="65e06-112">StartTime</span></span>|<span data-ttu-id="65e06-113">EventClass</span><span class="sxs-lookup"><span data-stu-id="65e06-113">EventClass</span></span>|<span data-ttu-id="65e06-114">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="65e06-114">ClientProcessID</span></span>|  
|--------------|---------------|----------------|---------------------|  
||<span data-ttu-id="65e06-115">12/12/2006 3:16:43 PM</span><span class="sxs-lookup"><span data-stu-id="65e06-115">12/12/2006 3:16:43 PM</span></span>|<span data-ttu-id="65e06-116">SQL:StmtStarting</span><span class="sxs-lookup"><span data-stu-id="65e06-116">SQL:StmtStarting</span></span>|<span data-ttu-id="65e06-117">2124</span><span class="sxs-lookup"><span data-stu-id="65e06-117">2124</span></span>|  
|<span data-ttu-id="65e06-118">0</span><span class="sxs-lookup"><span data-stu-id="65e06-118">0</span></span>|<span data-ttu-id="65e06-119">12/12/2006 5:39:23 PM</span><span class="sxs-lookup"><span data-stu-id="65e06-119">12/12/2006 5:39:23 PM</span></span>|<span data-ttu-id="65e06-120">Audit Login</span><span class="sxs-lookup"><span data-stu-id="65e06-120">Audit Login</span></span>|<span data-ttu-id="65e06-121">648</span><span class="sxs-lookup"><span data-stu-id="65e06-121">648</span></span>|  
|<span data-ttu-id="65e06-122">1</span><span class="sxs-lookup"><span data-stu-id="65e06-122">1</span></span>|<span data-ttu-id="65e06-123">12/12/2006 5:24:44 PM</span><span class="sxs-lookup"><span data-stu-id="65e06-123">12/12/2006 5:24:44 PM</span></span>|<span data-ttu-id="65e06-124">SQL:StmtStarting</span><span class="sxs-lookup"><span data-stu-id="65e06-124">SQL:StmtStarting</span></span>|<span data-ttu-id="65e06-125">2124</span><span class="sxs-lookup"><span data-stu-id="65e06-125">2124</span></span>|  
|<span data-ttu-id="65e06-126">25</span><span class="sxs-lookup"><span data-stu-id="65e06-126">25</span></span>|<span data-ttu-id="65e06-127">12/12/2006 5:24:44 PM</span><span class="sxs-lookup"><span data-stu-id="65e06-127">12/12/2006 5:24:44 PM</span></span>|<span data-ttu-id="65e06-128">SQL:StmtCompleted</span><span class="sxs-lookup"><span data-stu-id="65e06-128">SQL:StmtCompleted</span></span>|<span data-ttu-id="65e06-129">648</span><span class="sxs-lookup"><span data-stu-id="65e06-129">648</span></span>|  
  
-   <span data-ttu-id="65e06-130">グループ化する列を 1 列だけ選択して、トレース イベントをグループ化し集計します。</span><span class="sxs-lookup"><span data-stu-id="65e06-130">Choose only one column for grouping to group and aggregate trace events.</span></span> <span data-ttu-id="65e06-131">グループ化するデータ列を 1 列だけ選択すると、トレース ウィンドウにそのデータ列の値でグループ化されたイベントが表示され、その下にあるすべてのイベントが折りたたまれます。</span><span class="sxs-lookup"><span data-stu-id="65e06-131">When you choose only one data column for grouping, the trace window displays events grouped by the values in that data column and collapses all events under it.</span></span> <span data-ttu-id="65e06-132">グループ化するために選択したデータ列のイベントの左側にはプラス記号 ( **+** ) が表示され、右側にはその下で折りたたまれているイベントの数がかっこ内に表示されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-132">A plus sign (**+**) appears to the left of the event in the data column you chose for grouping, and the number of events collapsed under it appears in parentheses to the right of the event.</span></span> <span data-ttu-id="65e06-133">次の例は、グループ化用に **EventClass** データ列だけを選択した場合、トレース ウィンドウのグリッドがどのように表示されるかを示しています。</span><span class="sxs-lookup"><span data-stu-id="65e06-133">The following example shows how the trace window grid would appear if you chose only the **EventClass** data column for grouping.</span></span> <span data-ttu-id="65e06-134">すべてのイベントが **EventClass** データ列に配置されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="65e06-134">Note that all events are organized under the **EventClass** data column.</span></span> <span data-ttu-id="65e06-135">すべてのイベントを表示するには、プラス記号をクリックして展開し、その種類のすべてのイベント クラスを表示します。</span><span class="sxs-lookup"><span data-stu-id="65e06-135">To view all events, click the plus sign to expand and display all event classes of that type.</span></span>  
  
|<span data-ttu-id="65e06-136">EventClass</span><span class="sxs-lookup"><span data-stu-id="65e06-136">EventClass</span></span>|<span data-ttu-id="65e06-137">StartTime</span><span class="sxs-lookup"><span data-stu-id="65e06-137">StartTime</span></span>|<span data-ttu-id="65e06-138">Duration</span><span class="sxs-lookup"><span data-stu-id="65e06-138">Duration</span></span>|<span data-ttu-id="65e06-139">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="65e06-139">ClientProcessID</span></span>|  
|----------------|---------------|--------------|---------------------|  
|<span data-ttu-id="65e06-140">+ ExistingConnection (6)</span><span class="sxs-lookup"><span data-stu-id="65e06-140">+ ExistingConnection (6)</span></span>||||  
|<span data-ttu-id="65e06-141">+ SQL:BatchStarting (25)</span><span class="sxs-lookup"><span data-stu-id="65e06-141">+ SQL:BatchStarting (25)</span></span>||||  
|<span data-ttu-id="65e06-142">+ SQL:StmtCompleted (11)</span><span class="sxs-lookup"><span data-stu-id="65e06-142">+ SQL:StmtCompleted (11)</span></span>||||  
|<span data-ttu-id="65e06-143">+ SQL:SmtStarting (21)</span><span class="sxs-lookup"><span data-stu-id="65e06-143">+ SQL:SmtStarting (21)</span></span>||||  
  
### <a name="to-group-data-columns-displayed-in-a-trace"></a><span data-ttu-id="65e06-144">トレースに表示されるデータ列をグループ化するには</span><span class="sxs-lookup"><span data-stu-id="65e06-144">To group data columns displayed in a trace</span></span>  
  
1.  <span data-ttu-id="65e06-145">既存のトレース ファイルまたはトレース テーブルを開きます。</span><span class="sxs-lookup"><span data-stu-id="65e06-145">Open an existing trace file or table.</span></span>  
  
2.  <span data-ttu-id="65e06-146">**[ファイル]** メニューの **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-146">On the **File** menu, click **Properties**.</span></span>  
  
3.  <span data-ttu-id="65e06-147">**[トレース ファイルのプロパティ]** または **[トレース テーブルのプロパティ]** ダイアログ ボックスで、 **[イベントの選択]** タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-147">In the **Trace File Properties** or **Trace Table Properties** dialog box, click the **Events Selection** tab.</span></span>  
  
4.  <span data-ttu-id="65e06-148">**[イベントの選択]** タブで、 **[列の構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-148">On the **Events Selection** tab, click **Organize Columns**.</span></span>  
  
5.  <span data-ttu-id="65e06-149">**[列の構成]** ダイアログ ボックスで、グループに表示する列を選択し、 **[上へ]** をクリックして **[グループ]** の下に選択した列を移動します。</span><span class="sxs-lookup"><span data-stu-id="65e06-149">In the **Organize Columns** dialog box, select the columns you want to display in a group, and click **Up** to move them under **Groups**.</span></span> <span data-ttu-id="65e06-150">**[グループ]** の下に必要なすべての列を移動した後、 **[上へ]** および **[下へ]** を使用して列の順序を並べ替えることができます。</span><span class="sxs-lookup"><span data-stu-id="65e06-150">After you have moved all the columns you want to move under **Groups**, you can use the **Up** and **Down** buttons to rearrange their order.</span></span>  
  
     <span data-ttu-id="65e06-151">データ列の名前を **[グループ]** の一覧に移動すると、表示されているトレースが、まず **[グループ]** の一覧の最上部に表示されているデータ列の値で構成され、次に **[グループ]** の一覧内の 2 番目のデータ列の値で構成されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-151">Moving the data column names into the **Groups** list means that the displayed trace is first organized by the values in the top-most data column appearing in the **Groups** list, then by the second data column in the **Groups** list, and so on.</span></span>  
  
6.  <span data-ttu-id="65e06-152">**[列の構成]** ダイアログ ボックスで **[OK]** をクリックして、 **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-152">Click **OK** in the **Organize Columns** dialog box, and then click **OK** in the **Trace Table Properties** or **Trace File Properties** dialog box.</span></span>  
  
     <span data-ttu-id="65e06-153">**[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックした後、表示されているトレースのデータ列が再構成されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-153">After clicking **OK** in the **Trace Table Properties** or the **Trace File Properties** dialog box, the data columns are reorganized in the displayed trace.</span></span> <span data-ttu-id="65e06-154">**[グループ]** 一覧の最上部に移動したデータ列が、トレース表示のグリッドで一番左に表示されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-154">The data column that you moved to the top-most position in the **Groups** list is located first in the trace display when you are reading the grid from left to right.</span></span> <span data-ttu-id="65e06-155">トレースの行は、 **[グループ]** の一覧に含めたデータ列の値で昇順に構成されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-155">The rows in the trace are organized in ascending order by the values contained in the data columns that you included in the **Groups** list.</span></span> <span data-ttu-id="65e06-156">画面では、グループ化を選択した列の位置は固定されたままですが、右または左にスクロールして他の列を表示できます。</span><span class="sxs-lookup"><span data-stu-id="65e06-156">The columns chosen for grouping remain fixed in the display, but you can scroll right or left to view the other columns.</span></span>  
  
7.  <span data-ttu-id="65e06-157">表示されているトレース データのグループ化を解除するには、 **[表示]** メニューの **[グループ化ビュー]** をクリックして選択を取り消します。</span><span class="sxs-lookup"><span data-stu-id="65e06-157">To ungroup the displayed trace data, click **Grouped View** on the **View** menu to cancel the selection.</span></span> <span data-ttu-id="65e06-158">グループ化ビューに戻す場合は、 **[表示]** メニューの **[グループ化ビュー]** を再びクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-158">If you want to revert to the grouped view, click **Grouped View** on the **View** menu again to reselect it.</span></span>  
  
### <a name="to-group-and-aggregate-data-columns-in-a-trace"></a><span data-ttu-id="65e06-159">トレースに表示されるデータ列をグループ化して集計するには</span><span class="sxs-lookup"><span data-stu-id="65e06-159">To group and aggregate data columns in a trace</span></span>  
  
1.  <span data-ttu-id="65e06-160">既存のトレース ファイルまたはトレース テーブルを開きます。</span><span class="sxs-lookup"><span data-stu-id="65e06-160">Open an existing trace file or table.</span></span>  
  
2.  <span data-ttu-id="65e06-161">**[ファイル]** メニューの **[プロパティ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-161">On the **File** menu, click **Properties**.</span></span>  
  
3.  <span data-ttu-id="65e06-162">**[トレース ファイルのプロパティ]** または **[トレース テーブルのプロパティ]** ダイアログ ボックスで、 **[イベントの選択]** タブをクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-162">In the **Trace File Properties** or **Trace Table Properties** dialog box, click the **Events Selection** tab.</span></span>  
  
4.  <span data-ttu-id="65e06-163">**[イベントの選択]** タブで、 **[列の構成]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-163">On the **Events Selection** tab, click **Organize Columns**.</span></span>  
  
5.  <span data-ttu-id="65e06-164">**[列の構成]** ダイアログ ボックスで、表示されているトレース イベントをグループ化して集計するときの基になる列を選択します。</span><span class="sxs-lookup"><span data-stu-id="65e06-164">In the **Organize Columns** dialog box, select one column by which you want to group and aggregate the displayed trace events.</span></span> <span data-ttu-id="65e06-165">**[上へ]** をクリックして、 **[グループ]** の下に列名を移動します。</span><span class="sxs-lookup"><span data-stu-id="65e06-165">Click **Up** to move the column name under **Groups**.</span></span> <span data-ttu-id="65e06-166">必要に応じて、 **[上へ]** および **[下へ]** を使用して、 **[列]** の下に表示されている残りの列を並べ替えることができます。</span><span class="sxs-lookup"><span data-stu-id="65e06-166">You can use the **Up** and **Down** buttons to rearrange the remaining columns under **Columns** if needed.</span></span>  
  
6.  <span data-ttu-id="65e06-167">**[列の構成]** ダイアログ ボックスで **[OK]** をクリックして、 **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-167">Click **OK** in the **Organize Columns** dialog box, and then click **OK** in the **Trace Table Properties** or **Trace File Properties** dialog box.</span></span>  
  
     <span data-ttu-id="65e06-168">**[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックした後、表示されているトレースのデータ列が再構成されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-168">After clicking **OK** in the **Trace Table Properties** or the **Trace File Properties** dialog box, the data columns are reorganized in the displayed trace.</span></span> <span data-ttu-id="65e06-169">その他のすべてのデータ列イベントは、 **[グループ]** の一覧に移動したデータ列に基づいて集計されます。</span><span class="sxs-lookup"><span data-stu-id="65e06-169">All other data column events are aggregated under the data column that you moved into the **Groups** list.</span></span> <span data-ttu-id="65e06-170">集計するために選択したデータ列のイベントの左側にあるプラス記号 ( **+** ) をクリックして展開し、その種類のすべてのイベントを表示します。</span><span class="sxs-lookup"><span data-stu-id="65e06-170">Click the plus sign (**+**) to the left of the event in the data column you chose for aggregation to expand it and view all events of that type.</span></span> <span data-ttu-id="65e06-171">画面では、集計を選択した列の位置は固定されたままですが、右または左にスクロールして他の列を表示できます。</span><span class="sxs-lookup"><span data-stu-id="65e06-171">The column chosen for aggregation remains fixed in the display, but you can scroll right or left to view the other columns.</span></span>  
  
7.  <span data-ttu-id="65e06-172">トレース データの通常のビューに戻すには、 **[表示]** メニューの **[集計ビュー]** をクリックし、選択を取り消します。</span><span class="sxs-lookup"><span data-stu-id="65e06-172">To revert to a normal view of the trace data, click **Aggregated View** on the **View** menu, which cancels the selection.</span></span> <span data-ttu-id="65e06-173">集計ビューに戻す場合は、 **[表示]** メニューの **[集計ビュー]** を再びクリックします。</span><span class="sxs-lookup"><span data-stu-id="65e06-173">If you want to revert to the aggregated view, click **Aggregated View** on the **View** menu again to reselect it.</span></span> <span data-ttu-id="65e06-174">**[表示]** メニューの **[グループ化ビュー]** をクリックして、グループ化されたトレース イベントを折りたたまずに表示することもできます。</span><span class="sxs-lookup"><span data-stu-id="65e06-174">Note that you can also click **Grouped View** on the **View** menu to display the grouped trace events without collapsing them.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="65e06-175">参照</span><span class="sxs-lookup"><span data-stu-id="65e06-175">See Also</span></span>  
 <span data-ttu-id="65e06-176">[トレースの作成 &#40;SQL Server Profiler&#41;](create-a-trace-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="65e06-176">[Create a Trace &#40;SQL Server Profiler&#41;](create-a-trace-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="65e06-177">[トレース テーブルを開く &#40;SQL Server Profiler&#41;](open-a-trace-table-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="65e06-177">[Open a Trace Table &#40;SQL Server Profiler&#41;](open-a-trace-table-sql-server-profiler.md) </span></span>  
 [<span data-ttu-id="65e06-178">トレース ファイルを開く &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="65e06-178">Open a Trace File &#40;SQL Server Profiler&#41;</span></span>](open-a-trace-file-sql-server-profiler.md)  
  
  
