---
title: 'SQL Server: Memory Manager オブジェクト | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Memory Manager
- Memory Manager object
ms.assetid: dbf49000-eeb0-4e9c-a361-5092363920dc
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 06b58b9b6bb8a5c13e0b220ba9eeea5818682abf
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87633083"
---
# <a name="sql-server-memory-manager-object"></a><span data-ttu-id="0eeb8-102">SQL Server: Memory Manager オブジェクト</span><span class="sxs-lookup"><span data-stu-id="0eeb8-102">SQL Server, Memory Manager Object</span></span>
  <span data-ttu-id="0eeb8-103">Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の **Memory Manager** オブジェクトには、全体的なサーバー メモリの使用状況を監視するためのカウンターが用意されています。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-103">The **Memory Manager** object in Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides counters to monitor overall server memory usage.</span></span> <span data-ttu-id="0eeb8-104">全体的なサーバー メモリの使用状況を監視して、ユーザーの利用状況やリソースの使用状況を計測すると、パフォーマンスのボトルネックを突き止めるのに役立つ可能性があります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-104">Monitoring overall server memory usage to gauge user activity and resource usage can help you to identify performance bottlenecks.</span></span> <span data-ttu-id="0eeb8-105">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスで使用されるメモリを監視すると、次のことを判断する際に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-105">Monitoring the memory used by an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can help determine:</span></span>  
  
-   <span data-ttu-id="0eeb8-106">ボトルネックの発生原因が、頻繁にアクセスされるデータをキャッシュに格納するための物理メモリ不足によるものかどうか。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-106">If bottlenecks exist from inadequate physical memory for storing frequently accessed data in cache.</span></span> <span data-ttu-id="0eeb8-107">メモリが不足している場合、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ではディスクからデータを取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-107">If memory is inadequate, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must retrieve the data from disk.</span></span>  
  
-   <span data-ttu-id="0eeb8-108">メモリを増設したり、データ キャッシュや [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の内部構造により多くのメモリを使用できるように設定することで、クエリのパフォーマンスを向上できるかどうか。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-108">If query performance can be improved by adding more memory or by making more memory available to the data cache or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] internal structures.</span></span>  
  
## <a name="memory-manager-counters"></a><span data-ttu-id="0eeb8-109">Memory Manager カウンター</span><span class="sxs-lookup"><span data-stu-id="0eeb8-109">Memory Manager Counters</span></span>  
 <span data-ttu-id="0eeb8-110">次の表では、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Memory Manager** カウンターについて説明します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-110">This table describes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Memory Manager** counters.</span></span>  
  
|<span data-ttu-id="0eeb8-111">SQL Server Memory Manager カウンター</span><span class="sxs-lookup"><span data-stu-id="0eeb8-111">SQL Server Memory Manager counters</span></span>|<span data-ttu-id="0eeb8-112">説明</span><span class="sxs-lookup"><span data-stu-id="0eeb8-112">Description</span></span>|  
|----------------------------------------|-----------------|  
|<span data-ttu-id="0eeb8-113">**Connection Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-113">**Connection Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-114">接続を維持するためにサーバーが使用している動的メモリの合計サイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-114">Specifies the total amount of dynamic memory the server is using for maintaining connections.</span></span>|  
|<span data-ttu-id="0eeb8-115">**Database Cache Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-115">**Database Cache Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-116">サーバーがデータベース ページ キャッシュに現在使用しているメモリの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-116">Specifies the amount of memory the server is currently using for the database pages cache.</span></span>|  
|<span data-ttu-id="0eeb8-117">**Free Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-117">**Free Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-118">サーバーによって使用されていないコミット済みのメモリの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-118">Specifies the amount of committed memory currently not used by the server.</span></span>|  
|<span data-ttu-id="0eeb8-119">**Granted Workspace Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-119">**Granted Workspace Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-120">ハッシュ、並べ替え、一括コピー、インデックス作成などの操作を実行しているプロセスに現在割り当てられているメモリの合計サイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-120">Specifies the total amount of memory currently granted to executing processes, such as hash, sort, bulk copy, and index creation operations.</span></span>|  
|<span data-ttu-id="0eeb8-121">**Lock Blocks**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-121">**Lock Blocks**</span></span>|<span data-ttu-id="0eeb8-122">サーバーで使用中のロック ブロックの現在数 (定期的に更新されます) を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-122">Specifies the current number of lock blocks in use on the server (refreshed periodically).</span></span> <span data-ttu-id="0eeb8-123">ロック ブロックは、テーブル、ページ、行など、ロックされている個々のリソースを表します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-123">A lock block represents an individual locked resource, such as a table, page, or row.</span></span>|  
|<span data-ttu-id="0eeb8-124">**Lock Blocks Allocated**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-124">**Lock Blocks Allocated**</span></span>|<span data-ttu-id="0eeb8-125">現在割り当てられているロック ブロック数を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-125">Specifies the current number of allocated lock blocks.</span></span> <span data-ttu-id="0eeb8-126">サーバー起動時に割り当てられるロック ブロック数と、割り当てられるロック所有者ブロックの数は、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の **Locks** 構成オプションによって決まります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-126">At server startup, the number of allocated lock blocks plus the number of allocated lock owner blocks depends on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** configuration option.</span></span> <span data-ttu-id="0eeb8-127">より多くのロック ブロックが必要な場合は、値が大きくなります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-127">If more lock blocks are needed, the value increases.</span></span>|  
|<span data-ttu-id="0eeb8-128">**Lock Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-128">**Lock Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-129">ロックのためにサーバーが使用している動的メモリの合計サイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-129">Specifies the total amount of dynamic memory the server is using for locks.</span></span>|  
|<span data-ttu-id="0eeb8-130">**Lock Owner Blocks**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-130">**Lock Owner Blocks**</span></span>|<span data-ttu-id="0eeb8-131">サーバーで使用中のロック所有者ブロックの現在数 (定期的に更新されます) を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-131">Specifies the number of lock owner blocks currently in use on the server (refreshed periodically).</span></span> <span data-ttu-id="0eeb8-132">ロック所有者ブロックは、各スレッドがオブジェクトに設定したロックの所有権を表します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-132">A lock owner block represents the ownership of a lock on an object by an individual thread.</span></span> <span data-ttu-id="0eeb8-133">たとえば、3 つのスレッドがそれぞれ、ページに共有 (S) ロックを所有している場合は、3 つのロック所有者ブロックがあります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-133">Therefore, if three threads each have a shared (S) lock on a page, there will be three lock owner blocks.</span></span>|  
|<span data-ttu-id="0eeb8-134">**Lock Owner Blocks Allocated**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-134">**Lock Owner Blocks Allocated**</span></span>|<span data-ttu-id="0eeb8-135">現在割り当てられているロック所有者ブロック数を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-135">Specifies the current number of allocated lock owner blocks.</span></span> <span data-ttu-id="0eeb8-136">サーバー起動時に割り当てられるロック所有者ブロック数と、割り当てられるロック ブロック数は、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の **Locks** 構成オプションによって決まります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-136">At server startup, the number of allocated lock owner blocks and the number of allocated lock blocks depend on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks** configuration option.</span></span> <span data-ttu-id="0eeb8-137">より多くのロック所有者ブロックが必要な場合は、値が動的に大きくなります。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-137">If more lock owner blocks are needed, the value increases dynamically.</span></span>|  
|<span data-ttu-id="0eeb8-138">**Maximum Workspace Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-138">**Maximum Workspace Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-139">ハッシュ、並べ替え、一括コピー、インデックス作成などの操作を実行しているプロセスが使用できるメモリの最大サイズを示します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-139">Indicates the maximum amount of memory available for executing processes, such as hash, sort, bulk copy, and index creation operations.</span></span>|  
|<span data-ttu-id="0eeb8-140">**Memory Grants Outstanding**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-140">**Memory Grants Outstanding**</span></span>|<span data-ttu-id="0eeb8-141">ワークスペース メモリを取得できたプロセスの総数を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-141">Specifies the total number of processes that have successfully acquired a workspace memory grant.</span></span>|  
|<span data-ttu-id="0eeb8-142">**Memory Grants Pending**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-142">**Memory Grants Pending**</span></span>|<span data-ttu-id="0eeb8-143">ワークスペース メモリ許可を待機しているプロセスの総数を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-143">Specifies the total number of processes waiting for a workspace memory grant.</span></span>|  
|<span data-ttu-id="0eeb8-144">**Optimizer Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-144">**Optimizer Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-145">サーバーがクエリの最適化のために使用している動的メモリの合計サイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-145">Specifies the total amount of dynamic memory the server is using for query optimization.</span></span>|  
|<span data-ttu-id="0eeb8-146">**Reserved Server Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-146">**Reserved Server Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-147">将来の使用のためにサーバーが予約しているメモリの量を示します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-147">Indicates the amount of memory the server has reserved for future usage.</span></span> <span data-ttu-id="0eeb8-148">このカウンターは、 **[Granted Workspace Memory (KB)]** に表示される、最初に許可された現在の未使用メモリ量を示します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-148">This counter shows the current unused amount of memory initially granted that is shown in **Granted Workspace Memory (KB)**.</span></span>|  
|<span data-ttu-id="0eeb8-149">**SQL Cache Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-149">**SQL Cache Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-150">サーバーが動的 SQL キャッシュのために使用している動的メモリの合計サイズを指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-150">Specifies the total amount of dynamic memory the server is using for the dynamic SQL cache.</span></span>|  
|<span data-ttu-id="0eeb8-151">**Stolen Server Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-151">**Stolen Server Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-152">サーバーがデータベース ページ以外に使用しているメモリの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-152">Specifies the amount of memory the server is using for purposes other than database pages.</span></span>|  
|<span data-ttu-id="0eeb8-153">**Target Server Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-153">**Target Server Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-154">サーバーが使用できるメモリの最適な量を示します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-154">Indicates the ideal amount of memory the server can consume.</span></span>|  
|<span data-ttu-id="0eeb8-155">**Total Server Memory (KB)**</span><span class="sxs-lookup"><span data-stu-id="0eeb8-155">**Total Server Memory (KB)**</span></span>|<span data-ttu-id="0eeb8-156">Memory Manager を使用してサーバーがコミットしたメモリの量を指定します。</span><span class="sxs-lookup"><span data-stu-id="0eeb8-156">Specifies the amount of memory the server has committed using the memory manager.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="0eeb8-157">参照</span><span class="sxs-lookup"><span data-stu-id="0eeb8-157">See Also</span></span>  
 <span data-ttu-id="0eeb8-158">[リソースの利用状況の監視 &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span><span class="sxs-lookup"><span data-stu-id="0eeb8-158">[Monitor Resource Usage &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span></span>  
 <span data-ttu-id="0eeb8-159">[SQL Server: Buffer Manager オブジェクト](sql-server-buffer-manager-object.md) </span><span class="sxs-lookup"><span data-stu-id="0eeb8-159">[SQL Server, Buffer Manager Object](sql-server-buffer-manager-object.md) </span></span>  
 [<span data-ttu-id="0eeb8-160">sys.dm_os_performance_counters &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="0eeb8-160">sys.dm_os_performance_counters &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-performance-counters-transact-sql)  
  
  
