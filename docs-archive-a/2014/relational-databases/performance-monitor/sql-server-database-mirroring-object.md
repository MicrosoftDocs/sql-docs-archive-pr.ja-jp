---
title: SQL Server:Database Mirroring オブジェクト | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Database Mirroring
- database mirroring [SQL Server], performance counters
- performance counters [SQL Server], database mirroring
- Database Mirroring object
ms.assetid: a27b51ee-7637-4525-9424-bcc16947dc13
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 4d4b1b9af5bced6933745d4214d3abcc15af4a60
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643260"
---
# <a name="sql-server-database-mirroring-object"></a><span data-ttu-id="006da-102">SQL Server:Database Mirroring オブジェクト</span><span class="sxs-lookup"><span data-stu-id="006da-102">SQL Server, Database Mirroring Object</span></span>
  <span data-ttu-id="006da-103">**SQLServer:Database Mirroring** パフォーマンス オブジェクトには、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のデータベース ミラーリングに関する情報を報告するパフォーマンス カウンターが含まれています。</span><span class="sxs-lookup"><span data-stu-id="006da-103">The **SQLServer:Database Mirroring** performance object contains performance counters that report information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database mirroring.</span></span> <span data-ttu-id="006da-104">次の表は、このオブジェクトに含まれているカウンターを示します。</span><span class="sxs-lookup"><span data-stu-id="006da-104">The table below lists the counters that this object contains.</span></span>  
  
|<span data-ttu-id="006da-105">名前</span><span class="sxs-lookup"><span data-stu-id="006da-105">Name</span></span>|<span data-ttu-id="006da-106">説明</span><span class="sxs-lookup"><span data-stu-id="006da-106">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="006da-107">**Bytes Received/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-107">**Bytes Received/sec**</span></span>|<span data-ttu-id="006da-108">1 秒間に受信されたバイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-108">Number of bytes received per second.</span></span>|  
|<span data-ttu-id="006da-109">**Bytes Sent/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-109">**Bytes Sent/sec**</span></span>|<span data-ttu-id="006da-110">1 秒間に送信されたバイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-110">Number of bytes sent per second.</span></span>|  
|<span data-ttu-id="006da-111">**受信ログ バイト数/秒**</span><span class="sxs-lookup"><span data-stu-id="006da-111">**Log Bytes Received/sec**</span></span>|<span data-ttu-id="006da-112">1 秒間に受信されたログのバイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-112">Number of bytes of log received per second.</span></span>|  
|<span data-ttu-id="006da-113">**Log Bytes Redone from Cache/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-113">**Log Bytes Redone from Cache/sec**</span></span>|<span data-ttu-id="006da-114">最後の 1 秒間にミラーリング ログ キャッシュから取得された再実行ログ バイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-114">Number of redone log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="006da-115">このカウンターは、ミラー サーバーのみで使用されます。</span><span class="sxs-lookup"><span data-stu-id="006da-115">This counter is used on only the mirror server.</span></span> <span data-ttu-id="006da-116">プリンシパル サーバーでは、値は常に 0 です。</span><span class="sxs-lookup"><span data-stu-id="006da-116">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="006da-117">**Log Bytes Sent from Cache/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-117">**Log Bytes Sent from Cache/sec**</span></span>|<span data-ttu-id="006da-118">最後の 1 秒間にミラーリング ログ キャッシュから取得された送信ログ バイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-118">Number of sent log bytes that were obtained from the mirroring log cache, in the last second.</span></span><br /><br /> <span data-ttu-id="006da-119">このカウンターは、プリンシパル サーバーのみで使用されます。</span><span class="sxs-lookup"><span data-stu-id="006da-119">This counter is used on only the principal server.</span></span> <span data-ttu-id="006da-120">ミラー サーバーでは、値は常に 0 です。</span><span class="sxs-lookup"><span data-stu-id="006da-120">On the mirror server the value is always 0.</span></span>|  
|<span data-ttu-id="006da-121">**Log Bytes Sent/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-121">**Log Bytes Sent/sec**</span></span>|<span data-ttu-id="006da-122">1 秒間に送信されたログのバイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-122">Number of bytes of log sent per second.</span></span>|  
|<span data-ttu-id="006da-123">**Log Compressed Bytes Rcvd/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-123">**Log Compressed Bytes Rcvd/sec**</span></span>|<span data-ttu-id="006da-124">最後の 1 秒間に受信したログの圧縮バイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-124">Number of compressed bytes of log received, in the last second.</span></span>|  
|<span data-ttu-id="006da-125">**Log Compressed Bytes Sent/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-125">**Log Compressed Bytes Sent/sec**</span></span>|<span data-ttu-id="006da-126">最後の 1 秒間に送信したログの圧縮バイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-126">Number of compressed bytes of log sent, in the last second.</span></span>|  
|<span data-ttu-id="006da-127">**Log Harden Time (ms)**</span><span class="sxs-lookup"><span data-stu-id="006da-127">**Log Harden Time (ms)**</span></span>|<span data-ttu-id="006da-128">最後の 1 秒間にディスクへのログ ブロックの書き込みを待機したミリ秒数。</span><span class="sxs-lookup"><span data-stu-id="006da-128">Milliseconds that log blocks waited to be hardened to disk, in the last second.</span></span>|  
|<span data-ttu-id="006da-129">**Log Remaining for Undo KB**</span><span class="sxs-lookup"><span data-stu-id="006da-129">**Log Remaining for Undo KB**</span></span>|<span data-ttu-id="006da-130">フェールオーバー後に新しいミラー サーバーによって引き続きスキャンされるログの合計 KB 数。</span><span class="sxs-lookup"><span data-stu-id="006da-130">Total kilobytes of log that remain to be scanned by the new mirror server after failover.</span></span><br /><br /> <span data-ttu-id="006da-131">このカウンターは、元に戻すフェーズの間、ミラー サーバーのみで使用されます。</span><span class="sxs-lookup"><span data-stu-id="006da-131">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="006da-132">元に戻すフェーズが完了すると、カウンターは 0 にリセットされます。</span><span class="sxs-lookup"><span data-stu-id="006da-132">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="006da-133">プリンシパル サーバーでは、値は常に 0 です。</span><span class="sxs-lookup"><span data-stu-id="006da-133">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="006da-134">**Log Scanned for Undo KB**</span><span class="sxs-lookup"><span data-stu-id="006da-134">**Log Scanned for Undo KB**</span></span>|<span data-ttu-id="006da-135">フェールオーバー以降に新しいミラー サーバーによってスキャンされたログの合計 KB 数。</span><span class="sxs-lookup"><span data-stu-id="006da-135">Total kilobytes of log that have been scanned by the new mirror server since failover.</span></span><br /><br /> <span data-ttu-id="006da-136">このカウンターは、元に戻すフェーズの間、ミラー サーバーのみで使用されます。</span><span class="sxs-lookup"><span data-stu-id="006da-136">This counter is used on only the mirror server during the undo phase.</span></span> <span data-ttu-id="006da-137">元に戻すフェーズが完了すると、カウンターは 0 にリセットされます。</span><span class="sxs-lookup"><span data-stu-id="006da-137">After the undo phase completes, the counter is reset to 0.</span></span> <span data-ttu-id="006da-138">プリンシパル サーバーでは、値は常に 0 です。</span><span class="sxs-lookup"><span data-stu-id="006da-138">On the principal server the value is always 0.</span></span>|  
|<span data-ttu-id="006da-139">**Log Send Flow Control Time (ms)**</span><span class="sxs-lookup"><span data-stu-id="006da-139">**Log Send Flow Control Time (ms)**</span></span>|<span data-ttu-id="006da-140">最後の 1 秒間にログ ストリーム メッセージが送信フロー制御を待機したミリ秒数。</span><span class="sxs-lookup"><span data-stu-id="006da-140">Milliseconds that log stream messages waited for send flow control, in the last second.</span></span><br /><br /> <span data-ttu-id="006da-141">ミラーリング パートナーへのログ データとメタデータの送信は、データベース ミラーリングにおける最もデータが集中する操作で、データベース ミラーリングおよび Service Broker の送信バッファーを占有する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="006da-141">Sending log data and metadata to the mirroring partner is the most data-intensive operation in database mirroring and might monopolize the database mirroring and Service Broker send buffers.</span></span> <span data-ttu-id="006da-142">このカウンターを使用すると、データベース ミラーリング セッションによる送信バッファーの使用を監視できます。</span><span class="sxs-lookup"><span data-stu-id="006da-142">Use this counter to monitor the use of this buffer by the database mirroring session.</span></span>|  
|<span data-ttu-id="006da-143">**Log Send Queue KB**</span><span class="sxs-lookup"><span data-stu-id="006da-143">**Log Send Queue KB**</span></span>|<span data-ttu-id="006da-144">ミラー サーバーにまだ送信されていないログの合計 KB 数。</span><span class="sxs-lookup"><span data-stu-id="006da-144">Total number of kilobytes of log that have not yet been sent to the mirror server.</span></span>|  
|<span data-ttu-id="006da-145">**Mirrored Write Transactions/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-145">**Mirrored Write Transactions/sec**</span></span>|<span data-ttu-id="006da-146">最後の 1 秒間に、ミラー化されたデータベースに書き込んだトランザクションのうち、コミットするためにログがミラーに送信されるのを待機したトランザクションの数。</span><span class="sxs-lookup"><span data-stu-id="006da-146">Number of transactions that wrote to the mirrored database and waited for the log to be sent to the mirror in order to commit, in the last second.</span></span><br /><br /> <span data-ttu-id="006da-147">このカウンターは、プリンシパル サーバーがミラー サーバーにログ レコードをアクティブに送信しているときだけ増加します。</span><span class="sxs-lookup"><span data-stu-id="006da-147">This counter is incremented only when the principal server is actively sending log records to the mirror server.</span></span>|  
|<span data-ttu-id="006da-148">**Pages Sent/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-148">**Pages Sent/sec**</span></span>|<span data-ttu-id="006da-149">1 秒間に送信されたページ数。</span><span class="sxs-lookup"><span data-stu-id="006da-149">Number of pages sent per second.</span></span>|  
|<span data-ttu-id="006da-150">**Receives/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-150">**Receives/sec**</span></span>|<span data-ttu-id="006da-151">1 秒間に受信されたミラーリング メッセージの数。</span><span class="sxs-lookup"><span data-stu-id="006da-151">Number of mirroring messages received per second.</span></span>|  
|<span data-ttu-id="006da-152">**Redo Bytes/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-152">**Redo Bytes/sec**</span></span>|<span data-ttu-id="006da-153">ミラー データベースで 1 秒間にロールフォワードされたログのバイト数。</span><span class="sxs-lookup"><span data-stu-id="006da-153">Number of bytes of log rolled forward on the mirror database per second.</span></span>|  
|<span data-ttu-id="006da-154">**Redo Queue KB**</span><span class="sxs-lookup"><span data-stu-id="006da-154">**Redo Queue KB**</span></span>|<span data-ttu-id="006da-155">再実行用として書き込まれたログのうち、ロールフォワードするためにまだミラー データベースに適用されていないログの合計 KB 数。</span><span class="sxs-lookup"><span data-stu-id="006da-155">Total number of kilobytes of hardened log that currently remain to be applied to the mirror database to roll it forward.</span></span> <span data-ttu-id="006da-156">このログは、ミラー サーバーからプリンシパル サーバーに送信されます。</span><span class="sxs-lookup"><span data-stu-id="006da-156">This is sent to the Principal from the Mirror.</span></span>|  
|<span data-ttu-id="006da-157">**Send/Receive Ack Time**</span><span class="sxs-lookup"><span data-stu-id="006da-157">**Send/Receive Ack Time**</span></span>|<span data-ttu-id="006da-158">最後の 1 秒間にメッセージがパートナーからの受信確認を待機したミリ秒数。</span><span class="sxs-lookup"><span data-stu-id="006da-158">Milliseconds that messages waited for acknowledgement from the partner, in the last second.</span></span><br /><br /> <span data-ttu-id="006da-159">このカウンターは、不明なフェールオーバー、多数の送信キュー、トランザクションの長い遅延など、ネットワークのボトルネックによって発生する可能性のある問題のトラブルシューティングに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="006da-159">This counter is helpful in troubleshooting a problem that might be caused by a network bottleneck, such as unexplained failovers, a large send queue, or high transaction latency.</span></span> <span data-ttu-id="006da-160">そのような場合、このカウンターの値を分析することで、問題の原因となっているのがネットワークかどうかを判断できます。</span><span class="sxs-lookup"><span data-stu-id="006da-160">In such cases, you can analyze the value of this counter to determine whether the network is causing the problem.</span></span>|  
|<span data-ttu-id="006da-161">**Sends/sec**</span><span class="sxs-lookup"><span data-stu-id="006da-161">**Sends/sec**</span></span>|<span data-ttu-id="006da-162">1 秒間に送信されたミラーリング メッセージの数。</span><span class="sxs-lookup"><span data-stu-id="006da-162">Number of mirroring messages sent per second.</span></span>|  
|<span data-ttu-id="006da-163">**Transaction Delay**</span><span class="sxs-lookup"><span data-stu-id="006da-163">**Transaction Delay**</span></span>|<span data-ttu-id="006da-164">終了していないコミットの確認を待機中に生じた遅延。</span><span class="sxs-lookup"><span data-stu-id="006da-164">Delay in waiting for unterminated commit acknowledgement.</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="006da-165">各パートナーでは、一部のカウンターの値が 0 を示します。値が 0 になるカウンターは、パートナーが現在担っている役割によって異なります。</span><span class="sxs-lookup"><span data-stu-id="006da-165">On each partner, some of the counters show a zero value depending on what role the partner is currently performing.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="006da-166">解説</span><span class="sxs-lookup"><span data-stu-id="006da-166">Remarks</span></span>  
 <span data-ttu-id="006da-167">パフォーマンス カウンターを使用して、データベース ミラーリングのパフォーマンスを監視できます。</span><span class="sxs-lookup"><span data-stu-id="006da-167">The performance counters let you monitor database mirroring performance.</span></span> <span data-ttu-id="006da-168">たとえば、データベース ミラーリングがプリンシパル サーバーのパフォーマンスに影響を及ぼしているかどうかを確認するには、 **Transaction Delay** カウンターを調べることができます。また、ミラー データベースとプリンシパル データベース間の遅延時間がいかに少ないかを確認するには、 **Redo Queue** カウンターと **Log Send Queue** カウンターを調べることができます。</span><span class="sxs-lookup"><span data-stu-id="006da-168">For example, you can examine the **Transaction Delay** counter to see if database mirroring is impacting performance on the principal server, you can examine the **Redo Queue** and **Log Send Queue** counters to see how well the mirror database is keeping up with the principal database.</span></span> <span data-ttu-id="006da-169">1 秒間に送信されたログの量を監視する場合は、 **Log Bytes Sent/sec** カウンターを調べることができます。</span><span class="sxs-lookup"><span data-stu-id="006da-169">You can examine the **Log Bytes Sent/sec** counter to monitor the amount of log sent per second.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="006da-170">参照</span><span class="sxs-lookup"><span data-stu-id="006da-170">See Also</span></span>  
 [<span data-ttu-id="006da-171">リソースの利用状況の監視 &#40;システム モニター&#41;</span><span class="sxs-lookup"><span data-stu-id="006da-171">Monitor Resource Usage &#40;System Monitor&#41;</span></span>](monitor-resource-usage-system-monitor.md)  
  
  
