---
title: 'SQL Server: Buffer Manager オブジェクト | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Buffer Manager object
- SQLServer:Buffer Manager
ms.assetid: 9775ebde-111d-476c-9188-b77805f90e98
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: cc473447934b6274e0d202f6240634fb00d90491
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87639935"
---
# <a name="sql-server-buffer-manager-object"></a><span data-ttu-id="743cf-102">SQL Server: Buffer Manager オブジェクト</span><span class="sxs-lookup"><span data-stu-id="743cf-102">SQL Server, Buffer Manager Object</span></span>
  <span data-ttu-id="743cf-103">**Buffer Manager** オブジェクトには、次に示す項目の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] による使用状況を監視するためのカウンターが用意されています。</span><span class="sxs-lookup"><span data-stu-id="743cf-103">The **Buffer Manager** object provides counters to monitor how [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uses:</span></span>  
  
-   <span data-ttu-id="743cf-104">データ ページを保存するメモリ。</span><span class="sxs-lookup"><span data-stu-id="743cf-104">Memory to store data pages.</span></span>  
  
-   <span data-ttu-id="743cf-105">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によるデータベース ページの読み書きに伴う物理 I/O を監視するカウンター。</span><span class="sxs-lookup"><span data-stu-id="743cf-105">Counters to monitor the physical I/O as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reads and writes database pages.</span></span>  
  
-   <span data-ttu-id="743cf-106">ソリッドステート ドライブ (SSD) などの高速不揮発性記憶域を使用してバッファー キャッシュを拡張するバッファー プール拡張。</span><span class="sxs-lookup"><span data-stu-id="743cf-106">Buffer pool extension to extend the buffer cache by using fast non-volatile storage such as solid-state drives (SSD).</span></span>  
  
 <span data-ttu-id="743cf-107">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] で使用されるメモリやカウンターを監視すると、次のことを確認できます。</span><span class="sxs-lookup"><span data-stu-id="743cf-107">Monitoring the memory and the counters used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] helps you determine:</span></span>  
  
-   <span data-ttu-id="743cf-108">物理メモリが適切でないことによるボトルネックが存在するかどうか。</span><span class="sxs-lookup"><span data-stu-id="743cf-108">If bottlenecks exist from inadequate physical memory.</span></span> <span data-ttu-id="743cf-109">頻繁にアクセスするデータをキャッシュに格納できない場合、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] はデータをディスクから取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="743cf-109">If it cannot store frequently accessed data in cache, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must retrieve the data from disk.</span></span>  
  
-   <span data-ttu-id="743cf-110">メモリを増設したり、データ キャッシュや [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の内部構造により多くのメモリを使用できるように設定することで、クエリのパフォーマンスを向上できるかどうか。</span><span class="sxs-lookup"><span data-stu-id="743cf-110">If query performance can be improved by adding more memory, or by making more memory available to the data cache or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] internal structures.</span></span>  
  
-   <span data-ttu-id="743cf-111">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] がディスクからデータをどの程度の頻度で読み取る必要があるか。</span><span class="sxs-lookup"><span data-stu-id="743cf-111">How often [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] needs to read data from disk.</span></span> <span data-ttu-id="743cf-112">メモリ アクセスなどの他の操作に比べて、物理 I/O には多くの時間がかかります。</span><span class="sxs-lookup"><span data-stu-id="743cf-112">Compared with other operations, such as memory access, physical I/O consumes a lot of time.</span></span> <span data-ttu-id="743cf-113">物理 I/O をできる限り少なくすると、クエリのパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="743cf-113">Minimizing physical I/O can improve query performance.</span></span>  
  
## <a name="buffer-manager-performance-objects"></a><span data-ttu-id="743cf-114">Buffer Manager パフォーマンス オブジェクト</span><span class="sxs-lookup"><span data-stu-id="743cf-114">Buffer Manager Performance Objects</span></span>  
 <span data-ttu-id="743cf-115">次の表では、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Buffer Manager** パフォーマンス オブジェクトについて説明します。</span><span class="sxs-lookup"><span data-stu-id="743cf-115">This table describes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Buffer Manager** performance objects.</span></span>  
  
|<span data-ttu-id="743cf-116">SQL Server Buffer Manager カウンター</span><span class="sxs-lookup"><span data-stu-id="743cf-116">SQL Server Buffer Manager counters</span></span>|<span data-ttu-id="743cf-117">説明</span><span class="sxs-lookup"><span data-stu-id="743cf-117">Description</span></span>|  
|----------------------------------------|-----------------|  
|<span data-ttu-id="743cf-118">**Buffer cache hit ratio**</span><span class="sxs-lookup"><span data-stu-id="743cf-118">**Buffer cache hit ratio**</span></span>|<span data-ttu-id="743cf-119">バッファー キャッシュ内に存在し、ディスクから読み取る必要がないページの比率を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-119">Indicates the percentage of pages found in the buffer cache without having to read from disk.</span></span> <span data-ttu-id="743cf-120">この比率は、最近の数千のページ アクセスでのキャッシュ ヒットの総数を、キャッシュ参照の総数で割って算出します。</span><span class="sxs-lookup"><span data-stu-id="743cf-120">The ratio is the total number of cache hits divided by the total number of cache lookups over the last few thousand page accesses.</span></span> <span data-ttu-id="743cf-121">長い時間が経過すると、この比率はほとんど変化しなくなります。</span><span class="sxs-lookup"><span data-stu-id="743cf-121">After a long period of time, the ratio moves very little.</span></span> <span data-ttu-id="743cf-122">キャッシュから読み取る方が、ディスクから読み取るよりもコストが低いので、この比率が高くなるようにします。</span><span class="sxs-lookup"><span data-stu-id="743cf-122">Because reading from the cache is much less expensive than reading from disk, you want this ratio to be high.</span></span> <span data-ttu-id="743cf-123">一般に、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] が使用できるメモリの量を増やすか、バッファー プール拡張機能を使用することで、バッファー キャッシュ ヒット率を増加させることができます。</span><span class="sxs-lookup"><span data-stu-id="743cf-123">Generally, you can increase the buffer cache hit ratio by increasing the amount of memory available to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or by using the buffer pool extension feature.</span></span>|  
|<span data-ttu-id="743cf-124">**Checkpoint pages/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-124">**Checkpoint pages/sec**</span></span>|<span data-ttu-id="743cf-125">チェックポイントにより、またはすべてのダーティ ページをフラッシュする必要があるその他の操作により、ディスクにフラッシュされた 1 秒あたりのページ数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-125">Indicates the number of pages flushed to disk per second by a checkpoint or other operation that require all dirty pages to be flushed.</span></span>|  
|<span data-ttu-id="743cf-126">**Database pages**</span><span class="sxs-lookup"><span data-stu-id="743cf-126">**Database pages**</span></span>|<span data-ttu-id="743cf-127">データベースの内容が含まれたこのノード上のバッファー プール内のページの数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-127">Indicates the number of pages in the buffer pool with database content.</span></span>|  
|<span data-ttu-id="743cf-128">**Extension allocated pages**</span><span class="sxs-lookup"><span data-stu-id="743cf-128">**Extension allocated pages**</span></span>|<span data-ttu-id="743cf-129">バッファー プール拡張ファイル内の非フリー キャッシュ ページの総数。</span><span class="sxs-lookup"><span data-stu-id="743cf-129">Total number of non-free cache pages in the buffer pool extension file.</span></span>|  
|<span data-ttu-id="743cf-130">**Extension free pages**</span><span class="sxs-lookup"><span data-stu-id="743cf-130">**Extension free pages**</span></span>|<span data-ttu-id="743cf-131">バッファー プール拡張ファイル内のフリー キャッシュ ページの総数。</span><span class="sxs-lookup"><span data-stu-id="743cf-131">Total number of free cache pages in the buffer pool extension file.</span></span>|  
|<span data-ttu-id="743cf-132">**Extension in use as percentage**</span><span class="sxs-lookup"><span data-stu-id="743cf-132">**Extension in use as percentage**</span></span>|<span data-ttu-id="743cf-133">バッファー マネージャー ページによって占有されるバッファー プール拡張ページング ファイルの割合。</span><span class="sxs-lookup"><span data-stu-id="743cf-133">Percentage of the buffer pool extension paging file occupied by buffer manager pages.</span></span>|  
|<span data-ttu-id="743cf-134">**Extension outstanding IO counter**</span><span class="sxs-lookup"><span data-stu-id="743cf-134">**Extension outstanding IO counter**</span></span>|<span data-ttu-id="743cf-135">バッファー プール拡張ファイルの I/O キューの長さ。</span><span class="sxs-lookup"><span data-stu-id="743cf-135">I/O queue length for the buffer pool extension file.</span></span>|  
|<span data-ttu-id="743cf-136">**Extension page evictions/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-136">**Extension page evictions/sec**</span></span>|<span data-ttu-id="743cf-137">1 秒あたりにバッファー プール拡張ファイルから削除されるページ数。</span><span class="sxs-lookup"><span data-stu-id="743cf-137">Number of pages evicted from the buffer pool extension file per second.</span></span>|  
|<span data-ttu-id="743cf-138">**Extension page reads/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-138">**Extension page reads/sec**</span></span>|<span data-ttu-id="743cf-139">1 秒あたりにバッファー プール拡張ファイルから読み取られるページ数。</span><span class="sxs-lookup"><span data-stu-id="743cf-139">Number of pages read from the buffer pool extension file per second.</span></span>|  
|<span data-ttu-id="743cf-140">**Extension page unreferenced time**</span><span class="sxs-lookup"><span data-stu-id="743cf-140">**Extension page unreferenced time**</span></span>|<span data-ttu-id="743cf-141">ページが参照されないままバッファー プール拡張に存在する平均秒数。</span><span class="sxs-lookup"><span data-stu-id="743cf-141">Average seconds a page will stay in the buffer pool extension without references to it.</span></span>|  
|<span data-ttu-id="743cf-142">**Extension pages writes/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-142">**Extension pages writes/sec**</span></span>|<span data-ttu-id="743cf-143">1 秒あたりにバッファー プール拡張ファイルに書き込まれるページ数。</span><span class="sxs-lookup"><span data-stu-id="743cf-143">Number of pages written to the buffer pool extension file per second.</span></span>|  
|<span data-ttu-id="743cf-144">**Free list stalls/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-144">**Free list stalls/sec**</span></span>|<span data-ttu-id="743cf-145">フリー ページを待機する必要があった要求の 1 秒あたりの数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-145">Indicates the number of requests per second that had to wait for a free page.</span></span>|  
|<span data-ttu-id="743cf-146">**Lazy writes/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-146">**Lazy writes/sec**</span></span>|<span data-ttu-id="743cf-147">バッファー マネージャーのレイジー ライターにより書き込まれたバッファーの 1 秒あたりの数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-147">Indicates the number of buffers written per second by the buffer manager's lazy writer.</span></span> <span data-ttu-id="743cf-148">*レイジー ライター* とは、古いダーティ バッファー (異なるページのためにバッファーを再利用する前にディスクに書き戻す必要がある変更を含んでいるバッファー) をまとめてフラッシュし、ユーザー プロセスで使用できるようにするシステム プロセスです。</span><span class="sxs-lookup"><span data-stu-id="743cf-148">The *lazy writer* is a system process that flushes out batches of dirty, aged buffers (buffers that contain changes that must be written back to disk before the buffer can be reused for a different page) and makes them available to user processes.</span></span> <span data-ttu-id="743cf-149">レイジー ライターを使用することで、使用可能なバッファーを作成するために頻繁にチェックポイントを実行する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="743cf-149">The lazy writer eliminates the need to perform frequent checkpoints in order to create available buffers.</span></span>|  
|<span data-ttu-id="743cf-150">**Page life expectancy**</span><span class="sxs-lookup"><span data-stu-id="743cf-150">**Page life expectancy**</span></span>|<span data-ttu-id="743cf-151">ページが参照されないままバッファー プールに存在する秒数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-151">Indicates the number of seconds a page will stay in the buffer pool without references.</span></span>|  
|<span data-ttu-id="743cf-152">**Page lookups/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-152">**Page lookups/sec**</span></span>|<span data-ttu-id="743cf-153">バッファー プールのページを検索する要求の 1 秒あたりの数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-153">Indicates the number of requests per second to find a page in the buffer pool.</span></span>|  
|<span data-ttu-id="743cf-154">**Page reads/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-154">**Page reads/sec**</span></span>|<span data-ttu-id="743cf-155">物理的なデータベース ページ読み取りが実行される 1 秒あたりの回数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-155">Indicates the number of physical database page reads that are issued per second.</span></span> <span data-ttu-id="743cf-156">すべてのデータベースのページの物理的な読み取りの総数が表示されます。</span><span class="sxs-lookup"><span data-stu-id="743cf-156">This statistic displays the total number of physical page reads across all databases.</span></span> <span data-ttu-id="743cf-157">物理 I/O にはコストがかかるので、データ キャッシュを大きくしたり、高性能のインデックスや効率のよいクエリを使用したり、データベースのデザインを変更したりすることで、できる限りコストを抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="743cf-157">Because physical I/O is expensive, you may be able to minimize the cost, either by using a larger data cache, intelligent indexes, and more efficient queries, or by changing the database design.</span></span>|  
|<span data-ttu-id="743cf-158">**Page writes/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-158">**Page writes/sec**</span></span>|<span data-ttu-id="743cf-159">物理的なデータベース ページ書き込みが実行される 1 秒あたりの回数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-159">Indicates the number of physical database page writes that are issued per second.</span></span>|  
|<span data-ttu-id="743cf-160">**Readahead pages/sec**</span><span class="sxs-lookup"><span data-stu-id="743cf-160">**Readahead pages/sec**</span></span>|<span data-ttu-id="743cf-161">使用を見越して読み取られた 1 秒あたりのページ数を示します。</span><span class="sxs-lookup"><span data-stu-id="743cf-161">Indicates the number of pages read per second in anticipation of use.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="743cf-162">参照</span><span class="sxs-lookup"><span data-stu-id="743cf-162">See Also</span></span>  
 <span data-ttu-id="743cf-163">[SQL Server: Buffer Node](sql-server-buffer-node.md) </span><span class="sxs-lookup"><span data-stu-id="743cf-163">[SQL Server:Buffer Node](sql-server-buffer-node.md) </span></span>  
 <span data-ttu-id="743cf-164">[サーバー メモリに関するサーバー構成オプション](../../database-engine/configure-windows/server-memory-server-configuration-options.md) </span><span class="sxs-lookup"><span data-stu-id="743cf-164">[Server Memory Server Configuration Options](../../database-engine/configure-windows/server-memory-server-configuration-options.md) </span></span>  
 <span data-ttu-id="743cf-165">[SQL Server の Plan Cache オブジェクト](sql-server-plan-cache-object.md) </span><span class="sxs-lookup"><span data-stu-id="743cf-165">[SQL Server, Plan Cache Object](sql-server-plan-cache-object.md) </span></span>  
 <span data-ttu-id="743cf-166">[リソースの利用状況の監視 &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span><span class="sxs-lookup"><span data-stu-id="743cf-166">[Monitor Resource Usage &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span></span>  
 <span data-ttu-id="743cf-167">[sys.dm_os_performance_counters &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-performance-counters-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="743cf-167">[sys.dm_os_performance_counters &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-performance-counters-transact-sql) </span></span>  
 [<span data-ttu-id="743cf-168">バッファー プール拡張</span><span class="sxs-lookup"><span data-stu-id="743cf-168">Buffer Pool Extension</span></span>](../../database-engine/configure-windows/buffer-pool-extension.md)  
  
  
