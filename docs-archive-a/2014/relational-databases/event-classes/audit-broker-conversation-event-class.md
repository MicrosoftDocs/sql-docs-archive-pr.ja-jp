---
title: Audit Broker Conversation イベント クラス | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Audit Broker Conversation event class
ms.assetid: d58e3577-e297-42e5-b8fe-206665a75d13
author: stevestein
ms.author: sstein
ms.openlocfilehash: 46c09737aeafffd04f3dc2c129692bbf78d2c096
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716362"
---
# <a name="audit-broker-conversation-event-class"></a><span data-ttu-id="dc748-102">Audit Broker Conversation イベント クラス</span><span class="sxs-lookup"><span data-stu-id="dc748-102">Audit Broker Conversation Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="dc748-103">では、 **Audit Broker Conversation** イベントを作成して、Service Broker のダイアログ セキュリティに関連した監査メッセージを報告します。</span><span class="sxs-lookup"><span data-stu-id="dc748-103">creates an **Audit Broker Conversation** event to report audit messages related to Service Broker dialog security.</span></span>  
  
## <a name="audit-broker-conversation-event-class-data-columns"></a><span data-ttu-id="dc748-104">Audit Broker Conversation イベント クラスのデータ列</span><span class="sxs-lookup"><span data-stu-id="dc748-104">Audit Broker Conversation Event Class Data Columns</span></span>  
  
|<span data-ttu-id="dc748-105">データ列</span><span class="sxs-lookup"><span data-stu-id="dc748-105">Data column</span></span>|<span data-ttu-id="dc748-106">種類</span><span class="sxs-lookup"><span data-stu-id="dc748-106">Type</span></span>|<span data-ttu-id="dc748-107">説明</span><span class="sxs-lookup"><span data-stu-id="dc748-107">Description</span></span>|<span data-ttu-id="dc748-108">列番号</span><span class="sxs-lookup"><span data-stu-id="dc748-108">Column number</span></span>|<span data-ttu-id="dc748-109">フィルターの適用</span><span class="sxs-lookup"><span data-stu-id="dc748-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="dc748-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="dc748-110">**ApplicationName**</span></span>|<span data-ttu-id="dc748-111">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-111">**nvarchar**</span></span>|<span data-ttu-id="dc748-112">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]のインスタンスへの接続を作成したクライアント アプリケーションの名前。</span><span class="sxs-lookup"><span data-stu-id="dc748-112">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="dc748-113">この列には、プログラムの表示名ではなく、アプリケーションによって渡された値が格納されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-113">This column is populated with the values passed by the application rather than the displayed name of the program.</span></span>|<span data-ttu-id="dc748-114">10</span><span class="sxs-lookup"><span data-stu-id="dc748-114">10</span></span>|<span data-ttu-id="dc748-115">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-115">Yes</span></span>|  
|<span data-ttu-id="dc748-116">**BigintData1**</span><span class="sxs-lookup"><span data-stu-id="dc748-116">**BigintData1**</span></span>|<span data-ttu-id="dc748-117">**bigint**</span><span class="sxs-lookup"><span data-stu-id="dc748-117">**bigint**</span></span>|<span data-ttu-id="dc748-118">メッセージのメッセージ シーケンス番号。</span><span class="sxs-lookup"><span data-stu-id="dc748-118">The message sequence number of the message.</span></span>|<span data-ttu-id="dc748-119">52</span><span class="sxs-lookup"><span data-stu-id="dc748-119">52</span></span>|<span data-ttu-id="dc748-120">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-120">No</span></span>|  
|<span data-ttu-id="dc748-121">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="dc748-121">**ClientProcessID**</span></span>|<span data-ttu-id="dc748-122">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-122">**int**</span></span>|<span data-ttu-id="dc748-123">クライアント アプリケーションが実行されているプロセスに対し、ホスト コンピューターによって割り当てられた ID。</span><span class="sxs-lookup"><span data-stu-id="dc748-123">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="dc748-124">クライアントでクライアント プロセス ID が指定されると、このデータ列が作成されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-124">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="dc748-125">9</span><span class="sxs-lookup"><span data-stu-id="dc748-125">9</span></span>|<span data-ttu-id="dc748-126">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-126">Yes</span></span>|  
|<span data-ttu-id="dc748-127">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="dc748-127">**DatabaseID**</span></span>|<span data-ttu-id="dc748-128">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-128">**int**</span></span>|<span data-ttu-id="dc748-129">USE *database* ステートメントで指定されたデータベースの ID、または特定のインスタンスについて USE *database* ステートメントが実行されていない場合は既定のデータベースの ID となります。</span><span class="sxs-lookup"><span data-stu-id="dc748-129">The ID of the database specified by the USE *database* statement, or the ID of the default database if no USE *database* statement has been issued for a given instance.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="dc748-130">では、 **ServerName** データ列がトレースにキャプチャされ、そのサーバーが利用可能な場合、データベースの名前が表示されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-130">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="dc748-131">データベースに対応する値は、DB_ID 関数を使用して特定します。</span><span class="sxs-lookup"><span data-stu-id="dc748-131">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="dc748-132">3</span><span class="sxs-lookup"><span data-stu-id="dc748-132">3</span></span>|<span data-ttu-id="dc748-133">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-133">Yes</span></span>|  
|<span data-ttu-id="dc748-134">**Error**</span><span class="sxs-lookup"><span data-stu-id="dc748-134">**Error**</span></span>|<span data-ttu-id="dc748-135">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-135">**int**</span></span>|<span data-ttu-id="dc748-136">(このイベントによってエラーが報告された場合) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エラー番号。</span><span class="sxs-lookup"><span data-stu-id="dc748-136">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error number, if this event reports an error.</span></span>|<span data-ttu-id="dc748-137">31</span><span class="sxs-lookup"><span data-stu-id="dc748-137">31</span></span>|<span data-ttu-id="dc748-138">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-138">No</span></span>|  
|<span data-ttu-id="dc748-139">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="dc748-139">**EventClass**</span></span>|<span data-ttu-id="dc748-140">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-140">**int**</span></span>|<span data-ttu-id="dc748-141">キャプチャされたイベント クラスの種類。</span><span class="sxs-lookup"><span data-stu-id="dc748-141">The type of event class captured.</span></span> <span data-ttu-id="dc748-142">**Audit Broker Conversation** の場合は、常に **158**です。</span><span class="sxs-lookup"><span data-stu-id="dc748-142">Always **158** for **Audit Broker Conversation**.</span></span>|<span data-ttu-id="dc748-143">27</span><span class="sxs-lookup"><span data-stu-id="dc748-143">27</span></span>|<span data-ttu-id="dc748-144">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-144">No</span></span>|  
|<span data-ttu-id="dc748-145">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="dc748-145">**EventSubClass**</span></span>|<span data-ttu-id="dc748-146">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-146">**int**</span></span>|<span data-ttu-id="dc748-147">イベント サブクラスの種類です。各イベント クラスについての詳細な情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="dc748-147">The type of event subclass, providing further information about each event class.</span></span> <span data-ttu-id="dc748-148">次の表に、このイベントのイベント サブクラス値を示します。</span><span class="sxs-lookup"><span data-stu-id="dc748-148">The table below lists the event subclass values for this event.</span></span>|<span data-ttu-id="dc748-149">21</span><span class="sxs-lookup"><span data-stu-id="dc748-149">21</span></span>|<span data-ttu-id="dc748-150">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-150">Yes</span></span>|  
|<span data-ttu-id="dc748-151">**FileName**</span><span class="sxs-lookup"><span data-stu-id="dc748-151">**FileName**</span></span>|<span data-ttu-id="dc748-152">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-152">**nvarchar**</span></span>|<span data-ttu-id="dc748-153">ログインの失敗理由。</span><span class="sxs-lookup"><span data-stu-id="dc748-153">The reason for the login failure.</span></span> <span data-ttu-id="dc748-154">ログインに成功した場合、この列は空です。</span><span class="sxs-lookup"><span data-stu-id="dc748-154">If the login succeeded, this column is empty.</span></span>|<span data-ttu-id="dc748-155">36</span><span class="sxs-lookup"><span data-stu-id="dc748-155">36</span></span>|<span data-ttu-id="dc748-156">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-156">No</span></span>|  
|<span data-ttu-id="dc748-157">**GUID**</span><span class="sxs-lookup"><span data-stu-id="dc748-157">**GUID**</span></span>|<span data-ttu-id="dc748-158">**uniqueidentifier**</span><span class="sxs-lookup"><span data-stu-id="dc748-158">**uniqueidentifier**</span></span>|<span data-ttu-id="dc748-159">ダイアログのメッセージ交換 ID。</span><span class="sxs-lookup"><span data-stu-id="dc748-159">The conversation id of the dialog.</span></span> <span data-ttu-id="dc748-160">この ID はメッセージの一部として転送され、メッセージ交換の両側で共有されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-160">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="dc748-161">54</span><span class="sxs-lookup"><span data-stu-id="dc748-161">54</span></span>|<span data-ttu-id="dc748-162">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-162">No</span></span>|  
|<span data-ttu-id="dc748-163">**HostName**</span><span class="sxs-lookup"><span data-stu-id="dc748-163">**HostName**</span></span>|<span data-ttu-id="dc748-164">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-164">**nvarchar**</span></span>|<span data-ttu-id="dc748-165">クライアントが実行しているコンピューターの名前。</span><span class="sxs-lookup"><span data-stu-id="dc748-165">The name of the computer on which the client is running.</span></span> <span data-ttu-id="dc748-166">このデータ列には、クライアントがホスト名を指定している場合にデータが格納されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-166">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="dc748-167">ホスト名を指定するには、 **HOST_NAME** 関数を使用します。</span><span class="sxs-lookup"><span data-stu-id="dc748-167">To determine the host name, use the **HOST_NAME** function.</span></span>|<span data-ttu-id="dc748-168">8</span><span class="sxs-lookup"><span data-stu-id="dc748-168">8</span></span>|<span data-ttu-id="dc748-169">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-169">Yes</span></span>|  
|<span data-ttu-id="dc748-170">**IntegerData**</span><span class="sxs-lookup"><span data-stu-id="dc748-170">**IntegerData**</span></span>|<span data-ttu-id="dc748-171">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-171">**int**</span></span>|<span data-ttu-id="dc748-172">メッセージのフラグメント番号。</span><span class="sxs-lookup"><span data-stu-id="dc748-172">The fragment number of the message.</span></span>|<span data-ttu-id="dc748-173">25</span><span class="sxs-lookup"><span data-stu-id="dc748-173">25</span></span>|<span data-ttu-id="dc748-174">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-174">No</span></span>|  
|<span data-ttu-id="dc748-175">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="dc748-175">**NTDomainName**</span></span>|<span data-ttu-id="dc748-176">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-176">**nvarchar**</span></span>|<span data-ttu-id="dc748-177">ユーザーが属している Windows ドメイン。</span><span class="sxs-lookup"><span data-stu-id="dc748-177">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="dc748-178">7</span><span class="sxs-lookup"><span data-stu-id="dc748-178">7</span></span>|<span data-ttu-id="dc748-179">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-179">Yes</span></span>|  
|<span data-ttu-id="dc748-180">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="dc748-180">**NTUserName**</span></span>|<span data-ttu-id="dc748-181">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-181">**nvarchar**</span></span>|<span data-ttu-id="dc748-182">このイベントが生成された接続を所有するユーザーの名前。</span><span class="sxs-lookup"><span data-stu-id="dc748-182">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="dc748-183">6</span><span class="sxs-lookup"><span data-stu-id="dc748-183">6</span></span>|<span data-ttu-id="dc748-184">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-184">Yes</span></span>|  
|<span data-ttu-id="dc748-185">**ObjectId**</span><span class="sxs-lookup"><span data-stu-id="dc748-185">**ObjectId**</span></span>|<span data-ttu-id="dc748-186">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-186">**int**</span></span>|<span data-ttu-id="dc748-187">対象サービスのユーザー ID。</span><span class="sxs-lookup"><span data-stu-id="dc748-187">The user ID of the target service.</span></span>|<span data-ttu-id="dc748-188">22</span><span class="sxs-lookup"><span data-stu-id="dc748-188">22</span></span>|<span data-ttu-id="dc748-189">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-189">No</span></span>|  
|<span data-ttu-id="dc748-190">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="dc748-190">**RoleName**</span></span>|<span data-ttu-id="dc748-191">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-191">**nvarchar**</span></span>|<span data-ttu-id="dc748-192">メッセージ交換ハンドルのロール。</span><span class="sxs-lookup"><span data-stu-id="dc748-192">The role of the conversation handle.</span></span> <span data-ttu-id="dc748-193">**initiator** または **target**のいずれかです。</span><span class="sxs-lookup"><span data-stu-id="dc748-193">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="dc748-194">38</span><span class="sxs-lookup"><span data-stu-id="dc748-194">38</span></span>|<span data-ttu-id="dc748-195">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-195">No</span></span>|  
|<span data-ttu-id="dc748-196">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="dc748-196">**ServerName**</span></span>|<span data-ttu-id="dc748-197">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="dc748-197">**nvarchar**</span></span>|<span data-ttu-id="dc748-198">トレースされる [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンスの名前。</span><span class="sxs-lookup"><span data-stu-id="dc748-198">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] being traced.</span></span>|<span data-ttu-id="dc748-199">26</span><span class="sxs-lookup"><span data-stu-id="dc748-199">26</span></span>|<span data-ttu-id="dc748-200">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-200">No</span></span>|  
|<span data-ttu-id="dc748-201">**Severity**</span><span class="sxs-lookup"><span data-stu-id="dc748-201">**Severity**</span></span>|<span data-ttu-id="dc748-202">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-202">**int**</span></span>|<span data-ttu-id="dc748-203">(このイベントによってエラーが報告された場合) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エラーの重大度。</span><span class="sxs-lookup"><span data-stu-id="dc748-203">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error severity, if this event reports an error.</span></span>|<span data-ttu-id="dc748-204">29</span><span class="sxs-lookup"><span data-stu-id="dc748-204">29</span></span>|<span data-ttu-id="dc748-205">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-205">No</span></span>|  
|<span data-ttu-id="dc748-206">**SPID**</span><span class="sxs-lookup"><span data-stu-id="dc748-206">**SPID**</span></span>|<span data-ttu-id="dc748-207">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-207">**int**</span></span>|<span data-ttu-id="dc748-208">クライアントに関連付けられているプロセスに、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] によって割り当てられているサーバー プロセス ID。</span><span class="sxs-lookup"><span data-stu-id="dc748-208">The server process ID assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process associated with the client.</span></span>|<span data-ttu-id="dc748-209">12</span><span class="sxs-lookup"><span data-stu-id="dc748-209">12</span></span>|<span data-ttu-id="dc748-210">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-210">Yes</span></span>|  
|<span data-ttu-id="dc748-211">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="dc748-211">**StartTime**</span></span>|<span data-ttu-id="dc748-212">**datetime**</span><span class="sxs-lookup"><span data-stu-id="dc748-212">**datetime**</span></span>|<span data-ttu-id="dc748-213">イベントの開始時刻 (取得できた場合)。</span><span class="sxs-lookup"><span data-stu-id="dc748-213">The time at which the event started, when available.</span></span>|<span data-ttu-id="dc748-214">14</span><span class="sxs-lookup"><span data-stu-id="dc748-214">14</span></span>|<span data-ttu-id="dc748-215">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-215">Yes</span></span>|  
|<span data-ttu-id="dc748-216">**State**</span><span class="sxs-lookup"><span data-stu-id="dc748-216">**State**</span></span>|<span data-ttu-id="dc748-217">**int**</span><span class="sxs-lookup"><span data-stu-id="dc748-217">**int**</span></span>|<span data-ttu-id="dc748-218">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のソース コード内のイベントが生成された場所を示します。</span><span class="sxs-lookup"><span data-stu-id="dc748-218">Indicates the location within the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] source code that produced the event.</span></span> <span data-ttu-id="dc748-219">イベントが生成された場所によって、状態コードが異なることがあります。</span><span class="sxs-lookup"><span data-stu-id="dc748-219">Each location that may produce this event has a different state code.</span></span> <span data-ttu-id="dc748-220">マイクロソフトのサポート エンジニアはこの状態コードを使用して、イベントが生成されたソース コード内の場所を特定することができます。</span><span class="sxs-lookup"><span data-stu-id="dc748-220">A Microsoft support engineer can use this state code to find where the event was produced.</span></span>|<span data-ttu-id="dc748-221">30</span><span class="sxs-lookup"><span data-stu-id="dc748-221">30</span></span>|<span data-ttu-id="dc748-222">いいえ</span><span class="sxs-lookup"><span data-stu-id="dc748-222">No</span></span>|  
|<span data-ttu-id="dc748-223">**TextData**</span><span class="sxs-lookup"><span data-stu-id="dc748-223">**TextData**</span></span>|<span data-ttu-id="dc748-224">**ntext**</span><span class="sxs-lookup"><span data-stu-id="dc748-224">**ntext**</span></span>|<span data-ttu-id="dc748-225">エラーの場合、失敗理由を説明するメッセージが格納されます。</span><span class="sxs-lookup"><span data-stu-id="dc748-225">For errors, contains a message that describes the reason for the failure.</span></span> <span data-ttu-id="dc748-226">次のいずれかの値:</span><span class="sxs-lookup"><span data-stu-id="dc748-226">One of the following values:</span></span><br /><br /> <span data-ttu-id="dc748-227">**証明書が見つかりませんでした**:</span><span class="sxs-lookup"><span data-stu-id="dc748-227">**Cert not found**.</span></span> <span data-ttu-id="dc748-228">ダイアログ プロトコル セキュリティに指定されたユーザーが証明書を持っていません。</span><span class="sxs-lookup"><span data-stu-id="dc748-228">The user specified for dialog protocol security has no certificate.</span></span><br /><br /> <span data-ttu-id="dc748-229">**無効な期間です**:</span><span class="sxs-lookup"><span data-stu-id="dc748-229">**Not in valid time period**.</span></span> <span data-ttu-id="dc748-230">ダイアログ プロトコル セキュリティに指定されたユーザーは証明書を持っていますが、その証明書の有効期限が切れています。</span><span class="sxs-lookup"><span data-stu-id="dc748-230">The user specified for dialog protocol security has a certificate, but the certificate has expired.</span></span><br /><br /> <span data-ttu-id="dc748-231">**証明書のサイズが、メモリ割り当てに対して大きすぎます**:</span><span class="sxs-lookup"><span data-stu-id="dc748-231">**Cert too large for memory allocation**.</span></span> <span data-ttu-id="dc748-232">ダイアログ プロトコル セキュリティに指定されたユーザーは証明書を持っていますが、その証明書のサイズが大きすぎます。</span><span class="sxs-lookup"><span data-stu-id="dc748-232">The user specified for dialog protocol security has a certificate, but the certificate is too large.</span></span> <span data-ttu-id="dc748-233">Service Broker でサポートされる証明書の最大サイズは、32,768 バイトです。</span><span class="sxs-lookup"><span data-stu-id="dc748-233">The maximum certificate size that Service Broker supports is 32,768 bytes.</span></span><br /><br /> <span data-ttu-id="dc748-234">**秘密キーが見つかりません**:</span><span class="sxs-lookup"><span data-stu-id="dc748-234">**Private key not found**.</span></span> <span data-ttu-id="dc748-235">ダイアログ プロトコル セキュリティに指定されたユーザーは証明書を持っていますが、その証明書には秘密キーが関連付けられていません。</span><span class="sxs-lookup"><span data-stu-id="dc748-235">The user specified for dialog protocol security has a certificate, but there is no private key associated with that certificate.</span></span><br /><br /> <span data-ttu-id="dc748-236">**証明書の秘密キー サイズと暗号化プロバイダーの互換性がありません**:</span><span class="sxs-lookup"><span data-stu-id="dc748-236">**The cert's private key size is incompatible with the crypto provider**.</span></span> <span data-ttu-id="dc748-237">証明書の秘密キー サイズが、正常に処理できないサイズです。</span><span class="sxs-lookup"><span data-stu-id="dc748-237">The private key for the certificate has a key size that cannot be successfully processed.</span></span> <span data-ttu-id="dc748-238">秘密キー サイズは 64 バイトの倍数である必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc748-238">The private key size must be a multiple of 64 bytes.</span></span><br /><br /> <span data-ttu-id="dc748-239">**証明書の公開キー サイズと暗号化プロバイダーの互換性がありません**:</span><span class="sxs-lookup"><span data-stu-id="dc748-239">**The cert's public key size is incompatible with the crypto provider**.</span></span> <span data-ttu-id="dc748-240">証明書の公開キー サイズが、正常に処理できないサイズです。</span><span class="sxs-lookup"><span data-stu-id="dc748-240">The public key for the certificate has a key size that cannot be successfully processed.</span></span> <span data-ttu-id="dc748-241">公開キー サイズは 64 バイトの倍数である必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc748-241">The public key size must be a multiple of 64 bytes.</span></span><br /><br /> <span data-ttu-id="dc748-242">**証明書の秘密キー サイズと暗号化されたキー交換のキーには互換性がありません**:</span><span class="sxs-lookup"><span data-stu-id="dc748-242">**The cert's private key size is incompatible with the encrypted key exchange key**.</span></span> <span data-ttu-id="dc748-243">キー交換のキーで指定されているキー サイズが、証明書の秘密キーのサイズと一致しません。</span><span class="sxs-lookup"><span data-stu-id="dc748-243">The key size specified in the key exchange key does not match the size of the private key for the certificate.</span></span> <span data-ttu-id="dc748-244">これは、一般に、リモート コンピューター上の証明書がデータベース内の証明書と一致しないことを示します。</span><span class="sxs-lookup"><span data-stu-id="dc748-244">This generally indicates that the certificate on the remote computer does not match the certificate in the database.</span></span><br /><br /> <span data-ttu-id="dc748-245">**証明書の公開キー サイズとセキュリティ ヘッダーの署名には互換性がありません**:</span><span class="sxs-lookup"><span data-stu-id="dc748-245">**The cert's public key size is incompatible with the security header's signature**.</span></span> <span data-ttu-id="dc748-246">セキュリティ ヘッダーに、証明書の公開キーを使用して検証できない署名が含まれています。</span><span class="sxs-lookup"><span data-stu-id="dc748-246">The security header contains a signature that cannot be validated with the certificate's public key.</span></span> <span data-ttu-id="dc748-247">これは、一般に、リモート コンピューター上の証明書がデータベース内の証明書と一致しないことを示します。</span><span class="sxs-lookup"><span data-stu-id="dc748-247">This generally indicates that the certificate on the remote computer does not match the certificate in the database.</span></span>|<span data-ttu-id="dc748-248">1</span><span class="sxs-lookup"><span data-stu-id="dc748-248">1</span></span>|<span data-ttu-id="dc748-249">はい</span><span class="sxs-lookup"><span data-stu-id="dc748-249">Yes</span></span>|  
  
 <span data-ttu-id="dc748-250">次の表に、このイベント クラスのサブクラス値を示します。</span><span class="sxs-lookup"><span data-stu-id="dc748-250">The table below lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="dc748-251">id</span><span class="sxs-lookup"><span data-stu-id="dc748-251">ID</span></span>|<span data-ttu-id="dc748-252">サブクラス</span><span class="sxs-lookup"><span data-stu-id="dc748-252">Subclass</span></span>|<span data-ttu-id="dc748-253">説明</span><span class="sxs-lookup"><span data-stu-id="dc748-253">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="dc748-254">1</span><span class="sxs-lookup"><span data-stu-id="dc748-254">1</span></span>|<span data-ttu-id="dc748-255">No Security Header</span><span class="sxs-lookup"><span data-stu-id="dc748-255">No Security Header</span></span>|<span data-ttu-id="dc748-256">セキュリティで保護されたメッセージ交換時に、Service Broker がセッション キーを含んでいないメッセージを受信しました。</span><span class="sxs-lookup"><span data-stu-id="dc748-256">During a secure conversation, Service Broker received a message that did not contain a session key.</span></span> <span data-ttu-id="dc748-257">セキュリティで保護されたメッセージ交換が確立されると、ダイアログのプロトコルは、メッセージ交換で使用されるすべてのメッセージにセッション キーが含まれていることを必要とします。</span><span class="sxs-lookup"><span data-stu-id="dc748-257">Once a secure conversation is established, the dialog protocol requires that all messages in the conversation contain a session key.</span></span>|  
|<span data-ttu-id="dc748-258">2</span><span class="sxs-lookup"><span data-stu-id="dc748-258">2</span></span>|<span data-ttu-id="dc748-259">No Certificate</span><span class="sxs-lookup"><span data-stu-id="dc748-259">No Certificate</span></span>|<span data-ttu-id="dc748-260">メッセージ交換の送信者または受信者のどちらかの使用可能な証明書を Service Broker で検出できませんでした。</span><span class="sxs-lookup"><span data-stu-id="dc748-260">Service Broker could not locate a usable certificate for one of the participants in the conversation.</span></span> <span data-ttu-id="dc748-261">メッセージ交換をセキュリティで保護するには、メッセージ交換の送信者と受信者の両方が使用できる証明書がデータベースに格納されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc748-261">To secure a conversation, the database must contain a certificate for both the sender and the recipient of the conversation.</span></span>|  
|<span data-ttu-id="dc748-262">3</span><span class="sxs-lookup"><span data-stu-id="dc748-262">3</span></span>|<span data-ttu-id="dc748-263">Invalid Signature</span><span class="sxs-lookup"><span data-stu-id="dc748-263">Invalid Signature</span></span>|<span data-ttu-id="dc748-264">送信者が送信者の証明書に公開キーを使用して提供したメッセージの署名を Service Broker で確認できませんでした。</span><span class="sxs-lookup"><span data-stu-id="dc748-264">Broker could not verify the message signature supplied by the sender using the public key in the sender's certificate.</span></span> <span data-ttu-id="dc748-265">これは、メッセージが破損していること、メッセージが改ざんされたこと、リモート サービスとローカル サービスが同じユーザー証明書を使用して構成されていないこと、または証明書の有効期限が切れていることを示している場合があります。</span><span class="sxs-lookup"><span data-stu-id="dc748-265">This may indicate that the message is corrupt, that the message has been tampered with, that the remote service and the local service are not configured with the same user certificate, or that the certificate is out of date.</span></span>|  
|<span data-ttu-id="dc748-266">4</span><span class="sxs-lookup"><span data-stu-id="dc748-266">4</span></span>|<span data-ttu-id="dc748-267">Run As Target Failure</span><span class="sxs-lookup"><span data-stu-id="dc748-267">Run As Target Failure</span></span>|<span data-ttu-id="dc748-268">送信先のユーザーが送信先のキューに対する受信権限を持っていません。</span><span class="sxs-lookup"><span data-stu-id="dc748-268">The destination user does not have receive permissions on the destination queue.</span></span> <span data-ttu-id="dc748-269">Service Broker では、許可されていないユーザーがメッセージを受信できないように、キューからメッセージを受け取れないユーザーを送信先とするメッセージをエンキューしません。これは、メッセージの送信元のユーザーにメッセージをエンキューする権限があるかどうかとは無関係です。</span><span class="sxs-lookup"><span data-stu-id="dc748-269">To prevent unauthorized users from receiving messages, Service Broker does not enqueue messages with a destination user that cannot receive from the queue, regardless of whether the initiating user has permission to enqueue messages.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="dc748-270">参照</span><span class="sxs-lookup"><span data-stu-id="dc748-270">See Also</span></span>  
 [<span data-ttu-id="dc748-271">SQL Server Service Broker (SQL Server Service Broker)</span><span class="sxs-lookup"><span data-stu-id="dc748-271">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
