---
title: CPU 使用率のポリシーにおけるノイズの軽減 (SQL Server ユーティリティ) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
f1_keywords:
- sql12.SWB.UE.ReduceNoise.F1
ms.assetid: 94bf4d93-c0ff-4869-bde7-80c24866092e
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 70677d5b21b47af87d596db1f18d0b5bc14145a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87738371"
---
# <a name="reduce-noise-in-cpu-utilization-policies-sql-server-utility"></a><span data-ttu-id="999c0-102">CPU 使用率のポリシーにおけるノイズの軽減 (SQL Server ユーティリティ)</span><span class="sxs-lookup"><span data-stu-id="999c0-102">Reduce Noise in CPU Utilization Policies (SQL Server Utility)</span></span>
  <span data-ttu-id="999c0-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ユーティリティのリソース使用率のポリシーでは、レポート ノイズや不要な違反を軽減するために、次の方法を使用します。</span><span class="sxs-lookup"><span data-stu-id="999c0-103">Use the following strategies to reduce reporting noise and unwanted violations in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility resource utilization policies.</span></span>  
  
## <a name="how-frequently-should-processor-utilization-be-in-violation-before-it-is-reported-as-overutilized"></a><span data-ttu-id="999c0-104">プロセッサ使用率にどのくらいの頻度で違反が生じると使用率が高いと報告されるか</span><span class="sxs-lookup"><span data-stu-id="999c0-104">How frequently should processor utilization be in violation before it is reported as overutilized?</span></span>  
 <span data-ttu-id="999c0-105">違反の評価期間と許容範囲はどちらも、ユーティリティ エクスプローラーの **[ユーティリティ管理]** ノードの **[ポリシー]** タブの設定を使用して構成できます。</span><span class="sxs-lookup"><span data-stu-id="999c0-105">The evaluation time period and tolerance for percent violations are both configurable using the **Policy** tab settings in the **Utility Administration** node of Utility Explorer.</span></span> <span data-ttu-id="999c0-106">ポリシーを変更するには、ポリシーの説明の右側にあるスライダー コントロールを使用して、 **[適用]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="999c0-106">To change policies, use the slider controls to the right of policy descriptions, then click **Apply**.</span></span> <span data-ttu-id="999c0-107">また、画面の下部にあるボタンを使用して、既定値を復元したり変更を破棄したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="999c0-107">You can also restore default values or discard changes using buttons at the bottom of the display.</span></span>  
  
-   <span data-ttu-id="999c0-108">データ収集の間隔は 15 分です。</span><span class="sxs-lookup"><span data-stu-id="999c0-108">The data collection interval is 15 minutes.</span></span> <span data-ttu-id="999c0-109">この値を構成することはできません。</span><span class="sxs-lookup"><span data-stu-id="999c0-109">This value is not configurable.</span></span>  
  
-   <span data-ttu-id="999c0-110">プロセッサ使用率ポリシーの既定のしきい値の上限は 70% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-110">The default upper threshold processor utilization policy is 70%.</span></span> <span data-ttu-id="999c0-111">オプションの範囲は 0 ～ 100% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-111">Options range from 0% to 100%.</span></span>  
  
-   <span data-ttu-id="999c0-112">プロセッサ過大使用に対する既定の評価期間は 1 時間です。</span><span class="sxs-lookup"><span data-stu-id="999c0-112">The default evaluation period for processor overutilization is 1 hour.</span></span> <span data-ttu-id="999c0-113">オプションの範囲は 1 時間 ～ 1 週間です。</span><span class="sxs-lookup"><span data-stu-id="999c0-113">Options range from 1 hour to 1 week.</span></span>  
  
-   <span data-ttu-id="999c0-114">既定では、CPU の使用率が高いと報告されるのは、違反となるデータ ポイントの割合が 20% になった場合です。</span><span class="sxs-lookup"><span data-stu-id="999c0-114">The default percentage of data points in violation before CPU is reported as overutilized is 20%.</span></span> <span data-ttu-id="999c0-115">オプションの範囲は 0 ～ 100% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-115">Options range from 0% to 100%.</span></span>  
  
 <span data-ttu-id="999c0-116">たとえば、既定値に基づき、1 時間ごとに 4 つのデータ ポイントが収集され、ポリシーのしきい値は 20% とします。</span><span class="sxs-lookup"><span data-stu-id="999c0-116">For example, based on default values, 4 data points will be collected every hour, and the policy threshold is 20%.</span></span> <span data-ttu-id="999c0-117">この場合、既定では、1 時間の収集期間内に 1 件でも違反があれば、4 つのデータ ポイントの 25% が違反することになります。</span><span class="sxs-lookup"><span data-stu-id="999c0-117">So by default, any violation in a 1-hour collection period will be 25% of 4 data points.</span></span> <span data-ttu-id="999c0-118">既定値では、CPU の過大使用ポリシーのしきい値の違反が報告されます。</span><span class="sxs-lookup"><span data-stu-id="999c0-118">The default values report any violation of the CPU overutilization policy threshold.</span></span>  
  
 <span data-ttu-id="999c0-119">わずか 1 件の違反によって生成されるノイズを軽減するには、次の対策を検討してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-119">To reduce noise generated by a single violation, consider the following options:</span></span>  
  
-   <span data-ttu-id="999c0-120">評価期間を 1 時間ずつ 6 時間まで延ばします。</span><span class="sxs-lookup"><span data-stu-id="999c0-120">Increase the evaluation period by 1 increment to 6 hours.</span></span> <span data-ttu-id="999c0-121">6 時間で 1 件の違反は、データ ポイント サンプル 24 個のうちの 1 個です。</span><span class="sxs-lookup"><span data-stu-id="999c0-121">A single violation in 6 hours would be 1 data point in a sample size of 24.</span></span> <span data-ttu-id="999c0-122">この場合、6 時間で、ポリシーのしきい値の 4 回の違反はポリシーが許容できる範囲ですが (データ ポイントの 16.7%)、6 時間の収集期間で、5 回またはそれ以上の違反で過大使用としてレポートされます (データ ポイントの 20% より大きい)。</span><span class="sxs-lookup"><span data-stu-id="999c0-122">In this case, the policy would tolerate 4 violations of the policy threshold (16.7% of data points) in 6 hours, but would report overutilization for 5 or more violations (>20% of data points) in a 6-hour collection period.</span></span>  
  
-   <span data-ttu-id="999c0-123">違反の割合に対する許容範囲を 1% ずつ 30% まで増やします。</span><span class="sxs-lookup"><span data-stu-id="999c0-123">Increase the tolerance for percentage of violations by 1 increment to 30%.</span></span> <span data-ttu-id="999c0-124">1 時間で 1 件の違反は、データ ポイント サンプル 4 個のうちの 1 個です。</span><span class="sxs-lookup"><span data-stu-id="999c0-124">A single violation in 1 hour would be 1 data point in a sample size of 4.</span></span> <span data-ttu-id="999c0-125">この場合、1 時間に 1 違反はポリシーの許容範囲ですが、1 時間の収集期間で 2 回、またはそれ以上の違反で過大使用としてレポートされます (データ ポイントの 30% より大きい)。</span><span class="sxs-lookup"><span data-stu-id="999c0-125">In this case, the policy would tolerate 1 violation per hour, but would report overutilization for 2 or more violations (>30% of data points) in a 1-hour collection period.</span></span>  
  
-   <span data-ttu-id="999c0-126">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] マネージド インスタンスおよびデータ層アプリケーションのプロセッサ使用率のポリシーのしきい値を大きくします。</span><span class="sxs-lookup"><span data-stu-id="999c0-126">Increase policy thresholds for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] managed instance and data-tier application processor utilization.</span></span> <span data-ttu-id="999c0-127">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] マネージド インスタンスまたはデータ層アプリケーションのグローバルな CPU 使用率のポリシーを変更する方法については、「[ユーティリティの管理 &#40;SQL Server ユーティリティ&#41;](../../database-engine/utility-administration-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-127">For more information about how to change the global CPU utilization policies for managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or data-tier applications, see [Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md).</span></span> <span data-ttu-id="999c0-128">個々の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスの CPU 使用率のポリシーを変更する方法については、「[マネージド インスタンスの詳細 &#40;SQL Server ユーティリティ&#41;](../../database-engine/managed-instance-details-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-128">For more information about how to change CPU utilization policies for individual instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Managed Instance Details &#40;SQL Server Utility&#41;](../../database-engine/managed-instance-details-sql-server-utility.md).</span></span> <span data-ttu-id="999c0-129">個々のデータ層アプリケーションの CPU 使用率のポリシーを変更する方法については、「[配置済みのデータ層アプリケーションの詳細 &#40;SQL Server ユーティリティ&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-129">For more information about how to change CPU utilization policies for individual data-tier applications, see [Deployed Data-tier Application Details &#40;SQL Server Utility&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span></span>  
  
## <a name="how-frequently-should-processor-utilization-be-in-violation-before-it-is-reported-as-underutilized"></a><span data-ttu-id="999c0-130">プロセッサ使用率にどのくらいの頻度で違反が生じると使用率が低いと報告されるか</span><span class="sxs-lookup"><span data-stu-id="999c0-130">How frequently should processor utilization be in violation before it is reported as underutilized?</span></span>  
 <span data-ttu-id="999c0-131">違反の評価期間と許容範囲はどちらも、ユーティリティ エクスプローラーの **[ユーティリティ管理]** ノードの **[ポリシー]** タブの設定を使用して構成できます。</span><span class="sxs-lookup"><span data-stu-id="999c0-131">The evaluation time period and tolerance for percent violations are both configurable using the **Policy** tab settings in the **Utility Administration** node of Utility Explorer.</span></span> <span data-ttu-id="999c0-132">ポリシーを変更するには、ポリシーの説明の右側にあるスライダー コントロールを使用して、 **[適用]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="999c0-132">To change policies, use the slider controls to the right of policy descriptions, then click **Apply**.</span></span> <span data-ttu-id="999c0-133">また、画面の下部にあるボタンを使用して、既定値を復元したり変更を破棄したりすることもできます。</span><span class="sxs-lookup"><span data-stu-id="999c0-133">You can also restore default values or discard changes using buttons at the bottom of the display.</span></span>  
  
-   <span data-ttu-id="999c0-134">データ収集の間隔は 15 分です。</span><span class="sxs-lookup"><span data-stu-id="999c0-134">The data collection interval is 15 minutes.</span></span> <span data-ttu-id="999c0-135">この値を構成することはできません。</span><span class="sxs-lookup"><span data-stu-id="999c0-135">This value is not configurable.</span></span>  
  
-   <span data-ttu-id="999c0-136">プロセッサ使用率ポリシーの既定のしきい値の下限は 0% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-136">The default lower threshold for processor utilization policy is 0%.</span></span> <span data-ttu-id="999c0-137">オプションの範囲は 0 ～ 100% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-137">Options range from 0% to 100%.</span></span>  
  
-   <span data-ttu-id="999c0-138">プロセッサ過小使用に対する既定の評価期間は 1 週間です。</span><span class="sxs-lookup"><span data-stu-id="999c0-138">The default evaluation period for processor underutilization is 1 week.</span></span> <span data-ttu-id="999c0-139">オプションの範囲は 1 日 ～ 1 か月です。</span><span class="sxs-lookup"><span data-stu-id="999c0-139">Options range from 1 day to 1 month.</span></span>  
  
-   <span data-ttu-id="999c0-140">既定では、CPU の使用率が低いと報告されるのは、違反となるデータ ポイントの割合が 90% になった場合です。</span><span class="sxs-lookup"><span data-stu-id="999c0-140">The default percentage of data points in violation before CPU is reported as underutilized is 90%.</span></span> <span data-ttu-id="999c0-141">オプションの範囲は 0 ～ 100% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-141">Options range from 0% to 100%.</span></span>  
  
 <span data-ttu-id="999c0-142">既定値に基づき、毎週 672 個のデータ ポイントが収集されますが、ポリシーのしきい値は 0% です。</span><span class="sxs-lookup"><span data-stu-id="999c0-142">Based on default values, 672 data points are collected every week, but the policy threshold is 0%.</span></span> <span data-ttu-id="999c0-143">この場合、既定では、このポリシーによって、プロセッサの過小使用による違反が生成されることはありません。</span><span class="sxs-lookup"><span data-stu-id="999c0-143">So by default, this policy does not generate processor underutilization violations.</span></span> <span data-ttu-id="999c0-144">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] マネージド インスタンスまたはデータ層アプリケーションのグローバルな CPU 使用率のポリシーを変更する方法については、「[ユーティリティの管理 &#40;SQL Server ユーティリティ&#41;](../../database-engine/utility-administration-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-144">For more information about how to change the global CPU utilization policies for managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or data-tier applications, see [Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md).</span></span> <span data-ttu-id="999c0-145">個々の SQL Server インスタンスの CPU 使用率のポリシーを変更する方法については、「[マネージド インスタンスの詳細 &#40;SQL Server ユーティリティ&#41;](../../database-engine/managed-instance-details-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-145">For more information about how to change CPU utilization policies for individual instances of SQL Server, see [Managed Instance Details &#40;SQL Server Utility&#41;](../../database-engine/managed-instance-details-sql-server-utility.md).</span></span> <span data-ttu-id="999c0-146">個々のデータ層アプリケーションの CPU 使用率のポリシーを変更する方法については、「[配置済みのデータ層アプリケーションの詳細 &#40;SQL Server ユーティリティ&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="999c0-146">For more information about how to change CPU utilization policies for individual data-tier applications, see [Deployed Data-tier Application Details &#40;SQL Server Utility&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="999c0-147">参照</span><span class="sxs-lookup"><span data-stu-id="999c0-147">See Also</span></span>  
 <span data-ttu-id="999c0-148">[ユーティリティの管理 &#40;SQL Server ユーティリティ&#41;](../../database-engine/utility-administration-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="999c0-148">[Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md) </span></span>  
 <span data-ttu-id="999c0-149">[SQL Server ユーティリティでの SQL Server のインスタンスの監視](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="999c0-149">[Monitor Instances of SQL Server in the SQL Server Utility](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span></span>  
 <span data-ttu-id="999c0-150">[リソース正常性ポリシーの定義の変更 &#40;SQL Server ユーティリティ&#41;](modify-a-resource-health-policy-definition-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="999c0-150">[Modify a Resource Health Policy Definition &#40;SQL Server Utility&#41;](modify-a-resource-health-policy-definition-sql-server-utility.md) </span></span>  
 [<span data-ttu-id="999c0-151">SQL Server ユーティリティの機能とタスク</span><span class="sxs-lookup"><span data-stu-id="999c0-151">SQL Server Utility Features and Tasks</span></span>](sql-server-utility-features-and-tasks.md)  
  
  
