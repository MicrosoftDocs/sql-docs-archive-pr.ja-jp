---
title: データベース エンジン チューニング アドバイザー | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
f1_keywords:
- sql12.dta.general.f1
ms.assetid: 50dd0a0b-a407-4aeb-bc8b-b02a793aa30a
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2c49b771fb5a79da36d29f52dd065ca7ca0092aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645575"
---
# <a name="database-engine-tuning-advisor"></a><span data-ttu-id="a04c8-102">Database Engine Tuning Advisor</span><span class="sxs-lookup"><span data-stu-id="a04c8-102">Database Engine Tuning Advisor</span></span>
  <span data-ttu-id="a04c8-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)] データベース エンジン チューニング アドバイザー (DTA) は、データベースを分析し、クエリ パフォーマンスを最適化する手助けをします。</span><span class="sxs-lookup"><span data-stu-id="a04c8-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Database Engine Tuning Advisor (DTA) analyzes databases and makes recommendations that you can use to optimize query performance.</span></span> <span data-ttu-id="a04c8-104">データベース エンジン チューニング アドバイザーを使用すると、データベースの構造や [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の内部構造に関する専門的な知識がなくても、インデックス、インデックス付きビュー、テーブル パーティション分割の最適な組み合わせを選択して作成することができます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-104">You can use the Database Engine Tuning Advisor to select and create an optimal set of indexes, indexed views, or table partitions without having an expert understanding of the database structure or the internals of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a04c8-105">DTA を使用して、次の作業を実行できます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-105">Using the DTA, you can perform the following tasks.</span></span>  
  
-   <span data-ttu-id="a04c8-106">問題のある特定のクエリのパフォーマンスをトラブルシューティングする。</span><span class="sxs-lookup"><span data-stu-id="a04c8-106">Troubleshoot the performance of a specific problem query</span></span>  
  
-   <span data-ttu-id="a04c8-107">1 つまたは複数のデータベースに対する多数のクエリをチューニングする。</span><span class="sxs-lookup"><span data-stu-id="a04c8-107">Tune a large set of queries across one or more databases</span></span>  
  
-   <span data-ttu-id="a04c8-108">想定される物理的な設計変更に対し、調査目的の what-if 分析を実行する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-108">Perform an exploratory what-if analysis of potential physical design changes</span></span>  
  
-   <span data-ttu-id="a04c8-109">ストレージ領域を管理する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-109">Manage storage space</span></span>  
  
## <a name="database-engine-tuning-advisor-benefits"></a><span data-ttu-id="a04c8-110">データベース エンジン チューニング アドバイザーの利点</span><span class="sxs-lookup"><span data-stu-id="a04c8-110">Database Engine Tuning Advisor Benefits</span></span>  
 <span data-ttu-id="a04c8-111">データベースの構造とデータベースに対して実行するクエリについて十分に理解していなければ、クエリのパフォーマンスを最適化することは困難です。</span><span class="sxs-lookup"><span data-stu-id="a04c8-111">Optimizing query performance can be difficult without a full understanding the database structure and the queries that are run against the database.</span></span> <span data-ttu-id="a04c8-112">この作業を簡単に行うことができるように、データベース エンジン チューニング アドバイザーは現在のクエリ プラン キャッシュを分析したり、作成された [!INCLUDE[tsql](../../includes/tsql-md.md)] クエリのワークロードを分析して適切な物理的設計を提案します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-112">The Database Engine Tuning Advisor can make this task easier by analyzing the current query plan cache or by analyzing a workload of [!INCLUDE[tsql](../../includes/tsql-md.md)] queries that you create and recommending an appropriate physical design.</span></span> <span data-ttu-id="a04c8-113">さらに上級のデータベース管理者のために、DTA には、物理設計に対するさまざまな選択肢の what-if 分析を実行して調査するための強力なメカニズムが用意されています。</span><span class="sxs-lookup"><span data-stu-id="a04c8-113">For more advanced database administrators, DTA exposes a powerful mechanism to perform exploratory what-if analysis of different physical design alternatives.</span></span> <span data-ttu-id="a04c8-114">DTA からは次のような情報を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-114">The DTA can provide the following information.</span></span>  
  
-   <span data-ttu-id="a04c8-115">クエリ オプティマイザーを使用してワークロード内のクエリを分析し、データベースに最適なインデックスの組み合わせを推奨します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-115">Recommend the best mix of indexes for databases by using the query optimizer to analyze queries in a workload.</span></span>  
  
-   <span data-ttu-id="a04c8-116">ワークロード内で参照されているデータベースに関して、固定パーティション分割または非固定パーティション分割を推奨します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-116">Recommend aligned or non-aligned partitions for databases referenced in a workload.</span></span>  
  
-   <span data-ttu-id="a04c8-117">ワークロード内で参照されているデータベースに関して、インデックス付きビューを推奨します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-117">Recommend indexed views for databases referenced in a workload.</span></span>  
  
-   <span data-ttu-id="a04c8-118">インデックスの使用、テーブル間でのクエリの分布、ワークロード内のクエリ パフォーマンスなど、提案された変更を行うとどんな効果が得られるかを分析します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-118">Analyze the effects of the proposed changes, including index usage, query distribution among tables, and query performance in the workload.</span></span>  
  
-   <span data-ttu-id="a04c8-119">少数の問題クエリについてデータベースを調整する方法を推奨します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-119">Recommend ways to tune the database for a small set of problem queries.</span></span>  
  
-   <span data-ttu-id="a04c8-120">ディスク領域の制約などの詳細オプションを指定して推奨セットをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-120">Allow you to customize the recommendation by specifying advanced options such as disk space constraints.</span></span>  
  
-   <span data-ttu-id="a04c8-121">特定のワークロードに関して、推奨された構成を実装して得られる効果を要約したレポートを提供します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-121">Provide reports that summarize the effects of implementing the recommendations for a given workload.</span></span>  
  
 <span data-ttu-id="a04c8-122">データベース エンジン チューニング アドバイザーは、次の種類のクエリ ワークロードを処理します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-122">The Database Engine Tuning Advisor is designed to handle the following types of query workloads.</span></span>  
  
-   <span data-ttu-id="a04c8-123">オンライン トランザクション処理 (OLTP) クエリのみ</span><span class="sxs-lookup"><span data-stu-id="a04c8-123">Online transaction processing (OLTP) queries only</span></span>  
  
-   <span data-ttu-id="a04c8-124">オンライン分析処理 (OLAP) クエリのみ</span><span class="sxs-lookup"><span data-stu-id="a04c8-124">Online analytical processing (OLAP) queries only</span></span>  
  
-   <span data-ttu-id="a04c8-125">OLTP と OLAP の混在クエリ</span><span class="sxs-lookup"><span data-stu-id="a04c8-125">Mixed OLTP and OLAP queries</span></span>  
  
-   <span data-ttu-id="a04c8-126">クエリが集中的に行われるワークロード (データ変更数よりもクエリ数が多い)</span><span class="sxs-lookup"><span data-stu-id="a04c8-126">Query-heavy workloads (more queries than data modifications)</span></span>  
  
-   <span data-ttu-id="a04c8-127">更新が集中的に行われるワークロード (クエリ数よりもデータ変更数が多い)</span><span class="sxs-lookup"><span data-stu-id="a04c8-127">Update-heavy workloads (more data modifications than queries)</span></span>  
  
## <a name="dta-components-and-concepts"></a><span data-ttu-id="a04c8-128">DTA のコンポーネントと概念</span><span class="sxs-lookup"><span data-stu-id="a04c8-128">DTA Components and Concepts</span></span>  
 <span data-ttu-id="a04c8-129">データベース エンジン チューニング アドバイザーのグラフィカル ユーザー インターフェイス</span><span class="sxs-lookup"><span data-stu-id="a04c8-129">Database Engine Tuning Advisor Graphical User Interface</span></span>  
 <span data-ttu-id="a04c8-130">ワークロードを指定したり各種チューニング オプションを選択したりできる使いやすいインターフェイス。</span><span class="sxs-lookup"><span data-stu-id="a04c8-130">An easy-to-use interface in which you can specify the workload and select various tuning options.</span></span>  
  
 <span data-ttu-id="a04c8-131">**dta** ユーティリティ</span><span class="sxs-lookup"><span data-stu-id="a04c8-131">**dta** Utility</span></span>  
 <span data-ttu-id="a04c8-132">データベース エンジン チューニング アドバイザーのコマンド プロンプト版。</span><span class="sxs-lookup"><span data-stu-id="a04c8-132">The command prompt version of Database Engine Tuning Advisor.</span></span> <span data-ttu-id="a04c8-133">**dta** ユーティリティは、データベース エンジン チューニング アドバイザーの機能をアプリケーションとスクリプトで使用するために作成されました。</span><span class="sxs-lookup"><span data-stu-id="a04c8-133">The **dta** utility is designed to allow you to use Database Engine Tuning Advisor functionality in applications and scripts.</span></span>  
  
 <span data-ttu-id="a04c8-134">ワークロード</span><span class="sxs-lookup"><span data-stu-id="a04c8-134">workload</span></span>  
 <span data-ttu-id="a04c8-135">チューニングするデータベースの代表的なワークロードが含まれた Transact-SQL スクリプト ファイル、トレース ファイル、またはトレース テーブル。</span><span class="sxs-lookup"><span data-stu-id="a04c8-135">A Transact-SQL script file, trace file, or trace table that contains a representative workload for the databases you want to tune.</span></span> <span data-ttu-id="a04c8-136">[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]以降では、プラン キャッシュをワークロードとして指定することができます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-136">Beginning with [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], you can specify the plan cache as the workload.</span></span>  
  
 <span data-ttu-id="a04c8-137">XML 入力ファイル (XML input file)</span><span class="sxs-lookup"><span data-stu-id="a04c8-137">XML input file</span></span>  
 <span data-ttu-id="a04c8-138">データベース エンジン チューニング アドバイザーがワークロードのチューニングに使用できる XML 形式のファイル。</span><span class="sxs-lookup"><span data-stu-id="a04c8-138">An XML-formatted file that Database Engine Tuning Advisor can use to tune workloads.</span></span> <span data-ttu-id="a04c8-139">XML 入力ファイルは、GUI でも **dta** ユーティリティでも利用できない高度なチューニング オプションをサポートします。</span><span class="sxs-lookup"><span data-stu-id="a04c8-139">The XML input file supports advanced tuning options that are not available in either the GUI or **dta** utility.</span></span>  
  
## <a name="limitations-and-restrictions"></a><span data-ttu-id="a04c8-140">制限事項と制約事項</span><span class="sxs-lookup"><span data-stu-id="a04c8-140">Limitations and Restrictions</span></span>  
 <span data-ttu-id="a04c8-141">データベース エンジン チューニング アドバイザーには、次の制限事項と制約事項があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-141">The Database Engine Tuning Advisor has the following limitations and restrictions.</span></span>  
  
-   <span data-ttu-id="a04c8-142">一意インデックスか、あるいは PRIMARY KEY 制約または UNIQUE 制約を適用するインデックスの追加または削除はできません。</span><span class="sxs-lookup"><span data-stu-id="a04c8-142">It cannot add or drop unique indexes or indexes that enforce PRIMARY KEY or UNIQUE constraints.</span></span>  
  
-   <span data-ttu-id="a04c8-143">シングル ユーザー モードに設定されているデータベースは分析できません。</span><span class="sxs-lookup"><span data-stu-id="a04c8-143">It cannot analyze a database that is set to single-user mode.</span></span>  
  
-   <span data-ttu-id="a04c8-144">実際に使用可能なディスク領域を超える推奨設定をチューニングするために最大ディスク領域を指定した場合、データベース エンジン チューニング アドバイザーでは、指定したその値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-144">If you specify a maximum disk space for tuning recommendations that exceeds the actual available space, Database Engine Tuning Advisor uses the value you specify.</span></span> <span data-ttu-id="a04c8-145">ただし、推奨設定を実装するためのスクリプトを実行したときに、最初にディスク領域が追加されないと、そのスクリプトは失敗する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-145">However, when you execute the recommendation script to implement it, the script may fail if more disk space is not added first.</span></span> <span data-ttu-id="a04c8-146">最大ディスク領域は、 **dta** ユーティリティの **-B** オプションを使用するか、または **[チューニング オプションの詳細設定]** ダイアログ ボックスで値を入力することによって指定できます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-146">Maximum disk space can be specified with the **-B** option of the **dta** utility, or by entering a value in the **Advanced Tuning Options** dialog box.</span></span>  
  
-   <span data-ttu-id="a04c8-147">セキュリティ上の理由により、データベース エンジン チューニング アドバイザーでは、リモート サーバーにあるトレース テーブルのワークロードをチューニングできません。</span><span class="sxs-lookup"><span data-stu-id="a04c8-147">For security reasons, Database Engine Tuning Advisor cannot tune a workload in a trace table that resides on a remote server.</span></span> <span data-ttu-id="a04c8-148">この制限は、トレース テーブルではなくトレース ファイルを使用するか、トレース テーブルをリモート サーバーにコピーすることによって回避できます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-148">To work around this limitation, you can use a trace file instead of a trace table or copy the trace table to the remote server.</span></span>  
  
-   <span data-ttu-id="a04c8-149">推奨設定をチューニングするための最大ディスク領域を ( **-B** オプションまたは **[チューニング オプションの詳細設定]** ダイアログ ボックスを使用して) 指定したとき課されるような制約を適用すると、データベース エンジン チューニング アドバイザーによって、強制的に特定の既存のインデックスが削除されることがあります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-149">When you impose constraints, such as those imposed when you specify a maximum disk space for tuning recommendations (by using the **-B** option or the **Advanced Tuning Options** dialog box), Database Engine Tuning Advisor may be forced to drop certain existing indexes.</span></span> <span data-ttu-id="a04c8-150">この場合、結果のデータベース エンジン チューニング アドバイザーの推奨設定では、予測向上率が負になっている可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-150">In this case, the resulting Database Engine Tuning Advisor recommendation may produce a negative expected improvement.</span></span>  
  
-   <span data-ttu-id="a04c8-151">チューニング時間を制限する制約を ( **dta** ユーティリティで **-A** オプションを使用するか、または **[チューニング オプション]** タブの **[チューニング時間を制限する]** チェック ボックスをオンにして) 指定した場合、データベース エンジン チューニング アドバイザーでは、正確な予測向上率と、これまでに使用されたさまざまなワークロードに関する分析レポートを生成するために、その制限時間を超えて処理が行われる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-151">When you specify a constraint to limit tuning time (by using the **-A** option with the **dta** utility or by checking **Limit tuning time** on the **Tuning Options** tab), Database Engine Tuning Advisor may exceed that time limit to produce an accurate expected improvement and the analysis reports for whatever portion of the workload has been consumed so far.</span></span>  
  
-   <span data-ttu-id="a04c8-152">次の状況では、データベース エンジン チューニング アドバイザーによって、推奨設定が生成されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-152">Database Engine Tuning Advisor might not make recommendations under the following circumstances:</span></span>  
  
    1.  <span data-ttu-id="a04c8-153">チューニングされているテーブルに含まれているデータ ページが 10 ページ未満である場合。</span><span class="sxs-lookup"><span data-stu-id="a04c8-153">The table being tuned contains less than 10 data pages.</span></span>  
  
    2.  <span data-ttu-id="a04c8-154">推奨されたインデックスを使用しても、現在の物理データベースのデザインではクエリのパフォーマンスが十分に向上しない場合。</span><span class="sxs-lookup"><span data-stu-id="a04c8-154">The recommended indexes would not offer enough improvement in query performance over the current physical database design.</span></span>  
  
    3.  <span data-ttu-id="a04c8-155">データベース エンジン チューニング アドバイザーを実行するユーザーが、`db_owner` データベース ロールまたは `sysadmin` 固定サーバー ロールのメンバーではない場合。</span><span class="sxs-lookup"><span data-stu-id="a04c8-155">The user who runs Database Engine Tuning Advisor is not a member of the `db_owner` database role or the `sysadmin` fixed server role.</span></span> <span data-ttu-id="a04c8-156">ワークロード内のクエリは、データベース エンジン チューニング アドバイザーを実行したユーザーのセキュリティ コンテキストで分析されます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-156">The queries in the workload are analyzed in the security context of the user who runs the Database Engine Tuning Advisor.</span></span> <span data-ttu-id="a04c8-157">ユーザーは、`db_owner` データベース ロールのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-157">The user must be a member of the `db_owner` database role.</span></span>  
  
-   <span data-ttu-id="a04c8-158">データベース エンジン チューニング アドバイザーでは、チューニング セッションのデータや他の情報を `msdb` データベースに格納します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-158">Database Engine Tuning Advisor stores tuning session data and other information in the `msdb` database.</span></span> <span data-ttu-id="a04c8-159">`msdb` データベースが変更されると、チューニング セッションのデータが失われることがあります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-159">If changes are made to the `msdb` database you may risk losing tuning session data.</span></span> <span data-ttu-id="a04c8-160">このような危険を回避するには、適切なバックアップ ストラテジを `msdb` データベースに実装します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-160">To eliminate this risk, implement an appropriate backup strategy for the `msdb` database.</span></span>  
  
## <a name="performance-considerations"></a><span data-ttu-id="a04c8-161">パフォーマンスに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a04c8-161">Performance Considerations</span></span>  
 <span data-ttu-id="a04c8-162">データベース エンジン チューニング アドバイザーでは、分析中に大量のプロセッサ リソースとメモリ リソースが使用される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-162">Database Engine Tuning Advisor can consume significant processor and memory resources during analysis.</span></span> <span data-ttu-id="a04c8-163">実稼動サーバーの処理速度の低下を回避するには、次のいずれかの操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-163">To avoid slowing down your production server, follow one of these strategies:</span></span>  
  
-   <span data-ttu-id="a04c8-164">サーバーが使用されていないときにデータベースをチューニングします。</span><span class="sxs-lookup"><span data-stu-id="a04c8-164">Tune your databases when your server is free.</span></span> <span data-ttu-id="a04c8-165">データベース エンジン チューニング アドバイザーは、メンテナンス タスクのパフォーマンスに影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-165">Database Engine Tuning Advisor can affect maintenance task performance.</span></span>  
  
-   <span data-ttu-id="a04c8-166">テスト サーバーと実稼動サーバーの機能のいずれかまたは両方を使用します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-166">Use the test server/production server feature.</span></span> <span data-ttu-id="a04c8-167">詳細については、「  [実稼働サーバーのチューニング負荷の軽減](reduce-the-production-server-tuning-load.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a04c8-167">For more information, see  [Reduce the Production Server Tuning Load](reduce-the-production-server-tuning-load.md).</span></span>  
  
-   <span data-ttu-id="a04c8-168">データベース エンジン チューニング アドバイザーで分析するデータベースの物理デザイン構造のみを指定します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-168">Specify only the physical database design structures you want Database Engine Tuning Advisor to analyze.</span></span> <span data-ttu-id="a04c8-169">データベース エンジン チューニング アドバイザーには多くのオプションが用意されていますが、必要なオプションのみを指定するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="a04c8-169">Database Engine Tuning Advisor provides many options, but specifies only those that are necessary.</span></span>  
  
## <a name="dependency-on-xp_msver-extended-stored-procedure"></a><span data-ttu-id="a04c8-170">xp_msver 拡張ストアド プロシージャへの依存性</span><span class="sxs-lookup"><span data-stu-id="a04c8-170">Dependency on xp_msver Extended Stored Procedure</span></span>  
 <span data-ttu-id="a04c8-171">データベース エンジン チューニング アドバイザーは、 **xp_msver** 拡張ストアド プロシージャに依存してすべての機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-171">Database Engine Tuning Advisor depends on the **xp_msver** extended stored procedure to provide full functionality.</span></span> <span data-ttu-id="a04c8-172">この拡張ストアド プロシージャは既定でオンになっています。</span><span class="sxs-lookup"><span data-stu-id="a04c8-172">This extended stored procedure is turned on by default.</span></span> <span data-ttu-id="a04c8-173">データベース エンジン チューニング アドバイザーはこの拡張ストアド プロシージャを使用して、チューニングするデータベースがあるコンピューター上のプロセッサの数および利用可能なメモリをフェッチします。</span><span class="sxs-lookup"><span data-stu-id="a04c8-173">Database Engine Tuning Advisor uses this extended stored procedure to fetch the number of processors and available memory on the computer where the database that you are tuning resides.</span></span> <span data-ttu-id="a04c8-174">**xp_msver** が使用できない場合は、データベース エンジン チューニング アドバイザーを実行しているコンピューターのハードウェア特性を推定します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-174">If **xp_msver** is unavailable, Database Engine Tuning Advisor assumes the hardware characteristics of the computer where Database Engine Tuning Advisor is running.</span></span> <span data-ttu-id="a04c8-175">データベース エンジン チューニング アドバイザーを実行しているコンピューターのハードウェア特性を推定できない場合は、1 つのプロセッサと 1,024 MB のメモリがあると仮定します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-175">If the hardware characteristics of the computer where Database Engine Tuning Advisor is running are not available, one processor and 1024 megabytes (MBs) of memory are assumed.</span></span>  
  
 <span data-ttu-id="a04c8-176">推奨パーティションの数はこれらの 2 つの値 (プロセッサ数と利用可能なメモリ) によって変わるので、この依存性によって、パーティション分割に関する推奨設定が影響を受けます。</span><span class="sxs-lookup"><span data-stu-id="a04c8-176">This dependency affects partitioning recommendations because the number of partitions recommended depends on these two values (number of processors and available memory).</span></span> <span data-ttu-id="a04c8-177">また、テスト サーバーを使用して本番運用サーバーをチューニングする場合は、依存性によってチューニング結果にも影響があります。</span><span class="sxs-lookup"><span data-stu-id="a04c8-177">The dependency also affects your tuning results when you use a test server to tune your production server.</span></span> <span data-ttu-id="a04c8-178">この場合、データベース エンジン チューニング アドバイザーは、 **xp_msver** を使用して運用サーバーからハードウェア属性をフェッチします。</span><span class="sxs-lookup"><span data-stu-id="a04c8-178">In this scenario, Database Engine Tuning Advisor uses **xp_msver** to fetch hardware properties from the production server.</span></span> <span data-ttu-id="a04c8-179">テスト サーバー上でワークロードをチューニングした後に、データベース エンジン チューニング アドバイザーはこれらのハードウェア属性を使用して推奨設定を生成します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-179">After tuning the workload on the test server, Database Engine Tuning Advisor uses these hardware properties to generate a recommendation.</span></span> <span data-ttu-id="a04c8-180">詳細については、「[xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a04c8-180">For more information, see [xp_msver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/xp-msver-transact-sql).</span></span>  
  
## <a name="database-engine-tuning-advisor-tasks"></a><span data-ttu-id="a04c8-181">データベース エンジン チューニング アドバイザーのタスク</span><span class="sxs-lookup"><span data-stu-id="a04c8-181">Database Engine Tuning Advisor Tasks</span></span>  
 <span data-ttu-id="a04c8-182">次の表に、データベース エンジン チューニング アドバイザーの一般的なタスクと、その実行方法を説明するトピックを示します。</span><span class="sxs-lookup"><span data-stu-id="a04c8-182">The following table lists common Database Engine Tuning Advisor tasks and the topics that describe how to perform them.</span></span>  
  
|<span data-ttu-id="a04c8-183">データベース エンジン チューニング アドバイザーのタスク</span><span class="sxs-lookup"><span data-stu-id="a04c8-183">Database Engine Tuning Advisor Task</span></span>|<span data-ttu-id="a04c8-184">トピック</span><span class="sxs-lookup"><span data-stu-id="a04c8-184">Topic</span></span>|  
|-----------------------------------------|-----------|  
|<span data-ttu-id="a04c8-185">データベース エンジン チューニング アドバイザーを初期化し、起動する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-185">Initialize and start the Database Engine Tuning Advisor.</span></span><br /><br /> <span data-ttu-id="a04c8-186">プラン キャッシュの指定、スクリプトの作成、またはトレース ファイル (またはトレース テーブル) の生成によってワークロードを作成する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-186">Create a workload by specifying the plan cache, by creating a script, or by generating a trace file or trace table.</span></span><br /><br /> <span data-ttu-id="a04c8-187">データベース エンジン チューニング アドバイザーのグラフィカル ユーザー インターフェイス ツールを使用してデータベースをチューニングする。</span><span class="sxs-lookup"><span data-stu-id="a04c8-187">Tune a database by using the Database Engine Tuning Advisor graphical user interface tool.</span></span><br /><br /> <span data-ttu-id="a04c8-188">ワークロードをチューニングするための XML 入力ファイルを作成する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-188">Create XML input files to tune workloads.</span></span><br /><br /> <span data-ttu-id="a04c8-189">データベース エンジン チューニング アドバイザーのユーザー インターフェイスのオプションの説明を表示する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-189">View descriptions of the Database Engine Tuning Advisor user interface options.</span></span>|[<span data-ttu-id="a04c8-190">データベース エンジン チューニング アドバイザーの起動および使用</span><span class="sxs-lookup"><span data-stu-id="a04c8-190">Start and Use the Database Engine Tuning Advisor</span></span>](../../relational-databases/performance/database-engine-tuning-advisor.md)|  
|<span data-ttu-id="a04c8-191">データベースのチューニング操作の結果を表示する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-191">View the results of the database tuning operation.</span></span><br /><br /> <span data-ttu-id="a04c8-192">チューニングに関する推奨設定を選択および実装する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-192">Select and implement tuning recommendations.</span></span><br /><br /> <span data-ttu-id="a04c8-193">ワークロードに対して what-if 調査分析を実行する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-193">Perform what-if exploratory analysis against the workload.</span></span><br /><br /> <span data-ttu-id="a04c8-194">既存のチューニング セッションを確認する。既存のセッションに基づいてセッションを複製する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-194">Review existing tuning sessions, clone sessions based on existing ones</span></span> <br /><span data-ttu-id="a04c8-195">チューニングに関する既存の推奨設定を編集して再度評価または実装する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-195">or edit existing tuning recommendations for further evaluation or implementation.</span></span><br /><br /> <span data-ttu-id="a04c8-196">データベース エンジン チューニング アドバイザーのユーザー インターフェイスのオプションの説明を表示する。</span><span class="sxs-lookup"><span data-stu-id="a04c8-196">View descriptions of the Database Engine Tuning Advisor user interface options.</span></span>|[<span data-ttu-id="a04c8-197">データベース エンジン チューニング アドバイザーからの出力の表示および操作</span><span class="sxs-lookup"><span data-stu-id="a04c8-197">View and Work with the Output from the Database Engine Tuning Advisor</span></span>](view-and-work-with-the-output-from-the-database-engine-tuning-advisor.md)|  
  
  
