---
title: データ コレクション | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- data collection [SQL Server]
ms.assetid: 0cc1f95c-5815-4d78-8868-a900be15e674
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6efa08a0cd9a92690ceac212b005f1f5607d4e5e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87633169"
---
# <a name="data-collection"></a><span data-ttu-id="4bd09-102">データ収集</span><span class="sxs-lookup"><span data-stu-id="4bd09-102">Data Collection</span></span>
  <span data-ttu-id="4bd09-103">データ コレクターは、さまざまなデータのセットを収集する [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] のコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-103">The Data Collector is a component of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] that collects different sets of data.</span></span> <span data-ttu-id="4bd09-104">データ コレクションは、継続的に実行されるかユーザー定義のスケジュールに基づいて実行されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-104">Data collection either runs constantly or on a user-defined schedule.</span></span> <span data-ttu-id="4bd09-105">データ コレクターは、収集したデータを管理データ ウェアハウスというリレーショナル データベースに格納します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-105">The data collector stores the collected data in a relational database known as the management data warehouse.</span></span>

## <a name="benefits-of-data-collector"></a><span data-ttu-id="4bd09-106">データ コレクターの利点</span><span class="sxs-lookup"><span data-stu-id="4bd09-106">Benefits of Data Collector</span></span>
 <span data-ttu-id="4bd09-107">データ コレクターは、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] のデータ収集プラットフォームの主要なコンポーネントであり、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]によって提供されるツールです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-107">The data collector is a core component of the data collection platform for [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] and the tools that are provided by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="4bd09-108">データ コレクターでは、中心となる 1 つのポイントでデータベース サーバーやアプリケーションのデータを収集できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-108">The data collector provides one central point for data collection across your database servers and applications.</span></span> <span data-ttu-id="4bd09-109">この収集ポイントではさまざまなソースからデータを取得できます。SQL トレースとは異なり、パフォーマンス データに制限されません。</span><span class="sxs-lookup"><span data-stu-id="4bd09-109">This collection point can obtain data from a variety of sources and is not limited to performance data, unlike SQL Trace.</span></span>

 <span data-ttu-id="4bd09-110">データ コレクターでは、テスト環境や実稼働環境に合わせてデータ収集の範囲を調整できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-110">The data collector enables you to adjust the scope of data collection to suit your test and production environments.</span></span> <span data-ttu-id="4bd09-111">また、データ コレクターはデータ ウェアハウスも使用します。データ ウェアハウスは、データにさまざまな保有期間を設定して収集したデータを管理できるようにするリレーショナル データベースです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-111">The data collector also uses a data warehouse, a relational database that enables you to manage the data that you collect by setting different retention periods for your data.</span></span>

 <span data-ttu-id="4bd09-112">データ コレクターは、データ収集の動的なチューニングをサポートし、その API を通じて拡張できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-112">The data collector supports dynamic tuning for data collection and is extensible through its API.</span></span> <span data-ttu-id="4bd09-113">詳細については、「 [データ コレクターのプログラミング](../../database-engine/dev-guide/data-collector-programming.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4bd09-113">For more information, see [Data Collector Programming](../../database-engine/dev-guide/data-collector-programming.md).</span></span>

 <span data-ttu-id="4bd09-114">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]のデータ収集およびデータ管理の全体的な戦略にデータ コレクターがどのように組み込まれているかを次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-114">The following illustration shows how the data collector fits in the overall strategy for data collection and data management in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>

 <span data-ttu-id="4bd09-115">![データ管理におけるデータ コレクターの役割](../../database-engine/media/datacollectorroleindatastrategy.gif "データ管理におけるデータ コレクターの役割")</span><span class="sxs-lookup"><span data-stu-id="4bd09-115">![The Data Collector's Role in Data Management](../../database-engine/media/datacollectorroleindatastrategy.gif "The Data Collector's Role in Data Management")</span></span>

## <a name="data-collector-concepts"></a><span data-ttu-id="4bd09-116">データ コレクターの概念</span><span class="sxs-lookup"><span data-stu-id="4bd09-116">Data Collector Concepts</span></span>
 <span data-ttu-id="4bd09-117">データ コレクターは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントと [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]に統合されており、この 2 つを広範囲にわたって使用します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-117">The data collector is integrated with [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent and [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and uses both extensively.</span></span> <span data-ttu-id="4bd09-118">したがって、データ コレクターを使用する前に、この 2 つの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] コンポーネントのそれぞれに関連するいくつかの概念を理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-118">Before you work with the data collector, you should therefore understand certain concepts related to each of these [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>

 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="4bd09-119">エージェントは、コレクション ジョブのスケジュールおよび実行のために使用されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-119">Agent is used to schedule and run collection jobs.</span></span> <span data-ttu-id="4bd09-120">次の概念を理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-120">You should understand the following concepts:</span></span>

-   <span data-ttu-id="4bd09-121">ジョブ</span><span class="sxs-lookup"><span data-stu-id="4bd09-121">Job</span></span>

-   <span data-ttu-id="4bd09-122">ジョブ ステップ</span><span class="sxs-lookup"><span data-stu-id="4bd09-122">Job step</span></span>

-   <span data-ttu-id="4bd09-123">ジョブ スケジュール</span><span class="sxs-lookup"><span data-stu-id="4bd09-123">Job schedule</span></span>

-   <span data-ttu-id="4bd09-124">Subsystem</span><span class="sxs-lookup"><span data-stu-id="4bd09-124">Subsystem</span></span>

-   <span data-ttu-id="4bd09-125">プロキシ アカウント</span><span class="sxs-lookup"><span data-stu-id="4bd09-125">Proxy accounts</span></span>

 <span data-ttu-id="4bd09-126">詳細については、「[管理タスクの自動化 &#40;SQL Server エージェント&#41;](../../ssms/agent/sql-server-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4bd09-126">For more information, see [Automated Administration Tasks &#40;SQL Server Agent&#41;](../../ssms/agent/sql-server-agent.md).</span></span>

 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="4bd09-127">([!INCLUDE[ssIS](../../includes/ssis-md.md)]) は、個々のデータ プロバイダーからデータを収集するパッケージを実行するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-127">([!INCLUDE[ssIS](../../includes/ssis-md.md)]) is used to execute packages that collect data from individual data providers.</span></span> <span data-ttu-id="4bd09-128">以下の [!INCLUDE[ssIS](../../includes/ssis-md.md)] ツールと概念を理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-128">You should be familiar with the following [!INCLUDE[ssIS](../../includes/ssis-md.md)] tools and concepts:</span></span>

-   [!INCLUDE[ssIS](../../includes/ssis-md.md)] <span data-ttu-id="4bd09-129">パッケージ</span><span class="sxs-lookup"><span data-stu-id="4bd09-129">package</span></span>

-   [!INCLUDE[ssIS](../../includes/ssis-md.md)] <span data-ttu-id="4bd09-130">パッケージ構成</span><span class="sxs-lookup"><span data-stu-id="4bd09-130">package configuration</span></span>

 <span data-ttu-id="4bd09-131">詳細については、「[Integration Services &#40;SSIS&#41; Packages](../../integration-services/integration-services-ssis-packages.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="4bd09-131">For more information, see [Integration Services &#40;SSIS&#41; Packages](../../integration-services/integration-services-ssis-packages.md).</span></span>

## <a name="data-collector-terminology"></a><span data-ttu-id="4bd09-132">データ コレクターの用語</span><span class="sxs-lookup"><span data-stu-id="4bd09-132">Data Collector Terminology</span></span>
 <span data-ttu-id="4bd09-133">[!INCLUDE[ssDE](../../includes/ssde-md.md)]データコレクションをサポートするのエディションで、のインスタンスをターゲットにし [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-133">target An instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] in an edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that supports Data Collection.</span></span> <span data-ttu-id="4bd09-134">サポートされるエディションの詳細については、 [SQL Server 2014 の各エディションがサポートする機能](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)」の「管理容易性」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="4bd09-134">For more information about supported editions, see the "Manageability" section of [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

 <span data-ttu-id="4bd09-135">*対象ルート* では、対象となる階層内のサブツリーを定義します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-135">A *target root* defines a subtree in the target hierarchy.</span></span> <span data-ttu-id="4bd09-136">*対象セット* は、対象ルートで定義されたサブツリーにフィルターを適用した結果の対象のグループです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-136">A *target set* is the group of targets that results from applying a filter to a subtree defined by a target root.</span></span> <span data-ttu-id="4bd09-137">対象ルートはデータベース ( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]のインスタンス) またはコンピューター インスタンスです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-137">A target root can be a database, an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], or a computer instance.</span></span>

 <span data-ttu-id="4bd09-138">[ターゲット] 特定の特性と動作を持つターゲットの種類を入力します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-138">target type The type of target, which has certain characteristics and behavior.</span></span> <span data-ttu-id="4bd09-139">たとえば、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インスタンスの対象は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベースの対象とは異なる特性を持ちます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-139">For example, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance target has different characteristics than a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database target.</span></span>

 <span data-ttu-id="4bd09-140">データプロバイダー対象の型に固有の既知のデータソース。コレクター型にデータを提供します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-140">data provider A known data source, specific to a target type, that provides data to a collector type.</span></span>

 <span data-ttu-id="4bd09-141">コレクター型 [!INCLUDE[ssIS](../../includes/ssis-md.md)] データを収集して管理データウェアハウスにアップロードするための実際のメカニズムを提供する、パッケージの論理ラッパー。</span><span class="sxs-lookup"><span data-stu-id="4bd09-141">collector type A logical wrapper around the [!INCLUDE[ssIS](../../includes/ssis-md.md)] packages that provide the actual mechanism for collecting data and uploading it to the management data warehouse.</span></span>

 <span data-ttu-id="4bd09-142">コレクションアイテムコレクター型のインスタンス。</span><span class="sxs-lookup"><span data-stu-id="4bd09-142">collection item An instance of a collector type.</span></span> <span data-ttu-id="4bd09-143">コレクション アイテムは、入力プロパティ セットと収集頻度に基づいて作成されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-143">A collection item is created with a specific set of input properties and a collection frequency.</span></span>

 <span data-ttu-id="4bd09-144">コレクションコレクションアイテムのグループを設定します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-144">collection set A group of collection items.</span></span> <span data-ttu-id="4bd09-145">コレクション セットは、ユーザーがユーザー インターフェイスから操作できるデータ収集の単位です。</span><span class="sxs-lookup"><span data-stu-id="4bd09-145">A collection set is a unit of data collection that a user can interact with through the user interface.</span></span>

 <span data-ttu-id="4bd09-146">コレクションモードデータを収集して格納する方法。</span><span class="sxs-lookup"><span data-stu-id="4bd09-146">collection mode The manner in which the data is collected and stored.</span></span> <span data-ttu-id="4bd09-147">コレクション モードにはキャッシュと非キャッシュがあります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-147">Collection mode can be cached or non-cached.</span></span> <span data-ttu-id="4bd09-148">キャッシュ モードは継続的なコレクションをサポートし、非キャッシュ モードは要求時コレクションまたはコレクションのスナップショットで使用されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-148">Cached mode supports continuous collection, whereas non-cached mode is intended for on-demand collection or a collection snapshot.</span></span>

 <span data-ttu-id="4bd09-149">管理データウェアハウス収集されたデータを格納するために使用するリレーショナルデータベース。</span><span class="sxs-lookup"><span data-stu-id="4bd09-149">management data warehouse A relational database used to store collected data.</span></span>

 <span data-ttu-id="4bd09-150">データ コレクター コンポーネント間の依存関係およびリレーションシップを次の図に示します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-150">The following illustration shows the dependencies and relationships between data collector components.</span></span>

 <span data-ttu-id="4bd09-151">![データ コレクターの機能依存](../../database-engine/media/dc-functional-dependencies.gif "データ コレクターの機能依存")</span><span class="sxs-lookup"><span data-stu-id="4bd09-151">![Data collector functional dependencies](../../database-engine/media/dc-functional-dependencies.gif "Data collector functional dependencies")</span></span>

 <span data-ttu-id="4bd09-152">図に示すように、データ プロバイダーはデータ コレクターの外部にあり、定義することによって対象との暗黙的なリレーションシップを持ちます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-152">As shown in the illustration, the data provider is external to the data collector and by definition has an implicit relationship with the target.</span></span> <span data-ttu-id="4bd09-153">データ プロバイダーは特定の対象 (たとえばリレーショナル エンジンなどの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] サービス) に固有で、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]のシステム ビュー、パフォーマンス モニター カウンター、WMI プロバイダーなど、データ コレクターが使用できるデータを提供します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-153">The data provider is specific to a particular target (for example, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service such as the relational engine) and provides data such as system views in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Performance Monitor counters, and WMI providers, that can be consumed by the data collector.</span></span>

 <span data-ttu-id="4bd09-154">コレクター型は、対象の種類に固有であり、対象の種類に対するデータ プロバイダーの論理アソシエーションを基にしています。</span><span class="sxs-lookup"><span data-stu-id="4bd09-154">The collector type is specific to a target type, based on the logical association of a data provider to a target type.</span></span> <span data-ttu-id="4bd09-155">コレクター型は、特定のデータ プロバイダーからデータを収集する方法を (スキーマ化されたパラメーターを使用して) 定義し、データ ストレージ スキーマを指定します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-155">The collector type defines how data is collected from a specific data provider (by using schematized parameters) and specifies the data storage schema.</span></span> <span data-ttu-id="4bd09-156">データ プロバイダー スキーマとデータ ストレージ スキーマは、収集したデータを格納するために必要です。</span><span class="sxs-lookup"><span data-stu-id="4bd09-156">The data provider schema and storage schema are required in order to store the data that is collected.</span></span> <span data-ttu-id="4bd09-157">また、コレクター型は、管理データ ウェアハウスの場所も示します。管理データ ウェアハウスは、データ収集を実行するコンピューターにも別のコンピューターにも配置できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-157">The collector type also provides the location of the management data warehouse, which can reside on the computer running data collection or on a different computer.</span></span>

 <span data-ttu-id="4bd09-158">図に示すコレクション アイテムは、特定のコレクター型のインスタンスで、コレクター型の XML スキーマなどの入力パラメーターでパラメーター化されています。</span><span class="sxs-lookup"><span data-stu-id="4bd09-158">A collection item, shown in the illustration, is an instance of a specific collector type, parameterized with input parameters, such as the XML schema for the collector type.</span></span> <span data-ttu-id="4bd09-159">すべてのコレクション アイテムは、同じ対象ルートまたは空の対象ルート上で操作する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-159">All collection items must operate on the same target root or on an empty target root.</span></span> <span data-ttu-id="4bd09-160">これにより、データ コレクターは、異なる対象ルートからではなく、オペレーティング システムまたは特定の対象ルートからコレクター型を結合できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-160">This enables the data collector to combine collector types from the operating system or from a specific target root, but not from different target roots.</span></span>

 <span data-ttu-id="4bd09-161">コレクション アイテムには、値のスナップショットを取得する頻度を決める、収集の頻度を定義します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-161">A collection item has a collection frequency defined that determines how often snapshots of values are taken.</span></span> <span data-ttu-id="4bd09-162">コレクション アイテムは、コレクション セットの構成要素ですが、単独では存在できません。</span><span class="sxs-lookup"><span data-stu-id="4bd09-162">Although it is a building block for a collection set, a collection item cannot exist on its own.</span></span>

 <span data-ttu-id="4bd09-163">コレクション セットは、サーバー インスタンス上に定義および配置され、互いに独立して実行できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-163">Collection sets are defined and deployed on a server instance and can be run independently of each other.</span></span> <span data-ttu-id="4bd09-164">各コレクション セットは、コレクション セットに含まれる全コレクター型の対象の種類に一致する対象に適用できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-164">Each collection set can be applied to a target that matches the target types of all the collector types that are part of a collection set.</span></span> <span data-ttu-id="4bd09-165">コレクション セットは [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェント ジョブによって実行され、定義済みのスケジュールに従ってデータが管理データ ウェアハウスにアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-165">The collection set is run by a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job or jobs, and data is uploaded to the management data warehouse on a predefined schedule.</span></span>

 <span data-ttu-id="4bd09-166">コレクション セット内の別々のインスタンスが収集したデータはすべて同じスケジュールに従って管理データ ウェアハウスにアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-166">All the data collected by different instances within the collection set is uploaded to the management data warehouse on the same schedule.</span></span> <span data-ttu-id="4bd09-167">このスケジュールは、共有の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェント スケジュールとして定義され、複数のコレクション セットから使用できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-167">This schedule is defined as a shared [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent schedule and can be used by more than one collection set.</span></span> <span data-ttu-id="4bd09-168">コレクション セットは、単一のエンティティとしてオンまたはオフになります。コレクション アイテムは個別にオンまたはオフにできません。</span><span class="sxs-lookup"><span data-stu-id="4bd09-168">A collection set is turned on or turned off as a single entity; collection items cannot be turned on or turned off individually.</span></span>

 <span data-ttu-id="4bd09-169">コレクション セットを作成または更新する際に、データの収集および管理データ ウェアハウスへのアップロード用のコレクション モードを構成できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-169">When you create or update a collection set, you can configure the collection mode for collecting data and uploading it to the management data warehouse.</span></span> <span data-ttu-id="4bd09-170">スケジュールの種類は、コレクションの種類 (キャッシュまたは非キャッシュ) によって決まります。</span><span class="sxs-lookup"><span data-stu-id="4bd09-170">The type of scheduling is determined by the type of collection: cached or non-cached.</span></span> <span data-ttu-id="4bd09-171">コレクションがキャッシュ モードの場合、データ収集とアップロードはそれぞれ個別のジョブで実行されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-171">If the collection is cached, data collection and upload each run on a separate job.</span></span> <span data-ttu-id="4bd09-172">コレクションは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントの開始時に開始するスケジュールに基づいて実行され、コレクション アイテムで指定された頻度で実行されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-172">Collection runs on a schedule that starts when the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent starts and it runs on the frequency specified in the collection item.</span></span> <span data-ttu-id="4bd09-173">アップロードは、ユーザーが指定したスケジュールに従って実行されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-173">Upload runs according to the schedule specified by the user.</span></span>

 <span data-ttu-id="4bd09-174">非キャッシュ モードのコレクションの場合、データ収集とアップロードは、2 段階の単一ジョブで実行されます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-174">Under non-cached collection, data collection and upload both run on a single job, but in two steps.</span></span> <span data-ttu-id="4bd09-175">段階 1 が収集、段階 2 がアップロードです。</span><span class="sxs-lookup"><span data-stu-id="4bd09-175">Step one is collection, step two is upload.</span></span> <span data-ttu-id="4bd09-176">要求時コレクションにはスケジュールは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="4bd09-176">No schedule is required for on-demand collection.</span></span>

 <span data-ttu-id="4bd09-177">コレクション セットが有効になったら、スケジュールに従うか、または要求に応じて、データ収集を開始できます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-177">After a collection set is enabled, data collection can start, either according to a schedule or on demand.</span></span> <span data-ttu-id="4bd09-178">データ収集を開始すると、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントがデータ コレクターのプロセスを生成し、生成されたプロセスはコレクション セットの [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] パッケージを順番に読み込みます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-178">When data collection starts, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent spawns a process for the data collector, which in turn loads the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages for the collection set.</span></span> <span data-ttu-id="4bd09-179">コレクション型を表すコレクション アイテムは、指定した対象上の適切なデータ プロバイダーからデータを収集します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-179">The collection items, which represent collection types, gather data from the appropriate data providers on the specified targets.</span></span> <span data-ttu-id="4bd09-180">収集のサイクルが終わると、このデータは管理データ ウェアハウスにアップロードされます。</span><span class="sxs-lookup"><span data-stu-id="4bd09-180">When the collection cycle ends, this data is uploaded to the management data warehouse.</span></span>

## <a name="data-collector-tasks"></a><span data-ttu-id="4bd09-181">データ コレクターのタスク</span><span class="sxs-lookup"><span data-stu-id="4bd09-181">Data Collector Tasks</span></span>

|<span data-ttu-id="4bd09-182">タスクの説明</span><span class="sxs-lookup"><span data-stu-id="4bd09-182">Task Description</span></span>|<span data-ttu-id="4bd09-183">トピック</span><span class="sxs-lookup"><span data-stu-id="4bd09-183">Topic</span></span>|
|----------------------|-----------|
|<span data-ttu-id="4bd09-184">データ コレクションの有効化または無効化、コレクション セットの構成の変更、管理データ ウェアハウスのデータの表示など、データ コレクションのさまざまな側面を管理する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-184">Describes how to manage different aspects of data collection, such as enabling or disabling data collection, changing a collection set configuration, or viewing data in the management data warehouse.</span></span>|[<span data-ttu-id="4bd09-185">データ コレクションの管理</span><span class="sxs-lookup"><span data-stu-id="4bd09-185">Manage Data Collection</span></span>](manage-data-collection.md)|
|<span data-ttu-id="4bd09-186">レポートを使用して、システム容量の監視やシステム パフォーマンスのトラブルシューティングに役立つ情報を取得する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-186">Describes how to use reports to obtain information for monitoring system capacity and troubleshooting system performance.</span></span>|[<span data-ttu-id="4bd09-187">システム データ コレクション セット レポート</span><span class="sxs-lookup"><span data-stu-id="4bd09-187">System Data Collection Set Reports</span></span>](system-data-collection-set-reports.md)|
|<span data-ttu-id="4bd09-188">管理データ ウェアハウスを使用して、データ コレクションの対象であるサーバーからデータを収集する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="4bd09-188">Describes how to use the Management Data Warehouse to collect data from a server that is a data collection target.</span></span>|[<span data-ttu-id="4bd09-189">管理データ ウェアハウス</span><span class="sxs-lookup"><span data-stu-id="4bd09-189">Management Data Warehouse</span></span>](management-data-warehouse.md)|


