---
title: データ変更の追跡 (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- CHANGE_TRACKING_CLEANUP_VERSION
- change_tracking_databases
- sys.change_tracking_databases
- WITH CHANGE_TRACKING_CONTEXT
- CHANGE_TRACKING_IS_COLUMN_IN_MASK
- sys.fn_change_tracking_dump_change_table
- fn_change_tracking_dump_change_table
- sys.fn_change_tracking_columns
- CHANGE_TRACKING_CURRENT_VERSION
- sys.change_tracking_tables
- fn_change_tracking_columns
- change_tracking_tables
- CHANGETABLE
helpviewer_keywords:
- change data capture [SQL Server], compared to change tracking
- change data capture vs. change tracking
- change data capture [SQL Server], data type behaviors
- Sync Services for ADO.NET
- change tracking [SQL Server], Sync Services for ADO.NET
- change tracking [SQL Server]
- change data capture [SQL Server], security
- change data capture [SQL Server], other SQL Server features and
ms.assetid: 7a34be46-15b4-4b6b-8497-cfd8f9f14234
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e9fb2a89aff63a69d7ad8df111d36f2b7ccafdd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87642645"
---
# <a name="track-data-changes-sql-server"></a><span data-ttu-id="a285c-102">データ変更の追跡 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="a285c-102">Track Data Changes (SQL Server)</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="a285c-103">データベースのデータに対する変更を追跡する [変更データ キャプチャ](#Capture) および [変更の追跡](#Tracking)という 2 つの機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="a285c-103">provides two features that track changes to data in a database: [change data capture](#Capture) and [change tracking](#Tracking).</span></span> <span data-ttu-id="a285c-104">これらの機能では、データベース内のユーザー テーブルに対して行われた DML の変更 (挿入操作、更新操作、および削除操作) をアプリケーションで特定できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-104">These features enable applications to determine the DML changes (insert, update, and delete operations) that were made to user tables in a database.</span></span> <span data-ttu-id="a285c-105">変更データ キャプチャと変更の追跡は、同じデータベースに対して有効にすることができます。特別な配慮は必要ありません。</span><span class="sxs-lookup"><span data-stu-id="a285c-105">Change data capture and change tracking can be enabled on the same database; no special considerations are required.</span></span> <span data-ttu-id="a285c-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]変更データキャプチャと変更の追跡をサポートするのエディションについては、「 [SQL Server 2014 の各エディションがサポートする機能](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a285c-106">For the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that support change data capture and change tracking, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="benefits-of-using-change-data-capture-or-change-tracking"></a><span data-ttu-id="a285c-107">変更データ キャプチャまたは変更の追跡を使用する利点</span><span class="sxs-lookup"><span data-stu-id="a285c-107">Benefits of Using Change Data Capture or Change Tracking</span></span>  
 <span data-ttu-id="a285c-108">データベースで変更されたデータをクエリする機能は、一部のアプリケーションの効率を高めるための重要な要件です。</span><span class="sxs-lookup"><span data-stu-id="a285c-108">The ability to query for data that has changed in a database is an important requirement for some applications to be efficient.</span></span> <span data-ttu-id="a285c-109">一般に、データ変更を確認するには、アプリケーション開発者がトリガー、timestamp 列、および追加のテーブルを組み合わせて使用することで、カスタムの追跡方法をアプリケーションに実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a285c-109">Typically, to determine data changes, application developers must implement a custom tracking method in their applications by using a combination of triggers, timestamp columns, and additional tables.</span></span> <span data-ttu-id="a285c-110">通常、このようなアプリケーションを作成するには実装に非常に手間がかかり、スキーマの更新も必要になり、多くの場合、パフォーマンスのオーバーヘッドが増加します。</span><span class="sxs-lookup"><span data-stu-id="a285c-110">Creating these applications usually involves a lot of work to implement, leads to schema updates, and often carries a high performance overhead.</span></span>  
  
 <span data-ttu-id="a285c-111">カスタム ソリューションを開発する代わりに、アプリケーションで変更データ キャプチャまたは変更の追跡を使用してデータベースでの変更を追跡すると、次のような利点があります。</span><span class="sxs-lookup"><span data-stu-id="a285c-111">Using change data capture or change tracking in applications to track changes in a database, instead of developing a custom solution, has the following benefits:</span></span>  
  
-   <span data-ttu-id="a285c-112">開発時間が短縮されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-112">There is reduced development time.</span></span> <span data-ttu-id="a285c-113">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]で使用可能な機能により、カスタム ソリューションを開発する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="a285c-113">Because functionality is available in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you do not have to develop a custom solution.</span></span>  
  
-   <span data-ttu-id="a285c-114">スキーマの変更が不要</span><span class="sxs-lookup"><span data-stu-id="a285c-114">Schema changes are not required.</span></span> <span data-ttu-id="a285c-115">削除された行を追跡するため、または変更追跡情報を格納するため (列をユーザー テーブルに追加できない場合) に列の追加、トリガーの追加、またはサイド テーブルの作成を行う必要がありません。</span><span class="sxs-lookup"><span data-stu-id="a285c-115">You do not have to add columns, add triggers, or create side table in which to track deleted rows or to store change tracking information if columns cannot be added to the user tables.</span></span>  
  
-   <span data-ttu-id="a285c-116">組み込みのクリーンアップ メカニズムがあります。</span><span class="sxs-lookup"><span data-stu-id="a285c-116">There is a built-in cleanup mechanism.</span></span> <span data-ttu-id="a285c-117">変更の追跡のクリーンアップは、バックグラウンドで自動的に実行されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-117">Cleanup for change tracking is performed automatically in the background.</span></span> <span data-ttu-id="a285c-118">サイド テーブルに格納されるデータのカスタム クリーンアップは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="a285c-118">Custom cleanup for data that is stored in a side table is not required.</span></span>  
  
-   <span data-ttu-id="a285c-119">変更情報を取得するための関数が用意されています。</span><span class="sxs-lookup"><span data-stu-id="a285c-119">Functions are provided to obtain change information.</span></span>  
  
-   <span data-ttu-id="a285c-120">DML 操作のオーバーヘッドが低減します。</span><span class="sxs-lookup"><span data-stu-id="a285c-120">There is low overhead to DML operations.</span></span> <span data-ttu-id="a285c-121">同期変更追跡では、オーバーヘッドが常に若干発生します。</span><span class="sxs-lookup"><span data-stu-id="a285c-121">Synchronous change tracking will always have some overhead.</span></span> <span data-ttu-id="a285c-122">しかし、変更の追跡を使用すると、オーバーヘッドを最小限に抑えることができます。</span><span class="sxs-lookup"><span data-stu-id="a285c-122">However, using change tracking can help minimize the overhead.</span></span> <span data-ttu-id="a285c-123">多くの場合、オーバーヘッドは、代わりのソリューション (特にトリガーを使用する必要があるソリューション) を使用する場合よりも少なくなります。</span><span class="sxs-lookup"><span data-stu-id="a285c-123">The overhead will frequently be less than that of using alternative solutions, especially solutions that require the use triggers.</span></span>  
  
-   <span data-ttu-id="a285c-124">コミットされたトランザクションに基づいた変更の追跡</span><span class="sxs-lookup"><span data-stu-id="a285c-124">Change tracking is based on committed transactions.</span></span> <span data-ttu-id="a285c-125">変更の順序は、トランザクションのコミット時間に基づきます。</span><span class="sxs-lookup"><span data-stu-id="a285c-125">The order of the changes is based on transaction commit time.</span></span> <span data-ttu-id="a285c-126">このため、実行時間の長いトランザクションや重複するトランザクションが存在する場合でも、信頼性が高い結果を取得できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-126">This allows for reliable results to be obtained when there are long-running and overlapping transactions.</span></span> <span data-ttu-id="a285c-127">`timestamp` 値を使用するカスタム ソリューションは、このようなシナリオに対処するように特別に設計する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a285c-127">Custom solutions that use `timestamp` values must be specifically designed to handle these scenarios.</span></span>  
  
-   <span data-ttu-id="a285c-128">構成および管理に使用できる標準的なツールがあります。</span><span class="sxs-lookup"><span data-stu-id="a285c-128">Standard tools are available that you can use to configure and manage.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="a285c-129">標準の DDL ステートメント、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]、カタログ ビュー、およびセキュリティ権限を利用できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-129">provides standard DDL statements, [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], catalog views, and security permissions.</span></span>  
  
## <a name="feature-differences-between-change-data-capture-and-change-tracking"></a><span data-ttu-id="a285c-130">変更データ キャプチャと変更の追跡の機能の違い</span><span class="sxs-lookup"><span data-stu-id="a285c-130">Feature Differences Between Change Data Capture and Change Tracking</span></span>  
 <span data-ttu-id="a285c-131">次の表に、変更データ キャプチャと変更の追跡の機能の違いを示します。</span><span class="sxs-lookup"><span data-stu-id="a285c-131">The following table lists the feature differences between change data capture and change tracking.</span></span> <span data-ttu-id="a285c-132">変更データ キャプチャの追跡メカニズムでは、非同期キャプチャによりトランザクション ログから変更がキャプチャされ、DML 操作後に変更を利用できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-132">The tracking mechanism in change data capture involves an asynchronous capture of changes from the transaction log so that changes are available after the DML operation.</span></span> <span data-ttu-id="a285c-133">変更の追跡の追跡メカニズムでは、同期追跡により DML 操作に即して変更が追跡され、すぐに変更情報を利用できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-133">In change tracking, the tracking mechanism involves synchronous tracking of changes in line with DML operations so that change information is available immediately.</span></span>  
  
|<span data-ttu-id="a285c-134">特徴量</span><span class="sxs-lookup"><span data-stu-id="a285c-134">Feature</span></span>|<span data-ttu-id="a285c-135">変更データ キャプチャ</span><span class="sxs-lookup"><span data-stu-id="a285c-135">Change data capture</span></span>|<span data-ttu-id="a285c-136">Change tracking</span><span class="sxs-lookup"><span data-stu-id="a285c-136">Change tracking</span></span>|  
|-------------|-------------------------|---------------------|  
|<span data-ttu-id="a285c-137">**追跡される変更**</span><span class="sxs-lookup"><span data-stu-id="a285c-137">**Tracked changes**</span></span>|||  
|<span data-ttu-id="a285c-138">DML の変更</span><span class="sxs-lookup"><span data-stu-id="a285c-138">DML changes</span></span>|<span data-ttu-id="a285c-139">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-139">Yes</span></span>|<span data-ttu-id="a285c-140">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-140">Yes</span></span>|  
|<span data-ttu-id="a285c-141">**追跡される情報**</span><span class="sxs-lookup"><span data-stu-id="a285c-141">**Tracked information**</span></span>|||  
|<span data-ttu-id="a285c-142">履歴データ</span><span class="sxs-lookup"><span data-stu-id="a285c-142">Historical data</span></span>|<span data-ttu-id="a285c-143">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-143">Yes</span></span>|<span data-ttu-id="a285c-144">いいえ</span><span class="sxs-lookup"><span data-stu-id="a285c-144">No</span></span>|  
|<span data-ttu-id="a285c-145">列が変更されたかどうか</span><span class="sxs-lookup"><span data-stu-id="a285c-145">Whether column was changed</span></span>|<span data-ttu-id="a285c-146">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-146">Yes</span></span>|<span data-ttu-id="a285c-147">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-147">Yes</span></span>|  
|<span data-ttu-id="a285c-148">DML 型</span><span class="sxs-lookup"><span data-stu-id="a285c-148">DML type</span></span>|<span data-ttu-id="a285c-149">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-149">Yes</span></span>|<span data-ttu-id="a285c-150">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-150">Yes</span></span>|  
  
##  <a name="change-data-capture"></a><a name="Capture"></a> <span data-ttu-id="a285c-151">変更データ キャプチャ</span><span class="sxs-lookup"><span data-stu-id="a285c-151">Change Data Capture</span></span>  
 <span data-ttu-id="a285c-152">変更データ キャプチャでは、DML の変更が行われたという事実と変更された実際のデータの両方がキャプチャされ、ユーザー テーブルの変更情報の履歴が提供されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-152">Change data capture provides historical change information for a user table by capturing both the fact that DML changes were made and the actual data that was changed.</span></span> <span data-ttu-id="a285c-153">変更は、非同期プロセスを使用してトランザクション ログを読み取ることによってキャプチャされます。これは、システムへの影響が少ない方法です。</span><span class="sxs-lookup"><span data-stu-id="a285c-153">Changes are captured by using an asynchronous process that reads the transaction log and has a low impact on the system.</span></span>  
  
 <span data-ttu-id="a285c-154">次の図に示すように、ユーザー テーブルに対して行われた変更は、対応する変更テーブルにキャプチャされます。</span><span class="sxs-lookup"><span data-stu-id="a285c-154">As shown in the following illustration, the changes that were made to user tables are captured in corresponding change tables.</span></span> <span data-ttu-id="a285c-155">これらの変更テーブルには、時間の経過に伴う変更の履歴が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-155">These change tables provide an historical view of the changes over time.</span></span> <span data-ttu-id="a285c-156">[の](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql)変更データ キャプチャ [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 関数を使用して、変更データを簡単かつ体系的に利用できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-156">The [change data capture](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql)functions that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides enable the change data to be consumed easily and systematically.</span></span>  
  
 <span data-ttu-id="a285c-157">![変更データ キャプチャの概念図](../../database-engine/media/cdcart1.gif "変更データ キャプチャの概念図")</span><span class="sxs-lookup"><span data-stu-id="a285c-157">![Conceptual illustration of change data capture](../../database-engine/media/cdcart1.gif "Conceptual illustration of change data capture")</span></span>  
  
### <a name="security-model"></a><span data-ttu-id="a285c-158">セキュリティ モデル</span><span class="sxs-lookup"><span data-stu-id="a285c-158">Security Model</span></span>  
 <span data-ttu-id="a285c-159">ここでは、変更データ キャプチャのセキュリティ モデルについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-159">This section describes the change data capture security model.</span></span>  
  
 <span data-ttu-id="a285c-160">**構成と管理**</span><span class="sxs-lookup"><span data-stu-id="a285c-160">**Configuration and Administration**</span></span>  
 <span data-ttu-id="a285c-161">データベースの変更データキャプチャを有効または無効にするには、sp_cdc_enable_db の呼び出し元[&#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql)または[sp_cdc_disable_db &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql)が固定サーバーロールのメンバーである必要があります。 `sysadmin`</span><span class="sxs-lookup"><span data-stu-id="a285c-161">To either enable or disable change data capture for a database, the caller of [sys.sp_cdc_enable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-db-transact-sql) or [sys.sp_cdc_disable_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) must be a member of the fixed server `sysadmin` role.</span></span> <span data-ttu-id="a285c-162">テーブルレベルで変更データキャプチャを有効または無効にするには、 [sys. sp_cdc_enable_table の呼び出し元 &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql)および[sys. sp_cdc_disable_table &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql)を sysadmin ロールのメンバーまたはデータベースロールのメンバーにする必要があります。 `database db_owner`</span><span class="sxs-lookup"><span data-stu-id="a285c-162">Enabling and disabling change data capture at the table level requires the caller of [sys.sp_cdc_enable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-enable-table-transact-sql) and [sys.sp_cdc_disable_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-table-transact-sql) to either be a member of the sysadmin role or a member of the database `database db_owner` role.</span></span>  
  
 <span data-ttu-id="a285c-163">変更データ キャプチャ ジョブの管理をサポートするストアド プロシージャを使用できるのは、`sysadmin` サーバー ロールのメンバー、および `database db_owner` ロールのメンバーに制限されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-163">Use of the stored procedures to support the administration of change data capture jobs is restricted to members of the server `sysadmin` role and members of the `database db_owner` role.</span></span>  
  
 <span data-ttu-id="a285c-164">**変更の列挙とメタデータ クエリ**</span><span class="sxs-lookup"><span data-stu-id="a285c-164">**Change Enumeration and Metadata Queries**</span></span>  
 <span data-ttu-id="a285c-165">キャプチャ インスタンスに関連付けられた変更データにアクセスするには、関連付けられたソース テーブルのすべてのキャプチャ対象列に対する選択アクセスがユーザーに許可されている必要があります。</span><span class="sxs-lookup"><span data-stu-id="a285c-165">To gain access to the change data that is associated with a capture instance, the user must be granted select access to all the captured columns of the associated source table.</span></span> <span data-ttu-id="a285c-166">また、キャプチャ インスタンスの作成時にゲーティング ロールが指定されている場合、呼び出し元は、指定されたゲーティング ロールのメンバーである必要もあります。</span><span class="sxs-lookup"><span data-stu-id="a285c-166">In addition, if a gating role is specified when the capture instance is created, the caller must also be a member of the specified gating role.</span></span> <span data-ttu-id="a285c-167">メタデータにアクセスするためのその他の一般的な変更データ キャプチャ関数には、public ロールですべてのデータベース ユーザーがアクセスできます。ただし、通常は、返されるメタデータへのアクセスも、基になるソース テーブルに対する選択アクセス、および定義されたすべてのゲーティング ロールのメンバーシップに基づいて制限されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-167">Other general change data capture functions for accessing metadata will be accessible to all database users through the public role, although access to the returned metadata will also typically be gated by using select access to the underlying source tables, and by membership in any defined gating roles.</span></span>  
  
 <span data-ttu-id="a285c-168">**変更データ キャプチャが有効になっているソース テーブルに対する DDL 操作**</span><span class="sxs-lookup"><span data-stu-id="a285c-168">**DDL Operations to Change Data Capture Enabled Source Tables**</span></span>  
 <span data-ttu-id="a285c-169">テーブルで変更データ キャプチャが有効になっているときにテーブルに DDL 操作を適用できるのは、固定サーバー ロール `sysadmin` のメンバー、`database role db_owner` のメンバー、または `database role db_ddladmin` のメンバーのみです。</span><span class="sxs-lookup"><span data-stu-id="a285c-169">When a table is enabled for change data capture, DDL operations can only be applied to the table by a member of the fixed server role `sysadmin`, a member of the `database role db_owner`, or a member of the `database role db_ddladmin`.</span></span> <span data-ttu-id="a285c-170">テーブルに対する DDL 操作の実行が明示的に許可されているユーザーがこれらの操作を実行しようとすると、エラー 22914 が返されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-170">Users who have explicit grants to perform DDL operations on the table will receive error 22914 if they try these operation.</span></span>  
  
### <a name="data-type-considerations-for-change-data-capture"></a><span data-ttu-id="a285c-171">変更データ キャプチャのデータ型に関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="a285c-171">Data Type Considerations for Change Data Capture</span></span>  
 <span data-ttu-id="a285c-172">基本的な列の種類はすべて変更データ キャプチャでサポートされています。</span><span class="sxs-lookup"><span data-stu-id="a285c-172">All base column types are supported by change data capture.</span></span> <span data-ttu-id="a285c-173">次の表では、さまざまな列の型の動作と制限について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-173">The following table lists the behavior and limitations for several column types.</span></span>  
  
|<span data-ttu-id="a285c-174">列の種類</span><span class="sxs-lookup"><span data-stu-id="a285c-174">Type of Column</span></span>|<span data-ttu-id="a285c-175">変更テーブルで変更をキャプチャする</span><span class="sxs-lookup"><span data-stu-id="a285c-175">Changes Captured in Change Tables</span></span>|<span data-ttu-id="a285c-176">制限事項</span><span class="sxs-lookup"><span data-stu-id="a285c-176">Limitations</span></span>|  
|--------------------|---------------------------------------|-----------------|  
|<span data-ttu-id="a285c-177">スパース列</span><span class="sxs-lookup"><span data-stu-id="a285c-177">Sparse Columns</span></span>|<span data-ttu-id="a285c-178">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-178">Yes</span></span>|<span data-ttu-id="a285c-179">columnset を使用する場合は変更のキャプチャをサポートしません。</span><span class="sxs-lookup"><span data-stu-id="a285c-179">Does not support capturing changes when using a columnset.</span></span>|  
|<span data-ttu-id="a285c-180">計算列</span><span class="sxs-lookup"><span data-stu-id="a285c-180">Computed Columns</span></span>|<span data-ttu-id="a285c-181">いいえ</span><span class="sxs-lookup"><span data-stu-id="a285c-181">No</span></span>|<span data-ttu-id="a285c-182">計算列に対する変更は追跡されません。</span><span class="sxs-lookup"><span data-stu-id="a285c-182">Changes to computed columns are not tracked.</span></span> <span data-ttu-id="a285c-183">列は適切な種類の変更テーブルに表示されますが、値は NULL になります。</span><span class="sxs-lookup"><span data-stu-id="a285c-183">The column will appear in the change table with the appropriate type, but will have a value of NULL.</span></span>|  
|<span data-ttu-id="a285c-184">XML</span><span class="sxs-lookup"><span data-stu-id="a285c-184">XML</span></span>|<span data-ttu-id="a285c-185">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-185">Yes</span></span>|<span data-ttu-id="a285c-186">個々の XML 要素に対する変更は追跡されません。</span><span class="sxs-lookup"><span data-stu-id="a285c-186">Changes to individual XML elements are not tracked.</span></span>|  
|<span data-ttu-id="a285c-187">Timestamp</span><span class="sxs-lookup"><span data-stu-id="a285c-187">Timestamp</span></span>|<span data-ttu-id="a285c-188">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-188">Yes</span></span>|<span data-ttu-id="a285c-189">変更テーブル内のデータ型はバイナリに変換されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-189">The data type in the change table is converted to binary.</span></span>|  
|<span data-ttu-id="a285c-190">BLOB データ型</span><span class="sxs-lookup"><span data-stu-id="a285c-190">BLOB data types</span></span>|<span data-ttu-id="a285c-191">はい</span><span class="sxs-lookup"><span data-stu-id="a285c-191">Yes</span></span>|<span data-ttu-id="a285c-192">BLOB 列の前の画像は、列自体が変更された場合にのみ保存されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-192">The previous image of the BLOB column is stored only if the column itself is changed.</span></span>|  
  
### <a name="change-data-capture-and-other-sql-server-features"></a><span data-ttu-id="a285c-193">変更データ キャプチャとその他の SQL Server 機能</span><span class="sxs-lookup"><span data-stu-id="a285c-193">Change Data Capture and Other SQL Server Features</span></span>  
 <span data-ttu-id="a285c-194">ここでは、次の機能と変更データ キャプチャとの連携について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-194">This section describes how the following features interact with change data capture:</span></span>  
  
-   <span data-ttu-id="a285c-195">データベース ミラーリング</span><span class="sxs-lookup"><span data-stu-id="a285c-195">Database mirroring</span></span>  
  
-   <span data-ttu-id="a285c-196">トランザクション レプリケーション</span><span class="sxs-lookup"><span data-stu-id="a285c-196">Transactional replication</span></span>  
  
-   <span data-ttu-id="a285c-197">データベースの復元またはアタッチ</span><span class="sxs-lookup"><span data-stu-id="a285c-197">Database restore or attach</span></span>  
  
#### <a name="database-mirroring"></a><span data-ttu-id="a285c-198">データベース ミラーリング</span><span class="sxs-lookup"><span data-stu-id="a285c-198">Database Mirroring</span></span>  
 <span data-ttu-id="a285c-199">変更データ キャプチャが有効になっているデータベースをミラー化できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-199">A database that is enabled for change data capture can be mirrored.</span></span> <span data-ttu-id="a285c-200">ミラーでキャプチャとクリーンアップが自動的に行われるようにするには、次の手順を実行します。</span><span class="sxs-lookup"><span data-stu-id="a285c-200">To ensure that capture and cleanup happen automatically on the mirror, follow these steps:</span></span>  
  
1.  <span data-ttu-id="a285c-201">ミラーで [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントが実行されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="a285c-201">Ensure that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent is running on the mirror.</span></span>  
  
2.  <span data-ttu-id="a285c-202">プリンシパルがミラーにフェールオーバーした後、ミラーでキャプチャ ジョブとクリーンアップ ジョブを作成します。</span><span class="sxs-lookup"><span data-stu-id="a285c-202">Create the capture job and cleanup job on the mirror after the principal has failed over to the mirror.</span></span> <span data-ttu-id="a285c-203">ジョブを作成するには、ストアド プロシージャ [sys.sp_cdc_add_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql) を使用します。</span><span class="sxs-lookup"><span data-stu-id="a285c-203">To create the jobs, use the stored procedure [sys.sp_cdc_add_job &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-add-job-transact-sql).</span></span>  
  
 <span data-ttu-id="a285c-204">データベース ミラーリングの詳細については、「[データベース ミラーリング &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a285c-204">For more information about database mirroring, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
#### <a name="transactional-replication"></a><span data-ttu-id="a285c-205">トランザクション レプリケーション</span><span class="sxs-lookup"><span data-stu-id="a285c-205">Transactional Replication</span></span>  
 <span data-ttu-id="a285c-206">変更データ キャプチャとトランザクション レプリケーションは、同じデータベースで共存できます。ただし、両方の機能が有効になっている場合、変更テーブルが異なる方法で作成されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-206">Change data capture and transactional replication can coexist in the same database, but population of the change tables is handled differently when both features are enabled.</span></span> <span data-ttu-id="a285c-207">変更データ キャプチャとトランザクション レプリケーションでは、トランザクション ログから変更を読み取る際に、常に同じプロシージャ ( [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql)) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-207">Change data capture and transactional replication always use the same procedure, [sp_replcmds](/sql/relational-databases/system-stored-procedures/sp-replcmds-transact-sql), to read changes from the transaction log.</span></span> <span data-ttu-id="a285c-208">変更データキャプチャがそれ自体で有効になっている場合、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントジョブはを呼び出し `sp_replcmds` ます。</span><span class="sxs-lookup"><span data-stu-id="a285c-208">When change data capture is enabled on its own, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job calls `sp_replcmds`.</span></span> <span data-ttu-id="a285c-209">同じデータベースで両方の機能が有効になっている場合、ログリーダーエージェントはを呼び出し `sp_replcmds` ます。</span><span class="sxs-lookup"><span data-stu-id="a285c-209">When both features are enabled on the same database, the Log Reader Agent calls `sp_replcmds`.</span></span> <span data-ttu-id="a285c-210">このエージェントは、変更テーブルとディストリビューション データベース テーブルの両方を作成します。</span><span class="sxs-lookup"><span data-stu-id="a285c-210">This agent populates both the change tables and the distribution database tables.</span></span> <span data-ttu-id="a285c-211">詳細については、「 [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a285c-211">For more information, see [Replication Log Reader Agent](../replication/agents/replication-log-reader-agent.md).</span></span>  
  
 <span data-ttu-id="a285c-212">[!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] データベースで変更データ キャプチャが有効になっており、2 つのテーブルでキャプチャが有効になっているシナリオについて考えてみます。</span><span class="sxs-lookup"><span data-stu-id="a285c-212">Consider a scenario in which change data capture is enabled on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database, and two tables are enabled for capture.</span></span> <span data-ttu-id="a285c-213">変更テーブルを作成するために、キャプチャ ジョブによって `sp_replcmds` が呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-213">To populate the change tables, the capture job calls `sp_replcmds`.</span></span> <span data-ttu-id="a285c-214">データベースでトランザクション レプリケーションが有効になり、パブリケーションが作成されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-214">The database is enabled for transactional replication, and a publication is created.</span></span> <span data-ttu-id="a285c-215">次に、ログ リーダー エージェントがデータベースに対して作成され、キャプチャ ジョブが削除されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-215">Now, the Log Reader Agent is created for the database and the capture job is deleted.</span></span> <span data-ttu-id="a285c-216">ログ リーダー エージェントは、変更テーブルにコミットされた最後のログ シーケンス番号からログのスキャンを続行します。</span><span class="sxs-lookup"><span data-stu-id="a285c-216">The Log Reader Agent continues to scan the log from the last log sequence number that was committed to the change table.</span></span> <span data-ttu-id="a285c-217">これにより、変更テーブル内のデータの一貫性が確保されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-217">This ensures data consistency in the change tables.</span></span> <span data-ttu-id="a285c-218">このデータベースでトランザクション レプリケーションが無効になっている場合、ログ リーダー エージェントが削除され、キャプチャ ジョブが再作成されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-218">If transactional replication is disabled in this database, the Log Reader Agent is removed and the capture job is re-created.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a285c-219">変更データ キャプチャとトランザクション レプリケーションの両方でログ リーダー エージェントを使用している場合、レプリケートされた変更が最初にディストリビューション データベースに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="a285c-219">When the Log Reader Agent is used for both change data capture and transactional replication, replicated changes are first written to the distribution database.</span></span> <span data-ttu-id="a285c-220">次に、キャプチャされた変更が変更テーブルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="a285c-220">Then, captured changes are written to the change tables.</span></span> <span data-ttu-id="a285c-221">両方の操作は同時にコミットされます。</span><span class="sxs-lookup"><span data-stu-id="a285c-221">Both operations are committed together.</span></span> <span data-ttu-id="a285c-222">ディストリビューション データベースへの書き込みの際に遅延が生じた場合、変更テーブルに変更が表示される前に、それに対応する遅延が発生します。</span><span class="sxs-lookup"><span data-stu-id="a285c-222">If there is any latency in writing to the distribution database, there will be a corresponding latency before changes appear in the change tables.</span></span>  
  
#### <a name="restoring-or-attaching-a-database-enabled-for-change-data-capture"></a><span data-ttu-id="a285c-223">変更データ キャプチャが有効になっているデータベースの復元またはアタッチ</span><span class="sxs-lookup"><span data-stu-id="a285c-223">Restoring or Attaching a Database Enabled for Change Data Capture</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a285c-224">では、データベースが復元またはアタッチされた後に変更データ キャプチャを有効のままにするかどうかを、次のロジックに従って判断します。</span><span class="sxs-lookup"><span data-stu-id="a285c-224">uses the following logic to determine if change data capture remains enabled after a database is restored or attached:</span></span>  
  
-   <span data-ttu-id="a285c-225">データベースを同じサーバーに同じデータベース名で復元した場合、変更データ キャプチャは有効のままです。</span><span class="sxs-lookup"><span data-stu-id="a285c-225">If a database is restored to the same server with the same database name, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="a285c-226">データベースを別のサーバーに復元した場合、既定では変更データ キャプチャが無効になり、関連するメタデータがすべて削除されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-226">If a database is restored to another server, by default change data capture is disabled and all related metadata is deleted.</span></span>  
  
     <span data-ttu-id="a285c-227">変更データ キャプチャを保持するには、データベースを復元する際に `KEEP_CDC` オプションを使用します。</span><span class="sxs-lookup"><span data-stu-id="a285c-227">To retain change data capture, use the `KEEP_CDC` option when restoring the database.</span></span> <span data-ttu-id="a285c-228">このオプションの詳細については、「 [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a285c-228">For more information about this option, see [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
-   <span data-ttu-id="a285c-229">データベースをデタッチしてから、同じサーバーまたは別のサーバーにアタッチした場合、変更データ キャプチャは有効のままです。</span><span class="sxs-lookup"><span data-stu-id="a285c-229">If a database is detached and attached to the same server or another server, change data capture remains enabled.</span></span>  
  
-   <span data-ttu-id="a285c-230">Enterprise 以外のエディションに対してオプションを使用してデータベースがアタッチまたは復元された場合 `KEEP_CDC` 、この操作はブロックされます。これは、変更データキャプチャが enterprise を必要とするためです [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="a285c-230">If a database is attached or restored with the `KEEP_CDC` option to any edition other than Enterprise, the operation is blocked because change data capture requires [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="a285c-231">エラー メッセージ 932 が表示されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-231">Error message 932 is displayed:</span></span>  
  
     `SQL Server cannot load database '%.*ls' because change data capture is enabled. The currently installed edition of SQL Server does not support change data capture. Either disable change data capture in the database by using a supported edition of SQL Server, or upgrade the instance to one that supports change data capture.`  
  
 <span data-ttu-id="a285c-232">[sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) を使用すると、復元またはアタッチされたデータベースから変更データ キャプチャを削除できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-232">You can use [sys.sp_cdc_disable_db](/sql/relational-databases/system-stored-procedures/sys-sp-cdc-disable-db-transact-sql) to remove change data capture from a restored or attached database.</span></span>  
 

  ##  <a name="change-tracking"></a><a name="Tracking"></a> <span data-ttu-id="a285c-233">変更の追跡</span><span class="sxs-lookup"><span data-stu-id="a285c-233">Change Tracking</span></span>  
 <span data-ttu-id="a285c-234">変更の追跡では、テーブル内の行が変更されたという事実がキャプチャされますが、変更されたデータはキャプチャされません。</span><span class="sxs-lookup"><span data-stu-id="a285c-234">Change tracking captures the fact that rows in a table were changed, but does not capture the data that was changed.</span></span> <span data-ttu-id="a285c-235">この機能を使用すると、変更された行をアプリケーションで特定し、最新の行データについてはユーザー テーブルから直接取得することができます。</span><span class="sxs-lookup"><span data-stu-id="a285c-235">This enables applications to determine the rows that have changed with the latest row data being obtained directly from the user tables.</span></span> <span data-ttu-id="a285c-236">したがって、変更の追跡で確認できる履歴の情報は変更データ キャプチャと比較すると限定されますが、</span><span class="sxs-lookup"><span data-stu-id="a285c-236">Therefore, change tracking is more limited in the historical questions it can answer compared to change data capture.</span></span> <span data-ttu-id="a285c-237">変更データがキャプチャされないため、履歴情報が必要ではないアプリケーションではストレージ オーバーヘッドがはるかに少なくて済みます。</span><span class="sxs-lookup"><span data-stu-id="a285c-237">However, for those applications that do not require the historical information, there is far less storage overhead because of the changed data not being captured.</span></span> <span data-ttu-id="a285c-238">変更は、同期追跡メカニズムを使用して追跡されます。</span><span class="sxs-lookup"><span data-stu-id="a285c-238">A synchronous tracking mechanism is used to track the changes.</span></span> <span data-ttu-id="a285c-239">これは、DML 操作のオーバーヘッドを最小限に抑えるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="a285c-239">This has been designed to have minimal overhead to the DML operations.</span></span>  
  
 <span data-ttu-id="a285c-240">次の図は、変更の追跡を使用すると効果的な同期のシナリオを示しています。</span><span class="sxs-lookup"><span data-stu-id="a285c-240">The following illustration shows a synchronization scenario that would benefit by using change tracking.</span></span> <span data-ttu-id="a285c-241">このシナリオのアプリケーションでは、テーブルの前回の同期後に変更されたすべてのテーブル行の現在の行データのみが必要です。</span><span class="sxs-lookup"><span data-stu-id="a285c-241">In the scenario, an application requires the following information: all the rows in the table that were changed since in the last time that the table was synchronized, and only the current row data.</span></span> <span data-ttu-id="a285c-242">同期メカニズムを使用して変更が追跡されるため、アプリケーションで双方向同期を実行して、発生する可能性がある競合を確実に検出できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-242">Because a synchronous mechanism is used to track the changes, an application can perform two-way synchronization and reliably detect any conflicts that might have occurred.</span></span>  
  
 <span data-ttu-id="a285c-243">![変更の追跡の概念図](../../database-engine/media/cdcart2.gif "変更の追跡の概念図")</span><span class="sxs-lookup"><span data-stu-id="a285c-243">![Conceptual illustration of change tracking](../../database-engine/media/cdcart2.gif "Conceptual illustration of change tracking")</span></span>  
  
### <a name="change-tracking-and-sync-services-for-adonet"></a><span data-ttu-id="a285c-244">変更の追跡と Sync Services for ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a285c-244">Change Tracking and Sync Services for ADO.NET</span></span>  
 [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="a285c-245">データベース間の同期が可能になり、直感的で柔軟性の高い API を使用して、オフラインおよびコラボレーションのシナリオを対象とするアプリケーションを構築できます。</span><span class="sxs-lookup"><span data-stu-id="a285c-245">enables synchronization between databases, providing an intuitive and flexible API that enables you to build applications that target offline and collaboration scenarios.</span></span> [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)] <span data-ttu-id="a285c-246">変更を同期する API が用意されていますが、この API ではサーバーまたはピア データベース内の変更は実際には追跡されません。</span><span class="sxs-lookup"><span data-stu-id="a285c-246">provides an API to synchronize changes, but it does not actually track changes in the server or peer database.</span></span> <span data-ttu-id="a285c-247">カスタム変更追跡システムを作成できますが、一般に複雑さやパフォーマンスのオーバーヘッドが大幅に増加します。</span><span class="sxs-lookup"><span data-stu-id="a285c-247">You can create a custom change tracking system, but this typically introduces significant complexity and performance overhead.</span></span> <span data-ttu-id="a285c-248">サーバーまたはピア データベースの変更を追跡するには、構成が簡単でパフォーマンスの高い追跡を実現できる [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] の変更の追跡を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="a285c-248">To track changes in a server or peer database, we recommend that you use change tracking in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] because it is easy to configure and provides high performance tracking.</span></span>  
  
 <span data-ttu-id="a285c-249">変更の追跡と [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)]の詳細については、以下のリンクを参照してください。</span><span class="sxs-lookup"><span data-stu-id="a285c-249">For more information about change tracking and [!INCLUDE[sql_sync_long](../../includes/sql-sync-long-md.md)], use the following links:</span></span>  
  
-   [<span data-ttu-id="a285c-250">変更の追跡について &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-250">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)  
  
     <span data-ttu-id="a285c-251">変更の追跡について説明します。変更の追跡のしくみについて概要を示し、変更の追跡が [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] のその他の機能とどのように連携するかを説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-251">Describes change tracking, provides a high-level overview of how change tracking works, and describes how change tracking interacts with other [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] features.</span></span>  
  
-   [<span data-ttu-id="a285c-252">Microsoft Sync Framework デベロッパー センター</span><span class="sxs-lookup"><span data-stu-id="a285c-252">Microsoft Sync Framework Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=108054)  
  
     <span data-ttu-id="a285c-253">[!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] および [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)]に関する完全なドキュメントが用意されています。</span><span class="sxs-lookup"><span data-stu-id="a285c-253">Provides complete documentation for [!INCLUDE[ssSyncFrameLong](../../includes/sssyncframelong-md.md)] and [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)].</span></span> <span data-ttu-id="a285c-254">[!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)]のドキュメントのトピック「SQL Server 変更の追跡の使用方法」には、詳細な情報とコードの例があります。</span><span class="sxs-lookup"><span data-stu-id="a285c-254">In the documentation for [!INCLUDE[sql_sync_short](../../includes/sql-sync-short-md.md)], the topic "How to: Use SQL Server Change Tracking" contains detailed information and code examples.</span></span>  
  
  
## <a name="related-tasks-required"></a><span data-ttu-id="a285c-255">関連タスク (必須)</span><span class="sxs-lookup"><span data-stu-id="a285c-255">Related Tasks (required)</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="a285c-256">**タスク**</span><span class="sxs-lookup"><span data-stu-id="a285c-256">**Task**</span></span>|<span data-ttu-id="a285c-257">**トピック**</span><span class="sxs-lookup"><span data-stu-id="a285c-257">**Topic**</span></span>|  
|<span data-ttu-id="a285c-258">変更データ キャプチャの概要を示します。</span><span class="sxs-lookup"><span data-stu-id="a285c-258">Provides an overview of change data capture.</span></span>|[<span data-ttu-id="a285c-259">変更データ キャプチャについて &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-259">About Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/about-change-data-capture-sql-server.md)|  
|<span data-ttu-id="a285c-260">データベースまたはテーブルに対して変更データ キャプチャを有効または無効にする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-260">Describes how to enable and disable change data capture on a database or table.</span></span>|[<span data-ttu-id="a285c-261">変更データ キャプチャの有効化と無効化 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-261">Enable and Disable Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-data-capture-sql-server.md)|  
|<span data-ttu-id="a285c-262">変更データ キャプチャを管理および監視する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-262">Describes how to administer and monitor change data capture.</span></span>|[<span data-ttu-id="a285c-263">変更データ キャプチャの管理と監視 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-263">Administer and Monitor Change Data Capture &#40;SQL Server&#41;</span></span>](../track-changes/administer-and-monitor-change-data-capture-sql-server.md)|  
|<span data-ttu-id="a285c-264">変更データ キャプチャのコンシューマーが使用できる変更データを操作する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-264">Describes how to work with the change data that is available to change data capture consumers.</span></span> <span data-ttu-id="a285c-265">LSN の下限と上限の検証、クエリ関数、およびクエリ関数のシナリオについて説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-265">This topic covers validating LSN boundaries, the query functions, and query function scenarios.</span></span>|[<span data-ttu-id="a285c-266">変更データの処理 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-266">Work with Change Data &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-data-sql-server.md)|  
|<span data-ttu-id="a285c-267">変更の追跡の概要を示します。</span><span class="sxs-lookup"><span data-stu-id="a285c-267">Provides an overview of change tracking.</span></span>|[<span data-ttu-id="a285c-268">変更の追跡について &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-268">About Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/about-change-tracking-sql-server.md)|  
|<span data-ttu-id="a285c-269">データベースまたはテーブルに対して変更の追跡を有効または無効にする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-269">Describes how to enable and disable change tracking on a database or table.</span></span>|[<span data-ttu-id="a285c-270">変更の追跡の有効化と無効化 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-270">Enable and Disable Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/enable-and-disable-change-tracking-sql-server.md)|  
|<span data-ttu-id="a285c-271">変更の追跡を管理する方法、セキュリティを構成する方法、および変更の追跡を使用する場合のストレージとパフォーマンスへの影響を判断する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-271">Describes how to manage change tracking, configure security, and determine the effects on storage and performance when change tracking is used.</span></span>|[<span data-ttu-id="a285c-272">変更の追跡の管理 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-272">Manage Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/manage-change-tracking-sql-server.md)|  
|<span data-ttu-id="a285c-273">変更の追跡を使用するアプリケーションが、追跡した変更を取得し、その変更を別のデータ ストアに適用して、ソース データベースを更新する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-273">Describes how applications that use change tracking can obtain tracked changes, apply these changes to another data store, and update the source database.</span></span> <span data-ttu-id="a285c-274">また、フェールオーバーが発生してデータベースをバックアップから復元する必要がある場合に、変更の追跡が果たす役割についても説明します。</span><span class="sxs-lookup"><span data-stu-id="a285c-274">This topic also describes the role change tracking plays when a failover occurs and a database must be restored from a backup.</span></span>|[<span data-ttu-id="a285c-275">変更の追跡のしくみ &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-275">Work with Change Tracking &#40;SQL Server&#41;</span></span>](../track-changes/work-with-change-tracking-sql-server.md)|  
  
## <a name="see-also"></a><span data-ttu-id="a285c-276">参照</span><span class="sxs-lookup"><span data-stu-id="a285c-276">See Also</span></span>  
 <span data-ttu-id="a285c-277">[変更データキャプチャ関数 &#40;Transact-sql&#41;](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a285c-277">[Change Data Capture Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-data-capture-functions-transact-sql) </span></span>  
 <span data-ttu-id="a285c-278">[Change Tracking 関数 &#40;Transact-sql&#41;](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a285c-278">[Change Tracking Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql) </span></span>  
 <span data-ttu-id="a285c-279">[変更データキャプチャのストアドプロシージャ &#40;Transact-sql&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a285c-279">[Change Data Capture Stored Procedures &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/change-data-capture-stored-procedures-transact-sql) </span></span>  
 <span data-ttu-id="a285c-280">[変更データキャプチャテーブル &#40;Transact-sql&#41;](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a285c-280">[Change Data Capture Tables &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/change-data-capture-tables-transact-sql) </span></span>  
 [<span data-ttu-id="a285c-281">変更データ キャプチャに関連した動的管理ビュー &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a285c-281">Change Data Capture Related Dynamic Management Views &#40;Transact-SQL&#41;</span></span>](../views/views.md)  
  
  
