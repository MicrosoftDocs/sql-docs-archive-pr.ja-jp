---
title: SQL Server の証明書と非対称キー | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server], certificates and asymmetric keys
ms.assetid: 8519aa2f-f09c-4c1c-96b5-abc24811e60c
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: e8af2d92b31fee4f220b4c950fb6b7bd9c519885
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87713986"
---
# <a name="sql-server-certificates-and-asymmetric-keys"></a><span data-ttu-id="f721a-102">SQL Server の証明書と非対称キー</span><span class="sxs-lookup"><span data-stu-id="f721a-102">SQL Server Certificates and Asymmetric Keys</span></span>
  <span data-ttu-id="f721a-103"> 公開キー暗号化 (PKI) は、メッセージを秘匿する方法の 1 つです。この方法では、ユーザーが "*公開*" キーと "*秘密*" キーを作成します。</span><span class="sxs-lookup"><span data-stu-id="f721a-103">Public Key Cryptography (PKI) is a form of message secrecy in which a user creates a *public* key and a *private* key.</span></span> <span data-ttu-id="f721a-104">秘密キーは秘匿されますが、公開キーは他のユーザーに配布できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-104">The private key is kept secret, whereas the public key can be distributed to others.</span></span> <span data-ttu-id="f721a-105">2 つのキーは数学的に相関していますが、公開キーを使用して秘密キーを簡単に導出することはできません。</span><span class="sxs-lookup"><span data-stu-id="f721a-105">Although the keys are mathematically related, the private key cannot be easily derived by using the public key.</span></span> <span data-ttu-id="f721a-106">公開キーはデータの暗号化に使用され、秘密キーはデータの暗号化解除に使用されます。</span><span class="sxs-lookup"><span data-stu-id="f721a-106">The public key is used to encrypt data and the private key is used to decrypt data.</span></span> <span data-ttu-id="f721a-107">公開キーを使用して暗号化されたメッセージは、正しい秘密キーを使用しないと暗号化解除できません。</span><span class="sxs-lookup"><span data-stu-id="f721a-107">A message that is encrypted by using the public key can only be decrypted by using the correct private key.</span></span> <span data-ttu-id="f721a-108">2 つの異なるキーが存在するので、これらのキーは *非対称*です。</span><span class="sxs-lookup"><span data-stu-id="f721a-108">Since there are two different keys, these keys are *asymmetric*.</span></span>  
  
 <span data-ttu-id="f721a-109">証明書と非対称キーは、どちらも非対称暗号化を使用するための手段です。</span><span class="sxs-lookup"><span data-stu-id="f721a-109">Certificates and asymmetric keys are both ways to use asymmetric encryption.</span></span> <span data-ttu-id="f721a-110">証明書は、有効期限や発行者などの詳細情報を格納できることから、非対称キーのコンテナーとしてよく使用されます。</span><span class="sxs-lookup"><span data-stu-id="f721a-110">Certificates are often used as containers for asymmetric keys because they can contain more information such as expiry dates and issuers.</span></span> <span data-ttu-id="f721a-111">この 2 つのメカニズムに暗号化アルゴリズムの違いはなく、同じキー長が指定された場合の強度にも違いはありません。</span><span class="sxs-lookup"><span data-stu-id="f721a-111">There is no difference between the two mechanisms for the cryptographic algorithm, and no difference in strength given the same key length.</span></span> <span data-ttu-id="f721a-112">一般に、データベース内の他の種類の暗号化キーを暗号化する場合や、コード モジュールに署名する場合は、証明書を使用します。</span><span class="sxs-lookup"><span data-stu-id="f721a-112">Generally, you use a certificate to encrypt other types of encryption keys in a database, or to sign code modules.</span></span>  
  
 <span data-ttu-id="f721a-113">証明書と非対称キーは、一方が暗号化したデータを暗号化解除できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-113">Certificates and asymmetric keys can decrypt data that the other encrypts.</span></span> <span data-ttu-id="f721a-114">一般に、データベース内のストレージに対する対称キーを暗号化する場合は、非対称暗号化を使用します。</span><span class="sxs-lookup"><span data-stu-id="f721a-114">Generally, you use asymmetric encryption to encrypt a symmetric key for storage in a database.</span></span>  
  
 <span data-ttu-id="f721a-115">公開キーには証明書のような特定の形式がありません。また、公開キーはファイルにエクスポートできません。</span><span class="sxs-lookup"><span data-stu-id="f721a-115">A public key does not have a particular format like a certificate would have, and you cannot export it to a file.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f721a-116">には、サーバーとデータベースで使用するための証明書とキーを作成および管理できる機能が用意されています。</span><span class="sxs-lookup"><span data-stu-id="f721a-116">contains features that enable you to create and manage certificates and keys for use with the server and database.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f721a-117">を使用して、他のアプリケーションやオペレーティング システム用の証明書とキーを作成および管理することはできません。</span><span class="sxs-lookup"><span data-stu-id="f721a-117">cannot be used to create and manage certificates and keys with other applications or in the operating system.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="f721a-118">証明書</span><span class="sxs-lookup"><span data-stu-id="f721a-118">Certificates</span></span>  
 <span data-ttu-id="f721a-119">証明書は、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の公開キー (およびオプションで秘密キー) を含んでいるデジタル署名されたセキュリティ オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="f721a-119">A certificate is a digitally signed security object that contains a public (and optionally a private) key for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f721a-120">外部で生成された証明書を使用するか、または [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] で証明書を生成できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-120">You can use externally generated certificates or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can generate certificates.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f721a-121">証明書は、IETF X.509v3 の証明書標準に準拠しています。</span><span class="sxs-lookup"><span data-stu-id="f721a-121">certificates comply with the IETF X.509v3 certificate standard.</span></span>  
  
 <span data-ttu-id="f721a-122">証明書は、X.509 証明書ファイルに対してキーをエクスポートおよびインポートできるので便利です。</span><span class="sxs-lookup"><span data-stu-id="f721a-122">Certificates are useful because of the option of both exporting and importing keys to X.509 certificate files.</span></span> <span data-ttu-id="f721a-123">証明書を作成する構文では、有効期限などの証明書の作成オプションを指定できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-123">The syntax for creating certificates allows for creation options for certificates such as an expiry date.</span></span>  
  
### <a name="using-a-certificate-in-sql-server"></a><span data-ttu-id="f721a-124">SQL Server での証明書の使用</span><span class="sxs-lookup"><span data-stu-id="f721a-124">Using a Certificate in SQL Server</span></span>  
 <span data-ttu-id="f721a-125">証明書は、データベース ミラーリングで接続を保護したり、パッケージや他のオブジェクトに署名したり、データや接続を暗号化したりする場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-125">Certificates can be used to help secure connections, in database mirroring, to sign packages and other objects, or to encrypt data or connections.</span></span> <span data-ttu-id="f721a-126">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の証明書に関するその他のリソースを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="f721a-126">The following table lists additional resources for certificates in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="f721a-127">トピック</span><span class="sxs-lookup"><span data-stu-id="f721a-127">Topic</span></span>|<span data-ttu-id="f721a-128">説明</span><span class="sxs-lookup"><span data-stu-id="f721a-128">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="f721a-129">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-129">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)|<span data-ttu-id="f721a-130">証明書を作成するためのコマンドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="f721a-130">Explains the command for creating certificates.</span></span>|  
|[<span data-ttu-id="f721a-131">デジタル署名を使用してパッケージのソースを特定する</span><span class="sxs-lookup"><span data-stu-id="f721a-131">Identify the Source of Packages with Digital Signatures</span></span>](../../integration-services/security/identify-the-source-of-packages-with-digital-signatures.md)|<span data-ttu-id="f721a-132">証明書を使用してソフトウェア パッケージに署名する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f721a-132">Shows information about how to use certificates to sign software packages.</span></span>|  
|[<span data-ttu-id="f721a-133">データベース ミラーリング エンドポイントでの証明書の使用 &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-133">Use Certificates for a Database Mirroring Endpoint &#40;Transact-SQL&#41;</span></span>](../../database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)|<span data-ttu-id="f721a-134">データベース ミラーリングで証明書を使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="f721a-134">Covers information about how to use certificates with Database Mirroring.</span></span>|  
  
## <a name="asymmetric-keys"></a><span data-ttu-id="f721a-135">非対称キー</span><span class="sxs-lookup"><span data-stu-id="f721a-135">Asymmetric Keys</span></span>  
 <span data-ttu-id="f721a-136">非対称キーは、対称キーを保護するために使用します。</span><span class="sxs-lookup"><span data-stu-id="f721a-136">Asymmetric keys are used for securing symmetric keys.</span></span> <span data-ttu-id="f721a-137">また、制限付きでデータを暗号化する場合や、データベース オブジェクトにデジタル署名する場合にも使用できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-137">They can also be used for limited data encryption and to digitally sign database objects.</span></span> <span data-ttu-id="f721a-138">非対称キーは、秘密キーと対応する公開キーで構成されます。</span><span class="sxs-lookup"><span data-stu-id="f721a-138">An asymmetric key consists of a private key and a corresponding public key.</span></span> <span data-ttu-id="f721a-139">非対称キーの詳細については、「 [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql)です。</span><span class="sxs-lookup"><span data-stu-id="f721a-139">For more information about asymmetric keys, see [CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-asymmetric-key-transact-sql).</span></span>  
  
 <span data-ttu-id="f721a-140">非対称キーは、厳密な名前のキー ファイルからインポートできますが、エクスポートすることはできません。</span><span class="sxs-lookup"><span data-stu-id="f721a-140">Asymmetric keys can be imported from strong name key files, but they cannot be exported.</span></span> <span data-ttu-id="f721a-141">また、有効期限のオプションもありません。</span><span class="sxs-lookup"><span data-stu-id="f721a-141">They also do not have expiry options.</span></span> <span data-ttu-id="f721a-142">非対称キーで接続を暗号化することはできません。</span><span class="sxs-lookup"><span data-stu-id="f721a-142">Asymmetric keys cannot encrypt connections.</span></span>  
  
### <a name="using-an-asymmetric-key-in-sql-server"></a><span data-ttu-id="f721a-143">SQL Server での非対称キーの使用</span><span class="sxs-lookup"><span data-stu-id="f721a-143">Using an Asymmetric Key in SQL Server</span></span>  
 <span data-ttu-id="f721a-144">非対称キーは、データを保護したり、プレーンテキストに署名したりする場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-144">Asymmetric keys can be used to help secure data or sign plaintext.</span></span> <span data-ttu-id="f721a-145">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]での非対称キーに関するその他のリソースを次の表に示します。</span><span class="sxs-lookup"><span data-stu-id="f721a-145">The following table lists additional resources for asymmetric keys in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="f721a-146">トピック</span><span class="sxs-lookup"><span data-stu-id="f721a-146">Topic</span></span>|<span data-ttu-id="f721a-147">説明</span><span class="sxs-lookup"><span data-stu-id="f721a-147">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="f721a-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-148">CREATE ASYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-asymmetric-key-transact-sql)|<span data-ttu-id="f721a-149">非対称キーを作成するためのコマンドについて説明します。</span><span class="sxs-lookup"><span data-stu-id="f721a-149">Explains the command for creating asymmetric keys.</span></span>|  
|[<span data-ttu-id="f721a-150">SIGNBYASYMKEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-150">SIGNBYASYMKEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/signbyasymkey-transact-sql)|<span data-ttu-id="f721a-151">オブジェクトに署名するためのオプションについて説明します。</span><span class="sxs-lookup"><span data-stu-id="f721a-151">Displays the options for signing objects.</span></span>|  
  
## <a name="tools"></a><span data-ttu-id="f721a-152">ツール</span><span class="sxs-lookup"><span data-stu-id="f721a-152">Tools</span></span>  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="f721a-153">では、証明書および厳密な名前のキー ファイルを生成するツールとユーティリティを提供しています。</span><span class="sxs-lookup"><span data-stu-id="f721a-153">provides tools and utilities that will generate certificates and strong name key files.</span></span> <span data-ttu-id="f721a-154">これらのツールでは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 構文よりも柔軟にキーを生成できます。</span><span class="sxs-lookup"><span data-stu-id="f721a-154">These tools offer a richer amount of flexibility in the key generation process than the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] syntax.</span></span> <span data-ttu-id="f721a-155">これらのツールを使用することで、より複雑なキー長の RSA キーを作成して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]にインポートできます。</span><span class="sxs-lookup"><span data-stu-id="f721a-155">You can use these tools to create RSA keys with more complex key lengths and then import them into [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f721a-156">次の表では、これらのツールの入手先を示します。</span><span class="sxs-lookup"><span data-stu-id="f721a-156">The following table explains shows where to find these tools.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="f721a-157">ツール</span><span class="sxs-lookup"><span data-stu-id="f721a-157">Tool</span></span>|<span data-ttu-id="f721a-158">目的</span><span class="sxs-lookup"><span data-stu-id="f721a-158">Purpose</span></span>|  
|<span data-ttu-id="f721a-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="f721a-159">[makecert](https://msdn2.microsoft.com/library/bfsktky3\(VS.80\).aspx)</span></span>|<span data-ttu-id="f721a-160">証明書を作成します。</span><span class="sxs-lookup"><span data-stu-id="f721a-160">Creates certificates.</span></span>|  
|<span data-ttu-id="f721a-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span><span class="sxs-lookup"><span data-stu-id="f721a-161">[sn](https://msdn2.microsoft.com/library/k5b5tt23\(VS.80\).aspx)</span></span>|<span data-ttu-id="f721a-162">対称キーの厳密名を作成します。</span><span class="sxs-lookup"><span data-stu-id="f721a-162">Creates strong names for symmetric keys.</span></span>|  
  
## <a name="related-tasks"></a><span data-ttu-id="f721a-163">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="f721a-163">Related Tasks</span></span>  
 [<span data-ttu-id="f721a-164">暗号化アルゴリズムの選択</span><span class="sxs-lookup"><span data-stu-id="f721a-164">Choose an Encryption Algorithm</span></span>](encryption/choose-an-encryption-algorithm.md)  
  
 [<span data-ttu-id="f721a-165">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-165">CREATE SYMMETRIC KEY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-symmetric-key-transact-sql)  
  
 [<span data-ttu-id="f721a-166">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-166">CREATE CERTIFICATE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-certificate-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="f721a-167">参照</span><span class="sxs-lookup"><span data-stu-id="f721a-167">See Also</span></span>  
 <span data-ttu-id="f721a-168">[sys.certificates &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="f721a-168">[sys.certificates &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-certificates-transact-sql) </span></span>  
 [<span data-ttu-id="f721a-169">透過的なデータ暗号化 &#40;TDE&#41;</span><span class="sxs-lookup"><span data-stu-id="f721a-169">Transparent Data Encryption &#40;TDE&#41;</span></span>](encryption/transparent-data-encryption.md)  
  
