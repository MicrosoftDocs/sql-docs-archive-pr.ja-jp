---
title: ODBC の日付と時刻の機能強化に関するデータ型のサポート |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
helpviewer_keywords:
- date/time [ODBC], data type support
- ODBC, date/time improvements
ms.assetid: 8e0d9ba2-3ec1-4680-86e3-b2590ba8e2e9
author: rothja
ms.author: jroth
ms.openlocfilehash: df0877a17ad8e2310db5c6e3ab4acd0c14d05611
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87640903"
---
# <a name="data-type-support-for-odbc-date-and-time-improvements"></a><span data-ttu-id="af10e-102">ODBC の日付/時刻の強化に対するデータ型のサポート</span><span class="sxs-lookup"><span data-stu-id="af10e-102">Data Type Support for ODBC Date and Time Improvements</span></span>
  <span data-ttu-id="af10e-103">このトピックでは、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の日付と時刻のデータ型をサポートする ODBC 型について説明します。</span><span class="sxs-lookup"><span data-stu-id="af10e-103">This topic provides information about ODBC types that support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span>  
  
## <a name="data-type-mapping-in-parameters-and-resultsets"></a><span data-ttu-id="af10e-104">パラメーターと結果セットでのデータ型マッピング</span><span class="sxs-lookup"><span data-stu-id="af10e-104">Data Type Mapping in Parameters and Resultsets</span></span>  
 <span data-ttu-id="af10e-105">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC では、サーバーの新しい型を公開するために、ODBC データ型 (SQL_TYPE_TIMESTAMP と SQL_TIMESTAMP) に加え、次の新しい 2 つのデータ型が追加されました。</span><span class="sxs-lookup"><span data-stu-id="af10e-105">In addition to the ODBC data types (SQL_TYPE_TIMESTAMP and SQL_TIMESTAMP), two new data types were added in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client ODBC to expose the new server types:</span></span>  
  
-   <span data-ttu-id="af10e-106">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="af10e-106">SQL_SS_TIME2</span></span>  
  
-   <span data-ttu-id="af10e-107">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-107">SQL_SS_TIMESTAMPOFFSET</span></span>  
  
 <span data-ttu-id="af10e-108">次の表は、完全なサーバー型のマッピングを示しています。</span><span class="sxs-lookup"><span data-stu-id="af10e-108">The following table shows the complete server-type mapping.</span></span> <span data-ttu-id="af10e-109">表の一部のセルには、2 つの項目が記載されています。このような場合、1 つ目は ODBC 3.0 の値、2 つ目は ODBC 2.0 の値です。</span><span class="sxs-lookup"><span data-stu-id="af10e-109">Notice that some cells of the table contain two entries; in these cases, the first is the ODBC 3.0 value and the second is the ODBC 2.0 value.</span></span>  
  
|<span data-ttu-id="af10e-110">SQL Server のデータ型</span><span class="sxs-lookup"><span data-stu-id="af10e-110">SQL Server data type</span></span>|<span data-ttu-id="af10e-111">SQL データ型</span><span class="sxs-lookup"><span data-stu-id="af10e-111">SQL data type</span></span>|<span data-ttu-id="af10e-112">値</span><span class="sxs-lookup"><span data-stu-id="af10e-112">Value</span></span>|  
|--------------------------|-------------------|-----------|  
|<span data-ttu-id="af10e-113">Datetime</span><span class="sxs-lookup"><span data-stu-id="af10e-113">Datetime</span></span>|<span data-ttu-id="af10e-114">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-114">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-115">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-115">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-116">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-116">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="af10e-117">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-117">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="af10e-118">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="af10e-118">Smalldatetime</span></span>|<span data-ttu-id="af10e-119">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-119">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-120">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-120">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-121">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-121">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="af10e-122">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-122">11 (sqlext.h)</span></span>|  
|<span data-ttu-id="af10e-123">Date</span><span class="sxs-lookup"><span data-stu-id="af10e-123">Date</span></span>|<span data-ttu-id="af10e-124">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-124">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="af10e-125">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-125">SQL_DATE</span></span>|<span data-ttu-id="af10e-126">91 (sql .h)</span><span class="sxs-lookup"><span data-stu-id="af10e-126">91 (sql.h)</span></span><br /><br /> <span data-ttu-id="af10e-127">9 (sqlext. h)</span><span class="sxs-lookup"><span data-stu-id="af10e-127">9 (sqlext.h)</span></span>|  
|<span data-ttu-id="af10e-128">Time</span><span class="sxs-lookup"><span data-stu-id="af10e-128">Time</span></span>|<span data-ttu-id="af10e-129">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="af10e-129">SQL_SS_TIME2</span></span>|<span data-ttu-id="af10e-130">-154 (SQLNCLI)</span><span class="sxs-lookup"><span data-stu-id="af10e-130">-154 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="af10e-131">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-131">DatetimeOFFSET</span></span>|<span data-ttu-id="af10e-132">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-132">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="af10e-133">-155 (SQLNCLI.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-133">-155 (SQLNCLI.h)</span></span>|  
|<span data-ttu-id="af10e-134">Datetime2</span><span class="sxs-lookup"><span data-stu-id="af10e-134">Datetime2</span></span>|<span data-ttu-id="af10e-135">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-135">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-136">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-136">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-137">93 (sql.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-137">93 (sql.h)</span></span><br /><br /> <span data-ttu-id="af10e-138">11 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-138">11 (sqlext.h)</span></span>|  
  
 <span data-ttu-id="af10e-139">次の表に、対応する構造体と ODBC C 型を示します。</span><span class="sxs-lookup"><span data-stu-id="af10e-139">The following table lists the corresponding structures and ODBC C types.</span></span> <span data-ttu-id="af10e-140">ODBC ではドライバーで定義された C 型が許可されないため、time と datetimeoffset では、SQL_C_BINARY がバイナリ構造体として使用されます。</span><span class="sxs-lookup"><span data-stu-id="af10e-140">Because ODBC does not permit driver defined C types, SQL_C_BINARY is used for time and datetimeoffset as binary structures.</span></span>  
  
|<span data-ttu-id="af10e-141">SQL データ型</span><span class="sxs-lookup"><span data-stu-id="af10e-141">SQL data type</span></span>|<span data-ttu-id="af10e-142">メモリ レイアウト</span><span class="sxs-lookup"><span data-stu-id="af10e-142">Memory layout</span></span>|<span data-ttu-id="af10e-143">既定の C データ型</span><span class="sxs-lookup"><span data-stu-id="af10e-143">Default C data type</span></span>|<span data-ttu-id="af10e-144">値 (sqlext.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-144">Value (sqlext.h)</span></span>|  
|-------------------|-------------------|-------------------------|------------------------|  
|<span data-ttu-id="af10e-145">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-145">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-146">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-146">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-147">SQL_TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-147">SQL_TIMESTAMP_STRUCT</span></span><br /><br /> <span data-ttu-id="af10e-148">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-148">TIMESTAMP_STRUCT</span></span>|<span data-ttu-id="af10e-149">SQL_C_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-149">SQL_C_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-150">SQL_C_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-150">SQL_C_TIMESTAMP</span></span>|<span data-ttu-id="af10e-151">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-151">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-152">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-152">SQL_TIMESTAMP</span></span>|  
|<span data-ttu-id="af10e-153">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-153">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="af10e-154">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-154">SQL_DATE</span></span>|<span data-ttu-id="af10e-155">SQL_DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-155">SQL_DATE_STRUCT</span></span><br /><br /> <span data-ttu-id="af10e-156">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-156">DATE_STRUCT</span></span>|<span data-ttu-id="af10e-157">SQL_C_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-157">SQL_C_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="af10e-158">SQL_C_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-158">SQL_C_DATE</span></span>|<span data-ttu-id="af10e-159">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-159">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="af10e-160">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-160">SQL_DATE</span></span>|  
|<span data-ttu-id="af10e-161">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="af10e-161">SQL_SS_TIME2</span></span>|<span data-ttu-id="af10e-162">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-162">SQL_SS_TIME2_STRUCT</span></span>|<span data-ttu-id="af10e-163">SQL_C_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="af10e-163">SQL_C_SS_TIME2</span></span><br /><br /> <span data-ttu-id="af10e-164">SQL_C_BINARY (ODBC 3.5 以前)</span><span class="sxs-lookup"><span data-stu-id="af10e-164">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="af10e-165">0x4000 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-165">0x4000 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="af10e-166">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="af10e-166">SQL_BINARY (-2)</span></span>|  
|<span data-ttu-id="af10e-167">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-167">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="af10e-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-168">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>|<span data-ttu-id="af10e-169">SQL_C_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-169">SQL_C_SS_TIMESTAMPOFFSET</span></span><br /><br /> <span data-ttu-id="af10e-170">SQL_C_BINARY (ODBC 3.5 以前)</span><span class="sxs-lookup"><span data-stu-id="af10e-170">SQL_C_BINARY (ODBC 3.5 and earlier)</span></span>|<span data-ttu-id="af10e-171">0x4001 (sqlncli.h)</span><span class="sxs-lookup"><span data-stu-id="af10e-171">0x4001 (sqlncli.h)</span></span><br /><br /> <span data-ttu-id="af10e-172">SQL_BINARY (-2)</span><span class="sxs-lookup"><span data-stu-id="af10e-172">SQL_BINARY (-2)</span></span>|  
  
 <span data-ttu-id="af10e-173">SQL_C_BINARY バインドを指定すると、配置チェックが実行され、配置が正しくない場合はエラーが報告されます。</span><span class="sxs-lookup"><span data-stu-id="af10e-173">When SQL_C_BINARY binding is specified, alignment checking will be performed and an error reported for incorrect alignment.</span></span> <span data-ttu-id="af10e-174">このエラーの SQLSTATE は IM016 で、メッセージは "構造体の配置が正しくありません" です。</span><span class="sxs-lookup"><span data-stu-id="af10e-174">The SQLSTATE for this error will be IM016, with the message "Incorrect structure alignment".</span></span>  
  
## <a name="data-formats-strings-and-literals"></a><span data-ttu-id="af10e-175">データ形式 : 文字列とリテラル</span><span class="sxs-lookup"><span data-stu-id="af10e-175">Data Formats: Strings and Literals</span></span>  
 <span data-ttu-id="af10e-176">次の表に、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データ型、ODBC データ型、ODBC 文字列リテラルの間のマッピングを示します。</span><span class="sxs-lookup"><span data-stu-id="af10e-176">The following table shows the mappings between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data types, ODBC data types, and the ODBC string literals.</span></span>  
  
|<span data-ttu-id="af10e-177">SQL Server のデータ型</span><span class="sxs-lookup"><span data-stu-id="af10e-177">SQL Server data type</span></span>|<span data-ttu-id="af10e-178">ODBC データ型</span><span class="sxs-lookup"><span data-stu-id="af10e-178">ODBC data type</span></span>|<span data-ttu-id="af10e-179">クライアントで変換した場合の文字列の形式</span><span class="sxs-lookup"><span data-stu-id="af10e-179">String format for client conversions</span></span>|  
|--------------------------|--------------------|------------------------------------------|  
|<span data-ttu-id="af10e-180">Datetime</span><span class="sxs-lookup"><span data-stu-id="af10e-180">Datetime</span></span>|<span data-ttu-id="af10e-181">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-181">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-182">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-182">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-183">'yyyy-mm-dd hh:mm:ss[.999]'</span><span class="sxs-lookup"><span data-stu-id="af10e-183">'yyyy-mm-dd hh:mm:ss[.999]'</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="af10e-184">では、datetime における秒の小数部の桁数を 3 桁までサポートします。</span><span class="sxs-lookup"><span data-stu-id="af10e-184">supports up to three fractional second digits for Datetime.</span></span>|  
|<span data-ttu-id="af10e-185">Smalldatetime</span><span class="sxs-lookup"><span data-stu-id="af10e-185">Smalldatetime</span></span>|<span data-ttu-id="af10e-186">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-186">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-187">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-187">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-188">'yyyy-mm-dd hh:hh:ss'</span><span class="sxs-lookup"><span data-stu-id="af10e-188">'yyyy-mm-dd hh:hh:ss'</span></span><br /><br /> <span data-ttu-id="af10e-189">このデータ型の精度は 1 分です。</span><span class="sxs-lookup"><span data-stu-id="af10e-189">This data type has an accuracy of one minute.</span></span> <span data-ttu-id="af10e-190">秒の部分は、出力時には 0 になり、入力時にはサーバーによって丸められます。</span><span class="sxs-lookup"><span data-stu-id="af10e-190">The seconds component will be zero on output and will be rounded by the server on input.</span></span>|  
|<span data-ttu-id="af10e-191">Date</span><span class="sxs-lookup"><span data-stu-id="af10e-191">Date</span></span>|<span data-ttu-id="af10e-192">SQL_TYPE_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-192">SQL_TYPE_DATE</span></span><br /><br /> <span data-ttu-id="af10e-193">SQL_DATE</span><span class="sxs-lookup"><span data-stu-id="af10e-193">SQL_DATE</span></span>|<span data-ttu-id="af10e-194">'yyyy-mm-dd'</span><span class="sxs-lookup"><span data-stu-id="af10e-194">'yyyy-mm-dd'</span></span>|  
|<span data-ttu-id="af10e-195">Time</span><span class="sxs-lookup"><span data-stu-id="af10e-195">Time</span></span>|<span data-ttu-id="af10e-196">SQL_SS_TIME2</span><span class="sxs-lookup"><span data-stu-id="af10e-196">SQL_SS_TIME2</span></span>|<span data-ttu-id="af10e-197">'hh:mm:ss[.9999999]'</span><span class="sxs-lookup"><span data-stu-id="af10e-197">'hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="af10e-198">秒の小数部には、必要に応じて最大 7 桁まで指定できます。</span><span class="sxs-lookup"><span data-stu-id="af10e-198">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="af10e-199">Datetime2</span><span class="sxs-lookup"><span data-stu-id="af10e-199">Datetime2</span></span>|<span data-ttu-id="af10e-200">SQL_TYPE_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-200">SQL_TYPE_TIMESTAMP</span></span><br /><br /> <span data-ttu-id="af10e-201">SQL_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="af10e-201">SQL_TIMESTAMP</span></span>|<span data-ttu-id="af10e-202">' yyyy-mm-dd hh: mm: ss [. 9999999] '</span><span class="sxs-lookup"><span data-stu-id="af10e-202">'yyyy-mm-dd hh:mm:ss[.9999999]'</span></span><br /><br /> <span data-ttu-id="af10e-203">秒の小数部には、必要に応じて最大 7 桁まで指定できます。</span><span class="sxs-lookup"><span data-stu-id="af10e-203">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
|<span data-ttu-id="af10e-204">DatetimeOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-204">DatetimeOFFSET</span></span>|<span data-ttu-id="af10e-205">SQL_SS_TIMESTAMPOFFSET</span><span class="sxs-lookup"><span data-stu-id="af10e-205">SQL_SS_TIMESTAMPOFFSET</span></span>|<span data-ttu-id="af10e-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span><span class="sxs-lookup"><span data-stu-id="af10e-206">'yyyy-mm-dd hh:mm:ss[.9999999] +/- hh:mm'</span></span><br /><br /> <span data-ttu-id="af10e-207">秒の小数部には、必要に応じて最大 7 桁まで指定できます。</span><span class="sxs-lookup"><span data-stu-id="af10e-207">Fractional seconds can optionally be specified using up to seven digits.</span></span>|  
  
 <span data-ttu-id="af10e-208">日付リテラルまたは時刻リテラルの ODBC エスケープ シーケンスに変更はありません。</span><span class="sxs-lookup"><span data-stu-id="af10e-208">There are no changes to the ODBC escape sequences for date/time literals.</span></span>  
  
 <span data-ttu-id="af10e-209">結果に含まれる秒の小数部には、常に、コロン (:) ではなくドット (.) を使用します。</span><span class="sxs-lookup"><span data-stu-id="af10e-209">Fractional seconds in results always use a dot (.), rather than a colon (:).</span></span>  
  
 <span data-ttu-id="af10e-210">アプリケーションに返される文字列値は、常に特定の列に対して同じ長さになります。</span><span class="sxs-lookup"><span data-stu-id="af10e-210">String values returned to applications are always the same length for a given column.</span></span> <span data-ttu-id="af10e-211">年、月、日、時、分、秒の各部分は、最大幅に合わせて先頭にゼロが埋め込まれます。また、datetime 値の日付と時刻の間には空白が 1 つ入ります。</span><span class="sxs-lookup"><span data-stu-id="af10e-211">Year, month, day, hour, minute, and second components are padded with leading zeros to their maximum width, and there is one space between date and time in datetime values.</span></span> <span data-ttu-id="af10e-212">datetimeoffset 値では、時間とタイム ゾーン オフセットの間にも空白が 1 つ入ります。</span><span class="sxs-lookup"><span data-stu-id="af10e-212">There is also one space between the time and timezone offset in a datetimeoffset value.</span></span> <span data-ttu-id="af10e-213">タイム ゾーン オフセットの前には常に符号を指定します。オフセットが 0 の場合は、正符号 (+) を指定します。</span><span class="sxs-lookup"><span data-stu-id="af10e-213">A timezone offset is always preceded by a sign; when the offset is zero, this sign is a plus (+).</span></span> <span data-ttu-id="af10e-214">秒の小数部では、必要に応じて、列に定義されている有効桁数になるまで後ろにゼロが埋め込まれます。</span><span class="sxs-lookup"><span data-stu-id="af10e-214">Fractional seconds are padded with trailing zeros if necessary, up to the defined precision for the column.</span></span> <span data-ttu-id="af10e-215">datetime 列の場合、秒の小数部は 3 桁になります。</span><span class="sxs-lookup"><span data-stu-id="af10e-215">For datetime columns, there are three fractional seconds digits.</span></span> <span data-ttu-id="af10e-216">smalldatetime 列の場合、秒の小数部はなく、秒は常にゼロになります。</span><span class="sxs-lookup"><span data-stu-id="af10e-216">For smalldatetime columns, there are no fractional seconds' digits, and the seconds will always be zero.</span></span>  
  
 <span data-ttu-id="af10e-217">空の文字列は、有効な日付リテラルまたは時間リテラルではありません。また、NULL 値を表すものでもありません。</span><span class="sxs-lookup"><span data-stu-id="af10e-217">An empty string is not a valid date/time literal and it does not represent a NULL value.</span></span> <span data-ttu-id="af10e-218">空の文字列を日付または時刻の値に変換しようとすると、SQLState 22018 のエラーが発生し、"キャストした文字コードが正しくありません" というメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="af10e-218">An attempt to convert an empty string to a date/time value will result in SQLState 22018 error and the message "Invalid character value for cast specification".</span></span>  
  
 <span data-ttu-id="af10e-219">文字列パラメーターからの変換では、文字列が同じ形式である必要があります。ただし、0 時 0 分のタイム ゾーンの符号が正符号と負符号のどちらも指定できる点と、秒の小数部では最大 9 桁になるように末尾にゼロを含めることができる点は同じである必要はありません。</span><span class="sxs-lookup"><span data-stu-id="af10e-219">Conversions from string parameters will expect strings in the same format, with the exceptions that the sign of a timezone with zero hours and zero minutes can be either plus or minus, and trailing zeros are allowed for fractional seconds up to a maximum of 9 digits.</span></span> <span data-ttu-id="af10e-220">時刻部分は、小数点で終了して、秒の小数部を省略することができます。</span><span class="sxs-lookup"><span data-stu-id="af10e-220">A time component can terminate with a decimal point and no fractional seconds digits.</span></span>  
  
 <span data-ttu-id="af10e-221">現在は、句読点の前後に空白を追加することができ、時間とタイム ゾーン オフセットの間の空白は省略可能です。</span><span class="sxs-lookup"><span data-stu-id="af10e-221">Currently, the driver allows additional white space around punctuation characters and the space between time and timezone offset is optional.</span></span> <span data-ttu-id="af10e-222">ただし、これは将来のリリースで変更される可能性があるので、アプリケーションは現在の動作に依存しないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="af10e-222">However, this might change in a future release; applications should not rely on the current behavior.</span></span>  
  
## <a name="data-formats-data-structures"></a><span data-ttu-id="af10e-223">データ形式 : データ構造体</span><span class="sxs-lookup"><span data-stu-id="af10e-223">Data Formats: Data Structures</span></span>  
 <span data-ttu-id="af10e-224">後述の構造体では、ODBC によって次の制約が定められています。これらはグレゴリオ暦を取り入れたものです。</span><span class="sxs-lookup"><span data-stu-id="af10e-224">In the structures described below, ODBC specifies the following constraints, which are taken from the Gregorian calendar:</span></span>  
  
-   <span data-ttu-id="af10e-225">月の範囲は 1 ～ 12 です。</span><span class="sxs-lookup"><span data-stu-id="af10e-225">Month range is 1 through 12.</span></span>  
  
-   <span data-ttu-id="af10e-226">日フィールドの範囲は 1 からその月の日数までです。この範囲は、うるう年を考慮して、年フィールドおよび月フィールドと一貫性を保つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="af10e-226">Day field range is 1 through the number of days in the month, and must be consistent with year and month fields, taking account of leap years.</span></span>  
  
-   <span data-ttu-id="af10e-227">時刻の範囲は 0 ～ 23 です。</span><span class="sxs-lookup"><span data-stu-id="af10e-227">Hour range is 0 through 23.</span></span>  
  
-   <span data-ttu-id="af10e-228">分の範囲は 0 ～ 59 です。</span><span class="sxs-lookup"><span data-stu-id="af10e-228">Minute range is 0 through 59.</span></span>  
  
-   <span data-ttu-id="af10e-229">秒の範囲は 0 ～ 61.9(n) です。</span><span class="sxs-lookup"><span data-stu-id="af10e-229">Seconds range is 0 through 61.9(n).</span></span> <span data-ttu-id="af10e-230">この範囲では、恒星時との同期を維持するために最大 2 秒のうるう秒が許可されています。</span><span class="sxs-lookup"><span data-stu-id="af10e-230">This allows up to two leap seconds to maintain synchronization with sidereal time.</span></span>  
  
     <span data-ttu-id="af10e-231">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] はうるう秒を許可しないので、秒の値が 59 を超えるとサーバー エラーが発生することに注意してください。</span><span class="sxs-lookup"><span data-stu-id="af10e-231">Note that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not allow leap seconds, so second values greater than 59 will cause a server error.</span></span>  
  
 <span data-ttu-id="af10e-232">次の既存の ODBC 構造体の実装は、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の新しい日付と時刻のデータ型をサポートするように変更されました。</span><span class="sxs-lookup"><span data-stu-id="af10e-232">Implementations for the following existing ODBC structs have been modified to support the new [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date and time data types.</span></span> <span data-ttu-id="af10e-233">ただし、定義は変更されていません。</span><span class="sxs-lookup"><span data-stu-id="af10e-233">The definitions, however, have not changed.</span></span>  
  
-   <span data-ttu-id="af10e-234">DATE_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-234">DATE_STRUCT</span></span>  
  
-   <span data-ttu-id="af10e-235">TIME_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-235">TIME_STRUCT</span></span>  
  
-   <span data-ttu-id="af10e-236">TIMESTAMP_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-236">TIMESTAMP_STRUCT</span></span>  
  
 <span data-ttu-id="af10e-237">また、次の新しい 2 つの構造体が導入されました。</span><span class="sxs-lookup"><span data-stu-id="af10e-237">There are also two new structs:</span></span>  
  
-   <span data-ttu-id="af10e-238">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-238">SQL_SS_TIME2_STRUCT</span></span>  
  
-   <span data-ttu-id="af10e-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-239">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
### <a name="sql_ss_time2_struct"></a><span data-ttu-id="af10e-240">SQL_SS_TIME2_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-240">SQL_SS_TIME2_STRUCT</span></span>  
 <span data-ttu-id="af10e-241">この構造体では、32 ビットと 64 ビットの両方のオペレーティング システムで、12 バイトまで埋め込みが行われます。</span><span class="sxs-lookup"><span data-stu-id="af10e-241">This struct is padded to 12 bytes on both 32-bit and 64-bit operating systems.</span></span>  
  
```  
typedef struct tagSS_TIME2_STRUCT {  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
} SQL_SS_TIME2_STRUCT;  
```  
  
### <a name="sql_ss_timestampoffset_struct"></a><span data-ttu-id="af10e-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span><span class="sxs-lookup"><span data-stu-id="af10e-242">SQL_SS_TIMESTAMPOFFSET_STRUCT</span></span>  
  
```  
typedef struct tagSS_TIMESTAMPOFFSET_STRUCT {  
   SQLSMALLINT year;  
   SQLUSMALLINT month;  
   SQLUSMALLINT day;  
   SQLUSMALLINT hour;  
   SQLUSMALLINT minute;  
   SQLUSMALLINT second;  
   SQLUINTEGER fraction;  
   SQLSMALLINT timezone_hour;  
   SQLSMALLINT timezone_minute;  
} SQL_SS_TIMESTAMPOFFSET_STRUCT;  
```  
  
 <span data-ttu-id="af10e-243">`timezone_hour` が負の値の場合、`timezone_minute` は負の値または 0 である必要があります。</span><span class="sxs-lookup"><span data-stu-id="af10e-243">If the `timezone_hour` is negative, the `timezone_minute` must be negative or zero.</span></span> <span data-ttu-id="af10e-244">`timezone_hour` が正の値の場合、`timezone_minute` は正の値または 0 である必要があります。</span><span class="sxs-lookup"><span data-stu-id="af10e-244">If the `timezone_hour` is positive, the `timezone_minute` must be positive or zero.</span></span> <span data-ttu-id="af10e-245">`timezone_hour` が 0 の場合、`timezone_minute` には、-59 ～ +59 の範囲内の任意の値を指定できます。</span><span class="sxs-lookup"><span data-stu-id="af10e-245">If the `timezone_hour` is zero, the s`timezone_minute` may have any value in the range -59 through +59.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="af10e-246">参照</span><span class="sxs-lookup"><span data-stu-id="af10e-246">See Also</span></span>  
 [<span data-ttu-id="af10e-247">ODBC&#41;&#40;の日付と時刻の改善</span><span class="sxs-lookup"><span data-stu-id="af10e-247">Date and Time Improvements &#40;ODBC&#41;</span></span>](date-and-time-improvements-odbc.md)  
  
  
