---
title: SQL レプリケーションのスナップショットの初期化オプションを変更する | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- snapshot replication [SQL Server], options
- snapshots [SQL Server replication], options
ms.assetid: 759fab42-66c7-4541-a7a3-bb6fb868493c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 946d9035730512a626e710b1140a1ba01290908a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87716242"
---
# <a name="modify-snapshot-initialization-options-for-sql-replication"></a><span data-ttu-id="caec6-102">SQL レプリケーションのスナップショットの初期化オプションを変更する</span><span class="sxs-lookup"><span data-stu-id="caec6-102">Modify Snapshot Initialization Options for SQL Replication</span></span>

<span data-ttu-id="caec6-103">この記事では、[スナップショットを使用してサブスクリプションを初期化](initialize-a-subscription-with-a-snapshot.md)するときに、いくつかのオプションを変更する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="caec6-103">This article discusses how to modify a number of options when [initializing a subscription with a snapshot](initialize-a-subscription-with-a-snapshot.md).</span></span>

## <a name="snapshot-format"></a><span data-ttu-id="caec6-104">スナップショットの形式</span><span class="sxs-lookup"><span data-stu-id="caec6-104">Snapshot Format</span></span>
  <span data-ttu-id="caec6-105">スナップショットの形式は、 **[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスの **[スナップショット]** ページで指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-105">Specify snapshot format on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="caec6-106">このダイアログ ボックスへのアクセス方法の詳細については、「[パブリケーション プロパティの表示および変更](publish/view-and-modify-publication-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-106">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  

1.  <span data-ttu-id="caec6-107">**[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスの **[スナップショット]** ページで、 **[ネイティブ SQL Server - サブスクライバーはすべて SQL Server を実行しているサーバーである必要があります]** または **[文字 - パブリッシャーまたはサブスクライバーで SQL Server が実行されていない場合は必須]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="caec6-107">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box, select **Native SQL Server - all Subscribers must be servers running SQL Server** or **Character - required if a Publisher or Subscriber is not running SQL Server**.</span></span> 

    > [!NOTE]  
    >  <span data-ttu-id="caec6-108">このパブリケーションで [!INCLUDE[ssEW](../../../includes/ssew-md.md)] データベースまたは[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 以外のデータベースへのサブスクリプションをサポートする必要がある場合を除き、ネイティブ形式を選択することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="caec6-108">It is recommended to select the native format unless this publication must support subscriptions to a [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database or a non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span>    
1.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  

## <a name="snapshot-folder-locations"></a><span data-ttu-id="caec6-109">スナップショットフォルダーの場所</span><span class="sxs-lookup"><span data-stu-id="caec6-109">Snapshot folder locations</span></span>

### <a name="default-snapshot-location"></a><span data-ttu-id="caec6-110">既定のスナップショットの場所</span><span class="sxs-lookup"><span data-stu-id="caec6-110">Default snapshot location</span></span>
<span data-ttu-id="caec6-111">既定のスナップショットの場所を指定します (SQL Server Management Studio)。ディストリビューションの構成ウィザードの [**スナップショットフォルダー** ] ページで、既定のスナップショットの場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-111">Specify the Default Snapshot Location (SQL Server Management Studio) Specify the default snapshot location on the **Snapshot Folder** page of the Configure Distribution Wizard.</span></span> <span data-ttu-id="caec6-112">ウィザードの使用の詳細については、「[パブリッシングおよびディストリビューションの構成](configure-publishing-and-distribution.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-112">For more information about using this wizard, see [Configure Publishing and Distribution](configure-publishing-and-distribution.md).</span></span> <span data-ttu-id="caec6-113">ディストリビューターとして構成されていないサーバーでパブリケーションを作成する場合は、パブリケーションの新規作成ウィザードの **[スナップショット フォルダー]** ページで既定のスナップショットの場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-113">If you create a publication on a server that is not configured as a Distributor, specify a default snapshot location on the **Snapshot Folder** page of the New Publication Wizard.</span></span> <span data-ttu-id="caec6-114">このウィザードの使用の詳細については、「[パブリケーションの作成](publish/create-a-publication.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-114">For more information about using this wizard, see [Create a Publication](publish/create-a-publication.md).</span></span>  
  
 <span data-ttu-id="caec6-115">**[ディストリビューターのプロパティ - \<Distributor>]** ダイアログ ボックスの **[パブリッシャー]** ページで、既定のスナップショットの場所を変更します。</span><span class="sxs-lookup"><span data-stu-id="caec6-115">Modify the default snapshot location on the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box.</span></span> <span data-ttu-id="caec6-116">詳細については、「[ディストリビューターとパブリッシャーのプロパティの表示および変更](view-and-modify-distributor-and-publisher-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-116">For more information, see [View and Modify Distributor and Publisher Properties](view-and-modify-distributor-and-publisher-properties.md).</span></span> <span data-ttu-id="caec6-117">**[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスで、各パブリケーションのスナップショット フォルダーを設定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-117">Set the snapshot folder for each publication in the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="caec6-118">詳しくは、「 [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="caec6-118">For more information, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="modify-the-default-snapshot-location"></a><span data-ttu-id="caec6-119">既定のスナップショットの場所の変更</span><span class="sxs-lookup"><span data-stu-id="caec6-119">Modify the default snapshot location</span></span>  
  
1.  <span data-ttu-id="caec6-120">**[ディストリビューターのプロパティ - \<Distributor>]** ダイアログ ボックスの **[パブリッシャー]** ページで、既定のスナップショットの場所を変更するパブリッシャーのプロパティ ボタン ( **[...]** ) をクリックします。</span><span class="sxs-lookup"><span data-stu-id="caec6-120">On the **Publishers** page of the **Distributor Properties - \<Distributor>** dialog box, click the properties button (**...**) for the Publisher for which you want to change the default snapshot location.</span></span>    
2.  <span data-ttu-id="caec6-121">**[パブリッシャーのプロパティ - \<Publisher>]** ダイアログ ボックスで、 **[既定のスナップショット フォルダー]** プロパティの値を入力します。</span><span class="sxs-lookup"><span data-stu-id="caec6-121">In the **Publisher Properties - \<Publisher>** dialog box, enter a value for the **Default Snapshot Folder** property.</span></span>

    > [!NOTE]  
    >  <span data-ttu-id="caec6-122">スナップショット エージェントには、指定したディレクトリに対する書き込み権限が必要です。また、ディストリビューション エージェントまたはマージ エージェントには、読み取り権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="caec6-122">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="caec6-123">プル サブスクリプションを使用する場合は、共有ディレクトリを UNC (汎用名前付け規則) パス (\\\computername\snapshot など) で指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-123">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="caec6-124">詳細については、「[Secure the Snapshot Folder](security/secure-the-snapshot-folder.md)」(スナップショット フォルダーのセキュリティ保護) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="caec6-124">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>    
1.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  

### <a name="alternate-snapshot-location"></a><span data-ttu-id="caec6-125">スナップショットの代替位置</span><span class="sxs-lookup"><span data-stu-id="caec6-125">Alternate snapshot location</span></span>
  <span data-ttu-id="caec6-126">[**パブリケーションのプロパティ- \<Publication> \*\* ] ダイアログボックスの [**スナップショット\*\*] ページで、代替スナップショットの場所を指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-126">Specify an alternate snapshot location on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="caec6-127">このダイアログ ボックスへのアクセス方法の詳細については、「[パブリケーション プロパティの表示および変更](publish/view-and-modify-publication-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-127">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span> 

  
#### <a name="specify-an-alternate-snapshot-location"></a><span data-ttu-id="caec6-128">代替スナップショットの場所を指定する</span><span class="sxs-lookup"><span data-stu-id="caec6-128">Specify an alternate snapshot location</span></span>  
  
1.  <span data-ttu-id="caec6-129">**[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスの **[スナップショット]** ページで、以下の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="caec6-129">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>    
    1.  <span data-ttu-id="caec6-130">**[ファイルを次のフォルダーに保存する]** チェック ボックスをオンにし、 **[参照]** をクリックしてディレクトリに移動するか、スナップショット ファイルの格納先ディレクトリへのパスを入力します。</span><span class="sxs-lookup"><span data-stu-id="caec6-130">Select **Put files in the following folder**, and then click **Browse** to navigate to a directory, or enter the path to the directory in which the snapshot files should be stored.</span></span>    

        > [!NOTE]  
        >  <span data-ttu-id="caec6-131">スナップショット エージェントには、指定したディレクトリに対する書き込み権限が必要です。また、ディストリビューション エージェントまたはマージ エージェントには、読み取り権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="caec6-131">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="caec6-132">プル サブスクリプションを使用する場合は、共有ディレクトリを UNC (汎用名前付け規則) パス (\\\computername\snapshot など) で指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-132">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="caec6-133">詳細については、「[Secure the Snapshot Folder](security/secure-the-snapshot-folder.md)」(スナップショット フォルダーのセキュリティ保護) をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="caec6-133">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>    
    <span data-ttu-id="caec6-134">a.</span><span class="sxs-lookup"><span data-stu-id="caec6-134">a.</span></span>  <span data-ttu-id="caec6-135">スナップショット ファイルを既定のフォルダーにも書き込む必要がない限り、 **[ファイルを既定のフォルダーに保存する]** チェック ボックスはオフにしてください。</span><span class="sxs-lookup"><span data-stu-id="caec6-135">Clear **Put files in the default folder** unless you require snapshot files to be written to both locations.</span></span>    
     <span data-ttu-id="caec6-136">スナップショット ファイルを圧縮するには、 **[スナップショット ファイルをこのフォルダーに圧縮]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="caec6-136">To compress the snapshot files, select **Compress snapshot files in this location**.</span></span> <span data-ttu-id="caec6-137">圧縮は通常、低帯域幅接続を使用する場合や、スナップショットの代替位置をリムーバブル メディア (CD-ROM など) にする場合に使用します。</span><span class="sxs-lookup"><span data-stu-id="caec6-137">Compression is typically used for low bandwidth connections and alternate snapshot locations on removable media, such as a CD-ROM.</span></span>    
1.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]   


## <a name="compress-snapshot-files"></a><span data-ttu-id="caec6-138">スナップショットファイルを圧縮する</span><span class="sxs-lookup"><span data-stu-id="caec6-138">Compress snapshot files</span></span>
<span data-ttu-id="caec6-139">[**パブリケーションのプロパティ- \<Publication> \*\* ] ダイアログボックスの [**スナップショット\*\*] ページでファイルを圧縮することを指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-139">Specify that files should be compressed on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="caec6-140">このダイアログ ボックスへのアクセス方法の詳細については、「[パブリケーション プロパティの表示および変更](publish/view-and-modify-publication-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-140">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  
  
1.  <span data-ttu-id="caec6-141">**[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスの **[スナップショット]** ページで、以下の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="caec6-141">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>  
  
    1.  <span data-ttu-id="caec6-142">**[ファイルを次のフォルダーに保存する]** チェック ボックスをオンにし、 **[参照]** をクリックしてディレクトリに移動するか、スナップショット ファイルの格納先ディレクトリへのパスを入力します。</span><span class="sxs-lookup"><span data-stu-id="caec6-142">Select **Put files in the following folder**, and then click **Browse** to navigate to a directory, or enter the path to the directory in which the snapshot files should be stored.</span></span>    
        > [!NOTE]  
        >  <span data-ttu-id="caec6-143">スナップショット エージェントには、指定したディレクトリに対する書き込み権限が必要です。また、ディストリビューション エージェントまたはマージ エージェントには、読み取り権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="caec6-143">The Snapshot Agent must have write permissions for the directory you specify, and the Distribution Agent or Merge Agent must have read permissions.</span></span> <span data-ttu-id="caec6-144">プル サブスクリプションを使用する場合は、共有ディレクトリを UNC (汎用名前付け規則) パス (\\\computername\snapshot など) で指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-144">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\snapshot.</span></span> <span data-ttu-id="caec6-145">詳細については、「[Secure the Snapshot Folder (スナップショット フォルダーのセキュリティ保護)](security/secure-the-snapshot-folder.md)」をご覧ください</span><span class="sxs-lookup"><span data-stu-id="caec6-145">For more information, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md)</span></span>  
  
    2.  <span data-ttu-id="caec6-146">スナップショット ファイルを既定のフォルダーにも書き込む必要がない限り、 **[ファイルを既定のフォルダーに保存する]** チェック ボックスはオフにしてください。</span><span class="sxs-lookup"><span data-stu-id="caec6-146">Clear **Put files in the default folder** unless you require snapshot files to be written to both locations.</span></span>    
        > [!NOTE]  
        >  <span data-ttu-id="caec6-147">このチェック ボックスをオンにした場合、既定のフォルダーに格納されたファイルは圧縮されません。</span><span class="sxs-lookup"><span data-stu-id="caec6-147">If this check box is selected, the files stored in the default folder are not compressed.</span></span> <span data-ttu-id="caec6-148">圧縮されたファイルは、上記の手順で別途指定した場所にのみ格納できます。</span><span class="sxs-lookup"><span data-stu-id="caec6-148">Compressed files can only be stored in the alternate location specified in the previous step.</span></span>    
2.  <span data-ttu-id="caec6-149">**[スナップショット ファイルをこのフォルダーに圧縮]** チェック ボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="caec6-149">Select **Compress snapshot files in this folder**.</span></span>    
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  

## <a name="execute-scripts-before-and-after-snapshot-is-applied"></a><span data-ttu-id="caec6-150">スナップショットが適用される前および後のスクリプトの実行</span><span class="sxs-lookup"><span data-stu-id="caec6-150">Execute scripts before and after snapshot is applied</span></span>

 <span data-ttu-id="caec6-151">スナップショットが適用される前または後に、スクリプトを指定してサブスクライバーで実行できます。</span><span class="sxs-lookup"><span data-stu-id="caec6-151">You can specify scripts to execute at the Subscriber before or after the snapshot is applied.</span></span> <span data-ttu-id="caec6-152">スクリプトは、各サブスクライバーでのログインの作成やスキーマ (オブジェクト所有者) の作成など、さまざまな理由で使用できます。</span><span class="sxs-lookup"><span data-stu-id="caec6-152">Scripts can be used for a variety of reasons, such as creating logins and schemas (object owners) at each Subscriber.</span></span>  
  
 <span data-ttu-id="caec6-153">各スクリプトに対してファイルの場所を指定すると、スナップショットの処理が行われるたびに、スナップショット エージェントはスクリプト ファイルを現在のスナップショット フォルダーにコピーします。</span><span class="sxs-lookup"><span data-stu-id="caec6-153">You specify a file location for each script, and the Snapshot Agent copies the script files to the current snapshot folder each time snapshot processing occurs.</span></span> <span data-ttu-id="caec6-154">ディストリビューション エージェントまたはマージ エージェントは、スナップショットを適用するときに、レプリケートされたオブジェクト スクリプトの前にプリスナップショット スクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="caec6-154">The Distribution Agent or the Merge Agent runs the pre-snapshot script before any of the replicated object scripts when applying a snapshot.</span></span> <span data-ttu-id="caec6-155">ディストリビューション エージェントまたはマージ エージェントは、他のすべてのレプリケートされたオブジェクト スクリプトおよびデータが適用された後にポストスナップショット スクリプトを実行します。</span><span class="sxs-lookup"><span data-stu-id="caec6-155">The Distribution Agent or the Merge Agent runs the post-snapshot script after all the other replicated object scripts and data have been applied.</span></span> <span data-ttu-id="caec6-156">スナップショットの適用が完了し、スクリプト ファイルが正常に実行された後、スクリプト ファイルはサブスクライバー上の作業ディレクトリから削除されます。</span><span class="sxs-lookup"><span data-stu-id="caec6-156">After the snapshot application is complete and script files run successfully, the script files are removed from the working directory on the Subscriber.</span></span>  
  
 <span data-ttu-id="caec6-157">スクリプトは、 **sqlcmd** ユーティリティを起動することで実行されます。</span><span class="sxs-lookup"><span data-stu-id="caec6-157">The script is run by launching the **sqlcmd** utility.</span></span> <span data-ttu-id="caec6-158">スクリプトを配置する前に、 **sqlcmd** を使用して実行し、想定どおりに実行されることを確認します。</span><span class="sxs-lookup"><span data-stu-id="caec6-158">Before deploying a script, run it with **sqlcmd** to ensure it executes as expected.</span></span> <span data-ttu-id="caec6-159">スナップショットが適用される前後に実行されるスクリプトの内容は、繰り返し使用できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-159">The contents of scripts that are executed before and after the snapshot is applied must be repeatable.</span></span> <span data-ttu-id="caec6-160">たとえば、スクリプト内でテーブルを作成する場合、最初にテーブルの存在を確認し、そのテーブルが存在する場合に適切な動作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-160">For example, if you create a table in the script, you should first check for its existence and take appropriate action if it exists.</span></span> <span data-ttu-id="caec6-161">既にスクリプトが適用されているサブスクリプションを再初期化する必要がある場合、スクリプトは繰り返し使用できる必要があります。再初期化中に新しいスナップショットを適用すると、そのスクリプトが再度適用されるためです。</span><span class="sxs-lookup"><span data-stu-id="caec6-161">The script must be repeatable because if you need to reinitialize a subscription for which the script has already been applied, the script will be applied again when the new snapshot is applied during reinitialization.</span></span>  
  
 <span data-ttu-id="caec6-162">スナップショット ファイルを圧縮し、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] CAB ファイル形式にする場合は、スクリプトも圧縮され、CAB ファイルに格納されます。</span><span class="sxs-lookup"><span data-stu-id="caec6-162">If you are compressing the snapshot file (by putting it in [!INCLUDE[msCoName](../../includes/msconame-md.md)] CAB file format), the scripts are also compressed and placed in the CAB file.</span></span> <span data-ttu-id="caec6-163">圧縮スナップショット ファイルがサブスクライバーに転送され、サブスクライバー上の作業ディレクトリで圧縮解除された後は、プリスナップショット スクリプトとして指定されたスクリプトが実行されます。</span><span class="sxs-lookup"><span data-stu-id="caec6-163">After the compressed snapshot file is transferred to the Subscriber and decompressed to a working directory on the Subscriber, any script indicated as a pre-snapshot script is executed.</span></span> <span data-ttu-id="caec6-164">同じように、ポストスナップショット スクリプトは、スナップショット適用の最後のステップとしてサブスクライバーで解凍および実行されます。</span><span class="sxs-lookup"><span data-stu-id="caec6-164">Likewise, any post-snapshot script is decompressed and executed at the Subscriber as the last step in applying the snapshot.</span></span>  

### <a name="execute-a-script-before-or-after-a-snapshot-is-applied"></a><span data-ttu-id="caec6-165">スナップショットが適用される前または後にスクリプトを実行する</span><span class="sxs-lookup"><span data-stu-id="caec6-165">Execute a script before or after a snapshot is applied</span></span>  
 <span data-ttu-id="caec6-166">[**パブリケーションのプロパティ- \<Publication> \*\* ] ダイアログボックスの [**スナップショット\*\*] ページで、スナップショットを適用する前または後に実行するオプションのスクリプトを指定します。</span><span class="sxs-lookup"><span data-stu-id="caec6-166">Specify an optional script to execute before or after the snapshot is applied on the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="caec6-167">このダイアログ ボックスへのアクセス方法の詳細については、「[パブリケーション プロパティの表示および変更](publish/view-and-modify-publication-properties.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="caec6-167">For more information about accessing this dialog box, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  


1.  <span data-ttu-id="caec6-168">**[パブリケーションのプロパティ - \<Publication>]** ダイアログ ボックスの **[スナップショット]** ページで、以下の操作を実行します。</span><span class="sxs-lookup"><span data-stu-id="caec6-168">On the **Snapshot** page of the **Publication Properties - \<Publication>** dialog box:</span></span>    
    -   <span data-ttu-id="caec6-169">スナップショット適用前に実行するスクリプトを指定するには、 **[参照]** をクリックしてスクリプトに移動するか、 **[スナップショットの適用前に以下のスクリプトを実行]** ボックスにスクリプトへのパスを入力します。</span><span class="sxs-lookup"><span data-stu-id="caec6-169">To specify a script to execute before the snapshot is applied, click **Browse** to navigate to the script, or enter a path to the script in the **Before applying the snapshot, execute this script** text box.</span></span> 
   
        > [!NOTE]  
        >  <span data-ttu-id="caec6-170">ディストリビューション エージェントまたはマージ エージェントは、指定するディレクトリに対し、読み取り権限を持つ必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-170">The Distribution Agent or Merge Agent must have read permissions for the directory you specify.</span></span> <span data-ttu-id="caec6-171">プル サブスクリプションを使用する場合は、共有ディレクトリを UNC (汎用名前付け規則) パス (\\\computername\scripts\myscript.sql など) で指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="caec6-171">If pull subscriptions are used, you must specify a shared directory as a universal naming convention (UNC) path, such as \\\computername\scripts\myscript.sql.</span></span>    
    -   <span data-ttu-id="caec6-172">スナップショット適用後に実行するスクリプトを指定するには、 **[参照]** をクリックしてスクリプトに移動するか、 **[スナップショットの適用後に以下のスクリプトを実行]** ボックスにスクリプトへの UNC パスを入力します。</span><span class="sxs-lookup"><span data-stu-id="caec6-172">To specify a script to execute after the snapshot is applied, click **Browse** to navigate to the script, or enter a UNC path to the script in the **After applying the snapshot, execute this script** text box.</span></span>    
2.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
  
  
