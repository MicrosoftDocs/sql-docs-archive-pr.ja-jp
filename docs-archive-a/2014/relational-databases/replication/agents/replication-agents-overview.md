---
title: レプリケーション エージェントの概要 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Distribution Agent
- agents [SQL Server replication]
- Queue Reader Agent, about Queue Reader Agent
- Queue Reader Agent
- Merge Agent, about Merge Agent
- Log Reader Agent, about Log Reader Agent
- replication [SQL Server], agents and profiles
- Log Reader Agent
- Distribution Agent, about Distribution Agent
- agents [SQL Server replication], about agents
- Merge Agent
- Snapshot Agent, about Snapshot Agent
- Snapshot Agent
ms.assetid: a35ecd7d-f130-483c-87e3-ddc8927bb91b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 9eea7f24fe9350aeb815a5af9dd4e2e1c0dce607
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87634412"
---
# <a name="replication-agents-overview"></a><span data-ttu-id="e8462-102">レプリケーション エージェントの概要</span><span class="sxs-lookup"><span data-stu-id="e8462-102">Replication Agents Overview</span></span>
  <span data-ttu-id="e8462-103">レプリケーションでは、エージェントと呼ばれる多数のスタンドアロン プログラムを使用して、変更の監視やデータの配信に関連するタスクを実行します。</span><span class="sxs-lookup"><span data-stu-id="e8462-103">Replication uses a number of standalone programs, called agents, to carry out the tasks associated with tracking changes and distributing data.</span></span> <span data-ttu-id="e8462-104">既定では、レプリケーション エージェントは [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] エージェントでスケジュールされたジョブとして実行されるため、ジョブを実行するためには [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] エージェントが実行中であることが必要です。</span><span class="sxs-lookup"><span data-stu-id="e8462-104">By default, replication agents run as jobs scheduled under [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent must be running for the jobs to run.</span></span> <span data-ttu-id="e8462-105">レプリケーション エージェントはコマンド ラインから実行することも、レプリケーション管理オブジェクト (RMO) を使用するアプリケーションから実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="e8462-105">Replication agents can also be run from the command line and by applications that use Replication Management Objects (RMO).</span></span> <span data-ttu-id="e8462-106">レプリケーション エージェントは、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] レプリケーション モニターおよび [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]から管理できます。</span><span class="sxs-lookup"><span data-stu-id="e8462-106">Replication agents can be administered from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Monitor and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span>  
  
## <a name="sql-server-agent"></a><span data-ttu-id="e8462-107">SQL Server エージェント</span><span class="sxs-lookup"><span data-stu-id="e8462-107">SQL Server Agent</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e8462-108">エージェントでは、レプリケーションで使用するエージェントをホストし、スケジュールを設定することによって、レプリケーション エージェントを簡単に実行できるようになっています。</span><span class="sxs-lookup"><span data-stu-id="e8462-108">Agent hosts and schedules the agents used in replication and provides an easy way to run replication agents.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e8462-109">エージェントは、レプリケーション以外の操作も管理および監視します。</span><span class="sxs-lookup"><span data-stu-id="e8462-109">Agent also controls and monitors operations outside of replication.</span></span> <span data-ttu-id="e8462-110">詳細については、「 [Configure SQL Server Agent](../../../ssms/agent/sql-server-agent.md)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="e8462-110">For more information, see [Configure SQL Server Agent](../../../ssms/agent/sql-server-agent.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e8462-111">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] のインストール時に、サービスがインストール中に自動開始されるように明示的に選択しない限り、 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] エージェント サービスは既定で無効になります。</span><span class="sxs-lookup"><span data-stu-id="e8462-111">By default, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service is disabled when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed unless you explicitly choose to autostart the service during installation.</span></span> <span data-ttu-id="e8462-112">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] エージェント サービスを開始する方法の詳細については、「[SQL Server エージェント サービスの開始、停止、または一時停止](../../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-112">For more information about starting the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service, see [Start, Stop, or Pause the SQL Server Agent Service](../../../ssms/agent/start-stop-or-pause-the-sql-server-agent-service.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="e8462-113">スナップショット エージェント</span><span class="sxs-lookup"><span data-stu-id="e8462-113">Snapshot Agent</span></span>  
 <span data-ttu-id="e8462-114">スナップショット エージェントは、一般的にすべての種類のレプリケーションで使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-114">The Snapshot Agent is typically used with all types of replication.</span></span> <span data-ttu-id="e8462-115">スナップショット エージェントは、パブリッシュされたテーブルやその他のオブジェクトのスキーマと初期データ ファイルを作成し、スナップショット ファイルを格納して、同期に関する情報をディストリビューション データベースに記録します。</span><span class="sxs-lookup"><span data-stu-id="e8462-115">It prepares schema and initial data files of published tables and other objects, stores the snapshot files, and records information about synchronization in the distribution database.</span></span> <span data-ttu-id="e8462-116">スナップショット エージェントはディストリビューター側で実行されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-116">The Snapshot Agent runs at the Distributor.</span></span> <span data-ttu-id="e8462-117">詳細については、「 [Replication Snapshot Agent](replication-snapshot-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-117">For more information, see [Replication Snapshot Agent](replication-snapshot-agent.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="e8462-118">ログ リーダー エージェント (Log Reader Agent)</span><span class="sxs-lookup"><span data-stu-id="e8462-118">Log Reader Agent</span></span>  
 <span data-ttu-id="e8462-119">ログ リーダー エージェントは、トランザクション レプリケーションで使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-119">The Log Reader Agent is used with transactional replication.</span></span> <span data-ttu-id="e8462-120">レプリケーションとしてマークが付けられたトランザクションを、パブリッシャーのトランザクション ログから、ディストリビューション データベースに移動します。</span><span class="sxs-lookup"><span data-stu-id="e8462-120">It moves transactions marked for replication from the transaction log on the Publisher to the distribution database.</span></span> <span data-ttu-id="e8462-121">トランザクション レプリケーションを使用してパブリッシュされた各データベースには、ディストリビューター上で実行され、パブリッシャーに接続する独自のログ リーダー エージェントがあります (ディストリビューターはパブリッシャーと同じコンピューター上に存在していてもかまいません)。</span><span class="sxs-lookup"><span data-stu-id="e8462-121">Each database published using transactional replication has its own Log Reader Agent that runs on the Distributor and connects to the Publisher (the Distributor can be on the same computer as the Publisher).</span></span> <span data-ttu-id="e8462-122">詳細については、「 [Replication Log Reader Agent](replication-log-reader-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-122">For more information, see [Replication Log Reader Agent](replication-log-reader-agent.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="e8462-123">ディストリビューション エージェント</span><span class="sxs-lookup"><span data-stu-id="e8462-123">Distribution Agent</span></span>  
 <span data-ttu-id="e8462-124">ディストリビューション エージェントは、スナップショット レプリケーション、およびトランザクション レプリケーションで使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-124">The Distribution Agent is used with snapshot replication and transactional replication.</span></span> <span data-ttu-id="e8462-125">ディストリビューション エージェントは初期スナップショットをサブスクライバーに適用し、ディストリビューション データベースに保持されているトランザクションをサブスクライバーに移動します。</span><span class="sxs-lookup"><span data-stu-id="e8462-125">It applies the initial snapshot to the Subscriber and moves transactions held in the distribution database to Subscribers.</span></span> <span data-ttu-id="e8462-126">ディストリビューション エージェントは、プッシュ サブスクリプションの場合はディストリビューターで実行され、プル サブスクリプションの場合はサブスクライバーで実行されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-126">The Distribution Agent runs at either the Distributor for push subscriptions or at the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="e8462-127">詳細については、「 [Replication Distribution Agent](replication-distribution-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-127">For more information, see [Replication Distribution Agent](replication-distribution-agent.md).</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="e8462-128">[マージ エージェント]</span><span class="sxs-lookup"><span data-stu-id="e8462-128">Merge Agent</span></span>  
 <span data-ttu-id="e8462-129">マージ エージェントは、マージ レプリケーションで使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-129">The Merge Agent is used with merge replication.</span></span> <span data-ttu-id="e8462-130">マージ エージェントは、初期スナップショットをサブスクライバーに適用し、データの増分変更を移動および調整します。</span><span class="sxs-lookup"><span data-stu-id="e8462-130">It applies the initial snapshot to the Subscriber and moves and reconciles incremental data changes that occur.</span></span> <span data-ttu-id="e8462-131">マージ サブスクリプションごとにマージ エージェントがあり、パブリッシャーとサブスクライバーの両方に接続し、両方を更新します。</span><span class="sxs-lookup"><span data-stu-id="e8462-131">Each merge subscription has its own Merge Agent that connects to both the Publisher and the Subscriber and updates both.</span></span> <span data-ttu-id="e8462-132">マージ エージェントは、プッシュ サブスクリプションの場合はディストリビューターで実行され、プル サブスクリプションの場合はサブスクライバーで実行されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-132">The Merge Agent runs at either the Distributor for push subscriptions or the Subscriber for pull subscriptions.</span></span> <span data-ttu-id="e8462-133">既定では、マージ エージェントはサブスクライバーからパブリッシャーに変更をアップロードし、パブリッシャーからサブスクライバーに変更をダウンロードします。</span><span class="sxs-lookup"><span data-stu-id="e8462-133">By default, the Merge Agent uploads changes from the Subscriber to the Publisher and then downloads changes from the Publisher to the Subscriber.</span></span> <span data-ttu-id="e8462-134">詳細については、「 [Replication Merge Agent](replication-merge-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-134">For more information, see [Replication Merge Agent](replication-merge-agent.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="e8462-135">キュー リーダー エージェント (Queue Reader Agent)</span><span class="sxs-lookup"><span data-stu-id="e8462-135">Queue Reader Agent</span></span>  
 <span data-ttu-id="e8462-136">キュー リーダー エージェントは、キュー更新オプションによるトランザクション レプリケーションで使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8462-136">The Queue Reader Agent is used with transactional replication with the queued updating option.</span></span> <span data-ttu-id="e8462-137">このエージェントはディストリビューターで実行され、サブスクライバーで行われた変更をパブリッシャーに戻します。</span><span class="sxs-lookup"><span data-stu-id="e8462-137">The agent runs at the Distributor and moves changes made at the Subscriber back to the Publisher.</span></span> <span data-ttu-id="e8462-138">ディストリビューション エージェントやマージ エージェントとは異なり、キュー リーダー エージェントは 1 つのインスタンスだけで、ディストリビューション データベースのすべてのパブリッシャーおよびパブリケーションに対応します。</span><span class="sxs-lookup"><span data-stu-id="e8462-138">Unlike the Distribution Agent and the Merge Agent, only one instance of the Queue Reader Agent exists to service all Publishers and publications for a given distribution database.</span></span> <span data-ttu-id="e8462-139">キュー リーダー エージェントの詳細については、「 [Replication Queue Reader Agent](replication-queue-reader-agent.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-139">For more information about the Queue Reader Agent, see [Replication Queue Reader Agent](replication-queue-reader-agent.md).</span></span> <span data-ttu-id="e8462-140">更新可能なサブスクリプションの詳細については、「 [Updatable Subscriptions for Transactional Replication](../transactional/updatable-subscriptions-for-transactional-replication.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-140">For more information about updatable subscriptions, see [Updatable Subscriptions for Transactional Replication](../transactional/updatable-subscriptions-for-transactional-replication.md).</span></span>  
  
## <a name="replication-maintenance-jobs"></a><span data-ttu-id="e8462-141">レプリケーション メンテナンス ジョブ</span><span class="sxs-lookup"><span data-stu-id="e8462-141">Replication Maintenance Jobs</span></span>  
 <span data-ttu-id="e8462-142">レプリケーションには、定期的なメンテナンスや要求時メンテナンスを実行する多数のメンテナンス ジョブがあります。</span><span class="sxs-lookup"><span data-stu-id="e8462-142">Replication has a number of maintenance jobs that perform scheduled and on-demand maintenance.</span></span> <span data-ttu-id="e8462-143">詳細については、「[Replication Agent Administration](replication-agent-administration.md)」 (レプリケーション エージェントの管理) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8462-143">For more information, see [Replication Agent Administration](replication-agent-administration.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e8462-144">参照</span><span class="sxs-lookup"><span data-stu-id="e8462-144">See Also</span></span>  
 <span data-ttu-id="e8462-145">[レプリケーション エージェントを起動および停止する &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="e8462-145">[Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="e8462-146">[レプリケーション メンテナンス ジョブの実行 &#40;SQL Server Management Studio&#41;](../administration/run-replication-maintenance-jobs-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="e8462-146">[Run Replication Maintenance Jobs &#40;SQL Server Management Studio&#41;](../administration/run-replication-maintenance-jobs-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="e8462-147">[レプリケーション エージェント実行可能ファイルの概念](../concepts/replication-agent-executables-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="e8462-147">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md) </span></span>  
 [<span data-ttu-id="e8462-148">レプリケーション エージェントの管理</span><span class="sxs-lookup"><span data-stu-id="e8462-148">Replication Agent Administration</span></span>](replication-agent-administration.md)  
  
  
