---
title: 拡張イベントのツール | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xevents
ms.topic: conceptual
helpviewer_keywords:
- extended events [SQL Server], using
- extended events [SQL Server], options for using
ms.assetid: d312a9ff-50ba-4721-baef-50bfd3169d38
author: rothja
ms.author: jroth
ms.openlocfilehash: 7a74080352beeda4f92ad6afa7b8266a8ebee5a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87645603"
---
# <a name="extended-events-tools"></a><span data-ttu-id="a05f4-102">拡張イベントのツール</span><span class="sxs-lookup"><span data-stu-id="a05f4-102">Extended Events Tools</span></span>
  <span data-ttu-id="a05f4-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 拡張イベント セッションの作成と管理には、次のツールを使用できます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-103">You can use the following tools to create and manage [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Extended Events sessions:</span></span>  
  
-   <span data-ttu-id="a05f4-104">データ定義言語 (DDL) ステートメント。</span><span class="sxs-lookup"><span data-stu-id="a05f4-104">Data Definition Language (DDL) statements.</span></span> <span data-ttu-id="a05f4-105">拡張イベント セッションの作成および変更に使用できます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-105">These enable you to create and modify an Extended Events session.</span></span>  
  
-   <span data-ttu-id="a05f4-106">動的管理ビュー、カタログ ビュー、およびシステム テーブル。</span><span class="sxs-lookup"><span data-stu-id="a05f4-106">Dynamic management views, catalog views and system tables.</span></span> <span data-ttu-id="a05f4-107">[!INCLUDE[tsql](../../includes/tsql-md.md)] ステートメントを使用して、セッション データやメタデータを取得することができます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-107">These enable you to obtain session data and metadata by using [!INCLUDE[tsql](../../includes/tsql-md.md)] statements.</span></span> <span data-ttu-id="a05f4-108">システム テーブルを使用すると、SQL トレース イベントのクラスや列と等価な既存の拡張イベントを特定できます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-108">The system tables help you determine the existing Extended Events equivalents for SQL Trace event classes and columns.</span></span>  
  
-   <span data-ttu-id="a05f4-109">オブジェクト エクスプローラーの **[拡張イベント]** ノード。</span><span class="sxs-lookup"><span data-stu-id="a05f4-109">The **Extended Events** node of Object Explorer.</span></span> <span data-ttu-id="a05f4-110">セッションの開始、停止、削除のほか、セッション テンプレートのインポートとエクスポートを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-110">This enables you to start, stop or delete a session, or to import and export session templates.</span></span>  
  
-   <span data-ttu-id="a05f4-111">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell プロバイダー。</span><span class="sxs-lookup"><span data-stu-id="a05f4-111">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell provider.</span></span> <span data-ttu-id="a05f4-112">拡張イベント セッションの作成、変更、および管理に使用できる強力なツールです。</span><span class="sxs-lookup"><span data-stu-id="a05f4-112">This is a powerful tool that you can use to create, alter, and manage Extended Events sessions.</span></span> <span data-ttu-id="a05f4-113">詳細については、「 [拡張イベントへの PowerShell プロバイダーの使用](use-the-powershell-provider-for-extended-events.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a05f4-113">For more information, see [Use the PowerShell Provider for Extended Events](use-the-powershell-provider-for-extended-events.md).</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="a05f4-114">.</span><span class="sxs-lookup"><span data-stu-id="a05f4-114">.</span></span> <span data-ttu-id="a05f4-115">拡張イベントのトピックに用意されているコード サンプルを作成し、実行することができます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-115">This enables you to create and execute the code samples that are provided in the Extended Events topics.</span></span> <span data-ttu-id="a05f4-116">詳細については、「 [オブジェクト エクスプローラー](../../ssms/object/object-explorer.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a05f4-116">For more information, see [Object Explorer](../../ssms/object/object-explorer.md).</span></span>  
  
 <span data-ttu-id="a05f4-117">自分が作成したセッション以外にも、サーバーには、既定のシステム正常性セッションが存在します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-117">In addition to sessions that you create, a default system health session exists on the server.</span></span> <span data-ttu-id="a05f4-118">このセッションは、パフォーマンスの問題をトラブルシューティングするのに役立つシステム データを収集します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-118">The session collects system data that you can use to help troubleshoot performance issues.</span></span> <span data-ttu-id="a05f4-119">詳細については、「 [system_health セッションの使用](use-the-ssms-xe-profiler.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a05f4-119">For more information, see [Use the system_health Session](use-the-ssms-xe-profiler.md).</span></span>  
  
## <a name="ddl-statements"></a><span data-ttu-id="a05f4-120">DDL ステートメント</span><span class="sxs-lookup"><span data-stu-id="a05f4-120">DDL Statements</span></span>  
 <span data-ttu-id="a05f4-121">拡張イベント セッションを作成、変更、および削除するには、次の DDL ステートメントを使用します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-121">Use the following DDL statements to create, change, and drop an Extended Events session.</span></span>  
  
|<span data-ttu-id="a05f4-122">名前</span><span class="sxs-lookup"><span data-stu-id="a05f4-122">Name</span></span>|<span data-ttu-id="a05f4-123">説明</span><span class="sxs-lookup"><span data-stu-id="a05f4-123">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="a05f4-124">CREATE EVENT SESSION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-124">CREATE EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-event-session-transact-sql)|<span data-ttu-id="a05f4-125">イベントのソース、イベント セッション ターゲット、およびイベント セッション パラメーターを識別する拡張イベント セッション オブジェクトを作成します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-125">Creates an Extended Event session object that identifies the source of the events, the event session targets, and the event session parameters.</span></span>|  
|[<span data-ttu-id="a05f4-126">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-126">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-event-session-transact-sql)|<span data-ttu-id="a05f4-127">イベント セッションの開始および停止、またはイベント セッションの構成変更を行います。</span><span class="sxs-lookup"><span data-stu-id="a05f4-127">Starts or stops an event session or changes an event session configuration.</span></span>|  
|[<span data-ttu-id="a05f4-128">DROP EVENT SESSION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-128">DROP EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-event-session-transact-sql)|<span data-ttu-id="a05f4-129">イベント セッションを削除します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-129">Drops an event session.</span></span>|  
  
## <a name="catalog-views"></a><span data-ttu-id="a05f4-130">カタログ ビュー</span><span class="sxs-lookup"><span data-stu-id="a05f4-130">Catalog Views</span></span>  
 <span data-ttu-id="a05f4-131">イベント セッションの作成時に作成されたメタデータを取得するには、次のカタログ ビューを使用します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-131">Use the following catalog views to obtain the metadata that is created when you create an event session.</span></span>  
  
|<span data-ttu-id="a05f4-132">名前</span><span class="sxs-lookup"><span data-stu-id="a05f4-132">Name</span></span>|<span data-ttu-id="a05f4-133">説明</span><span class="sxs-lookup"><span data-stu-id="a05f4-133">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="a05f4-134">sys.server_event_sessions &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-134">sys.server_event_sessions &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql)|<span data-ttu-id="a05f4-135">すべてのイベント セッションの定義を一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-135">Lists all event session definitions.</span></span>|  
|[<span data-ttu-id="a05f4-136">sys.server_event_session_actions &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-136">sys.server_event_session_actions &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-server-event-session-actions-transact-sql)|<span data-ttu-id="a05f4-137">イベント セッションの各イベントのアクションごとに 1 行のデータを返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-137">Returns a row for each action on each event of an event session.</span></span>|  
|[<span data-ttu-id="a05f4-138">sys.server_event_session_events &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-138">sys.server_event_session_events &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-server-event-session-events-transact-sql)|<span data-ttu-id="a05f4-139">イベント セッションのイベントごとに行を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-139">Returns a row for each event in an event session.</span></span>|  
|[<span data-ttu-id="a05f4-140">sys.server_event_session_fields &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-140">sys.server_event_session_fields &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-server-event-session-fields-transact-sql)|<span data-ttu-id="a05f4-141">イベントおよびターゲットに明示的に設定されたカスタマイズ可能な列ごとに 1 行のデータを返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-141">Returns a row for each customizable column that was explicitly set on events and targets.</span></span>|  
|[<span data-ttu-id="a05f4-142">sys.server_event_session_targets &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-142">sys.server_event_session_targets &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-server-event-session-targets-transact-sql)|<span data-ttu-id="a05f4-143">イベント セッションのイベント ターゲットごとに 1 行のデータを返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-143">Returns a row for each event target for an event session.</span></span>|  
  
## <a name="dynamic-management-views"></a><span data-ttu-id="a05f4-144">動的管理ビュー</span><span class="sxs-lookup"><span data-stu-id="a05f4-144">Dynamic Management Views</span></span>  
 <span data-ttu-id="a05f4-145">セッション メタデータおよびセッション データを取得するには、次の動的管理ビューを使用します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-145">Use the following dynamic management views to obtain session metadata and session data.</span></span> <span data-ttu-id="a05f4-146">メタデータはカタログ ビューから取得され、セッション データはイベント セッションの開始時と実行時に作成されます。</span><span class="sxs-lookup"><span data-stu-id="a05f4-146">The metadata is obtained from the catalog views, and the session data is created when you start and run an event session.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a05f4-147">これらのビューには、セッションが開始されるまでセッション データは格納されません。</span><span class="sxs-lookup"><span data-stu-id="a05f4-147">These views do not contain session data until a session starts.</span></span>  
  
|<span data-ttu-id="a05f4-148">名前</span><span class="sxs-lookup"><span data-stu-id="a05f4-148">Name</span></span>|<span data-ttu-id="a05f4-149">説明</span><span class="sxs-lookup"><span data-stu-id="a05f4-149">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="a05f4-150">sys.dm_os_dispatcher_pools &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-150">sys.dm_os_dispatcher_pools &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-dispatcher-pools-transact-sql)|<span data-ttu-id="a05f4-151">セッション ディスパッチャー プールに関する情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-151">Returns information about session dispatcher pools.</span></span>|  
|[<span data-ttu-id="a05f4-152">sys.dm_xe_objects &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-152">sys.dm_xe_objects &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-objects-transact-sql)|<span data-ttu-id="a05f4-153">イベント パッケージによって公開されるオブジェクトごとに 1 行のデータを返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-153">Returns a row for each object that is exposed by an event package.</span></span>|  
|[<span data-ttu-id="a05f4-154">sys.dm_xe_object_columns &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-154">sys.dm_xe_object_columns &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-object-columns-transact-sql)|<span data-ttu-id="a05f4-155">すべてのオブジェクトのスキーマ情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-155">Returns the schema information for all the objects.</span></span>|  
|[<span data-ttu-id="a05f4-156">sys.dm_xe_packages &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-156">sys.dm_xe_packages &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-packages-transact-sql)|<span data-ttu-id="a05f4-157">拡張イベント エンジンに登録されているすべてのパッケージを一覧表示します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-157">Lists all the packages registered with the Extended Events engine.</span></span>|  
|[<span data-ttu-id="a05f4-158">sys.dm_xe_sessions &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-158">sys.dm_xe_sessions &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql)|<span data-ttu-id="a05f4-159">アクティブな拡張イベント セッションに関する情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-159">Returns information about an active Extended Events session.</span></span>|  
|[<span data-ttu-id="a05f4-160">sys.dm_xe_session_targets &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-160">sys.dm_xe_session_targets &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-session-targets-transact-sql)|<span data-ttu-id="a05f4-161">セッション ターゲットに関する情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-161">Returns information about session targets.</span></span>|  
|[<span data-ttu-id="a05f4-162">sys.dm_xe_session_events &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-162">sys.dm_xe_session_events &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-session-events-transact-sql)|<span data-ttu-id="a05f4-163">セッション イベントに関する情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-163">Returns information about session events.</span></span>|  
|[<span data-ttu-id="a05f4-164">sys.dm_xe_session_event_actions &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-164">sys.dm_xe_session_event_actions &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-session-event-actions-transact-sql)|<span data-ttu-id="a05f4-165">イベント セッション アクションに関する情報を返します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-165">Returns information about event session actions.</span></span>|  
|[<span data-ttu-id="a05f4-166">sys.dm_xe_map_values &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-166">sys.dm_xe_map_values &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-map-values-transact-sql)|<span data-ttu-id="a05f4-167">内部数値キーをユーザーが判読できるテキストにマッピングします。</span><span class="sxs-lookup"><span data-stu-id="a05f4-167">Provides a mapping of internal numeric keys to human-readable text.</span></span>|  
|[<span data-ttu-id="a05f4-168">sys.dm_xe_session_object_columns &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-168">sys.dm_xe_session_object_columns &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-session-object-columns-transact-sql)|<span data-ttu-id="a05f4-169">セッションにバインドされたオブジェクトの構成値を示します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-169">Shows the configuration values for objects that are bound to a session.</span></span>|  
  
## <a name="system-tables"></a><span data-ttu-id="a05f4-170">システム テーブル</span><span class="sxs-lookup"><span data-stu-id="a05f4-170">System Tables</span></span>  
 <span data-ttu-id="a05f4-171">次のシステム テーブルを使用して、SQL トレース イベントのクラスおよび列と等価な拡張イベントの情報を取得します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-171">Use the following system tables to obtain information about the Extended Events equivalents for SQL Trace event classes and columns.</span></span>  
  
|<span data-ttu-id="a05f4-172">名前</span><span class="sxs-lookup"><span data-stu-id="a05f4-172">Name</span></span>|<span data-ttu-id="a05f4-173">説明</span><span class="sxs-lookup"><span data-stu-id="a05f4-173">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="a05f4-174">trace_xe_event_map &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-174">trace_xe_event_map &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-tables/extended-events-tables-trace-xe-event-map)|<span data-ttu-id="a05f4-175">SQL トレース イベント クラスに割り当てられている拡張イベントのイベントごとに 1 行のデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-175">Contains one row for each Extended Events event that is mapped to a SQL Trace event class.</span></span>|  
|[<span data-ttu-id="a05f4-176">trace_xe_action_map &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a05f4-176">trace_xe_action_map &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-tables/extended-events-tables-trace-xe-action-map)|<span data-ttu-id="a05f4-177">SQL トレース列 ID に割り当てられている拡張イベントのアクションごとに 1 行のデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="a05f4-177">Contains one row for each Extended Events action that is mapped to a SQL Trace column ID.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a05f4-178">参照</span><span class="sxs-lookup"><span data-stu-id="a05f4-178">See Also</span></span>  
 <span data-ttu-id="a05f4-179">[動的管理ビューと動的管理関数 &#40;Transact-SQL&#41;](../views/views.md) </span><span class="sxs-lookup"><span data-stu-id="a05f4-179">[Dynamic Management Views and Functions &#40;Transact-SQL&#41;](../views/views.md) </span></span>  
 <span data-ttu-id="a05f4-180">[カタログ ビュー &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/catalog-views-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a05f4-180">[Catalog Views &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/catalog-views-transact-sql) </span></span>  
 <span data-ttu-id="a05f4-181">[SQL Server 拡張イベントテーブル &#40;Transact-sql&#41;](/sql/relational-databases/system-tables/system-tables-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="a05f4-181">[SQL Server Extended Events Tables &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/system-tables-transact-sql) </span></span>  
 <span data-ttu-id="a05f4-182">[System_health セッションを使用する](use-the-ssms-xe-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="a05f4-182">[Use the system_health Session](use-the-ssms-xe-profiler.md) </span></span>  
 [<span data-ttu-id="a05f4-183">拡張イベントへの PowerShell プロバイダーの使用</span><span class="sxs-lookup"><span data-stu-id="a05f4-183">Use the PowerShell Provider for Extended Events</span></span>](use-the-powershell-provider-for-extended-events.md)  
  
  
