---
title: データ層アプリケーション | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- designing DACs
- How to [DAC]
- data-tier application [SQL Server], designing
- wizard [DAC]
ms.assetid: a04a2aba-d07a-4423-ab8a-0a31658f6317
author: stevestein
ms.author: sstein
ms.openlocfilehash: 4975f09a29f7b25d248f3a4bc8c5c333e4ac3d06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714410"
---
# <a name="data-tier-applications"></a><span data-ttu-id="bf47b-102">データ層アプリケーション</span><span class="sxs-lookup"><span data-stu-id="bf47b-102">Data-tier Applications</span></span>
  <span data-ttu-id="bf47b-103">データ層アプリケーション (DAC) は、テーブル、ビュー、インスタンス オブジェクト (ログインを含む) など、ユーザーのデータベースに関連付けられたすべての [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] オブジェクトを定義する論理的なデータベース管理エンティティです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-103">A data-tier application (DAC) is a logical database management entity that defines all of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] objects - like tables, views, and instance objects, including logins - associated with a user's database.</span></span> <span data-ttu-id="bf47b-104">DAC は、データ層の開発者とデータベース管理者が [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] オブジェクトを DAC パッケージ (DACPAC とも呼ばれます) という移植可能なアーティファクトにパッケージ化できるようにする自己完結型の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] データベース配置単位です。</span><span class="sxs-lookup"><span data-stu-id="bf47b-104">A DAC is a self-contained unit of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database deployment that enables data-tier developers and database administrators to package [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] objects into a portable artifact called a DAC package, also known as a DACPAC.</span></span>  
  
 <span data-ttu-id="bf47b-105">BACPAC は、データベース スキーマおよびデータベースに格納されているデータをカプセル化する関連アーティファクトです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-105">A BACPAC is a related artifact that encapsulates the database schema as well as the data stored in the database.</span></span>  
  
## <a name="benefits-of-data-tier-applications"></a><span data-ttu-id="bf47b-106">データ層アプリケーションの利点</span><span class="sxs-lookup"><span data-stu-id="bf47b-106">Benefits of Data-tier Applications</span></span>  
 <span data-ttu-id="bf47b-107">ほとんどのデータベース アプリケーションのライフサイクルでは、開発者と DVA が共有および交換するスクリプトと、アプリケーションの更新およびメンテナンス アクティビティ用のアドホック統合メモが使用されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-107">The lifecycle of most database applications involves developers and DBAs sharing and exchanging scripts and ad hoc integration notes for application update and maintenance activities.</span></span> <span data-ttu-id="bf47b-108">これは少数のデータベースでは許容されますが、データベースの数、サイズ、および複雑さが増大するとすぐにスケーラブルでなくなります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-108">While this is acceptable for a small number of databases, it quickly becomes unscalable once databases grow in number, size, and complexity.</span></span>  
  
 <span data-ttu-id="bf47b-109">DAC は、宣言的なデータベース開発で配置と管理を簡略化できるようにするデータベース ライフ サイクル管理および生産性ツールです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-109">A DAC is a database lifecycle management and productivity tool that enables declarative database development to simplify deployment and management.</span></span> <span data-ttu-id="bf47b-110">開発者は、SQL Server データ ツール データベース プロジェクトでデータベースを作成してから、DBA に渡すためにデータベースを DACPAC に構築できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-110">A developer can author a database in SQL Server Data Tool database project and then build the database into a DACPAC for handoff to a DBA.</span></span> <span data-ttu-id="bf47b-111">DBA は、SQL Server Management Studio を使用して DAC を配置して、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] または [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)]のテスト インスタンスまたは実稼働インスタンスをテストできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-111">The DBA can deploy the DAC using SQL Server Management Studio to a test or production instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)].</span></span> <span data-ttu-id="bf47b-112">また、DBA は DACPAC を使用して、SQL Server Management Studio で以前に配置したデータベースをアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-112">Alternatively, the DBA can use the DACPAC to upgrade a previously deployed database using SQL Server Management Studio.</span></span> <span data-ttu-id="bf47b-113">ライフサイクルを完了するために、DBA はデータベースを DACPAC に抽出し、開発者に渡して、テストまたは実稼働の調整を反映したり、アプリケーションの変更に応じたデータベース デザインの変更を可能にしたりできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-113">To complete the lifecycle, the DBA can extract the database into a DACPAC and hand it off to a developer to either reflect test or production adjustments, or to enable further database design changes in response to changes in the application.</span></span>  
  
 <span data-ttu-id="bf47b-114">DAC ドリブン配置がスクリプト ドリブンの配置より優れている点は、ツールによって DBA が異なるソースおよびターゲット データベースからの動作を識別および検証できることです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-114">The advantage of a DAC-driven deployment over a script driven exercise is that the tool helps the DBA with identifying and validating behaviors from different source and target databases.</span></span> <span data-ttu-id="bf47b-115">アップグレード中に、アップグレードによりデータ損失の可能性がある場合にはツールによって DBA に警告され、アップグレード計画も提供されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-115">During upgrades, the tool warns the DBA if the upgrade might cause data loss, and also provide an upgrade plan.</span></span> <span data-ttu-id="bf47b-116">DBA は、計画を評価し、ツールを利用してアップグレードを続行できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-116">The DBA can evaluate the plan and then utilize the  tool to proceed with the upgrade.</span></span>  
  
 <span data-ttu-id="bf47b-117">DAC では、開発者と DBA がデータベースのライフサイクルにわたってデータベース系列をメンテナンスおよび管理するのに役立つバージョン管理もサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-117">DAC's also support versioning to help the developer and the DBA maintain and manage the database lineage through its lifecycle.</span></span>  
  
## <a name="dac-concepts"></a><span data-ttu-id="bf47b-118">DAC の概念</span><span class="sxs-lookup"><span data-stu-id="bf47b-118">DAC Concepts</span></span>  
 <span data-ttu-id="bf47b-119">DAC を使用すると、次のような点で、アプリケーションをサポートするデータ層要素の開発、配置、および管理が容易になります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-119">A DAC simplifies the development, deployment, and management of data-tier elements that support an application:</span></span>  
  
-   <span data-ttu-id="bf47b-120">データ層アプリケーション (DAC) は、テーブル、ビュー、インスタンス オブジェクトなど、ユーザーのデータベースに関連付けられたすべての SQL Server オブジェクトを定義する論理的なデータベース管理エンティティです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-120">A data-tier application (DAC) is a logical database management entity that defines all SQL Server objects - such as tables, views, and instance objects - associated with a user's database.</span></span> <span data-ttu-id="bf47b-121">データ層の開発者と DBA が SQL Server オブジェクトを DAC パッケージまたは .dacpac ファイルと呼ばれる移植可能なアーティファクトにパッケージ化できるようにする自己完結型の SQL Server データベース配置単位です。</span><span class="sxs-lookup"><span data-stu-id="bf47b-121">It is a self-contained unit of SQL Server database deployment that enables data-tier developers and DBAs to package SQL Server objects into a portable artifact called a DAC package, or .dacpac file.</span></span>  
  
-   <span data-ttu-id="bf47b-122">SQL Server データベースを DAC として扱うには、ユーザー操作によって明示的に、または DAC 操作の 1 つによって暗黙的に登録する必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-122">For a SQL Server database to be treated as a DAC, it must be registered - either explicitly by a user operation, or implicitly by one of the DAC operations.</span></span> <span data-ttu-id="bf47b-123">データベースが登録されると、DAC バージョンとその他のプロパティがデータベースのメタデータの一部として記録されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-123">When a database is registered, the DAC version and other properties are recorded as part of the metadata of the database.</span></span> <span data-ttu-id="bf47b-124">反対に、データベースを登録解除し、その DAC プロパティを削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-124">Conversely, a database can also be unregistered and have its DAC properties removed.</span></span>  
  
-   <span data-ttu-id="bf47b-125">一般に、DAC ツールでは以前の SQL Server バージョンの DAC ツールによって生成された DACPAC ファイルを読み取ることができ、DACPAC を以前のバージョンの SQL Server に配置することもできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-125">In general, DAC tools are capable of reading DACPAC files generated by DAC tools from previous SQL Server versions, and can also deploy DACPAC's to previous versions of SQL Server.</span></span> <span data-ttu-id="bf47b-126">一方、以前のバージョンの DAC ツールでは、新しいバージョンの DAC ツールによって生成された DACPAC ファイルを読み取ることができません。</span><span class="sxs-lookup"><span data-stu-id="bf47b-126">However, DAC tools from earlier versions cannot read DACPAC files generated by DAC tools from later versions.</span></span> <span data-ttu-id="bf47b-127">具体的な内容は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-127">Specifically:</span></span>  
  
    -   <span data-ttu-id="bf47b-128">DAC 操作は、SQLServer 2008 R2 で導入されました。</span><span class="sxs-lookup"><span data-stu-id="bf47b-128">DAC operations were introduced in SQL Server 2008 R2.</span></span> <span data-ttu-id="bf47b-129">SQL Server 2008 R2 データベースに加えて、ツールでは SQL Server 2008、SQL Server 2005、および SQL Server 2000 データベースからの DACPAC ファイルの生成がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-129">In addition to SQL Server 2008 R2 databases, the tools support generation of DACPAC files from SQL Server 2008, SQL Server 2005 and SQL Server 2000 databases.</span></span>  
  
    -   <span data-ttu-id="bf47b-130">[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] データベースに加えて、 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] に付属のツールでは、SQL Server 2008 R2 または SQL Server 2012 に付属の DAC ツールで生成された DACPAC ファイルを読み取ることができます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-130">In addition to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] databases, the tools shipped with [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] can read DACPAC files generated by DAC tools shipped with SQL Server 2008 R2 or SQL Server 2012.</span></span> <span data-ttu-id="bf47b-131">これには、SQL Server 2012、SQL Server 2008 R2、SQL Server 2008、および SQL Server 2005 のデータベースが含まれますが、SQL Server 2000 のデータベースは含まれません。</span><span class="sxs-lookup"><span data-stu-id="bf47b-131">This includes databases from SQL Server 2012, SQL Server 2008 R2, SQL Server 2008, and SQL Server 2005, but not SQL Server 2000.</span></span>  
  
    -   <span data-ttu-id="bf47b-132">SQL Server 2008 R2 の DAC ツールでは、 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] または  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]のツールによって生成された DACPAC ファイルを読み取ることはできません。</span><span class="sxs-lookup"><span data-stu-id="bf47b-132">DAC tools from SQL Server 2008 R2 cannot read DACPAC files generated by tools from [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="bf47b-133">DACPAC は、.dacpac 拡張子を持つ Windows ファイルです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-133">A DACPAC is a Windows file with a .dacpac extension.</span></span> <span data-ttu-id="bf47b-134">このファイルでは、DACPAC の生成元、データベース内のオブジェクト、およびその他の特性を詳細に表す複数の XML セクションから構成されるオープン フォーマットがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-134">The file supports an open format consisting of multiple XML sections representing details of the DACPAC origin, the objects in the database, and other characteristics.</span></span> <span data-ttu-id="bf47b-135">上級ユーザーは、製品に付属の DacUnpack.exe ユーティリティを使用してファイルをパッケージ解除して、各セクションをより詳細に調査できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-135">An advanced user can unpack the file using the DacUnpack.exe utility that ships with the product to inspect each section more closely.</span></span>  
  
-   <span data-ttu-id="bf47b-136">ユーザーがデータベースを作成 (DAC パッケージを配置することによるデータベースの作成を含む) するには、dbmanager ロールのメンバーであるか、CREATE DATABASE 権限が割り当てられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-136">The user must be a member of the dbmanager role or assigned CREATE DATABASE permissions to create a database, including creating a database by deploying a DAC package.</span></span> <span data-ttu-id="bf47b-137">ユーザーがデータベースを削除するには、dbmanager ロールのメンバーであるか、DROP DATABASE 権限を割り当てられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-137">The user must be a member of the dbmanager role, or have been assigned DROP DATABASE permissions to drop a database.</span></span>  
  
## <a name="dac-tools"></a><span data-ttu-id="bf47b-138">DAC ツール</span><span class="sxs-lookup"><span data-stu-id="bf47b-138">DAC Tools</span></span>  
 <span data-ttu-id="bf47b-139">DACPAC は、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]に付属の複数のツール間でシームレスに使用できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-139">A DACPAC can be seamlessly used across multiple tools that ship with [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="bf47b-140">これらのツールは、相互運用性の単位として DACPAC を使用して、異なるユーザーの要件に対処します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-140">These tools address the requirements of different user personas using a DACPAC as the unit of interoperability.</span></span>  
  
-   <span data-ttu-id="bf47b-141">アプリケーション開発者</span><span class="sxs-lookup"><span data-stu-id="bf47b-141">Application Developer</span></span>  
  
    -   <span data-ttu-id="bf47b-142">データベース開発者は、SQL Server データ ツール データベース プロジェクトを使用して、データベースをデザインできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-142">A database developer can use a SQL Server Data Tools database project to design a database.</span></span> <span data-ttu-id="bf47b-143">このプロジェクトが正常に構築されると、.dacpac ファイルに含まれる DACPAC が生成されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-143">A successful build of this project results in the generation of a DACPAC contained in a .dacpac file.</span></span>  
  
    -   <span data-ttu-id="bf47b-144">また、開発者は、DACPAC をデータベース プロジェクトにインポートし、データベースのデザインを続行できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-144">In addition, the developer can import a DACPAC into a database project and continue to design the database.</span></span>  
  
    -   <span data-ttu-id="bf47b-145">SQL Server データ ツールでは、接続されていないクライアント側データベース アプリケーション配置用のローカル DB もサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-145">SQL Server Data Tools also supports a Local DB for unconnected, client-side database application development.</span></span> <span data-ttu-id="bf47b-146">開発者は、このローカル データベースのスナップショットを作成して、.dacpac ファイルに含まれる DACPAC を作成できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-146">The developer can take a snapshot of this local database to create DACPAC contained in a .dacpac file.</span></span>  
  
    -   <span data-ttu-id="bf47b-147">それとは別に、開発者は、DACPAC を生成しなくても、データベースにデータベース プロジェクトを直接パブリッシュできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-147">Independently, the developer can publish a database project directly to a database without even generating a DACPAC.</span></span> <span data-ttu-id="bf47b-148">パブリッシュ操作の後に、他のツールからの配置操作などの同様の動作が続きます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-148">The publish operation follows similar behavior as the deploy operation from other tools.</span></span>  
  
-   <span data-ttu-id="bf47b-149">データベース管理者</span><span class="sxs-lookup"><span data-stu-id="bf47b-149">Database Administrator</span></span>  
  
    -   <span data-ttu-id="bf47b-150">DBA は、SQL Server Management Studio を使用して、既存のデータベースから DACPAC を抽出でき、その他の DAC 操作を実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-150">A DBA can use SQL Server Management Studio to extract a DACPAC from an existing database, and also perform other DAC operations.</span></span>  
  
    -   <span data-ttu-id="bf47b-151">また、 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] の DBA は、DAC 操作に Management Portal for SQL Azure を使用できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-151">In addition, the DBA for a [!INCLUDE[ssSDS](../../includes/sssds-md.md)] can use the Management Portal for SQL Azure for DAC operations.</span></span>  
  
-   <span data-ttu-id="bf47b-152">独立系ソフトウェア ベンダー</span><span class="sxs-lookup"><span data-stu-id="bf47b-152">Independent Software Vendor</span></span>  
  
    -   <span data-ttu-id="bf47b-153">SQL Server のホスティング サービスおよびその他のデータ管理製品では、DAC 操作に DACFx API を使用できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-153">Hosting services and other data management products for SQL Server can use the DACFx API for DAC operations.</span></span>  
  
-   <span data-ttu-id="bf47b-154">IT 管理者</span><span class="sxs-lookup"><span data-stu-id="bf47b-154">IT Administrator</span></span>  
  
    -   <span data-ttu-id="bf47b-155">IT システム インテグレーターと管理者は、DAC 操作に SqlPackage.exe コマンド ライン ツールを使用できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-155">IT systems integrators and administrators can use the SqlPackage.exe command line tool for DAC operations.</span></span>  
  
## <a name="dac-operations"></a><span data-ttu-id="bf47b-156">DAC 操作</span><span class="sxs-lookup"><span data-stu-id="bf47b-156">DAC Operations</span></span>  
 <span data-ttu-id="bf47b-157">DAC では、以下のオブジェクトがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="bf47b-157">A DAC supports the following operations:</span></span>  
  
-   <span data-ttu-id="bf47b-158">**EXTRACT**: ユーザーはデータベースを DACPAC に抽出できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-158">**EXTRACT** - the user can extract a database into a DACPAC.</span></span>  
  
-   <span data-ttu-id="bf47b-159">**DEPLOY**: ユーザーは DACPAC をホスト サーバーに配置できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-159">**DEPLOY** - the user can deploy a DACPAC to a host server.</span></span> <span data-ttu-id="bf47b-160">配置が SQL Server Management Studio や Management Portal for SQL Azure などの管理ツールから行われる場合、ホスト サーバーに生成されるデータベースがデータ層アプリケーションとして暗黙的に登録されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-160">When the deployment is done from a manageability tool like SQL Server Management Studio or the Management Portal for SQL Azure, the resulting database in the host server is implicitly registered as a data-tier application.</span></span>  
  
-   <span data-ttu-id="bf47b-161">**REGISTER**: ユーザーはデータベースをデータ層アプリケーションとして登録できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-161">**REGISTER** - the user can register a database as a data-tier application.</span></span>  
  
-   <span data-ttu-id="bf47b-162">**UNREGISTER**: DAC として既に登録されているデータベースを登録解除できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-162">**UNREGISTER** - a database previously registered as a DAC can be unregistered.</span></span>  
  
-   <span data-ttu-id="bf47b-163">**UPGRADE**: DACPAC を使用してデータベースをアップグレードできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-163">**UPGRADE** - a database can be upgraded using a DACPAC.</span></span> <span data-ttu-id="bf47b-164">アップグレードは、データ層アプリケーションとして登録されていないデータベースでもサポートされますが、アップグレードの結果として、データベースが暗黙的に登録されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-164">Upgrade is supported even on databases that are not previously registered as data-tier applications, but as a consequence of the upgrade, the database will be implicitly registered.</span></span>  
  
## <a name="backup-package-bacpac"></a><span data-ttu-id="bf47b-165">バックアップ パッケージ (.bacpac)</span><span class="sxs-lookup"><span data-stu-id="bf47b-165">Backup Package (.bacpac)</span></span>  
 <span data-ttu-id="bf47b-166">BACPAC は、データベース スキーマおよびデータベースに格納されているデータをカプセル化するアーティファクトです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-166">A BACPAC is an artifact that encapsulates the database schema as well as the data stored in the database.</span></span> <span data-ttu-id="bf47b-167">BACPAC は、.bacpac 拡張子を持つ Windows ファイルです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-167">The BACPAC is a Windows file with a .bacpac extension.</span></span> <span data-ttu-id="bf47b-168">DACPAC と同様に、BACPAC ファイル形式は公開されており、BACPAC のスキーマ コンテンツは DACPAC のスキーマ コンテンツと同じです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-168">Similar to the DACPAC, the BACPAC file format is open - the schema contents of the BACPAC are identical to that of the DACPAC.</span></span> <span data-ttu-id="bf47b-169">データは JSON 形式で格納されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-169">The data is stored in JSON format.</span></span>  
  
 <span data-ttu-id="bf47b-170">DACPAC と BACPAC は似ていますが、ターゲットとするシナリオは異なります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-170">DACPAC and BACPAC are similar but they target different scenarios.</span></span> <span data-ttu-id="bf47b-171">DACPAC は、既存のデータベースのアップグレードなど、スキーマのキャプチャと配置に重点を置きます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-171">A DACPAC is focused on capturing and deploying schema, including upgrading an existing database.</span></span> <span data-ttu-id="bf47b-172">DACPAC の主なユースケースは、厳密に定義されたスキーマを開発環境、テスト環境、および運用環境に配置し、その逆に、運用環境のスキーマをキャプチャし、それをテスト環境と開発環境に適用することです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-172">The primary use case for a DACPAC is to deploy a tightly defined schema to development, test, and then production environments, and the reverse: capturing production's schema and applying it to back to test and development environments.</span></span>  
  
 <span data-ttu-id="bf47b-173">一方、BACPAC は、スキーマおよびデータのキャプチャに重点を置きます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-173">A BACPAC, on the other hand, is focused on capturing schema and data.</span></span> <span data-ttu-id="bf47b-174">BACPAC は、論理的にはデータベース バックアップに相当し、既存のデータベースのアップグレードには使用できません。</span><span class="sxs-lookup"><span data-stu-id="bf47b-174">A BACPAC is the logical equivalent of a database backup and cannot be used to upgrade existing databases.</span></span> <span data-ttu-id="bf47b-175">BACPAC の基本的なユース ケースは、あるサーバーから別のサーバーに、またはローカル サーバーからクラウドにデータベースを移動し、既存のデータベースをオープン フォーマットでアーカイブすることです。</span><span class="sxs-lookup"><span data-stu-id="bf47b-175">The primary use case for a BACPAC is to move a database from one server to another - or from a local server to the cloud - and archiving an existing database in an open format.</span></span>  
  
 <span data-ttu-id="bf47b-176">BACPAC では次の 2 つの主要操作がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-176">A BACPAC supports two main operations:</span></span>  
  
-   <span data-ttu-id="bf47b-177">**EXPORT**: ユーザーは、BACPAC にスキーマとデータベースのデータをエクスポートできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-177">**EXPORT**- The user can export the schema and the data of a database to a BACPAC.</span></span>  
  
-   <span data-ttu-id="bf47b-178">**IMPORT**: ユーザーは、スキーマおよびデータをホスト サーバーの新しいデータベースにインポートできます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-178">**IMPORT** - The user can import the schema and the data into a new database in the host server.</span></span>  
  
 <span data-ttu-id="bf47b-179">この両方の機能が、データベース管理ツール (Server Management Studio、Management Portal for SQL Azure、および DACFx API) でサポートされます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-179">Both these capabilities are supported by the database management tools: Server Management Studio, the Management Portal for SQL Azure, and the DACFx API.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="bf47b-180">アクセス許可</span><span class="sxs-lookup"><span data-stu-id="bf47b-180">Permissions</span></span>  
 <span data-ttu-id="bf47b-181">データベースを作成 (DAC パッケージを配置することによるデータベースの作成を含む) するには、`dbmanager` ロールのメンバーであるか、`CREATE DATABASE` 権限が割り当てられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-181">You must be a member of the `dbmanager` role or assigned `CREATE DATABASE` permissions to create a database, including creating a database by deploying a DAC package.</span></span> <span data-ttu-id="bf47b-182">データベースを削除するには、`dbmanager` ロールのメンバーであるか、`DROP DATABASE` 権限が割り当てられている必要があります。</span><span class="sxs-lookup"><span data-stu-id="bf47b-182">You must be a member of the `dbmanager` role, or have been assigned `DROP DATABASE` permissions to drop a database.</span></span>  
  
## <a name="data-tier-application-tasks"></a><span data-ttu-id="bf47b-183">データ層アプリケーションのタスク</span><span class="sxs-lookup"><span data-stu-id="bf47b-183">Data-tier Application Tasks</span></span>  
  
|<span data-ttu-id="bf47b-184">タスクの説明</span><span class="sxs-lookup"><span data-stu-id="bf47b-184">Task Description</span></span>|<span data-ttu-id="bf47b-185">トピック</span><span class="sxs-lookup"><span data-stu-id="bf47b-185">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="bf47b-186">新しい DAC インスタンスを作成するために DAC パッケージ ファイルを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-186">Describes how to use a DAC package file to create a new DAC instance.</span></span>|[<span data-ttu-id="bf47b-187">データ層アプリケーションの配置</span><span class="sxs-lookup"><span data-stu-id="bf47b-187">Deploy a Data-tier Application</span></span>](deploy-a-data-tier-application.md)|  
|<span data-ttu-id="bf47b-188">DAC のインスタンスを新しいバージョンにアップグレードするために、新しい DAC パッケージ ファイルを使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-188">Describes how to use a new DAC package file to upgrade an instance to a new version of the DAC.</span></span>|[<span data-ttu-id="bf47b-189">データ層アプリケーションのアップグレード</span><span class="sxs-lookup"><span data-stu-id="bf47b-189">Upgrade a Data-tier Application</span></span>](upgrade-a-data-tier-application.md)|  
|<span data-ttu-id="bf47b-190">DAC インスタンスを削除する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-190">Describes how to remove a DAC instance.</span></span> <span data-ttu-id="bf47b-191">関連付けられているデータベースをデタッチまたは削除するか、データベースはそのまま残すかも選択できます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-191">You can choose to also detach or drop the associated database, or leave the database intact.</span></span>|[<span data-ttu-id="bf47b-192">データ層アプリケーションの削除</span><span class="sxs-lookup"><span data-stu-id="bf47b-192">Delete a Data-tier Application</span></span>](delete-a-data-tier-application.md)|  
|<span data-ttu-id="bf47b-193">SQL Server ユーティリティを使用して、現在配置されている DAC の正常性を表示する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-193">Describes how to view the health of currently deployed DACs by using the SQL Server Utility.</span></span>|[<span data-ttu-id="bf47b-194">データ層アプリケーションの監視</span><span class="sxs-lookup"><span data-stu-id="bf47b-194">Monitor Data-tier Applications</span></span>](data-tier-applications.md)|  
|<span data-ttu-id="bf47b-195">DAC 内のデータとメタデータのアーカイブを含む .bacpac ファイルを作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-195">Describes how to create a .bacpac file that contains an archive of the data and metadata in a DAC.</span></span>|[<span data-ttu-id="bf47b-196">データ層アプリケーションのエクスポート</span><span class="sxs-lookup"><span data-stu-id="bf47b-196">Export a Data-tier Application</span></span>](export-a-data-tier-application.md)|  
|<span data-ttu-id="bf47b-197">DAC の論理的な復元を実行したり、DAC を[!INCLUDE[ssDE](../../includes/ssde-md.md)]の他のインスタンスまたは [!INCLUDE[ssSDS](../../includes/sssds-md.md)] に移行したりするために DAC アーカイブ ファイル (.bacpac) を使用する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-197">Describes how to use a DAC archive file (.bacpac) to either perform a logical restore of a DAC, or to migrate the DAC to another instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] or [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>|[<span data-ttu-id="bf47b-198">BACPAC ファイルのインポートによる新しいユーザー データベースの作成</span><span class="sxs-lookup"><span data-stu-id="bf47b-198">Import a BACPAC File to Create a New User Database</span></span>](import-a-bacpac-file-to-create-a-new-user-database.md)|  
|<span data-ttu-id="bf47b-199">BACPAC ファイルをインポートして、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンス内に新しいユーザー データベースを作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-199">Describes how to import a BACPAC file to create a new user database within an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|[<span data-ttu-id="bf47b-200">データベースから DAC を抽出する</span><span class="sxs-lookup"><span data-stu-id="bf47b-200">Extract a DAC From a Database</span></span>](extract-a-dac-from-a-database.md)|  
|<span data-ttu-id="bf47b-201">既存のデータベースを DAC インスタンスに昇格させる方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-201">Describes how to promote an existing database to be a DAC instance.</span></span> <span data-ttu-id="bf47b-202">DAC 定義はビルドされ、システム データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="bf47b-202">A DAC definition is built and stored in the system databases.</span></span>|[<span data-ttu-id="bf47b-203">データベースを DAC として登録する方法</span><span class="sxs-lookup"><span data-stu-id="bf47b-203">Register a Database As a DAC</span></span>](register-a-database-as-a-dac.md)|  
|<span data-ttu-id="bf47b-204">実稼働システムで DAC パッケージを使用する前に、パッケージの内容と DAC のアップグレードによって行われる動作を確認する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-204">Describes how to review the contents of a DAC package and the actions a DAC upgrade will perform before using the package in a production system.</span></span>|[<span data-ttu-id="bf47b-205">DAC パッケージの検証</span><span class="sxs-lookup"><span data-stu-id="bf47b-205">Validate a DAC Package</span></span>](validate-a-dac-package.md)|  
|<span data-ttu-id="bf47b-206">DAC パッケージの内容をフォルダーに配置し、そのフォルダーで、DAC を実稼働サーバーに配置する前に DAC の動作内容をデータベース管理者が確認できるようにする方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-206">Describes how to place the contents of a DAC package into a folder where a database administrator can review what the DAC does before deploying it to a production server.</span></span>|[<span data-ttu-id="bf47b-207">DAC パッケージのアンパック</span><span class="sxs-lookup"><span data-stu-id="bf47b-207">Unpack a DAC Package</span></span>](unpack-a-dac-package.md)|  
|<span data-ttu-id="bf47b-208">ウィザードを使用して既存のデータベースを配置する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-208">Describes how to use a wizard to deploy an existing database.</span></span> <span data-ttu-id="bf47b-209">ウィザードでは DAC を使用して配置を実行します。</span><span class="sxs-lookup"><span data-stu-id="bf47b-209">The wizard uses DACs to perform the deployment.</span></span>|[<span data-ttu-id="bf47b-210">DAC を使用してデータベースを配置する</span><span class="sxs-lookup"><span data-stu-id="bf47b-210">Deploy a Database By Using a DAC</span></span>](deploy-a-database-by-using-a-dac.md)|  
  
## <a name="see-also"></a><span data-ttu-id="bf47b-211">参照</span><span class="sxs-lookup"><span data-stu-id="bf47b-211">See Also</span></span>  
 [<span data-ttu-id="bf47b-212">SQL Server オブジェクトとバージョンの DAC サポート</span><span class="sxs-lookup"><span data-stu-id="bf47b-212">DAC Support For SQL Server Objects and Versions</span></span>](dac-support-for-sql-server-objects-and-versions.md)  
  
  
