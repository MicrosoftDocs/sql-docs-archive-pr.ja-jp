---
title: FileTable と他の SQL Server 機能の互換性 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: filestream
ms.topic: conceptual
helpviewer_keywords:
- FileTables [SQL Server], using with other features
ms.assetid: f12a17e4-bd3d-42b0-b253-efc36876db37
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8a6ac6668ff362a986646c4e01b1f0e5e722611c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87740080"
---
# <a name="filetable-compatibility-with-other-sql-server-features"></a><span data-ttu-id="8e16f-102">FileTable と他の SQL Server 機能の互換性</span><span class="sxs-lookup"><span data-stu-id="8e16f-102">FileTable Compatibility with Other SQL Server Features</span></span>
  <span data-ttu-id="8e16f-103">FileTable と他の [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]機能との連携について説明します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-103">Describes how FileTables work with other features of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
##  <a name="alwayson-availability-groups-and-filetables"></a><a name="alwayson"></a> <span data-ttu-id="8e16f-104">AlwaysOn 可用性グループと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-104">AlwaysOn Availability Groups and FileTables</span></span>  
 <span data-ttu-id="8e16f-105">FILESTREAM データまたは FileTable データを格納するデータベースが AlwaysOn 可用性グループに属する場合、次の処理が行われます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-105">When the database that contains FILESTREAM or FileTable data belongs to an AlwaysOn availability group:</span></span>  
  
-   <span data-ttu-id="8e16f-106">FileTable 機能は [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]で部分的にサポートされています。</span><span class="sxs-lookup"><span data-stu-id="8e16f-106">FileTable functionality is partially supported by [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="8e16f-107">フェールオーバー後、FileTable データはプライマリ レプリカ上でアクセスできますが、読み取り可能なセカンダリ レプリカ上ではアクセスできません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-107">After a failover, FileTable data is accessible on the primary replica, but FileTable data is not accessible on readable secondary replicas.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="8e16f-108">フェールオーバー後はすべての FILESTREAM 機能がサポートされることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="8e16f-108">Notice that after a failover all FILESTREAM functionality is supported.</span></span> <span data-ttu-id="8e16f-109">FILESTREAM データは読み取り可能なセカンダリ レプリカと新しいプライマリの両方でアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-109">FILESTREAM data is accessible on both readable secondary replicas and on the new primary.</span></span>  
  
-   <span data-ttu-id="8e16f-110">FILESTREAM および FileTable 関数は、コンピューター名ではなく仮想ネットワーク名 (VNN) のやり取りを行います。</span><span class="sxs-lookup"><span data-stu-id="8e16f-110">The FILESTREAM and FileTable functions accept or return virtual network names (VNNs) instead of computer names.</span></span> <span data-ttu-id="8e16f-111">関数の詳細については、「[Filestream および FileTable 関数 &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/filestream-and-filetable-functions-transact-sql)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8e16f-111">For more information about these functions, see [Filestream and FileTable Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/filestream-and-filetable-functions-transact-sql).</span></span>  
  
-   <span data-ttu-id="8e16f-112">ファイル システム API を介した FILESTREAM または FileTable データへのすべてのアクセスでは、コンピューター名ではなく VNN を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-112">All access to FILESTREAM or FileTable data through the file system APIs should use VNNs instead of computer names.</span></span> <span data-ttu-id="8e16f-113">詳細については、「[FILESTREAM および FileTable と AlwaysOn 可用性グループ &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/filestream-and-filetable-with-always-on-availability-groups-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8e16f-113">For more information, see [FILESTREAM and FileTable with AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/filestream-and-filetable-with-always-on-availability-groups-sql-server.md).</span></span>  
  
##  <a name="partitioning-and-filetables"></a><a name="OtherPartitioning"></a> <span data-ttu-id="8e16f-114">パーティション分割と FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-114">Partitioning and FileTables</span></span>  
 <span data-ttu-id="8e16f-115">FileTable ではパーティション分割はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-115">Partitioning is not supported on FileTables.</span></span> <span data-ttu-id="8e16f-116">複数の FILESTREAM ファイル グループのサポートにより、ほとんどのシナリオにおいて、(SQL 2008 FILESTREAM とは異なり) パーティション分割に頼ることなく純粋なスケールアップに関する問題を処理できます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-116">With the support for multiple FILESTREAM file groups, pure scale-up issues can be handled without having to resort to partitioning  in most scenarios (unlike SQL 2008 FILESTREAMs).</span></span>  
  
##  <a name="replication-and-filetables"></a><a name="OtherRepl"></a> <span data-ttu-id="8e16f-117">レプリケーションと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-117">Replication and FileTables</span></span>  
 <span data-ttu-id="8e16f-118">FileTable では、レプリケーションおよび関連機能 (トランザクション レプリケーション、マージ レプリケーション、変更データ キャプチャ、および変更の追跡) はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-118">Replication and related features (including transactional replication, merge replication, change data capture, and change tracking) are not supported with FileTables.</span></span>  
  
##  <a name="transaction-semantics-and-filetables"></a><a name="OtherIsolation"></a> <span data-ttu-id="8e16f-119">トランザクション セマンティクスと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-119">Transaction Semantics and FileTables</span></span>  
 <span data-ttu-id="8e16f-120">**Windows アプリケーション**</span><span class="sxs-lookup"><span data-stu-id="8e16f-120">**Windows applications**</span></span>  
 <span data-ttu-id="8e16f-121">Windows アプリケーションはデータベース トランザクションを理解しないため、Windows 書き込み操作ではデータベース トランザクションの ACID プロパティが提供されません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-121">Windows applications do not understand database transactions, so Windows write operations do not provide the ACID properties of a database transaction.</span></span> <span data-ttu-id="8e16f-122">このため、Windows の更新操作ではトランザクションのロールバックと復旧は不可能です。</span><span class="sxs-lookup"><span data-stu-id="8e16f-122">Therefore transactional rollbacks and recovery are not possible with Windows update operations.</span></span>  
  
 <span data-ttu-id="8e16f-123">**Transact-SQL アプリケーション**</span><span class="sxs-lookup"><span data-stu-id="8e16f-123">**Transact-SQL applications**</span></span>  
 <span data-ttu-id="8e16f-124">FileTable の FILESTREAM (file_stream) 列を操作する TSQL アプリケーションの分離セマンティクスは、通常のユーザー テーブル内の FILESTREAM データ型の場合と同じです。</span><span class="sxs-lookup"><span data-stu-id="8e16f-124">For TSQL applications working on the FILESTREAM (file_stream) column in a FileTable, the isolation semantics are the same as with FILESTREAM datatype in a regular user table.</span></span>  
  
##  <a name="query-notifications-and-filetables"></a><a name="OtherQueryNot"></a> <span data-ttu-id="8e16f-125">クエリ通知と FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-125">Query Notifications and FileTables</span></span>  
 <span data-ttu-id="8e16f-126">クエリでは、WHERE 句またはクエリのその他の部分に FileTable 内の FILESTREAM 列への参照を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-126">The query cannot contain reference to the FILESTREAM column in the FileTable, in the WHERE clause or any other part of the query.</span></span>  
  
##  <a name="select-into-and-filetables"></a><a name="OtherSelectInto"></a> <span data-ttu-id="8e16f-127">SELECT INTO と FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-127">SELECT INTO and FileTables</span></span>  
 <span data-ttu-id="8e16f-128">FileTable から SELECT INTO ステートメントを使用すると、(通常のテーブルの FILESTREAM 列と同様に) FileTable のセマンティクスはターゲット テーブルに反映されません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-128">SELECT INTO statements from a FileTable will not propagate the FileTable semantics on the created destination table (just like FILESTREAM columns in a regular table).</span></span> <span data-ttu-id="8e16f-129">ターゲット テーブルのすべての列が通常の列と同じように動作します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-129">All the destination table columns will behave just like normal columns.</span></span> <span data-ttu-id="8e16f-130">FileTable のセマンティクスはターゲット テーブルの列に関連付けられません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-130">They will not have any FileTable semantics associated with them.</span></span>  
  
##  <a name="triggers-and-filetables"></a><a name="OtherTriggers"></a> <span data-ttu-id="8e16f-131">トリガーと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-131">Triggers and FileTables</span></span>  
 <span data-ttu-id="8e16f-132">**DDL (データ定義言語) トリガー**</span><span class="sxs-lookup"><span data-stu-id="8e16f-132">**DDL (Data Definition Language) Triggers**</span></span>  
 <span data-ttu-id="8e16f-133">DDL トリガーと FileTable の使用については、特別な注意事項はありません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-133">There are no special considerations for DDL triggers with FileTables.</span></span> <span data-ttu-id="8e16f-134">FileTable に対する CREATE/ALTER TABLE 操作だけでなく、データベースの作成/変更操作でも、通常の DDL トリガーが起動されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-134">Normal DDL triggers will fire for Create/Alter database operations as well as CREATE/ALTER TABLE operations for FileTables.</span></span> <span data-ttu-id="8e16f-135">トリガーは、EVENTDATA() 関数を呼び出すことによって、DDL コマンド テキストやその他の情報などの実際のイベント データを取得できます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-135">Triggers can retrieve the actual event data that includes the DDL command text and other information by calling the EVENTDATA() function.</span></span> <span data-ttu-id="8e16f-136">新しいイベントや既存の Eventdata スキーマに対する変更はありません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-136">There are no new events or changes to the existing Eventdata schema.</span></span>  
  
 <span data-ttu-id="8e16f-137">**DML (データ操作言語) トリガー**</span><span class="sxs-lookup"><span data-stu-id="8e16f-137">**DML (Data Manipulation Language) Triggers**</span></span>  
 <span data-ttu-id="8e16f-138">トリガーを作成するための DDL 操作において、以下の制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-138">These restrictions will be enforced during the DDL operation to create triggers.</span></span>  
  
-   <span data-ttu-id="8e16f-139">FileTable では、DML 操作のための INSTEAD OF トリガーはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-139">FileTables will NOT support INSTEAD OF triggers for DML operations.</span></span> <span data-ttu-id="8e16f-140">これは、FILESTREAM 列を含むすべてのテーブルに対する既存の制限です。</span><span class="sxs-lookup"><span data-stu-id="8e16f-140">This is an existing restriction on all tables that contain FILESTREAM columns.</span></span>  
  
-   <span data-ttu-id="8e16f-141">FileTable では、DML 操作用に AFTER トリガーがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-141">FileTables will support AFTER triggers for DML operations.</span></span>  
  
-   <span data-ttu-id="8e16f-142">FileTable で定義されたトリガーは、(親 FileTable を含む) すべての FileTable を更新できません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-142">Triggers defined on a FileTable cannot update any FileTables (including the parent FileTable).</span></span> <span data-ttu-id="8e16f-143">この制限は、主に、トリガーが同じトランザクション内でファイル システムによって保持されているロックとの間でロックの競合を起こすことを防止するために設定されています。</span><span class="sxs-lookup"><span data-stu-id="8e16f-143">This restriction exists mainly to prevent a trigger from getting into locking conflicts with the locks held by the file system access in the same transaction.</span></span>  
  
 <span data-ttu-id="8e16f-144">**非トランザクション アクセスとトリガーに対するその影響**</span><span class="sxs-lookup"><span data-stu-id="8e16f-144">**Non-transactional access and its effects on triggers**</span></span>  
 -   <span data-ttu-id="8e16f-145">データベースで非トランザクション更新アクセスが許可されている場合は、そのデータベース内の FileTable を含む任意のテーブルで、FILESTREAM データのインプレース更新を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-145">When non-transactional update access is allowed in a database, it is possible to do in-place update of the FILESTREAM data in any table, including FileTable in that database.</span></span> <span data-ttu-id="8e16f-146">このため、FILESTREAM の内容の前イメージをトリガーで使用できない場合があります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-146">Due to this possibility, the before image of the FILESTREAM contents may not be available for use by the trigger.</span></span>  
  
-   <span data-ttu-id="8e16f-147">ファイル システムを介した非トランザクション更新操作のために、SQL Server は内部トランザクションを作成し、CloseHandle 操作をキャプチャします。このトランザクションの一部として、任意の定義済み DML トリガーを起動できます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-147">For non-transactional update operations through File system, SQL Server will create an internal transaction to capture the CloseHandle operation and the any defined DML triggers may be fired as part of that transaction.</span></span> <span data-ttu-id="8e16f-148">トリガー内部でトランザクションのロールバックを行うことは可能ですが、FILESTREAM に対する変更はロールバックされません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-148">A rollback such a transaction inside the trigger body, while not prevented, does not roll back the changes done to the FILESTREAM.</span></span>  <span data-ttu-id="8e16f-149">このようなロールバックによって、FILESTREAM の内容が変更されている場合でも、更新トリガーが起動されないことがあります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-149">Such a rollback may also prevent the Update triggers from being fired, even though the FILESTREAM contents may have been changed.</span></span>  
  
-   <span data-ttu-id="8e16f-150">これらの影響以外にも、FileTable のトリガーで、以下の 2 つの動作に対処する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-150">In addition to these impacts, triggers on FileTables need to deal with couple of additional behaviors</span></span>  
  
    -   <span data-ttu-id="8e16f-151">ファイル システムを介した FileTable に対する非トランザクション更新操作の場合、FILESTREAM の内容が他の Win32 操作によって排他的にロックされ、トリガー内部からの読み取り/書き込みアクセスができなくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-151">In case of non-transactional update operations on FileTable through the File system, it is possible that the FILESTREAM contents may be exclusively locked by other Win32 operations and may not be accessible for read/write through the trigger body.</span></span> <span data-ttu-id="8e16f-152">このような場合は、通常、トリガー内部で FILESTREAM の内容にアクセスしようとすると、"共有違反" エラーになります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-152">In such cases, any attempt to access the FILESTREAM contents within the trigger body may give a "Sharing Violation" error.</span></span> <span data-ttu-id="8e16f-153">このようなエラーを適切に処理するようにトリガーを設計する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-153">Triggers should be designed to handle such errors appropriately.</span></span>  
  
    -   <span data-ttu-id="8e16f-154">(ファイル システム アクセスで許可されている共有モードのために) 他の非トランザクション更新によって FILESTREAM へのアクティブな書き込みが同時に行われることがあるので、FILESTREAM の後イメージが安定しない場合があります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-154">AFTER image of the FILESTREAM may not be stable since in some cases it may be actively being written by other non-transactional updates at the same time (due to the sharing modes permitted in the File system access).</span></span>  
  
-   <span data-ttu-id="8e16f-155">Win32 ハンドルの異常終了 (管理者による Win32 ハンドルの明示的な終了、データベースのクラッシュなど) が生じた場合、異常終了した Win32 アプリケーションによって FILESTREAM の内容が変更されていた可能性がありますが、復旧操作中にユーザー トリガーは実行されません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-155">Abnormal termination of Win32 handles, like explicit killing of Win32 handles by an admin OR a database crash, will not execute user triggers during the recovery operations, even though the FILESTREAM content may have been changed by the abnormally terminated Win32 application.</span></span>  
  
##  <a name="views-and-filetables"></a><a name="OtherViews"></a> <span data-ttu-id="8e16f-156">ビューと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-156">Views and FileTables</span></span>  
 <span data-ttu-id="8e16f-157">**ビュー**</span><span class="sxs-lookup"><span data-stu-id="8e16f-157">**Views**</span></span>  
 <span data-ttu-id="8e16f-158">他のテーブルの場合と同様に、FileTable にもビューを作成できます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-158">A view can be created on a FileTable as on any other table.</span></span> <span data-ttu-id="8e16f-159">ただし、FileTable にビューを作成する場合は、次の点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="8e16f-159">However the following considerations apply to a view created on a FileTable:</span></span>  
  
-   <span data-ttu-id="8e16f-160">ビューには FileTable のセマンティクスがありません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-160">View will not have any FileTable semantics.</span></span> <span data-ttu-id="8e16f-161">つまり、(ファイル属性列を含めて) ビュー内の列は、特殊なセマンティクスを持たない通常のビュー列と同じように動作します。これは、ファイルやディレクトリを表す行の場合も同じです。</span><span class="sxs-lookup"><span data-stu-id="8e16f-161">i.e. the columns in the view (including File Attribute columns) behave just like normal view columns without any special semantics and same is true for rows representing Files/directories.</span></span>  
  
-   <span data-ttu-id="8e16f-162">ビューは、"更新可能なビュー" セマンティクスに基づいて更新できますが、基になるテーブルの制約により、テーブル内の場合と同様に更新が拒否されることがあります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-162">View may be updateable based on the "updateable view" semantics, but the underlying table constraints can reject the updates just like in the table.</span></span>  
  
-   <span data-ttu-id="8e16f-163">ビューの明示的な列にファイル パスを追加することにより、ファイルのファイル パスをビューに視覚化することができます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-163">File path for a file can be visualized in the view by adding it as an explicit column in the view.</span></span> <span data-ttu-id="8e16f-164">次に例を示します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-164">For example:</span></span>  
  
     `CREATE VIEW MP3FILES AS SELECT column1, column2, ..., GetFileNamespacePath() AS PATH, column3,...  FROM Documents`  
  
 <span data-ttu-id="8e16f-165">**インデックス付きビュー**</span><span class="sxs-lookup"><span data-stu-id="8e16f-165">**Indexed Views**</span></span>  
 <span data-ttu-id="8e16f-166">現在インデックス付きのビューには、FILESTREAM 列に依存する FILESTREAM 列、計算列、または保存される計算列を含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-166">Currently Indexed views cannot include FILESTREAM columns or computed/persisted computed columns that depend on the FILESTREAM columns.</span></span> <span data-ttu-id="8e16f-167">この動作は、FileTable に定義されているビューでも同じです。</span><span class="sxs-lookup"><span data-stu-id="8e16f-167">This behavior remains unchanged with views defined on the FileTable also.</span></span>  
  
##  <a name="snapshot-isolation-and-filetables"></a><a name="OtherSnapshots"></a> <span data-ttu-id="8e16f-168">スナップショット分離と FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-168">Snapshot Isolation and FileTables</span></span>  
 <span data-ttu-id="8e16f-169">Read Committed スナップショット分離 (RCSI) およびスナップショット分離 (SI) は、データの更新操作が行われているときでもリーダーによるデータのスナップショットの利用を可能にする機能に依存します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-169">Read Committed Snapshot Isolation (RCSI) and Snapshot Isolation (SI) rely on the ability to have a snapshot of the data available for readers even when update operations are happening on the data.</span></span> <span data-ttu-id="8e16f-170">ただし、FileTable では、Filestream データに対する非トランザクション書き込みアクセスが可能です。</span><span class="sxs-lookup"><span data-stu-id="8e16f-170">However FileTables allow non-transactional write access to Filestream data.</span></span> <span data-ttu-id="8e16f-171">その結果、FileTable を含むデータベースでのこれらの機能の使用に関して、次の制限が適用されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-171">As a result, the following restrictions apply to the use of these features in databases that contain FileTables:</span></span>  
  
-   <span data-ttu-id="8e16f-172">FileTable を含むデータベースは、RCSI/SI を有効にするように変更できます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-172">A database that contains FileTables can be altered to enable RCSI/SI.</span></span>  
  
-   <span data-ttu-id="8e16f-173">データベースに対する non_transactional アクセスを FULL に設定した場合、RCSI または SI で実行されるトランザクションは次のように動作します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-173">When non_transactional access is set to FULL for the database, then a transaction running under RCSI or SI has the following behavior:</span></span>  
  
    -   <span data-ttu-id="8e16f-174">FileTable file_stream 列に対するすべての [!INCLUDE[tsql](../../../includes/tsql-md.md)] 読み取りは失敗します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-174">Any [!INCLUDE[tsql](../../../includes/tsql-md.md)] reads of the FileTable file_stream column fail.</span></span> <span data-ttu-id="8e16f-175">列に対する INSERT および UPDATE は、file_stream 列からの読み取りを行わない限り正常に実行されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-175">INSERT and UPDATE to the column still succeed, as long as they do not read from the file_stream column.</span></span>  
  
    -   <span data-ttu-id="8e16f-176">[!INCLUDE[tsql](../../../includes/tsql-md.md)] ステートメントに READCOMMITTEDLOCK テーブル ヒントが指定されている場合、読み取りは正常に実行されます。このとき、行のバージョン管理の代わりに、行のロックが設定されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-176">If the [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement specifies READCOMMITTEDLOCK table hints, the reads succeed, and take locks on the rows, rather than use row versioning.</span></span>  
  
    -   <span data-ttu-id="8e16f-177">トランザクション Win32 FileStream を開く要求も失敗します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-177">Transacted Win32 FileStream open requests also fail.</span></span>  
  
    -   <span data-ttu-id="8e16f-178">非トランザクション FileTable Win32 アクセスは正常に実行されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-178">Non-transacted FileTable Win32 access succeeds.</span></span> <span data-ttu-id="8e16f-179">FileTable によって実行されるすべての内部クエリは影響を受けません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-179">All internal queries done by FileTable are not affected.</span></span>  
  
    -   <span data-ttu-id="8e16f-180">フルテキスト インデックス作成は、どのデータベース オプション (READ_COMMITTED_SNAPSHOT または ALLOW_SNAPSHOT_ISOLATION) が指定された場合でも常に正常に実行されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-180">Fulltext indexing always succeeds, no matter what the database options are (READ_COMMITTED_SNAPSHOT or ALLOW_SNAPSHOT_ISOLATION).</span></span>  
  
##  <a name="readable-secondary-databases"></a><a name="readsec"></a> <span data-ttu-id="8e16f-181">読み取り可能なセカンダリ データベース</span><span class="sxs-lookup"><span data-stu-id="8e16f-181">Readable Secondary Databases</span></span>  
 <span data-ttu-id="8e16f-182">前のセクション「 [スナップショット分離と FileTable](#OtherSnapshots)」で説明したとおり、読み取り可能なデータベースには、スナップショットに対するのと同じ考慮事項が適用されます。</span><span class="sxs-lookup"><span data-stu-id="8e16f-182">The same considerations apply to readable secondary databases as to snapshots, as described in the preceding section, [Snapshot Isolation and FileTables](#OtherSnapshots).</span></span>  
  
##  <a name="contained-databases-and-filetables"></a><a name="CDB"></a> <span data-ttu-id="8e16f-183">包含データベースと FileTable</span><span class="sxs-lookup"><span data-stu-id="8e16f-183">Contained Databases and FileTables</span></span>  
 <span data-ttu-id="8e16f-184">FileTable 機能が依存する FILESTREAM 機能では、データベースの外部での構成が一部必要となります。</span><span class="sxs-lookup"><span data-stu-id="8e16f-184">The FILESTREAM feature on which the FileTable feature depends requires some configuration outside of the database.</span></span> <span data-ttu-id="8e16f-185">そのため、FILESTREAM または FileTable を使用するデータベースは完全包含ではありません。</span><span class="sxs-lookup"><span data-stu-id="8e16f-185">Therefore a database that uses FILESTREAM or FileTable is not fully contained.</span></span>  
  
 <span data-ttu-id="8e16f-186">包含データベースの特定の機能 (包含ユーザーなど) を使用する場合は、データベースの包含を PARTIAL に設定します。</span><span class="sxs-lookup"><span data-stu-id="8e16f-186">You can set database containment to PARTIAL if you want to use certain features of contained databases, such as contained users.</span></span> <span data-ttu-id="8e16f-187">ただし、この場合、一部のデータベース設定はデータベースに含まれないため、データベースを移動するときに自動的には移動されないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="8e16f-187">In this case, however, you must be aware that some of the database settings are not contained in the database and are not automatically moved when the database moves.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e16f-188">参照</span><span class="sxs-lookup"><span data-stu-id="8e16f-188">See Also</span></span>  
 [<span data-ttu-id="8e16f-189">FileTable の管理</span><span class="sxs-lookup"><span data-stu-id="8e16f-189">Manage FileTables</span></span>](manage-filetables.md)  
  
  
