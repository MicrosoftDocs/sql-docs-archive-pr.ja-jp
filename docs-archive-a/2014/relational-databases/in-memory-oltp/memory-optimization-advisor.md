---
title: メモリ最適化アドバイザー | Microsoft Docs
ms.custom: ''
ms.date: 10/26/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
f1_keywords:
- sql12.swb.memoryoptimizationwizard.f1
- swb.memoryoptimizationwizard.f1
ms.assetid: 181989c2-9636-415a-bd1d-d304fc920b8a
author: rothja
ms.author: jroth
ms.openlocfilehash: cd0e08ab6d6a7bb2cfbf1892d6f2e4649e4a9735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87714361"
---
# <a name="memory-optimization-advisor"></a><span data-ttu-id="f7273-102">メモリ最適化アドバイザー</span><span class="sxs-lookup"><span data-stu-id="f7273-102">Memory Optimization Advisor</span></span>
  <span data-ttu-id="f7273-103">トランザクション パフォーマンス レポート ツール ( [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)を参照) では、インメモリ OLTP を使用するように移植した場合に効果が得られる、データベース内のテーブルが通知されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-103">Transaction performance reports tool (see [Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md)) informs you about which tables in your database will benefit if ported to use In-Memory OLTP.</span></span> <span data-ttu-id="f7273-104">インメモリ OLTP を使用するように移植するテーブルを特定した後に、メモリ最適化アドバイザーを使用すると、ディスク ベースのデータベース テーブルをインメモリ OLTP に移行できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-104">After you identify a table that you would like to port to use In-Memory OLTP, you can use the memory optimization advisor to help you migrate the disk-based database table to In-Memory OLTP.</span></span>  
  
 <span data-ttu-id="f7273-105">まず、ディスク ベースのデータベース テーブルが格納されているインスタンスに接続します。</span><span class="sxs-lookup"><span data-stu-id="f7273-105">To begin, connect to the instance that contains the disk-based database table.</span></span> <span data-ttu-id="f7273-106">[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] または [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] のインスタンスに接続できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-106">You can connect to a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance.</span></span> <span data-ttu-id="f7273-107">ただし、アドバイザーを使用して移行操作を実行する場合は、インメモリ OLTP 機能が有効になっている [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] インスタンスに接続する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-107">However, if you wish to perform a migration operation with the advisor, you must connect to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance on which In-Memory OLTP functionality is enabled.</span></span> <span data-ttu-id="f7273-108">インメモリ OLTP の要件の詳細については、「 [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f7273-108">For more information about In-Memory OLTP requirements, see [Requirements for Using Memory-Optimized Tables](memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="f7273-109">移行方法については、「[In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx)」(インメモリ OLTP - 一般的なワークロード パターンと移行に関する考慮事項) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f7273-109">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
## <a name="walkthrough-using-the-memory-optimization-advisor"></a><span data-ttu-id="f7273-110">メモリ最適化アドバイザーの使用に関するチュートリアル</span><span class="sxs-lookup"><span data-stu-id="f7273-110">Walkthrough Using the Memory-Optimization Advisor</span></span>  
 <span data-ttu-id="f7273-111">**オブジェクト エクスプローラー**で、変換するテーブルを右クリックし、 **[メモリ最適化アドバイザー]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="f7273-111">In **Object Explorer**, right click the table you want to convert, and select **Memory-Optimization Advisor**.</span></span> <span data-ttu-id="f7273-112">これにより、 **テーブルのメモリ最適化アドバイザー**のようこそページが表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-112">This will display the welcome page for the **Table Memory Optimization Advisor**.</span></span>  
  
### <a name="memory-optimization-checklist"></a><span data-ttu-id="f7273-113">メモリ最適化のチェック リスト</span><span class="sxs-lookup"><span data-stu-id="f7273-113">Memory Optimization Checklist</span></span>  
 <span data-ttu-id="f7273-114">**テーブルのメモリ最適化アドバイザー** のようこそページで **[次へ]** をクリックすると、メモリ最適化のチェック リストが表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-114">When you click **Next** in the welcome page for the **Table Memory Optimization Advisor**, you will see the memory optimization checklist.</span></span> <span data-ttu-id="f7273-115">メモリ最適化テーブルでは、ディスク ベース テーブルのすべての機能がサポートされているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="f7273-115">Memory-optimized tables do not support all the features in a disk-based table.</span></span> <span data-ttu-id="f7273-116">メモリ最適化のチェック リストでは、メモリ最適化テーブルと互換性のない機能がディスク ベース テーブルで使用されているかどうかが報告されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-116">The memory optimization checklist reports if the disk-based table uses any features that are incompatible with a memory-optimized table.</span></span> <span data-ttu-id="f7273-117">**テーブルのメモリ最適化アドバイザー** では、インメモリ OLTP の使用へ移行できるようにディスク ベース テーブルが変更されるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="f7273-117">The **Table Memory Optimization Advisor** does not modify the disk-based table so that it can be migrated to use In-Memory OLTP.</span></span> <span data-ttu-id="f7273-118">移行を続行する前に、それらの変更を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-118">You must make those changes before continuing migration.</span></span> <span data-ttu-id="f7273-119">**テーブルのメモリ最適化アドバイザー** では、非互換性が検出されるたびに、ディスク ベース テーブルの変更に役立つ情報へのリンクが表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-119">For each incompatibility found, the **Table Memory Optimization Advisor** displays a link to information that can help you modify your disk-based tables.</span></span>  
  
 <span data-ttu-id="f7273-120">移行を計画するために、このような非互換性の一覧を保持する場合は、 **[レポートの生成]** をクリックして HTML の一覧を生成します。</span><span class="sxs-lookup"><span data-stu-id="f7273-120">If you wish to keep a list of these incompatibilities, to plan your migration, click the **Generate Report** to generate a HTML list.</span></span>  
  
 <span data-ttu-id="f7273-121">テーブルで非互換性が検出されず、インメモリ OLTP を使用して [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] インスタンスに接続している場合は、 **[次へ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="f7273-121">If your table has no incompatibilities and you are connected to a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] instance with In-Memory OLTP, click **Next**.</span></span>  
  
### <a name="memory-optimization-warnings"></a><span data-ttu-id="f7273-122">[メモリ最適化の警告]</span><span class="sxs-lookup"><span data-stu-id="f7273-122">Memory Optimization Warnings</span></span>  
 <span data-ttu-id="f7273-123">次の [メモリ最適化の警告] ページには、問題の一覧があります。この一覧にある問題によって、インメモリ OLTP を使用するためのテーブルの移行が妨げられることはありませんが、他のオブジェクト (ストアド プロシージャや CLR 関数など) の動作が失敗したり予期しない動作が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-123">The next page, memory optimization warnings, contains a list of issues that do not prevent the table from being migrated to use In-Memory OLTP, but that may cause the behavior of other objects (such as stored procedures or CLR functions) to fail or result in unexpected behavior.</span></span>  
  
 <span data-ttu-id="f7273-124">一覧に表示される最初のいくつかの警告は、情報提供を目的としているため、テーブルに当てはまる場合と当てはまらない場合があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-124">The first several warnings in the list are informational and may or may not apply to your table.</span></span> <span data-ttu-id="f7273-125">テーブルの右側の列にあるリンクをクリックすると、詳細情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-125">Links in the right-hand column of the table will take you to more information.</span></span>  
  
 <span data-ttu-id="f7273-126">警告テーブルには、テーブルには存在しない可能性のある警告も表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-126">The warning table will also display potential warning conditions that are not present in your table.</span></span>  
  
 <span data-ttu-id="f7273-127">対処可能な警告には、左側の列に黄色い三角形が表示されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-127">Actionable warnings will have a yellow triangle in the left-hand column.</span></span> <span data-ttu-id="f7273-128">対処可能な警告がある場合、移行を終了し、警告を解決してから、処理を再開してください。</span><span class="sxs-lookup"><span data-stu-id="f7273-128">If there are actionable warnings, you should exit the migration, resolve the warnings, and then restart the process.</span></span> <span data-ttu-id="f7273-129">警告を解決しないと、移行されるテーブルが原因でエラーが発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-129">If you do not resolve the warnings, your migrated table may cause a failure.</span></span>  
  
 <span data-ttu-id="f7273-130">このような警告の HTML レポートを生成するには、 **[レポートの生成]** をクリックしてください。</span><span class="sxs-lookup"><span data-stu-id="f7273-130">Click **Generate Report** to generate an HTML report of these warnings.</span></span> <span data-ttu-id="f7273-131">**[次へ]** をクリックして続行します。</span><span class="sxs-lookup"><span data-stu-id="f7273-131">Click **Next** to proceed.</span></span>  
  
### <a name="review-optimization-options"></a><span data-ttu-id="f7273-132">[最適化オプションの確認]</span><span class="sxs-lookup"><span data-stu-id="f7273-132">Review Optimization Options</span></span>  
 <span data-ttu-id="f7273-133">次の画面では、インメモリ OLTP への移行に関するオプションを変更できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-133">The next screen lets you modify options for the migration to In-Memory OLTP:</span></span>  
  
 <span data-ttu-id="f7273-134">[メモリ最適化ファイル グループ]</span><span class="sxs-lookup"><span data-stu-id="f7273-134">Memory-optimized filegroup</span></span>  
 <span data-ttu-id="f7273-135">メモリ最適化ファイル グループの名前です。</span><span class="sxs-lookup"><span data-stu-id="f7273-135">The name for your memory-optimized filegroup.</span></span> <span data-ttu-id="f7273-136">メモリ最適化テーブルを作成する前に、データベースには、1 つ以上のファイルを含むメモリ最適化ファイル グループを用意しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-136">A database must have a memory-optimized filegroup with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="f7273-137">メモリ最適化ファイル グループがない場合は、既定の名前を変更できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-137">If you do not have a memory-optimized filegroup, you can change the default name.</span></span> <span data-ttu-id="f7273-138">メモリ最適化ファイル グループを削除することはできません。</span><span class="sxs-lookup"><span data-stu-id="f7273-138">Memory-optimized filegroups cannot be deleted.</span></span> <span data-ttu-id="f7273-139">メモリ最適化ファイル グループが存在する場合、自動終了やデータベース ミラーリングなどのデータベース レベルの機能の一部が無効になることがあります。</span><span class="sxs-lookup"><span data-stu-id="f7273-139">The existence of a memory-optimized filegroup may disable some database-level features such as AUTO CLOSE and database mirroring.</span></span>  
  
 <span data-ttu-id="f7273-140">データベースにメモリ最適化ファイル グループが既に存在する場合、このフィールドにはその名前があらかじめ設定されており、このフィールドの値を変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="f7273-140">If a database already has a memory-optimized file group, this field will be pre-populated with its name and you will not be able to change the value of this field.</span></span>  
  
 <span data-ttu-id="f7273-141">[論理ファイル名とファイル パス]</span><span class="sxs-lookup"><span data-stu-id="f7273-141">Logical file name and File path</span></span>  
 <span data-ttu-id="f7273-142">メモリ最適化テーブルが格納されるファイルの名前です。</span><span class="sxs-lookup"><span data-stu-id="f7273-142">The name of the file that will contain the memory-optimized table.</span></span> <span data-ttu-id="f7273-143">メモリ最適化テーブルを作成する前に、データベースには、1 つ以上のファイルを含むメモリ最適化ファイル グループを用意しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-143">A database must have a memory-optimized file group with at least one file before a memory-optimized table can be created.</span></span>  
  
 <span data-ttu-id="f7273-144">既存のメモリ最適化ファイル グループがない場合は、ファイルの既定の名前とパスを変更すると、移行プロセスの終了時に作成できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-144">If you do not have an existing memory-optimized file group, you can change the default name and path of the file to be created at the end of the migration process.</span></span>  
  
 <span data-ttu-id="f7273-145">既存のメモリ最適化ファイル グループがある場合は、これらのフィールドにはあらかじめ値が設定されており、それらの値を変更することはできません。</span><span class="sxs-lookup"><span data-stu-id="f7273-145">If you have an existing memory-optimized filegroup, these fields will be pre-populated and you will not be able to change the values.</span></span>  
  
 <span data-ttu-id="f7273-146">[元のテーブル名を変更]</span><span class="sxs-lookup"><span data-stu-id="f7273-146">Rename the original table as</span></span>  
 <span data-ttu-id="f7273-147">移行プロセスの終了時には、テーブルの現在の名前を使用して新しいメモリ最適化テーブルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-147">At the end of the migration process, a new memory-optimized table will be created with the current name of the table.</span></span> <span data-ttu-id="f7273-148">名前の競合を回避するには、現在のテーブルの名前を変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-148">To avoid a name conflict, the current table must be renamed.</span></span> <span data-ttu-id="f7273-149">その名前は、このフィールドで変更できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-149">You may change that name in this field.</span></span>  
  
 <span data-ttu-id="f7273-150">[現在の推定メモリ コスト (MB)]</span><span class="sxs-lookup"><span data-stu-id="f7273-150">Estimated current memory cost (MB)</span></span>  
 <span data-ttu-id="f7273-151">メモリ最適化アドバイザーでは、ディスク ベース テーブルのメタデータに基づいて、新しいメモリ最適化テーブルで消費されるメモリの量が推定されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-151">The Memory-Optimization Advisor estimates the amount of memory the new memory-optimized table will consume based on metadata of the disk-based table.</span></span> <span data-ttu-id="f7273-152">テーブル サイズの計算については、「 [メモリ最適化テーブルのテーブルと行のサイズ](table-and-row-size-in-memory-optimized-tables.md)」で説明しています。</span><span class="sxs-lookup"><span data-stu-id="f7273-152">The calculation of the table size is explained in [Table and Row Size in Memory-Optimized Tables](table-and-row-size-in-memory-optimized-tables.md).</span></span>  
  
 <span data-ttu-id="f7273-153">割り当てられているメモリが十分でない場合は、移行プロセスが失敗することがあります。</span><span class="sxs-lookup"><span data-stu-id="f7273-153">If sufficient memory is not allotted, the migration process may fail.</span></span>  
  
 <span data-ttu-id="f7273-154">[新しいメモリ最適化テーブルにテーブル データもコピーする]</span><span class="sxs-lookup"><span data-stu-id="f7273-154">Also copy table data to the new memory optimized table</span></span>  
 <span data-ttu-id="f7273-155">新しいメモリ最適化テーブルに現在のテーブルのデータも移動する場合は、このオプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="f7273-155">Select this option if you wish to also move the data in the current table to the new memory-optimized table.</span></span> <span data-ttu-id="f7273-156">このオプションを選択しないと、新しいメモリ最適化テーブルは作成されますが、行が存在しません。</span><span class="sxs-lookup"><span data-stu-id="f7273-156">If this option is not selected, the new memory-optimized table will be created with no rows.</span></span>  
  
 <span data-ttu-id="f7273-157">[既定でテーブルを持続性のあるテーブルとして移行する]</span><span class="sxs-lookup"><span data-stu-id="f7273-157">The table will be migrated as a durable table by default</span></span>  
 <span data-ttu-id="f7273-158">インメモリ OLTP では、持続性のあるメモリ最適化テーブルと比較するとパフォーマンスが優れている持続性のないテーブルがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="f7273-158">In-Memory OLTP supports non-durable tables with superior performance compared to durable memory-optimized tables.</span></span> <span data-ttu-id="f7273-159">ただし、持続性のないテーブルのデータはサーバーの再起動時に失われます。</span><span class="sxs-lookup"><span data-stu-id="f7273-159">However, data in a non-durable table will be lost upon server restart.</span></span>  
  
 <span data-ttu-id="f7273-160">このオプションを選択した場合、メモリ最適化アドバイザーによって、持続性のあるテーブルではなく持続性のないテーブルが作成されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-160">If this option is selected, the Memory-Optimization Advisor will create a non-durable table instead of a durable table.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="f7273-161">このオプションを選択するのは、持続性のないテーブルと関連したデータ損失のリスクを理解している場合だけにしてください。</span><span class="sxs-lookup"><span data-stu-id="f7273-161">Select this option only if you understand the risk of data loss associated with non-durable tables.</span></span>  
  
 <span data-ttu-id="f7273-162">**[次へ]** をクリックして次に進みます。</span><span class="sxs-lookup"><span data-stu-id="f7273-162">Click **Next** to continue.</span></span>  
  
### <a name="review-primary-key-conversion"></a><span data-ttu-id="f7273-163">[主キーの変換の確認]</span><span class="sxs-lookup"><span data-stu-id="f7273-163">Review Primary Key Conversion</span></span>  
 <span data-ttu-id="f7273-164">次の画面は **[主キーの変換の確認]** です。</span><span class="sxs-lookup"><span data-stu-id="f7273-164">The next screen is **Review Primary Key Conversion**.</span></span> <span data-ttu-id="f7273-165">メモリ最適化アドバイザーでは、テーブルに 1 つ以上の主キーが存在するかどうかが検出され、主キーのメタデータに基づいて列の一覧が作成されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-165">The Memory-Optimization Advisor will detect if there are one or more primary keys in the table, and populates the list of columns based on the primary key metadata.</span></span> <span data-ttu-id="f7273-166">列の一覧が作成されなければ、持続性のあるメモリ最適化テーブルに移行する場合に、主キーを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-166">Otherwise, if you wish to migrate to a durable memory-optimized table, you must create a primary key.</span></span>  
  
 <span data-ttu-id="f7273-167">主キーが存在せず、テーブルを持続性のないテーブルに移行している場合、この画面は表示されません。</span><span class="sxs-lookup"><span data-stu-id="f7273-167">If a primary key doesn't exist and the table is being migrated to a non-durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="f7273-168">テキスト列 (`char`、`nchar`、`varchar`、および `nvarchar` 型の列) の場合は、適切な照合順序を選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-168">For textual columns (columns with types `char`, `nchar`, `varchar`, and `nvarchar`) you must select an appropriate collation.</span></span> <span data-ttu-id="f7273-169">インメモリ OLTP でサポートされているのは、メモリ最適化テーブルの列の BIN2 照合順序のみで、補助文字を使用した照合順序はサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="f7273-169">In-Memory OLTP only supports BIN2 collations for columns on a memory-optimized table and it does not support collations with supplementary characters.</span></span> <span data-ttu-id="f7273-170">サポートされている照合順序と、照合順序を変更した場合に考えられる影響については、「 [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f7273-170">See [Collations and Code Pages](../../database-engine/collations-and-code-pages.md) for information on the collations supported and the potential impact of a change in collation.</span></span>  
  
 <span data-ttu-id="f7273-171">主キーの構成可能なパラメーターは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="f7273-171">You can configure the following parameters for the primary key:</span></span>  
  
 <span data-ttu-id="f7273-172">[この主キーの新しい名前を選択する]</span><span class="sxs-lookup"><span data-stu-id="f7273-172">Select a new name for this primary key</span></span>  
 <span data-ttu-id="f7273-173">このテーブルの主キーの名前は、データベース内で一意である必要があります。</span><span class="sxs-lookup"><span data-stu-id="f7273-173">The primary key name for this table must be unique inside the database.</span></span> <span data-ttu-id="f7273-174">主キーの名前は、ここで変更できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-174">You may change the name of the primary key here.</span></span>  
  
 <span data-ttu-id="f7273-175">[この主キーの種類を選択する]</span><span class="sxs-lookup"><span data-stu-id="f7273-175">Select the type of this primary key</span></span>  
 <span data-ttu-id="f7273-176">インメモリ OLTP では、メモリ最適化テーブルで次の 2 種類のインデックスをサポートしています。</span><span class="sxs-lookup"><span data-stu-id="f7273-176">In-Memory OLTP supports two types of indexes on a memory-optimized table:</span></span>  
  
-   <span data-ttu-id="f7273-177">NONCLUSTERED HASH インデックス。</span><span class="sxs-lookup"><span data-stu-id="f7273-177">A NONCLUSTERED HASH index.</span></span> <span data-ttu-id="f7273-178">このインデックスは、多数のポイント参照を含むインデックスに最適です。</span><span class="sxs-lookup"><span data-stu-id="f7273-178">This index is best for indexes with many point lookups.</span></span> <span data-ttu-id="f7273-179">**[バケット数]** フィールドで、このインデックスのバケット数を構成できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-179">You may configure the bucket count for this index in the **Bucket Count** field.</span></span>  
  
-   <span data-ttu-id="f7273-180">NONCLUSTERED インデックス。</span><span class="sxs-lookup"><span data-stu-id="f7273-180">A NONCLUSTERED index.</span></span> <span data-ttu-id="f7273-181">この種類のインデックスは、多数の範囲クエリを含むインデックスに最適です。</span><span class="sxs-lookup"><span data-stu-id="f7273-181">This type of index is best for indexes with many range queries.</span></span> <span data-ttu-id="f7273-182">**[並べ替え列と並べ替え順序]** の一覧で、各列の並べ替え順序を構成できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-182">You may configure the sort order for each column in the **Sort column and order** list.</span></span>  
  
 <span data-ttu-id="f7273-183">主キーに最適なインデックスの種類を理解するには、「 [ハッシュ インデックス](../../database-engine/hash-indexes.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f7273-183">To understand the type of index best for your primary key, see [Hash Indexes](../../database-engine/hash-indexes.md).</span></span>  
  
 <span data-ttu-id="f7273-184">主キーを選択したら、 **[次へ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="f7273-184">Click **Next** after you make your primary key choices.</span></span>  
  
### <a name="review-index-conversion"></a><span data-ttu-id="f7273-185">[インデックスの変換の確認]</span><span class="sxs-lookup"><span data-stu-id="f7273-185">Review Index Conversion</span></span>  
 <span data-ttu-id="f7273-186">次は **[インデックスの変換の確認]** ページです。</span><span class="sxs-lookup"><span data-stu-id="f7273-186">The next page is **Review Index Conversion**.</span></span> <span data-ttu-id="f7273-187">メモリ最適化アドバイザーでは、テーブルに 1 つ以上のインデックスが存在するかどうかが検出され、列とデータ型の一覧が作成されます。</span><span class="sxs-lookup"><span data-stu-id="f7273-187">The Memory-Optimization Advisor will detect if there are one or more indexes in the table, and populates the list of columns and data type.</span></span> <span data-ttu-id="f7273-188">**[インデックスの変換の確認]** ページで構成できるパラメーターは、前の **[主キーの変換の確認]** ページと同じです。</span><span class="sxs-lookup"><span data-stu-id="f7273-188">The parameters you can configure in the **Review Index Conversion** page are similar to the previous, **Review Primary Key Conversion** page.</span></span>  
  
 <span data-ttu-id="f7273-189">主キーのみがあるテーブルを持続性のあるテーブルに移行している場合、この画面は表示されません。</span><span class="sxs-lookup"><span data-stu-id="f7273-189">If the table only has a primary key and it's being migrated to a durable table, this screen will not appear.</span></span>  
  
 <span data-ttu-id="f7273-190">テーブル内の各インデックスについて変換するかどうかを決定したら、 **[次へ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="f7273-190">After you make a decision for every index in your table, click **Next**.</span></span>  
  
### <a name="verify-migration-actions"></a><span data-ttu-id="f7273-191">[移行アクションの確認]</span><span class="sxs-lookup"><span data-stu-id="f7273-191">Verify Migration Actions</span></span>  
 <span data-ttu-id="f7273-192">次は **[移行アクションの確認]** ページです。</span><span class="sxs-lookup"><span data-stu-id="f7273-192">The next page is **Verify Migration Actions**.</span></span> <span data-ttu-id="f7273-193">移行操作のスクリプトを作成するには、 **[スクリプト]** をクリックして [!INCLUDE[tsql](../../includes/tsql-md.md)] スクリプトを生成します。</span><span class="sxs-lookup"><span data-stu-id="f7273-193">To script the migration operation, click **Script** to generate a [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="f7273-194">その後、スクリプトを変更および実行できます。</span><span class="sxs-lookup"><span data-stu-id="f7273-194">You may then modify and execute the script.</span></span> <span data-ttu-id="f7273-195">テーブルの移行を開始するには、 **[移行]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="f7273-195">Click **Migrate** to begin the table migration.</span></span>  
  
 <span data-ttu-id="f7273-196">移行プロセスが完了したら、 **オブジェクト エクスプローラー** を更新して、新しいメモリ最適化テーブルと古いディスク ベース テーブルを確認します。</span><span class="sxs-lookup"><span data-stu-id="f7273-196">After the process is finished, refresh **Object Explorer** to see the new memory-optimized table and the old disk-based table.</span></span> <span data-ttu-id="f7273-197">古いテーブルは保持しておくことも、都合のよいときに削除することも可能です。</span><span class="sxs-lookup"><span data-stu-id="f7273-197">You can keep the old table or delete it at your convenience.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f7273-198">参照</span><span class="sxs-lookup"><span data-stu-id="f7273-198">See Also</span></span>  
 [<span data-ttu-id="f7273-199">インメモリ OLTP への移行</span><span class="sxs-lookup"><span data-stu-id="f7273-199">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
