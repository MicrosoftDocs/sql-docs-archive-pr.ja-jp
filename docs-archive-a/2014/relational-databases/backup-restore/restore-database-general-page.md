---
title: '[データベースの復元] ([全般] ページ) | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restoredb.general.f1
ms.assetid: 160cf58c-b06a-475f-9a69-2b051e5767ab
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2a497e6a6e4584aa064783eba2076b7e50b36e8f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643421"
---
# <a name="restore-database-general-page"></a><span data-ttu-id="abc89-102">[データベースの復元] ([全般] ページ)</span><span class="sxs-lookup"><span data-stu-id="abc89-102">Restore Database (General Page)</span></span>
  <span data-ttu-id="abc89-103">**[全般]** ページを使用すると、データベースの復元操作における対象データベースとソース データベースに関する情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-103">Use the **General** page to specify information about the target and source databases for a database-restore operation.</span></span>  
  
 <span data-ttu-id="abc89-104">**SQL Server Management Studio を使用してデータベース バックアップを復元するには**</span><span class="sxs-lookup"><span data-stu-id="abc89-104">**To use SQL Server Management Studio to restore a database backup**</span></span>  
  
-   [<span data-ttu-id="abc89-105">データベースバックアップを復元する &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="abc89-105">Restore a Database Backup &#40;SQL Server Management Studio&#41;</span></span>](restore-a-database-backup-using-ssms.md)  
  
-   [<span data-ttu-id="abc89-106">テープ ドライブの論理バックアップ デバイスの定義 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="abc89-106">Define a Logical Backup Device for a Tape Drive &#40;SQL Server&#41;</span></span>](define-a-logical-backup-device-for-a-tape-drive-sql-server.md)  
  
> [!NOTE]  
>  <span data-ttu-id="abc89-107">を使用して復元タスクを指定する場合は [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 、[ [!INCLUDE[tsql](../../includes/tsql-md.md)] **スクリプト**] をクリックしてスクリプトの保存先を選択することにより、対応する[restore](/sql/t-sql/statements/restore-statements-transact-sql)スクリプトを生成できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-107">When you specify a restore task by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], you can generate the corresponding [!INCLUDE[tsql](../../includes/tsql-md.md)][RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) script by clicking **Script** and then selecting a destination for the script.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="abc89-108">アクセス許可</span><span class="sxs-lookup"><span data-stu-id="abc89-108">Permissions</span></span>  
 <span data-ttu-id="abc89-109">復元するデータベースが存在しない場合、ユーザーは RESTORE を実行できる CREATE DATABASE 権限を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="abc89-109">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="abc89-110">データベースが存在する場合、既定では、RESTORE 権限は **sysadmin** 固定サーバー ロールおよび **dbcreator** 固定サーバー ロールのメンバーと、データベースの所有者 (**dbo**) に与えられています。</span><span class="sxs-lookup"><span data-stu-id="abc89-110">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database.</span></span>  
  
 <span data-ttu-id="abc89-111">RESTORE 権限は、サーバーでメンバーシップ情報を常に確認できるロールに与えられます。</span><span class="sxs-lookup"><span data-stu-id="abc89-111">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="abc89-112">固定データベース ロールのメンバーシップは、データベースがアクセス可能で破損していない場合にのみ確認することができますが、RESTORE の実行時にはデータベースがアクセス可能で損傷していないことが必ずしも保証されないため、 **db_owner** 固定データベース ロールのメンバーには RESTORE 権限は与えられません。</span><span class="sxs-lookup"><span data-stu-id="abc89-112">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
 <span data-ttu-id="abc89-113">暗号化されたバックアップから復元するには、バックアップ時の暗号化に使用された証明書または非対称キーに対する `VIEW DEFINITION` 権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="abc89-113">Restoring from an encrypted backup requires `VIEW DEFINITION` permissions to the certificate or asymmetric key used to encrypt during backup.</span></span>  
  
## <a name="options"></a><span data-ttu-id="abc89-114">Options</span><span class="sxs-lookup"><span data-stu-id="abc89-114">Options</span></span>  
  
### <a name="source"></a><span data-ttu-id="abc89-115">source</span><span class="sxs-lookup"><span data-stu-id="abc89-115">Source</span></span>  
 <span data-ttu-id="abc89-116">**[復元元]** パネルのオプションでは、データベースのバックアップ セットの場所と復元するバックアップ セットを指定します。</span><span class="sxs-lookup"><span data-stu-id="abc89-116">The options of the **Restore from**panel identify the location of the backup sets for the database and which backup sets you want to restore.</span></span>  
  
|<span data-ttu-id="abc89-117">期間</span><span class="sxs-lookup"><span data-stu-id="abc89-117">Term</span></span>|<span data-ttu-id="abc89-118">定義</span><span class="sxs-lookup"><span data-stu-id="abc89-118">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="abc89-119">**[データベース]**</span><span class="sxs-lookup"><span data-stu-id="abc89-119">**Database**</span></span>|<span data-ttu-id="abc89-120">復元するデータベースをドロップダウン リストから選択します。</span><span class="sxs-lookup"><span data-stu-id="abc89-120">Select the database to restore from the drop-down list.</span></span> <span data-ttu-id="abc89-121">このリストには、 **msdb** バックアップ履歴に従ってバックアップされたデータベースのみが含まれます。</span><span class="sxs-lookup"><span data-stu-id="abc89-121">The list contains only databases that have been backed up according to the **msdb** backup history.</span></span>|  
|<span data-ttu-id="abc89-122">**[デバイス]**</span><span class="sxs-lookup"><span data-stu-id="abc89-122">**Device**</span></span>|<span data-ttu-id="abc89-123">復元対象のバックアップを含む論理バックアップ デバイスまたは物理バックアップ デバイス (テープ、URL、またはファイル) を選択します。</span><span class="sxs-lookup"><span data-stu-id="abc89-123">Select the logical or physical backup devices (tapes, URL or files) that contain the backup or backups you want to restore.</span></span> <span data-ttu-id="abc89-124">データベース バックアップが [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の別のインスタンスで作成された場合、これは必須です。</span><span class="sxs-lookup"><span data-stu-id="abc89-124">This is required if the database backup was taken on a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="abc89-125">1 つ以上の論理バックアップ デバイスまたは物理バックアップ デバイスを選択するには、参照ボタンをクリックして、 **[バックアップ デバイスの選択]** ダイアログ ボックスを開きます。</span><span class="sxs-lookup"><span data-stu-id="abc89-125">To select one or more logical or physical backup devices, click the browse button which opens the **Select backup devices** dialog box.</span></span> <span data-ttu-id="abc89-126">このダイアログ ボックスで、1 つのメディア セットに属する最大 64 個のデバイスを選択できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-126">There, you can select up to 64 devices that belong to a single media set.</span></span> <span data-ttu-id="abc89-127">テープ デバイスは、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]のインスタンスが動作しているコンピューターに物理的に接続している必要があります。</span><span class="sxs-lookup"><span data-stu-id="abc89-127">Tape devices must be physically connected to the computer that is running the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="abc89-128">バックアップ ファイルは、ローカルまたはリモートのディスク デバイスに配置できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-128">A backup file can be on a local or remove disk device.</span></span> <span data-ttu-id="abc89-129">詳細については、「 [バックアップ デバイス &#40;SQL Server&#41;](backup-devices-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="abc89-129">For more information, see [Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md).</span></span> <span data-ttu-id="abc89-130">Azure Storage に格納されるバックアップ ファイルのデバイスの種類として、 **[URL]** を選択することもできます。</span><span class="sxs-lookup"><span data-stu-id="abc89-130">You can also select **URL** as the  device type for backup files stored in Azure storage.</span></span><br /><br /> <span data-ttu-id="abc89-131">**[バックアップ デバイスの選択]** ダイアログ ボックスを終了すると、選択したデバイスが **[デバイス]** の一覧に読み取り専用の値として表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-131">When you exit the **Select backup devices** dialog box, the selected device will appear as read-only values in the **Device** list.</span></span>|  
|<span data-ttu-id="abc89-132">**[データベース]**</span><span class="sxs-lookup"><span data-stu-id="abc89-132">**Database**</span></span>|<span data-ttu-id="abc89-133">ドロップダウン リストから、バックアップを復元するデータベース名を選択します。</span><span class="sxs-lookup"><span data-stu-id="abc89-133">Select the database name from which the backups should be restored from the dropdown list.</span></span><br /><br /> <span data-ttu-id="abc89-134">注:この一覧は **[デバイス]** を選択した場合にのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-134">Note: This list is only available when **Device** is selected.</span></span> <span data-ttu-id="abc89-135">選択されたデバイスにバックアップを持つデータベースのみが使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="abc89-135">Only databases that have backups on the selected devices will be available.</span></span>|  
  
### <a name="destination"></a><span data-ttu-id="abc89-136">到着地</span><span class="sxs-lookup"><span data-stu-id="abc89-136">Destination</span></span>  
 <span data-ttu-id="abc89-137">**[復元先]** パネルのオプションでは、データベースと復元ポイントを指定します。</span><span class="sxs-lookup"><span data-stu-id="abc89-137">The options of the **Restore to** panel identify the database and restore point.</span></span>  
  
|<span data-ttu-id="abc89-138">期間</span><span class="sxs-lookup"><span data-stu-id="abc89-138">Term</span></span>|<span data-ttu-id="abc89-139">定義</span><span class="sxs-lookup"><span data-stu-id="abc89-139">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="abc89-140">**[データベース]**</span><span class="sxs-lookup"><span data-stu-id="abc89-140">**Database**</span></span>|<span data-ttu-id="abc89-141">復元するデータベースを一覧に入力します。</span><span class="sxs-lookup"><span data-stu-id="abc89-141">Enter the database to restore in the list.</span></span> <span data-ttu-id="abc89-142">新しいデータベースを入力するか、ドロップダウン リストから既存のデータベースを選択します。</span><span class="sxs-lookup"><span data-stu-id="abc89-142">You can enter a new database or choose an existing database from the drop-down list.</span></span> <span data-ttu-id="abc89-143">このリストには、システム データベース **master** および **tempdb**を除いた、サーバー上のすべてのデータベースが表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-143">The list includes all databases on the server, excluding the system databases **master** and **tempdb**.</span></span><br /><br /> <span data-ttu-id="abc89-144">注:パスワードで保護されたバックアップを復元するには、 [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) ステートメントを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="abc89-144">Note: To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>|  
|<span data-ttu-id="abc89-145">**[復元先]**</span><span class="sxs-lookup"><span data-stu-id="abc89-145">**Restore to**</span></span>|<span data-ttu-id="abc89-146">既定では、 **[復元先]** ボックスが [最後に作成されたバックアップ] に設定されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-146">The **Restore to** box will be set "To the last backup taken" by default.</span></span> <span data-ttu-id="abc89-147">**[タイムライン]** をクリックして、 **[バックアップのタイムライン]** ダイアログ ボックスを表示することもできます。このダイアログ ボックスでは、データベースのバックアップ履歴がタイムラインの形式で表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-147">You can also click **Timeline** to show the **Backup Timeline** dialog box, which displays the database backup history in the form of a timeline.</span></span> <span data-ttu-id="abc89-148">[**タイムライン**] をクリックして、データベースを復元する特定のを指定し `datetime` ます。</span><span class="sxs-lookup"><span data-stu-id="abc89-148">Click **Timeline** to designate a specific `datetime` to which you want to restore the database.</span></span> <span data-ttu-id="abc89-149">データベースは、この指定された時点での状態に復元されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-149">The database will then be restored to the state it was in at this specified point in time.</span></span> <span data-ttu-id="abc89-150">「 [Backup Timeline](backup-timeline.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="abc89-150">See [Backup Timeline](backup-timeline.md).</span></span>|  
  
### <a name="restore-plan"></a><span data-ttu-id="abc89-151">復元プラン</span><span class="sxs-lookup"><span data-stu-id="abc89-151">Restore Plan</span></span>  
  
|<span data-ttu-id="abc89-152">期間</span><span class="sxs-lookup"><span data-stu-id="abc89-152">Term</span></span>|<span data-ttu-id="abc89-153">定義</span><span class="sxs-lookup"><span data-stu-id="abc89-153">Definition</span></span>|  
|----------|----------------|  
|<span data-ttu-id="abc89-154">**[復元するバックアップ セット]**</span><span class="sxs-lookup"><span data-stu-id="abc89-154">**Backup sets to restore**</span></span>|<span data-ttu-id="abc89-155">指定した場所にあるバックアップ セットを表示します。</span><span class="sxs-lookup"><span data-stu-id="abc89-155">Displays the backup sets available for the specified location.</span></span> <span data-ttu-id="abc89-156">各バックアップ セット (1 回のバックアップ操作の結果) は、メディア セット内のすべてのデバイスに分散されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-156">Each backup set, the result of a single backup operation, is distributed across all of the devices in the media set.</span></span> <span data-ttu-id="abc89-157">既定では、必要なバックアップ セットの選択に基づいて、復元操作の目的を達成するための復旧プランが提案されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-157">By default, a recovery plan is suggested to achieve the goal of the restore operation that is based on the selection of the required backup sets.</span></span> [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="abc89-158">では、 **msdb** のバックアップ履歴に基づいて、データベースの復元に必要なバックアップが識別され、復元プランが作成されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-158">uses the backup history in **msdb** to identify which backups are required to restore a database, and creates a restore plan.</span></span> <span data-ttu-id="abc89-159">たとえば、データベースの復元では、最新の完全データベース バックアップを選択した後、(存在する場合は) 最新の差分バックアップを選択する復元プランが作成されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-159">For example, for a database restore, the restore plan selects the most recent full database backup followed by the most recent subsequent differential database backup, if any.</span></span> <span data-ttu-id="abc89-160">完全復旧モデルの復元プランでは、さらに、すべてのログ バックアップが選択されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-160">Under the full recovery model, the restore plan then selects all subsequent log backups.</span></span><br /><br /> <span data-ttu-id="abc89-161">推奨される復旧計画をオーバーライドするには、グリッドで次の選択項目を変更します。</span><span class="sxs-lookup"><span data-stu-id="abc89-161">To override the suggested recovery plan, you can change the following selections in the grid.</span></span> <span data-ttu-id="abc89-162">バックアップの選択を解除すると、それに依存するその他のバックアップも自動的に選択が解除されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-162">Any backups that depend on a deselected backup are deselected automatically.</span></span><br /><br /> <span data-ttu-id="abc89-163">**復元**:</span><span class="sxs-lookup"><span data-stu-id="abc89-163">**Restore**:</span></span><br />                          <span data-ttu-id="abc89-164">このチェック ボックスをオンにすると、バックアップ セットが復元されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-164">The selected check boxes indicate the backup sets to be restored.</span></span><br /><span data-ttu-id="abc89-165">**名前**: バックアップセットの名前。</span><span class="sxs-lookup"><span data-stu-id="abc89-165">**Name**: The name of the backup set.</span></span><br /><span data-ttu-id="abc89-166">**コンポーネント**: バックアップされるコンポーネント。**データベース**、**ファイル**、または **\<blank>** (トランザクションログ用) です。</span><span class="sxs-lookup"><span data-stu-id="abc89-166">**Component**: The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span><br /><span data-ttu-id="abc89-167">**[種類]** :実行するバックアップの種類: **[完全]** 、 **[差分]** 、 **[トランザクション ログ]** 。</span><span class="sxs-lookup"><span data-stu-id="abc89-167">**Type**: The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span><br /><span data-ttu-id="abc89-168">**[サーバー]** :バックアップ操作を実行した [!INCLUDE[ssDE](../../includes/ssde-md.md)] インスタンスの名前。</span><span class="sxs-lookup"><span data-stu-id="abc89-168">**Server**: The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span><br /><span data-ttu-id="abc89-169">**データベース**: バックアップ操作に関係するデータベースの名前。</span><span class="sxs-lookup"><span data-stu-id="abc89-169">**Database**: The name of the database involved in the backup operation.</span></span><br /><span data-ttu-id="abc89-170">**[位置]** :ボリューム内でのバックアップ セットの位置。</span><span class="sxs-lookup"><span data-stu-id="abc89-170">**Position**: The position of the backup set in the volume.</span></span><br /><span data-ttu-id="abc89-171">**最初の LSN**: バックアップセット内の最初のトランザクションのログシーケンス番号。</span><span class="sxs-lookup"><span data-stu-id="abc89-171">**First LSN**: The log sequence number of the first transaction in the backup set.</span></span> <span data-ttu-id="abc89-172">ファイル バックアップの場合は空白。</span><span class="sxs-lookup"><span data-stu-id="abc89-172">Blank for file backups.</span></span><br /><span data-ttu-id="abc89-173">**最後の LSN**: バックアップセット内の最後のトランザクションのログシーケンス番号。</span><span class="sxs-lookup"><span data-stu-id="abc89-173">**Last LSN**: The log sequence number of the last transaction in the backup set.</span></span> <span data-ttu-id="abc89-174">ファイル バックアップの場合は空白。</span><span class="sxs-lookup"><span data-stu-id="abc89-174">Blank for file backups.</span></span><br /><span data-ttu-id="abc89-175">**CHECKPOINT LSN**: バックアップが作成された時点での最新のチェックポイントのログシーケンス番号 (lsn)。</span><span class="sxs-lookup"><span data-stu-id="abc89-175">**Checkpoint LSN**: The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span><br /><span data-ttu-id="abc89-176">**FULL LSN**: データベースの最新の完全バックアップのログシーケンス番号。</span><span class="sxs-lookup"><span data-stu-id="abc89-176">**Full LSN**: The log sequence number of the most recent full database backup.</span></span><br /><span data-ttu-id="abc89-177">[**開始日**]: バックアップ操作が開始された日付と時刻。クライアントの地域設定で表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-177">**Start Date**: The date and time when the backup operation began, presented in the regional setting of the client.</span></span><br /><span data-ttu-id="abc89-178">**[完了日**]: バックアップ操作が終了した日付と時刻。クライアントの地域設定で表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-178">**Finish Date**: The date and time when the backup operation finished, presented in the regional setting of the client.</span></span><br /><span data-ttu-id="abc89-179">**サイズ**: バックアップセットのサイズ (バイト単位)。</span><span class="sxs-lookup"><span data-stu-id="abc89-179">**Size**: The size of the backup set in bytes.</span></span><br /><span data-ttu-id="abc89-180">**ユーザー名**: バックアップ操作を実行したユーザーの名前。</span><span class="sxs-lookup"><span data-stu-id="abc89-180">**User Name**: The name of the user who performed the backup operation.</span></span><br /><br /> <span data-ttu-id="abc89-181">[**有効期限**]: バックアップセットの有効期限が切れる日付と時刻。</span><span class="sxs-lookup"><span data-stu-id="abc89-181">**Expiration**: The date and time the backup set expires.</span></span><br /><br /> <span data-ttu-id="abc89-182">**[手動での選択]** がオンになっている場合にのみ、チェック ボックスを使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="abc89-182">The checkboxes are only enabled when the **Manual Selection** box is checked.</span></span> <span data-ttu-id="abc89-183">これにより、復元されるバックアップ セットを選択できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-183">This allows you to select which backup-sets are to be restored.</span></span><br /><br /> <span data-ttu-id="abc89-184">**[手動での選択]** がオンになっていると、復元プランが変更されるたびに、その正確性が確認されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-184">When the **Manual Selection** box is checked, the accuracy of the Restore Plan is checked each time it is modified.</span></span> <span data-ttu-id="abc89-185">バックアップのシーケンスが正しくない場合は、エラー メッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-185">If the sequence of backups is incorrect, an error message will appear.</span></span>|  
|<span data-ttu-id="abc89-186">**[バックアップ メディアの検証]**</span><span class="sxs-lookup"><span data-stu-id="abc89-186">**Verify Backup Media**</span></span>|<span data-ttu-id="abc89-187">選択したバックアップ セットに対して RESTORE VERIFY_ONLY ステートメントを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="abc89-187">Calls a RESTORE VERIFY_ONLY statement on the selected backup-sets.</span></span><br /><br /> <span data-ttu-id="abc89-188">メモ: この操作の実行には時間がかかるので、ダイアログ フレームワークの進行状況モニターを使用して、進行状況の追跡や実行の取り消しを行うことができます。</span><span class="sxs-lookup"><span data-stu-id="abc89-188">Note: This is a long-running operation, and its progress can be tracked and cancelled by using the Progress Monitor on the Dialog Framework.</span></span><br /><br /> <span data-ttu-id="abc89-189">このボタンを使用すると、選択したバックアップ ファイルの整合性を、復元前にチェックできます。</span><span class="sxs-lookup"><span data-stu-id="abc89-189">This button allows you to check the integrity of the selected backup files prior to restoring them.</span></span><br /><br /> <span data-ttu-id="abc89-190">バックアップ セットの整合性のチェック中は、ダイアログ ボックスの左下の進行状況が、"実行しています" ではなく "検証しています" になります。</span><span class="sxs-lookup"><span data-stu-id="abc89-190">When checking the integrity of backup sets, the progress status at the bottom left of the dialog box will read "Verifying" rather than "Executing."</span></span>|  
  
## <a name="compatibility-support"></a><span data-ttu-id="abc89-191">互換性サポート</span><span class="sxs-lookup"><span data-stu-id="abc89-191">Compatibility Support</span></span>  
 <span data-ttu-id="abc89-192">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]では、 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 以降のバージョンを使用して作成したデータベース バックアップからユーザー データベースを復元できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-192">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you can restore a user database from a database backup that was created by using [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or a later version.</span></span> <span data-ttu-id="abc89-193">ただし、 **～**を使用して作成された **master** 、 **model** 、および [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] msdb [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] のバックアップを [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]で復元することはできません。</span><span class="sxs-lookup"><span data-stu-id="abc89-193">However, backups of **master**, **model** and **msdb** that were created by using [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] through [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] cannot be restored by [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="abc89-194">また、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] で作成されたバックアップを以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]で復元することもできません。</span><span class="sxs-lookup"><span data-stu-id="abc89-194">Also, backups created in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot be restored by any earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="abc89-195">では、以前のバージョンとは異なる既定パスが使用されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-195">uses a different default path than earlier versions.</span></span> <span data-ttu-id="abc89-196">そのため、以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]の既定の場所に作成されたデータベースを復元するには、MOVE オプションを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="abc89-196">Therefore, to restore a database that was created in the default location of an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must use the MOVE option.</span></span>  
  
 <span data-ttu-id="abc89-197">以前のバージョンのデータベースを [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]に復元すると、データベースが自動的にアップグレードされます。</span><span class="sxs-lookup"><span data-stu-id="abc89-197">After you restore an earlier version database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database is automatically upgraded.</span></span> <span data-ttu-id="abc89-198">通常、データベースは直ちに使用可能になります。</span><span class="sxs-lookup"><span data-stu-id="abc89-198">Typically, the database becomes available immediately.</span></span> <span data-ttu-id="abc89-199">ただし、 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] データベースにフルテキスト インデックスがある場合、アップグレード プロセスでは、 **[フルテキスト アップグレード オプション]** サーバー プロパティの設定に応じて、インポート、リセット、または再構築が行われます。</span><span class="sxs-lookup"><span data-stu-id="abc89-199">However, if a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database has full-text indexes, the upgrade process either imports, resets, or rebuilds them, depending on the setting of the **Full-Text Upgrade Option** server property.</span></span> <span data-ttu-id="abc89-200">アップグレード オプションが **[インポート]** または **[再構築]** に設定されている場合、アップグレード中はフルテキスト インデックスを使用できなくなります。</span><span class="sxs-lookup"><span data-stu-id="abc89-200">If the upgrade option is set to **Import** or **Rebuild**, the full-text indexes will be unavailable during the upgrade.</span></span> <span data-ttu-id="abc89-201">インデックスを作成するデータ量によって、インポートには数時間、再構築には最大でその 10 倍の時間がかかることがあります。</span><span class="sxs-lookup"><span data-stu-id="abc89-201">Depending upon the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="abc89-202">なお、アップグレード オプションが **[インポート]** に設定されており、フルテキスト カタログが使用できない場合は、関連付けられたフルテキスト インデックスが再構築されます。</span><span class="sxs-lookup"><span data-stu-id="abc89-202">Note also that when the upgrade option is set to **Import**, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
## <a name="restoring-from-an-encrypted-backup"></a><span data-ttu-id="abc89-203">暗号化されたバックアップからの復元</span><span class="sxs-lookup"><span data-stu-id="abc89-203">Restoring from an Encrypted Backup</span></span>  
 <span data-ttu-id="abc89-204">復元するには、最初にバックアップの作成に使用された証明書または非対称キーを復元先のインスタンスで使用できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="abc89-204">Restore requires that the certificate or asymmetric key that was originally used to create the backup is available on the instance you are restoring to.</span></span> <span data-ttu-id="abc89-205">復元を実行するアカウントには、証明書または非対称キーに対する `VIEW DEFINITIONS` 権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="abc89-205">The account performing the restore should have `VIEW DEFINITIONS` on the certificate or asymmetric key.</span></span> <span data-ttu-id="abc89-206">バックアップの暗号化に使用した証明書は更新しないでください。</span><span class="sxs-lookup"><span data-stu-id="abc89-206">Certificates used to encrypt backup should not be renewed or updated.</span></span>  
  
## <a name="restoring-from-azure-storage"></a><span data-ttu-id="abc89-207">Azure Storage からの復元</span><span class="sxs-lookup"><span data-stu-id="abc89-207">Restoring from Azure Storage</span></span>  
 <span data-ttu-id="abc89-208">Azure storage に格納されているバックアップを復元する場合、復元用の UI には新しいバックアップデバイスオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="abc89-208">When restoring a backup stored in Azure storage, the Restore UI has a new backup device option.</span></span> <span data-ttu-id="abc89-209">**[バックアップ デバイスの選択]** ダイアログ ボックスの **[URL]** です。</span><span class="sxs-lookup"><span data-stu-id="abc89-209">**URL** on the **Select backup devices** dialog.</span></span> <span data-ttu-id="abc89-210">[**追加**] をクリックすると、[ **Azure への接続**] ダイアログボックスが表示され、ストレージアカウントに対する認証に使用する SQL 資格情報を指定できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-210">When you click **Add**, this takes you to the **Connect to Azure** dialog that allows you to specify the SQL Credential information to authenticate to the storage account.</span></span>  <span data-ttu-id="abc89-211">ストレージアカウントに接続すると、バックアップファイルが [ **Azure でのバックアップファイルの検索**] ダイアログボックスに表示され、復元に使用するファイルを選択できます。</span><span class="sxs-lookup"><span data-stu-id="abc89-211">Once connected to the storage account, the backup files are displayed in the **Locate a Backup file in Azure** dialog where you can select the file to use for the restore.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="abc89-212">参照</span><span class="sxs-lookup"><span data-stu-id="abc89-212">See Also</span></span>  
 <span data-ttu-id="abc89-213">[バックアップ デバイス &#40;SQL Server&#41;](backup-devices-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-213">[Backup Devices &#40;SQL Server&#41;](backup-devices-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-214">[デバイスからのバックアップ復元 &#40;SQL Server&#41;](restore-a-backup-from-a-device-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-214">[Restore a Backup from a Device &#40;SQL Server&#41;](restore-a-backup-from-a-device-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-215">[マークされたトランザクションへのデータベースの復元 &#40;SQL Server Management Studio&#41;](restore-a-database-to-a-marked-transaction-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-215">[Restore a Database to a Marked Transaction &#40;SQL Server Management Studio&#41;](restore-a-database-to-a-marked-transaction-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="abc89-216">[トランザクション ログ バックアップの復元 &#40;SQL Server&#41;](restore-a-transaction-log-backup-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-216">[Restore a Transaction Log Backup &#40;SQL Server&#41;](restore-a-transaction-log-backup-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-217">[バックアップ テープまたはバックアップ ファイルの内容の表示 &#40;SQL Server&#41;](view-the-contents-of-a-backup-tape-or-file-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-217">[View the Contents of a Backup Tape or File &#40;SQL Server&#41;](view-the-contents-of-a-backup-tape-or-file-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-218">[論理バックアップ デバイスのプロパティと内容の表示 &#40;SQL Server&#41;](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-218">[View the Properties and Contents of a Logical Backup Device &#40;SQL Server&#41;](view-the-properties-and-contents-of-a-logical-backup-device-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-219">[メディア セット、メディア ファミリ、およびバックアップ セット &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="abc89-219">[Media Sets, Media Families, and Backup Sets &#40;SQL Server&#41;](media-sets-media-families-and-backup-sets-sql-server.md) </span></span>  
 <span data-ttu-id="abc89-220">[RESTORE の引数 &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="abc89-220">[RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql) </span></span>  
 [<span data-ttu-id="abc89-221">トランザクション ログ バックアップの適用 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="abc89-221">Apply Transaction Log Backups &#40;SQL Server&#41;</span></span>](transaction-log-backups-sql-server.md)  
  
  
