---
title: Azure へのマネージバックアップの SQL Server |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: afa01165-39e0-4efe-ac0e-664edb8599fd
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8fbe94eace1244b4e5f37b60848d47b69ecc8144
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87643993"
---
# <a name="sql-server-managed--backup-to-azure"></a><span data-ttu-id="77321-102">Azure へのマネージバックアップの SQL Server</span><span class="sxs-lookup"><span data-stu-id="77321-102">SQL Server Managed  Backup to Azure</span></span>
  [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-103">Azure Blob ストレージサービスへの SQL Server のバックアップを管理および自動化します。</span><span class="sxs-lookup"><span data-stu-id="77321-103">manages and automates SQL Server backups to the Azure Blob storage service.</span></span> <span data-ttu-id="77321-104">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]で使用されるバックアップ方法は、データベースの保有期間とトランザクション ワークロードに基づきます。</span><span class="sxs-lookup"><span data-stu-id="77321-104">The backup strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is based on the retention period and the transaction workload on the database.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="77321-105">では、指定された保有期間の特定の時点への復元がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="77321-105">supports point in time restore for the retention time period specified.</span></span>   
[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-106">は、データベース レベルで有効にすることも、インスタンス レベルで有効にして SQL Server インスタンス上のすべてのデータベースを管理することもできます。</span><span class="sxs-lookup"><span data-stu-id="77321-106">can be enabled at the database level or at the instance level to manage all the databases on the instance of SQL Server.</span></span> <span data-ttu-id="77321-107">SQL Server は、オンプレミスまたは Azure 仮想マシンなどのホストされた環境で実行できます。</span><span class="sxs-lookup"><span data-stu-id="77321-107">The SQL Server can be running on-premises or in hosted environments like the Azure virtual machine.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-108">は、Azure Virtual Machines で実行される SQL Server にお勧めします。</span><span class="sxs-lookup"><span data-stu-id="77321-108">is recommended for SQL Server running on Azure Virtual Machines.</span></span>  
  
## <a name="benefits-of-automating-sql-server-backup-using-ss_smartbackup"></a><span data-ttu-id="77321-109">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を使用して SQL Server バックアップを自動化する利点</span><span class="sxs-lookup"><span data-stu-id="77321-109">Benefits of Automating SQL Server Backup Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]</span></span>  
  
-   <span data-ttu-id="77321-110">現在、複数データベースのバックアップを自動化するには、バックアップ方法の開発、カスタム コードの記述、およびバックアップのスケジュール設定が必要です。</span><span class="sxs-lookup"><span data-stu-id="77321-110">Currently automating backups for multiple databases requires developing a backup strategy, writing custom code, and scheduling backups.</span></span> <span data-ttu-id="77321-111">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の使用で必要になるのは、保有期間の設定と格納場所の指定のみです。</span><span class="sxs-lookup"><span data-stu-id="77321-111">Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you only are required provide the retention period settings and the storage location.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-112">バックアップをスケジュールし、実行し、維持します。</span><span class="sxs-lookup"><span data-stu-id="77321-112">schedules, performs and maintains the backups.</span></span>  
  
     [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-113">は、データベース レベルで構成するか、SQL Server インスタンスの既定の設定を使用して構成することができます。</span><span class="sxs-lookup"><span data-stu-id="77321-113">can be configured at the database level or at configured with default settings for an instance of SQL Server.</span></span> <span data-ttu-id="77321-114">を使用したバックアップの自動化 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] には、次の利点があります。</span><span class="sxs-lookup"><span data-stu-id="77321-114">Automating backup using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] has the following benefits:</span></span>  
  
    -   <span data-ttu-id="77321-115">インスタンス レベルで既定値を設定すると、その後作成されたデータベースにこれらの設定を適用できます。これにより、新しいデータベースがバックアップされずデータが失われるというリスクがなくなります。</span><span class="sxs-lookup"><span data-stu-id="77321-115">By setting the defaults at the instance level, you can apply these settings to any database created thereafter, thus removing the risk of new databases not being backed up and data loss.</span></span>  
  
    -   <span data-ttu-id="77321-116">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を有効にしてデータベース レベルで保有期間を設定すると、インスタンス レベルで設定した既定の設定をオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="77321-116">The option of enabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] and setting the retention period at the database level, allows you to override the default settings set at the instance level.</span></span> <span data-ttu-id="77321-117">これにより、特定のデータベースの復旧をより細かく制御できます。</span><span class="sxs-lookup"><span data-stu-id="77321-117">This allows you to have more granular control on the recoverability for a specific database.</span></span>  
  
-   <span data-ttu-id="77321-118">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]では、データベースのバックアップの種類や頻度を指定する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="77321-118">With [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you do not have to specify the type or frequency of the backups for a database.</span></span>  <span data-ttu-id="77321-119">保有期間を指定し、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] データベースのバックアップの種類と頻度を決定して、Azure Blob ストレージサービスにバックアップを格納します。</span><span class="sxs-lookup"><span data-stu-id="77321-119">You specify the retention period, and [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] determines the type and frequency of backups for a database stores the backups on Azure Blob storage service.</span></span> <span data-ttu-id="77321-120">でバックアップ戦略を作成するために使用する一連の条件の詳細については、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] このトピックの「[コンポーネントと概念](#Concepts)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-120">For more details on the set of criteria that [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] uses to create the backup strategy,, see the [Components and Concepts](#Concepts) section in this topic.</span></span>  
  
-   <span data-ttu-id="77321-121">暗号化が使用されるように構成すると、バックアップ データに対するセキュリティを強化できます。</span><span class="sxs-lookup"><span data-stu-id="77321-121">When configured to use encryption, you have additional security for the backup data.</span></span> <span data-ttu-id="77321-122">詳細については、「[バックアップの暗号化](backup-encryption.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-122">For more information, see [Backup Encryption](backup-encryption.md)</span></span>  
  
 <span data-ttu-id="77321-123">バックアップに Azure Blob storage を使用する利点の詳細につい [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ては、「 [Azure Blob Storage サービスを使用したバックアップと復元の SQL Server](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) 」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-123">For more details on the benefits of using Azure Blob storage for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups, see [SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)</span></span>  
  
## <a name="terms-and-definitions"></a><span data-ttu-id="77321-124">用語と定義</span><span class="sxs-lookup"><span data-stu-id="77321-124">Terms and Definitions</span></span>  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]  
 <span data-ttu-id="77321-125">データベースのバックアップを自動化し、保有期間に基づいてバックアップを管理する SQL Server 機能です。</span><span class="sxs-lookup"><span data-stu-id="77321-125">A SQL Server feature that automates database backup and maintains the backups based on the retention period.</span></span>  
  
 <span data-ttu-id="77321-126">リテンション期間</span><span class="sxs-lookup"><span data-stu-id="77321-126">Retention Period</span></span>  
 <span data-ttu-id="77321-127">保有期間は、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] 指定された期間内の特定の時点にデータベースを復旧するために、ストレージに保持するバックアップファイルを決定するために、によって使用されます。</span><span class="sxs-lookup"><span data-stu-id="77321-127">The retention period is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to determine what backup files should be retained in the storage in order to recover a database to a point in time within the time frame specified.</span></span>  <span data-ttu-id="77321-128">1 ～ 30 日の範囲の値がサポートされます。</span><span class="sxs-lookup"><span data-stu-id="77321-128">The supported values are in the range of 1-30 days.</span></span>  
  
 <span data-ttu-id="77321-129">ログ チェーン</span><span class="sxs-lookup"><span data-stu-id="77321-129">Log Chain</span></span>  
 <span data-ttu-id="77321-130">ログ バックアップの連続的なシーケンスを、ログ チェーンと呼びます。</span><span class="sxs-lookup"><span data-stu-id="77321-130">A continuous sequence of log backups is called a log chain.</span></span> <span data-ttu-id="77321-131">ログ チェーンは、データベースの完全バックアップから始まります。</span><span class="sxs-lookup"><span data-stu-id="77321-131">A log chain starts with a full backup of the database.</span></span>  
  
##  <a name="requirements-concepts-and-components"></a><a name="Concepts"></a><span data-ttu-id="77321-132">要件、概念、およびコンポーネント</span><span class="sxs-lookup"><span data-stu-id="77321-132">Requirements, Concepts, and Components</span></span>  
  
  
###  <a name="permissions"></a><a name="Security"></a> <span data-ttu-id="77321-133">Permissions</span><span class="sxs-lookup"><span data-stu-id="77321-133">Permissions</span></span>  
 <span data-ttu-id="77321-134">Transact-SQL は、[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の構成と監視に使用する主なインターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="77321-134">Transact-SQL is the main interface used to configure and monitor [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-135">一般に、構成ストアドプロシージャを実行するには、 **ALTER ANY CREDENTIAL**権限を持つデータベースロールを**db_backupoperator** 、 `EXECUTE` **sp_delete_backuphistory**ストアドプロシージャに対する権限が必要です。</span><span class="sxs-lookup"><span data-stu-id="77321-135">In general, to run the configuration stored procedures, **db_backupoperator** database role with **ALTER ANY CREDENTIAL** permissions, and `EXECUTE` permissions on **sp_delete_backuphistory** stored procedure is required.</span></span>  <span data-ttu-id="77321-136">情報を確認するために使用するストアド プロシージャと関数には、通常、ストアド プロシージャに対する `Execute` 権限と、関数に対する `Select` 権限がそれぞれ必要です。</span><span class="sxs-lookup"><span data-stu-id="77321-136">Stored procedures and functions used to review information typically require `Execute` permissions on the stored procedure and `Select` on the function respectively.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prereqs"></a> <span data-ttu-id="77321-137">前提条件</span><span class="sxs-lookup"><span data-stu-id="77321-137">Prerequisites</span></span>  
 <span data-ttu-id="77321-138">**前提条件:**</span><span class="sxs-lookup"><span data-stu-id="77321-138">**Prerequisites:**</span></span>  
  
 <span data-ttu-id="77321-139">**Azure Storage サービス**は、によって [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] バックアップファイルを格納するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="77321-139">**Azure Storage service** is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to store the backup files.</span></span>    <span data-ttu-id="77321-140">Azure ストレージアカウントを作成するための概念、構造、および要件の詳細については、「 **SQL Server Backup TO URL** 」の「[主要なコンポーネントと概念の概要](sql-server-backup-to-url.md#intorkeyconcepts)」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-140">The concepts, structure, and requirements for creating an Azure storage account is explained in detail in the [Introduction to Key Components and Concepts](sql-server-backup-to-url.md#intorkeyconcepts) section of the **SQL Server Backup to URL** topic.</span></span>  
  
 <span data-ttu-id="77321-141">**SQL 資格**情報は、Azure ストレージアカウントに対する認証に必要な情報を格納するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="77321-141">**SQL Credential** is used to store the information required to authenticate to the Azure storage account.</span></span> <span data-ttu-id="77321-142">SQL 資格情報オブジェクトには、アカウント名とアクセス キー情報が格納されます。</span><span class="sxs-lookup"><span data-stu-id="77321-142">The SQL Credential object stores the account name and the access key information.</span></span> <span data-ttu-id="77321-143">詳細については、「 **SQL Server Backup TO URL** 」トピックの「[主要なコンポーネントと概念の概要](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)」セクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-143">For more information, see the [Introduction to Key Components and Concepts](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) section in the **SQL Server Backup to URL** topic.</span></span> <span data-ttu-id="77321-144">Azure Storage 認証情報を格納するための SQL 資格情報を作成する方法のチュートリアルについては、「[レッスン 2: SQL Server 資格情報を作成](../../tutorials/lesson-2-create-a-sql-server-credential.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-144">For a walkthrough on how to create a SQL Credential to store Azure Storage authentication information, see [Lesson 2: Create a SQL Server Credential](../../tutorials/lesson-2-create-a-sql-server-credential.md).</span></span>  
  
###  <a name="concepts-and-key-components"></a><a name="Concepts_Components"></a><span data-ttu-id="77321-145">概念と主要なコンポーネント</span><span class="sxs-lookup"><span data-stu-id="77321-145">Concepts and Key Components</span></span>  
 <span data-ttu-id="77321-146">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]は、バックアップ操作を管理する機能です。</span><span class="sxs-lookup"><span data-stu-id="77321-146">The [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is a feature that manages the backup operations.</span></span> <span data-ttu-id="77321-147">メタデータは、 **msdb**データベースに格納され、システムジョブを使用してデータベースとトランザクションログの完全バックアップが書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="77321-147">It stores the metadata in the **msdb** database and uses system jobs to write full database and transaction log backups.</span></span>  
  
#### <a name="components"></a><span data-ttu-id="77321-148">Components</span><span class="sxs-lookup"><span data-stu-id="77321-148">Components</span></span>  
 <span data-ttu-id="77321-149">Transact-SQL は、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を操作するためのメイン インターフェイスです。</span><span class="sxs-lookup"><span data-stu-id="77321-149">Transact-SQL is the main interface to interact with [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-150">システム ストアド プロシージャは、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の有効化、構成、および監視に使用します。</span><span class="sxs-lookup"><span data-stu-id="77321-150">System stored procedures are used for enabling, configuring, and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-151">システム関数は、既存の構成設定、パラメーター値、およびバックアップ ファイル情報を取得するために使用します。</span><span class="sxs-lookup"><span data-stu-id="77321-151">System functions are used to retrieve existing configuration settings, parameter values, and backup file information.</span></span> <span data-ttu-id="77321-152">拡張イベントは、エラーと警告を表示するために使用します。</span><span class="sxs-lookup"><span data-stu-id="77321-152">Extended events are used to surface errors and warnings.</span></span> <span data-ttu-id="77321-153">警告メカニズムを有効にするには、SQL エージェント ジョブと SQL Server のポリシー ベースの管理を使用します。</span><span class="sxs-lookup"><span data-stu-id="77321-153">Alert mechanisms are enabled through SQL Agent jobs and SQL Server Policy Based Management.</span></span> <span data-ttu-id="77321-154">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]に関連するオブジェクトとその機能の説明の一覧を次に示します。</span><span class="sxs-lookup"><span data-stu-id="77321-154">The following is a list of the objects and a description of its functionality in relation to [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>  
  
 <span data-ttu-id="77321-155">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を構成するには、PowerShell コマンドレットも使用できます。</span><span class="sxs-lookup"><span data-stu-id="77321-155">PowerShell cmdlets are also available to configure [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-156">SQL Server Management Studio では、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] によって作成されたバックアップを **[データベースの復元]** タスクを使用して復元することがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="77321-156">SQL Server Management Studio supports restoring backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] by using the **Restore Database** task</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="77321-157">システム オブジェクト</span><span class="sxs-lookup"><span data-stu-id="77321-157">System Object</span></span>|<span data-ttu-id="77321-158">説明</span><span class="sxs-lookup"><span data-stu-id="77321-158">Description</span></span>|  
|<span data-ttu-id="77321-159">**MSDB**</span><span class="sxs-lookup"><span data-stu-id="77321-159">**MSDB**</span></span>|<span data-ttu-id="77321-160">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]によって作成されたすべてのバックアップに対するメタデータとバックアップ履歴を格納します。</span><span class="sxs-lookup"><span data-stu-id="77321-160">Stores the metadata, backup history for all the backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|<span data-ttu-id="77321-161">[smart_admin set_db_backup &#40;Transact-sql&#41;](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="77321-161">[smart_admin.set_db_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span></span>|<span data-ttu-id="77321-162">データベースの [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を有効にして構成するためのシステム ストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-162">System stored procedure for enabling and configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database.</span></span>|  
|<span data-ttu-id="77321-163">[smart_admin set_instance_backup &#40;Transact-sql&#41;](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="77321-163">[smart_admin.set_instance_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span></span>|<span data-ttu-id="77321-164">SQL Server インスタンスの既定の設定を有効にし、構成するためのシステムストアドプロシージャ [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] です。</span><span class="sxs-lookup"><span data-stu-id="77321-164">System stored procedure for enabling and configuring default settings [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for the SQL Server instance.</span></span>|  
|[<span data-ttu-id="77321-165">smart_admin。 sp_ backup_master_switch &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-165">smart_admin.sp_ backup_master_switch &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-master-switch-transact-sql)|<span data-ttu-id="77321-166">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を一時停止および再開するためのシステム ストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-166">System stored procedure to pause and resume [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|[<span data-ttu-id="77321-167">smart_admin sp_set_parameter &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-167">smart_admin.sp_set_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-set-parameter-transact-sql)|<span data-ttu-id="77321-168">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の監視を有効にして構成するためのシステム ストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-168">System stored procedure to enable and configure monitoring for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-169">たとえば、拡張イベントの有効化、通知の電子メール設定があります。</span><span class="sxs-lookup"><span data-stu-id="77321-169">Examples: enabling extended events, mail settings for notifications.</span></span>|  
|[<span data-ttu-id="77321-170">smart_admin sp_backup_on_demand &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-170">smart_admin.sp_backup_on_demand &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-on-demand-transact-sql)|<span data-ttu-id="77321-171">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]ログチェーンを中断せずに使用できるデータベースのアドホックバックアップを実行するために使用されるシステムストアドプロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-171">System stored procedure that is used to perform an ad-hoc backup for a database that is enabled to use [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] without breaking the log chain.</span></span>|  
|[<span data-ttu-id="77321-172">smart_admin fn_backup_db_config &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-172">smart_admin.fn_backup_db_config &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-backup-db-config-transact-sql)|<span data-ttu-id="77321-173">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]データベースまたはインスタンス上のすべてのデータベースの現在の状態と構成値を返すシステム関数。</span><span class="sxs-lookup"><span data-stu-id="77321-173">System function that returns the current [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] status and configuration values for a database, or for all the databases on the instance.</span></span>|  
|[<span data-ttu-id="77321-174">smart_admin fn_is_master_switch_on &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-174">smart_admin.fn_is_master_switch_on &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-is-master-switch-on-transact-sql)|<span data-ttu-id="77321-175">マスターの切り替えの状態を返すシステム関数です。</span><span class="sxs-lookup"><span data-stu-id="77321-175">System function that returns the status of the master switch.</span></span>|  
|[<span data-ttu-id="77321-176">smart_admin sp_get_backup_diagnostics &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-176">smart_admin.sp_get_backup_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-get-backup-diagnostics-transact-sql)|<span data-ttu-id="77321-177">拡張イベントによってログに記録されたイベントを返すためのシステム ストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-177">System stored procedure used to return the events logged by Extended Events.</span></span>|  
|[<span data-ttu-id="77321-178">smart_admin fn_get_parameter &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-178">smart_admin.fn_get_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-parameter-transact-sql)|<span data-ttu-id="77321-179">警告の監視やメール設定など、バックアップ システムの設定の現在の値を返すシステム関数です。</span><span class="sxs-lookup"><span data-stu-id="77321-179">System function that returns the current values for backup system settings such as monitoring and mail settings for alerts.</span></span>|  
|[<span data-ttu-id="77321-180">smart_admin fn_available_backups &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-180">smart_admin.fn_available_backups &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-available-backups-transact-sql)|<span data-ttu-id="77321-181">指定されたデータベース、またはインスタンス内のすべてのデータベースの利用可能なバックアップを取得するためのストアド プロシージャです。</span><span class="sxs-lookup"><span data-stu-id="77321-181">Stored Procedure used to retrieve available backups for a specified database or for all the databases in an instance.</span></span>|  
|[<span data-ttu-id="77321-182">smart_admin fn_get_current_xevent_settings &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-182">smart_admin.fn_get_current_xevent_settings &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-current-xevent-settings-transact-sql)|<span data-ttu-id="77321-183">現在の拡張イベントの設定を返すシステム関数です。</span><span class="sxs-lookup"><span data-stu-id="77321-183">System function that returns the current extended event settings.</span></span>|  
|[<span data-ttu-id="77321-184">smart_admin fn_get_health_status &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="77321-184">smart_admin.fn_get_health_status &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-health-status-transact-sql)|<span data-ttu-id="77321-185">指定した期間に拡張イベントによってログに記録されたエラーの集計された数を返すシステム関数です。</span><span class="sxs-lookup"><span data-stu-id="77321-185">System function that returns the aggregated counts of errors logged by Extended Events for a specified period.</span></span>|  
|[<span data-ttu-id="77321-186">Azure への SQL Server マネージド バックアップの監視</span><span class="sxs-lookup"><span data-stu-id="77321-186">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|<span data-ttu-id="77321-187">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の監視用拡張イベント、エラーおよび警告の電子メール通知、SQL Server のポリシー ベースの管理。</span><span class="sxs-lookup"><span data-stu-id="77321-187">Extended Events for monitoring, email notification of errors and warnings, SQL Server Policy Based Management for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|  
  
#### <a name="backup-strategy"></a><span data-ttu-id="77321-188">バックアップ方法</span><span class="sxs-lookup"><span data-stu-id="77321-188">Backup Strategy</span></span>  
 <span data-ttu-id="77321-189">**使用するバックアップ方法 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] :**</span><span class="sxs-lookup"><span data-stu-id="77321-189">**Backup Strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]:**</span></span>  
  
 <span data-ttu-id="77321-190">スケジュールされたバックアップの種類とそのバックアップの頻度は、データベースのワークロードに基づいて決定されます。</span><span class="sxs-lookup"><span data-stu-id="77321-190">The type of backups scheduled and the backup frequency is determined based on the workload of the database.</span></span> <span data-ttu-id="77321-191">保有期間の設定を使用して、バックアップ ファイルをストレージに保持しておく期間と、保有期間内の特定の時点にデータベースを復旧できるかどうかを決定します。</span><span class="sxs-lookup"><span data-stu-id="77321-191">The retention period settings are used to determine the length of time a backup file should be retained in the storage and the ability to recover the database to a point-in-time within the retention period.</span></span>  
  
 <span data-ttu-id="77321-192">**バックアップのコンテナーとファイルの名前付け規則:**</span><span class="sxs-lookup"><span data-stu-id="77321-192">**Backup Container and File Naming Conventions:**</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-193">可用性データベース以外のすべてのデータベースの SQL Server インスタンス名を使用して、Azure ストレージコンテナーに名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="77321-193">names the Azure storage container using the SQL Server Instance Name for all databases except availability databases.</span></span>  <span data-ttu-id="77321-194">可用性データベースについては、可用性グループの GUID を使用して Azure storage コンテナーの名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="77321-194">For availability databases, the Availability Group GUID is used to name the Azure storage container.</span></span>  
  
 <span data-ttu-id="77321-195">可用性データベース以外のデータベースのバックアップファイルには、次の規則を使用して名前が付けられます。名前は、データベース名の最初の40文字、データベース GUID ('-' を除く)、およびタイムスタンプを使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="77321-195">The backup file for non availability databases are named using the following convention: The name is created using the first 40 characters of the database name, the database GUID without the '-', and the timestamp.</span></span> <span data-ttu-id="77321-196">各セグメントの間には、区切り記号としてアンダースコア文字が挿入されます。</span><span class="sxs-lookup"><span data-stu-id="77321-196">The underscore character is inserted between segments as separators.</span></span> <span data-ttu-id="77321-197">完全バックアップにはファイル拡張子として **.bak** が使用され、ログ バックアップには **.log** が使用されます。</span><span class="sxs-lookup"><span data-stu-id="77321-197">The **.bak** file extension is used for full backup and **.log** for log backups.</span></span> <span data-ttu-id="77321-198">可用性グループ データベースでは、前のファイル名前付け規則に加え、40 文字のデータベース名の後に可用性グループ データベース GUID が追加されます。</span><span class="sxs-lookup"><span data-stu-id="77321-198">For Avaialbility Group databases, in addition to the file naming convention described above, the Availability Group database GUID is added after the 40 characters of the database name.</span></span> <span data-ttu-id="77321-199">可用性グループ データベース GUID 値は、sys.databases の group_database_id の値です。</span><span class="sxs-lookup"><span data-stu-id="77321-199">The Availability Group database GUID value is the value for group_database_id in sys.databases.</span></span>  
  
 <span data-ttu-id="77321-200">**データベースの完全バックアップ:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]エージェントは、次のいずれかに該当する場合、データベースの完全バックアップをスケジュールします。</span><span class="sxs-lookup"><span data-stu-id="77321-200">**Full Database Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agent schedules a full database backup if any of the following is true.</span></span>  
  
-   <span data-ttu-id="77321-201">データベースで [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] を初めて有効にしたとき、またはインスタンス レベルで既定の設定を使用して [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] を有効したとき。</span><span class="sxs-lookup"><span data-stu-id="77321-201">A database is [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] enabled for the first time, or when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled with default settings at the instance level.</span></span>  
  
-   <span data-ttu-id="77321-202">前回のデータベースの完全バックアップ以降にログが 1 GB 以上に拡張されている。</span><span class="sxs-lookup"><span data-stu-id="77321-202">The log growth since last full database backup is equal to or larger than 1 GB.</span></span>  
  
-   <span data-ttu-id="77321-203">前回のデータベースの完全バックアップ以降に 1 週間という最大期間が経過している。</span><span class="sxs-lookup"><span data-stu-id="77321-203">The maximum time interval of one week has passed since the last full database backup.</span></span>  
  
-   <span data-ttu-id="77321-204">ログ チェーンが分断されている。</span><span class="sxs-lookup"><span data-stu-id="77321-204">The log chain is broken.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="77321-205">では、バックアップ ファイルの最初と最後の LSN を比較することで、ログ チェーンが分断されていないかどうかを定期的に確認します。</span><span class="sxs-lookup"><span data-stu-id="77321-205">periodically checks to see whether the log chain is intact by comparing the first and last LSNs of the backup files.</span></span> <span data-ttu-id="77321-206">なんらかの理由でログ チェーンが分断されている場合、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] はデータベースの完全バックアップをスケジュールします。</span><span class="sxs-lookup"><span data-stu-id="77321-206">If there is break in the log chain for any reason, [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a full database backup.</span></span> <span data-ttu-id="77321-207">ログ チェーンが分断される最も一般的な理由として、Transact-SQL を使用するか SQL Server Management Studio のバックアップ タスクを使用してバックアップ コマンドが実行されていることが考えられます。</span><span class="sxs-lookup"><span data-stu-id="77321-207">The most common reason for log chain breaks is probably a backup command issued using Transact-SQL or through the Backup task in SQL Server Management Studio.</span></span>  <span data-ttu-id="77321-208">その他の一般的なシナリオには、バックアップ ログ ファイルを誤って削除した、バックアップを誤って上書きしたなどがあります。</span><span class="sxs-lookup"><span data-stu-id="77321-208">Other common scenarios include accidental deletion of the backup log files, or accidental overwrites of backups.</span></span>  
  
 <span data-ttu-id="77321-209">**トランザクションログのバックアップ:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]次のいずれかに該当する場合は、ログバックアップをスケジュールします。</span><span class="sxs-lookup"><span data-stu-id="77321-209">**Transaction Log Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a log backup if any of the following is true:</span></span>  
  
-   <span data-ttu-id="77321-210">ログ バックアップの履歴が見つからない。</span><span class="sxs-lookup"><span data-stu-id="77321-210">There is no log backup history that can be found.</span></span> <span data-ttu-id="77321-211">通常、これは [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] を初めて有効にしたときに当てはまります。</span><span class="sxs-lookup"><span data-stu-id="77321-211">This is usually true when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled for the first time.</span></span>  
  
-   <span data-ttu-id="77321-212">使用されているトランザクション ログ領域が 5 MB 以上になった。</span><span class="sxs-lookup"><span data-stu-id="77321-212">The transaction log space used is 5 MB or larger.</span></span>  
  
-   <span data-ttu-id="77321-213">前回のログ バックアップの後に 2 時間という最大期間に達している。</span><span class="sxs-lookup"><span data-stu-id="77321-213">The maximum time interval of 2 hours since the last log backup is reached.</span></span>  
  
-   <span data-ttu-id="77321-214">トランザクション ログのバックアップがデータベースの完全バックアップより遅れている。</span><span class="sxs-lookup"><span data-stu-id="77321-214">Any time the transaction log backup is lagging behind a full database backup.</span></span> <span data-ttu-id="77321-215">目標は、ログ チェーンが完全バックアップより進んだ状態にしておくことです。</span><span class="sxs-lookup"><span data-stu-id="77321-215">The goal is to keep the log chain ahead of full backup.</span></span>  
  
#### <a name="retention-period-settings"></a><span data-ttu-id="77321-216">保有期間の設定</span><span class="sxs-lookup"><span data-stu-id="77321-216">Retention Period Settings</span></span>  
 <span data-ttu-id="77321-217">バックアップを有効にするときに、保有期間を日単位で設定する必要があります。最小値は 1 日で、最大値は 30 日です。</span><span class="sxs-lookup"><span data-stu-id="77321-217">When enabling backup you must set the retention period in days: The minimum is 1 day, and maximum is 30 days.</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="77321-218">は保有期間の設定に基づいて、指定された期間内の特定の時点に復旧できるかどうかを評価し、保持するバックアップ ファイルと削除するバックアップ ファイルを決定します。</span><span class="sxs-lookup"><span data-stu-id="77321-218">based on the retention period settings, assesses the ability to recover to a point in time in the specified time, to determine what backup files to keep and identifying the backup files to delete.</span></span> <span data-ttu-id="77321-219">保有期間の設定で指定された期間を特定および照合するために、バックアップの backup_finish_date が使用されます。</span><span class="sxs-lookup"><span data-stu-id="77321-219">The backup_finish_date of the backup is used to determine and match the time specified by the retention period settings.</span></span>  
  
#### <a name="important-considerations"></a><span data-ttu-id="77321-220">重要な考慮事項</span><span class="sxs-lookup"><span data-stu-id="77321-220">Important Considerations</span></span>  
 <span data-ttu-id="77321-221">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]操作への影響を理解するために重要な注意点がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="77321-221">There are some considerations that are important to understand their impact on [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations.</span></span> <span data-ttu-id="77321-222">これらの注意点を次に示します。</span><span class="sxs-lookup"><span data-stu-id="77321-222">They are listed below:</span></span>  
  
-   <span data-ttu-id="77321-223">データベースでは、実行されている既存のデータベースの完全バックアップ ジョブがある場合、 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] は現在のジョブが完了するのを待ってから、同じデータベースの完全バックアップをもう一度実行します。</span><span class="sxs-lookup"><span data-stu-id="77321-223">For a database, if there is an existing full database backup job running, then [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] waits for the current job to be completed before doing another full database backup for the same database.</span></span> <span data-ttu-id="77321-224">同様に、一度に実行できるトランザクション ログ バックアップは 1 つだけです。</span><span class="sxs-lookup"><span data-stu-id="77321-224">Similarly, only one transaction log backup can be running at a given time.</span></span> <span data-ttu-id="77321-225">ただし、データベースの完全バックアップとトランザクション ログ バックアップは同時に実行できます。</span><span class="sxs-lookup"><span data-stu-id="77321-225">However, a full database backup and a transaction log backup can run concurrently.</span></span> <span data-ttu-id="77321-226">エラーは、拡張イベントとしてログに記録されます。</span><span class="sxs-lookup"><span data-stu-id="77321-226">Failures are logged as Extended Events.</span></span>  
  
-   <span data-ttu-id="77321-227">同時に 10 個を超えるデータベースの完全バックアップがスケジュールされている場合、拡張イベントのデバッグ チャネルを通じて警告が発生します。</span><span class="sxs-lookup"><span data-stu-id="77321-227">If more than 10 concurrent full database backups are scheduled, a warning is issued through the debug channel of Extended Events.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="77321-228">は、バックアップする必要がある残りのデータベースの優先キューを、すべてのバックアップがスケジュールされ完了するまで管理します。</span><span class="sxs-lookup"><span data-stu-id="77321-228">then maintains a priority queue for the remaining databases that require a backup until the all backups are scheduled and completed.</span></span>  
  
###  <a name="support-limitations"></a><a name="support_limits"></a> <span data-ttu-id="77321-229">でのサポートの制限</span><span class="sxs-lookup"><span data-stu-id="77321-229">Support Limitations</span></span>  
 <span data-ttu-id="77321-230">次に、[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] に固有の制限事項をいくつか示します。</span><span class="sxs-lookup"><span data-stu-id="77321-230">The following are some limitations specific to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]:</span></span>  
  
-   [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="77321-231">エージェントでは、データベースのバックアップ (データベースの完全バックアップとログ バックアップ) のみがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="77321-231">agent supports database backups only: Full and Log Backups.</span></span>  <span data-ttu-id="77321-232">ファイル バックアップの自動化はサポートされません。</span><span class="sxs-lookup"><span data-stu-id="77321-232">File backup automation is not supported.</span></span>  
  
-   [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-233">の操作は、現在 Transact-SQL を使用してサポートされています。</span><span class="sxs-lookup"><span data-stu-id="77321-233">operations are currently supported using Transact-SQL.</span></span> <span data-ttu-id="77321-234">監視とトラブルシューティングは、拡張イベントを使用して行うことができます。</span><span class="sxs-lookup"><span data-stu-id="77321-234">Monitoring and troubleshooting can be done by using Extended Events.</span></span> <span data-ttu-id="77321-235">PowerShell と SMO のサポートは、SQL Server インスタンスのストレージと保有期間の既定の設定を構成すること、および SQL Server のポリシー ベースの管理ポリシーに基づいてバックアップ状態と全体的な正常性を監視することに制限されています。</span><span class="sxs-lookup"><span data-stu-id="77321-235">PowerShell and SMO support is limited to configuring storage and retention period default settings for an instance of SQL Server, and monitoring the backup status and overall health based on SQL Server Policy Based Management policies.</span></span>  
  
-   <span data-ttu-id="77321-236">システム データベースはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="77321-236">System Databases are not supported.</span></span>  
  
-   <span data-ttu-id="77321-237">サポートされている唯一のバックアップストレージオプションは Azure Blob Storage service です。</span><span class="sxs-lookup"><span data-stu-id="77321-237">Azure Blob Storage service is the only supported backup storage option.</span></span> <span data-ttu-id="77321-238">ディスクまたはテープへのバックアップはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="77321-238">Backups to disk or tape are not supported.</span></span>  
  
-   <span data-ttu-id="77321-239">現時点では、Azure Storage のページ Blob で許容される最大ファイルサイズは 1 TB です。</span><span class="sxs-lookup"><span data-stu-id="77321-239">Currently, the maximum file size allowed for a Page Blob in Azure Storage is 1 TB.</span></span> <span data-ttu-id="77321-240">ファイルが 1 TB を超えると、バックアップが失敗します。</span><span class="sxs-lookup"><span data-stu-id="77321-240">Backup files larger than 1 TB will fail.</span></span> <span data-ttu-id="77321-241">この状況を回避するには、大規模なデータベースでは圧縮を使用し、[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を設定する前にバックアップ ファイルのサイズをテストしておくことをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="77321-241">In order to avoid this situation, we recommend that for large databases, use compression and test the backup file size prior to setting up [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="77321-242">テストするには、ローカルディスクにバックアップするか、Transact-sql ステートメントを使用して Azure storage に手動でバックアップし `BACKUP TO URL` ます。</span><span class="sxs-lookup"><span data-stu-id="77321-242">You can either test by backing up to a local disk or manually backing up to Azure storage using `BACKUP TO URL` Transact-SQL statement.</span></span> <span data-ttu-id="77321-243">詳細については、「 [SQL Server Backup to URL](sql-server-backup-to-url.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-243">For more information, see [SQL Server Backup to URL](sql-server-backup-to-url.md).</span></span>  
  
-   <span data-ttu-id="77321-244">復旧モデル: 完全復旧モデルまたは一括ログ復旧モデルに設定されたデータベースのみがサポートされています。</span><span class="sxs-lookup"><span data-stu-id="77321-244">Recovery Models: Only databases set to Full or Bulk-logged model are supported.</span></span>  <span data-ttu-id="77321-245">単純復旧モデルに設定されたデータベースはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="77321-245">Databases set to simple recovery model are not supported.</span></span>  
  
-   [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="77321-246">は、バックアップ、高可用性、またはディザスター リカバリーをサポートする他のテクノロジで構成されている場合にいくつかの制限がある場合があります。</span><span class="sxs-lookup"><span data-stu-id="77321-246">may have some limitations when it is configured with other technologies supporting backup, high availability, or disaster recovery.</span></span> <span data-ttu-id="77321-247">詳細については、「 [Azure へのマネージバックアップの SQL Server: 相互運用性と共存](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="77321-247">For more information, see [SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="77321-248">関連タスク</span><span class="sxs-lookup"><span data-stu-id="77321-248">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="77321-249">**タスクの説明**</span><span class="sxs-lookup"><span data-stu-id="77321-249">**Task descriptions**</span></span>|<span data-ttu-id="77321-250">**トピック**</span><span class="sxs-lookup"><span data-stu-id="77321-250">**Topic**</span></span>|  
|<span data-ttu-id="77321-251">データベースの [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を構成する、インスタンス レベルで既定の設定を構成する、[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]をインスタンス レベルまたはデータベース レベルで無効にする、[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]を一時停止して再起動するなどの基本的なタスク。</span><span class="sxs-lookup"><span data-stu-id="77321-251">Basic tasks like configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database, or configuring default settings at the instance level, disabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] at instance or database level, pausing and restarting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="77321-252">Azure への SQL Server マネージド バックアップ - 保有期間とストレージの設定</span><span class="sxs-lookup"><span data-stu-id="77321-252">SQL Server Managed Backup to Azure - Retention and Storage Settings</span></span>](../../database-engine/sql-server-managed-backup-to-windows-azure-retention-and-storage-settings.md)|  
|<span data-ttu-id="77321-253">**チュートリアル:** を構成および監視する手順について説明し [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="77321-253">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="77321-254">Azure への SQL Server マネージド バックアップの設定</span><span class="sxs-lookup"><span data-stu-id="77321-254">Setting up SQL Server Managed Backup to Azure</span></span>](enable-sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="77321-255">**チュートリアル:** 可用性グループ内のデータベースを構成および監視する手順について説明し [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] ます。</span><span class="sxs-lookup"><span data-stu-id="77321-255">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for databases in Availability Group.</span></span>|[<span data-ttu-id="77321-256">可用性グループに対する Azure への SQL Server マネージド バックアップの設定</span><span class="sxs-lookup"><span data-stu-id="77321-256">Setting up SQL Server Managed Backup to Azure for Availability Groups</span></span>](../../database-engine/setting-up-sql-server-managed-backup-to-windows-azure-for-availability-groups.md)|  
|<span data-ttu-id="77321-257">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]の監視に関連するツール、概念、およびタスク。</span><span class="sxs-lookup"><span data-stu-id="77321-257">Tools and Concepts and tasks related to monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|[<span data-ttu-id="77321-258">Azure への SQL Server マネージド バックアップの監視</span><span class="sxs-lookup"><span data-stu-id="77321-258">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="77321-259">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]のトラブルシューティングを行うためのツールと手順。</span><span class="sxs-lookup"><span data-stu-id="77321-259">Tools and steps to troubleshooting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="77321-260">Azure への管理されたバックアップ SQL Server のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="77321-260">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)|  
  
## <a name="see-also"></a><span data-ttu-id="77321-261">参照</span><span class="sxs-lookup"><span data-stu-id="77321-261">See Also</span></span>  
 <span data-ttu-id="77321-262">[Azure Blob Storage サービスを使用したバックアップと復元の SQL Server](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span><span class="sxs-lookup"><span data-stu-id="77321-262">[SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span></span>  
 <span data-ttu-id="77321-263">[SQL Server Backup to URL](sql-server-backup-to-url.md) </span><span class="sxs-lookup"><span data-stu-id="77321-263">[SQL Server Backup to URL](sql-server-backup-to-url.md) </span></span>  
 <span data-ttu-id="77321-264">[Azure へのマネージバックアップの SQL Server: 相互運用性と共存](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span><span class="sxs-lookup"><span data-stu-id="77321-264">[SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span></span>  
 [<span data-ttu-id="77321-265">Azure への管理されたバックアップ SQL Server のトラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="77321-265">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)  
  
  
