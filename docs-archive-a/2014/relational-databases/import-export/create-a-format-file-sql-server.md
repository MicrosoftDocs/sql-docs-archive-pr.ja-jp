---
title: フォーマット ファイルの作成 (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-movement
ms.topic: conceptual
helpviewer_keywords:
- format files [SQL Server], creating
ms.assetid: f680b4a0-630f-4052-9c79-d348c1076f7b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ca9c85bfcac3380ce13ba89fff6de0b5daadbece
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/04/2020
ms.locfileid: "87631016"
---
# <a name="create-a-format-file-sql-server"></a><span data-ttu-id="e8d53-102">フォーマット ファイルの作成 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="e8d53-102">Create a Format File (SQL Server)</span></span>
  <span data-ttu-id="e8d53-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] テーブルにデータを一括インポートする場合、またはテーブルからデータを一括エクスポートする場合、フォーマット ファイルを使用して、他のデータ形式に準拠するため、または他のソフトウェアからデータ ファイルを読み取るための編集をほとんど (あるいはまったく) 必要としないデータ ファイルを柔軟なシステムに出力できます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-103">When you bulk import into a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table or bulk export data from a table, you can use a format file to a flexible system for writing data files that requires little or no editing to comply with other data formats or to read data files from other software programs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="e8d53-104">非 XML 形式と XML 形式の 2 種類のフォーマット ファイルがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-104">support two types of format file: non-XML format and XML format.</span></span> <span data-ttu-id="e8d53-105">XML 以外のフォーマットとは、以前のバージョンの [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]でサポートされる従来のフォーマットです。</span><span class="sxs-lookup"><span data-stu-id="e8d53-105">The non-XML format is the original format that is supported by earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="e8d53-106">通常は、XML フォーマット ファイルと XML 以外のフォーマット ファイルの間には互換性があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-106">Generally, XML and non-XML format files are interchangeable.</span></span> <span data-ttu-id="e8d53-107">ただし、XML フォーマット ファイルの方が XML 以外のフォーマット ファイルよりも優れた点がいくつかあるので、新しいフォーマット ファイルには XML 構文を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e8d53-107">However, we recommend that you use the XML syntax for new format files because they provide several advantages over non-XML format files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e8d53-108">フォーマット ファイルの読み取りに使用される **bcp** ユーティリティ (Bcp.exe) のバージョンは、フォーマット ファイルの作成に使用されたバージョン、またはそれ以降のバージョンである必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-108">The version of the **bcp** utility (Bcp.exe) used to read a format file must be the same as, or later than the version used to create the format file.</span></span> <span data-ttu-id="e8d53-109">たとえば、bcp で [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp**は、bcp によって生成されるバージョン10.0 のフォーマットファイルを読み取ることができますが、bcp [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**では、bcp [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**によって生成されるバージョン11.0 のフォーマットファイルを読み取ることができません [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp**。</span><span class="sxs-lookup"><span data-stu-id="e8d53-109">For example, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp** can read a version 10.0 format file, which is generated by [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp**, but [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp** cannot read a version 11.0 format file, which is generated by [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp**.</span></span>  
  
 <span data-ttu-id="e8d53-110">このトピックでは、 [bcp ユーティリティ](../../tools/bcp-utility.md) を使用して、特定のテーブルのフォーマット ファイルを作成する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-110">This topic describes how to use the [bcp utility](../../tools/bcp-utility.md) to create a format file for a particular table.</span></span> <span data-ttu-id="e8d53-111">フォーマット ファイルは、指定されたデータ型のオプション ( **-n**、 **-c**、 **-w**、または **-N**)、およびテーブルやビューの区切り記号から構成されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-111">The format file is based on the data-type option specified (**-n**, **-c**, **-w**,or **-N**) and the table or view delimiters.</span></span>  
  
## <a name="creating-a-non-xml-format-file"></a><span data-ttu-id="e8d53-112">XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-112">Creating a Non-XML Format File</span></span>  
 <span data-ttu-id="e8d53-113">**bcp** コマンドを使用してフォーマット ファイルを作成するには、 **format** 引数を指定し、データ ファイルのパスの代わりに **nul** を使用します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-113">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="e8d53-114">**format** オプションには、次に示す **-f** オプションが必要です。</span><span class="sxs-lookup"><span data-stu-id="e8d53-114">The **format** option also requires the **-f** option, such as:</span></span>  
  
 <span data-ttu-id="e8d53-115">**bcp** _table_or_view_ **format** nul **-f** _format_file_name_</span><span class="sxs-lookup"><span data-stu-id="e8d53-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e8d53-116">XML 以外のフォーマット ファイルであることを区別するには、MyTable.fmt のように、ファイル名拡張子として .fmt を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e8d53-116">To distinguish a non-XML format file, we recommend that you use .fmt as the file name extension, for example, MyTable.fmt.</span></span>  
  
 <span data-ttu-id="e8d53-117">XML 以外のフォーマット ファイルの構造およびフィールドについては、「 [XML 以外のフォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)でサポートされる従来のフォーマットです。</span><span class="sxs-lookup"><span data-stu-id="e8d53-117">For information about the structure and fields of non-XML format files, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="e8d53-118">例</span><span class="sxs-lookup"><span data-stu-id="e8d53-118">Examples</span></span>  
 <span data-ttu-id="e8d53-119">ここでは、 **bcp** コマンドを使用して XML 以外のフォーマット ファイルを作成する方法を示す次の例について説明します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-119">This section contains the following examples that show how to use **bcp** commands to create a non-XML format file:</span></span>  
  
-   <span data-ttu-id="e8d53-120">A.</span><span class="sxs-lookup"><span data-stu-id="e8d53-120">A.</span></span> <span data-ttu-id="e8d53-121">ネイティブ データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-121">Creating a non-XML format file for native data</span></span>  
  
-   <span data-ttu-id="e8d53-122">B.</span><span class="sxs-lookup"><span data-stu-id="e8d53-122">B.</span></span> <span data-ttu-id="e8d53-123">文字データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-123">Creating a non-XML format file for character data</span></span>  
  
-   <span data-ttu-id="e8d53-124">C.</span><span class="sxs-lookup"><span data-stu-id="e8d53-124">C.</span></span> <span data-ttu-id="e8d53-125">Unicode ネイティブ データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-125">Creating a non-XML format file for Unicode native data</span></span>  
  
-   <span data-ttu-id="e8d53-126">D.</span><span class="sxs-lookup"><span data-stu-id="e8d53-126">D.</span></span> <span data-ttu-id="e8d53-127">Unicode 文字データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-127">Creating a non-XML format file for Unicode character data</span></span>  
  
 <span data-ttu-id="e8d53-128">この例では、 `HumanResources.Department` サンプル データベースの [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] テーブルを使用しています。</span><span class="sxs-lookup"><span data-stu-id="e8d53-128">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="e8d53-129">`HumanResources.Department` テーブルには、 `DepartmentID`、 `Name`、 `GroupName`、および `ModifiedDate`の 4 つの列があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-129">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
#### <a name="a-creating-a-non-xml-format-file-for-native-data"></a><span data-ttu-id="e8d53-130">A.</span><span class="sxs-lookup"><span data-stu-id="e8d53-130">A.</span></span> <span data-ttu-id="e8d53-131">ネイティブ データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-131">Creating a non-XML format file for native data</span></span>  
 <span data-ttu-id="e8d53-132">次の例では、 `Department-n.xml`テーブルに対して [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` という名前の XML フォーマット ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-132">The following example creates an XML format file, `Department-n.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="e8d53-133">このフォーマット ファイルでは、ネイティブ データ型が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-133">The format file uses native data types.</span></span> <span data-ttu-id="e8d53-134">生成されたフォーマット ファイルの内容をコマンドの後に示します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-134">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="e8d53-135">**bcp** コマンドには、次の修飾子が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-135">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="e8d53-136">修飾子</span><span class="sxs-lookup"><span data-stu-id="e8d53-136">Qualifiers</span></span>|<span data-ttu-id="e8d53-137">説明</span><span class="sxs-lookup"><span data-stu-id="e8d53-137">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="e8d53-138">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="e8d53-138">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="e8d53-139">XML 以外のフォーマット ファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-139">Specifies the non-XML format file.</span></span>|  
|<span data-ttu-id="e8d53-140">**-n**</span><span class="sxs-lookup"><span data-stu-id="e8d53-140">**-n**</span></span>|<span data-ttu-id="e8d53-141">ネイティブ データ型を指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-141">Specifies native data types.</span></span>|  
|<span data-ttu-id="e8d53-142">**-T**</span><span class="sxs-lookup"><span data-stu-id="e8d53-142">**-T**</span></span>|<span data-ttu-id="e8d53-143">**bcp** ユーティリティが統合セキュリティを使用した信頼関係接続を使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続することを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-143">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="e8d53-144">**-T** を指定しない場合、正常にログインするには **-U** や **-P** を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-144">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="e8d53-145">Windows コマンド プロンプトで、次の `bcp` コマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-145">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -n -f Department-n.fmt  
```  
  
 <span data-ttu-id="e8d53-146">生成されるフォーマット ファイル `Department-n.fmt`には、次の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-146">The generated format file, `Department-n.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLSMALLINT   0       2       ""   1     DepartmentID                 ""  
2       SQLNCHAR      2       100     ""   2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLNCHAR      2       100     ""   3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLDATETIME   0       8       ""   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="e8d53-147">詳細については、「 [XML 以外のフォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)でサポートされる従来のフォーマットです。</span><span class="sxs-lookup"><span data-stu-id="e8d53-147">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="b-creating-a-non-xml-format-file-for-character-data"></a><span data-ttu-id="e8d53-148">B.</span><span class="sxs-lookup"><span data-stu-id="e8d53-148">B.</span></span> <span data-ttu-id="e8d53-149">文字データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-149">Creating a non-XML format file for character data</span></span>  
 <span data-ttu-id="e8d53-150">次の例では、 `Department.fmt`テーブルに対して [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` という名前の XML フォーマット ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-150">The following example creates an XML format file, `Department.fmt`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="e8d53-151">このフォーマット ファイルでは、文字データ形式と、既定と異なるフィールド ターミネータ (`,`) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-151">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="e8d53-152">生成されたフォーマット ファイルの内容をコマンドの後に示します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-152">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="e8d53-153">**bcp** コマンドには、次の修飾子が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-153">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="e8d53-154">修飾子</span><span class="sxs-lookup"><span data-stu-id="e8d53-154">Qualifiers</span></span>|<span data-ttu-id="e8d53-155">説明</span><span class="sxs-lookup"><span data-stu-id="e8d53-155">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="e8d53-156">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="e8d53-156">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="e8d53-157">XML 以外のフォーマット ファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-157">Specifies a non-XML format file.</span></span>|  
|<span data-ttu-id="e8d53-158">**-c**</span><span class="sxs-lookup"><span data-stu-id="e8d53-158">**-c**</span></span>|<span data-ttu-id="e8d53-159">文字データを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-159">Specifies character data.</span></span>|  
|<span data-ttu-id="e8d53-160">**-T**</span><span class="sxs-lookup"><span data-stu-id="e8d53-160">**-T**</span></span>|<span data-ttu-id="e8d53-161">**bcp** ユーティリティが統合セキュリティを使用した信頼関係接続を使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続することを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-161">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="e8d53-162">**-T** を指定しない場合、正常にログインするには **-U** や **-P** を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-162">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="e8d53-163">Windows コマンド プロンプトで、次の `bcp` コマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-163">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -f Department-c.fmt -T  
```  
  
 <span data-ttu-id="e8d53-164">生成されるフォーマット ファイル `Department-c.fmt`には、次の情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-164">The generated format file, `Department-c.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLCHAR       0       7       "\t"     1     DepartmentID                 ""  
2       SQLCHAR       0       100     "\t"     2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLCHAR       0       100     "\t"     3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLCHAR       0       24      "\r\n"   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="e8d53-165">詳細については、「 [XML 以外のフォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)でサポートされる従来のフォーマットです。</span><span class="sxs-lookup"><span data-stu-id="e8d53-165">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="c-creating-a-non-xml-format-file-for-unicode-native-data"></a><span data-ttu-id="e8d53-166">C.</span><span class="sxs-lookup"><span data-stu-id="e8d53-166">C.</span></span> <span data-ttu-id="e8d53-167">Unicode ネイティブ データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-167">Creating a non-XML format file for Unicode native data</span></span>  
 <span data-ttu-id="e8d53-168">`HumanResources.Department` テーブルの、Unicode ネイティブ データ用の XML 以外のフォーマット ファイルを作成するには、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-168">To create a non-XML format file for Unicode native data for the `HumanResources.Department` table, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -N -f Department-n.fmt  
```  
  
 <span data-ttu-id="e8d53-169">Unicode ネイティブデータの使用方法の詳細については、「[Unicode ネイティブ形式を使用したデータのインポートまたはエクスポート &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-169">For more information about how to use Unicode native data, see [Use Unicode Native Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="d-creating-a-non-xml-format-file-for-unicode-character-data"></a><span data-ttu-id="e8d53-170">D.</span><span class="sxs-lookup"><span data-stu-id="e8d53-170">D.</span></span> <span data-ttu-id="e8d53-171">Unicode 文字データ用の XML 以外のフォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-171">Creating a non-XML format file For Unicode character data</span></span>  
 <span data-ttu-id="e8d53-172">既定のターミネータを使用する `HumanResources.Department` テーブルの、Unicode 文字データ用の XML 以外のフォーマット ファイルを作成するには、次のコマンドを使用します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-172">To create a non-XML format file for Unicode character data for the `HumanResources.Department` table that uses default terminators, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -w -f Department-w.fmt  
```  
  
 <span data-ttu-id="e8d53-173">Unicode 文字データの使用方法の詳細については、「[Unicode 文字形式を使用したデータのインポートまたはエクスポート &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-173">For more information about how to use Unicode character data, see [Use Unicode Character Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="creating-an-xml-format-file"></a><span data-ttu-id="e8d53-174">XML フォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-174">Creating an XML Format File</span></span>  
 <span data-ttu-id="e8d53-175">**bcp** コマンドを使用してフォーマット ファイルを作成するには、 **format** 引数を指定し、データ ファイルのパスの代わりに **nul** を使用します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-175">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="e8d53-176">**format** オプションには常に **-f** オプションが必要です。XML フォーマット ファイルを作成するには、次に示すように **-x** オプションも指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-176">The **format** option always requires the **-f** option, and to create an XML format file, you must also specify the **-x** option, such as:</span></span>  
  
 <span data-ttu-id="e8d53-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span><span class="sxs-lookup"><span data-stu-id="e8d53-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e8d53-178">XML フォーマット ファイルであることを区別するには、MyTable.xml のように、ファイル名拡張子として .xml を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="e8d53-178">To distinguish an XML format file, we recommend that you use .xml as the file name extension, for example, MyTable.xml.</span></span>  
  
 <span data-ttu-id="e8d53-179">XML フォーマット ファイルの構造およびフィールドについては、「 [XML フォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)でサポートされる従来のフォーマットです。</span><span class="sxs-lookup"><span data-stu-id="e8d53-179">For information about the structure and fields of XML format files, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="e8d53-180">例</span><span class="sxs-lookup"><span data-stu-id="e8d53-180">Examples</span></span>  
 <span data-ttu-id="e8d53-181">ここでは、 **bcp** コマンドを使用して XML フォーマット ファイルを作成する方法を示す次の例について説明します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-181">This section contains the following examples that show how to use **bcp** commands to create an XML format file:</span></span>  
  
-   <span data-ttu-id="e8d53-182">A.</span><span class="sxs-lookup"><span data-stu-id="e8d53-182">A.</span></span> <span data-ttu-id="e8d53-183">文字データ用の XML フォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-183">Creating an XML format file for character data</span></span>  
  
-   <span data-ttu-id="e8d53-184">B.</span><span class="sxs-lookup"><span data-stu-id="e8d53-184">B.</span></span> <span data-ttu-id="e8d53-185">ネイティブ データ用の XML フォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-185">Creating an XML format file for native data</span></span>  
  
 <span data-ttu-id="e8d53-186">この例では、 `HumanResources.Department` サンプル データベースの [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] テーブルを使用しています。</span><span class="sxs-lookup"><span data-stu-id="e8d53-186">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="e8d53-187">`HumanResources.Department` テーブルには、 `DepartmentID`、 `Name`、 `GroupName`、および `ModifiedDate`の 4 つの列があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-187">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssSampleDBdesc](../../includes/sssampledbdesc-md.md)]  
  
#### <a name="a-creating-an-xml-format-file-for-character-data"></a><span data-ttu-id="e8d53-188">A.</span><span class="sxs-lookup"><span data-stu-id="e8d53-188">A.</span></span> <span data-ttu-id="e8d53-189">文字データ用の XML フォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-189">Creating an XML format file for character data</span></span>  
 <span data-ttu-id="e8d53-190">次の例では、 `Department.xml`テーブルに対して [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` という名前の XML フォーマット ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-190">The following example creates an XML format file, `Department.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="e8d53-191">このフォーマット ファイルでは、文字データ形式と、既定と異なるフィールド ターミネータ (`,`) が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-191">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="e8d53-192">生成されたフォーマット ファイルの内容をコマンドの後に示します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-192">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="e8d53-193">**bcp** コマンドには、次の修飾子が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-193">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="e8d53-194">修飾子</span><span class="sxs-lookup"><span data-stu-id="e8d53-194">Qualifiers</span></span>|<span data-ttu-id="e8d53-195">説明</span><span class="sxs-lookup"><span data-stu-id="e8d53-195">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="e8d53-196">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="e8d53-196">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="e8d53-197">XML フォーマット ファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-197">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="e8d53-198">**-c**</span><span class="sxs-lookup"><span data-stu-id="e8d53-198">**-c**</span></span>|<span data-ttu-id="e8d53-199">文字データを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-199">Specifies character data.</span></span>|  
|<span data-ttu-id="e8d53-200">**-t** `,`</span><span class="sxs-lookup"><span data-stu-id="e8d53-200">**-t** `,`</span></span>|<span data-ttu-id="e8d53-201">コンマ ( **,** ) をフィールド ターミネータとして指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-201">Specifies a comma (**,**) as the field terminator.</span></span><br /><br /> <span data-ttu-id="e8d53-202">注: データ ファイルで既定のフィールド ターミネータ (`\t`) が使用されている場合、 **-t** スイッチは不要です。</span><span class="sxs-lookup"><span data-stu-id="e8d53-202">Note: If the data file uses the default field terminator (`\t`), the **-t** switch is unnecessary.</span></span>|  
|<span data-ttu-id="e8d53-203">**-T**</span><span class="sxs-lookup"><span data-stu-id="e8d53-203">**-T**</span></span>|<span data-ttu-id="e8d53-204">**bcp** ユーティリティが統合セキュリティを使用した信頼関係接続を使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続することを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-204">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="e8d53-205">**-T** を指定しない場合、正常にログインするには **-U** や **-P** を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-205">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="e8d53-206">Windows コマンド プロンプトで、次の `bcp` コマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-206">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -x -f Department-c..xml -t, -T  
```  
  
 <span data-ttu-id="e8d53-207">生成されるフォーマット ファイル `Department-c.xml`には、次の XML 要素が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-207">The generated format file, `Department-c.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="7"/>  
  <FIELD ID="2" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="CharTerm" TERMINATOR="\r\n" MAX_LENGTH="24"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="e8d53-208">このフォーマット ファイルの構文については、「[XML フォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-208">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="e8d53-209">文字データについては、「[文字形式を使用したデータのインポートまたはエクスポート &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-209">For information about character data, see [Use Character Format to Import or Export Data &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="b-creating-an-xml-format-file-for-native-data"></a><span data-ttu-id="e8d53-210">B.</span><span class="sxs-lookup"><span data-stu-id="e8d53-210">B.</span></span> <span data-ttu-id="e8d53-211">ネイティブ データ用の XML フォーマット ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="e8d53-211">Creating an XML format file for native data</span></span>  
 <span data-ttu-id="e8d53-212">次の例では、 `Department-n.xml`テーブルに対して `HumanResources.Department` という名前の XML フォーマット ファイルを作成します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-212">The following example creates an XML format file, `Department-n.xml`, for the `HumanResources.Department` table.</span></span> <span data-ttu-id="e8d53-213">このフォーマット ファイルでは、ネイティブ データ型が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-213">The format file uses native data types.</span></span> <span data-ttu-id="e8d53-214">生成されたフォーマット ファイルの内容をコマンドの後に示します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-214">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="e8d53-215">**bcp** コマンドには、次の修飾子が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-215">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="e8d53-216">修飾子</span><span class="sxs-lookup"><span data-stu-id="e8d53-216">Qualifiers</span></span>|<span data-ttu-id="e8d53-217">説明</span><span class="sxs-lookup"><span data-stu-id="e8d53-217">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="e8d53-218">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="e8d53-218">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="e8d53-219">XML フォーマット ファイルを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-219">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="e8d53-220">**-n**</span><span class="sxs-lookup"><span data-stu-id="e8d53-220">**-n**</span></span>|<span data-ttu-id="e8d53-221">ネイティブ データ型を指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-221">Specifies native data types.</span></span>|  
|<span data-ttu-id="e8d53-222">**-T**</span><span class="sxs-lookup"><span data-stu-id="e8d53-222">**-T**</span></span>|<span data-ttu-id="e8d53-223">**bcp** ユーティリティが統合セキュリティを使用した信頼関係接続を使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] に接続することを指定します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-223">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="e8d53-224">**-T** を指定しない場合、正常にログインするには **-U** や **-P** を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e8d53-224">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="e8d53-225">Windows コマンド プロンプトで、次の `bcp` コマンドを入力します。</span><span class="sxs-lookup"><span data-stu-id="e8d53-225">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -x -f Department-n..xml -n -T  
```  
  
 <span data-ttu-id="e8d53-226">生成されるフォーマット ファイル `Department-n.xml`には、次の XML 要素が含まれます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-226">The generated format file, `Department-n.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="NativeFixed" LENGTH="2"/>  
  <FIELD ID="2" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="NativeFixed" LENGTH="8"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="e8d53-227">このフォーマット ファイルの構文については、「[XML フォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-227">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="e8d53-228">ネイティブ データの使用方法については、「[ネイティブ形式を使用したデータのインポートまたはエクスポート &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-228">For information about how to use native data, see [Use Native Format to Import or Export Data &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="mapping-data-fields-to-table-columns"></a><span data-ttu-id="e8d53-229">データ フィールドからテーブル列へのマッピング</span><span class="sxs-lookup"><span data-stu-id="e8d53-229">Mapping Data Fields to Table Columns</span></span>  
 <span data-ttu-id="e8d53-230">**bcp**によって作成されたフォーマット ファイルには、すべてのテーブル列が順番に記述されます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-230">As created by **bcp**, a format file describes all the table columns in order.</span></span> <span data-ttu-id="e8d53-231">テーブル行を再配置または削除する場合は、フォーマット ファイルを変更できます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-231">You can modify a format file to rearrange or omit table rows.</span></span> <span data-ttu-id="e8d53-232">その結果、フィールドとテーブル列とが直接マップされないデータ ファイル用に、フォーマット ファイルをカスタマイズできます。</span><span class="sxs-lookup"><span data-stu-id="e8d53-232">This lets you customize a format file to a data file whose fields do not map directly to the table columns.</span></span> <span data-ttu-id="e8d53-233">詳細については、次のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="e8d53-233">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="e8d53-234">フォーマット ファイルを使用したテーブル列のスキップ &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="e8d53-234">Use a Format File to Skip a Table Column &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-table-column-sql-server.md)  
  
-   [<span data-ttu-id="e8d53-235">フォーマット ファイルを使用したデータ フィールドのスキップ &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="e8d53-235">Use a Format File to Skip a Data Field &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-data-field-sql-server.md)  
  
-   [<span data-ttu-id="e8d53-236">フォーマット ファイルを使用したテーブル列とデータ ファイル フィールドのマッピング &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="e8d53-236">Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;</span></span>](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="e8d53-237">参照</span><span class="sxs-lookup"><span data-stu-id="e8d53-237">See Also</span></span>  
 <span data-ttu-id="e8d53-238">[bcp ユーティリティ](../../tools/bcp-utility.md) </span><span class="sxs-lookup"><span data-stu-id="e8d53-238">[bcp Utility](../../tools/bcp-utility.md) </span></span>  
 <span data-ttu-id="e8d53-239">[フォーマット ファイルを使用したテーブル列とデータ ファイル フィールドのマッピング &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e8d53-239">[Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span></span>  
 <span data-ttu-id="e8d53-240">[フォーマット ファイルを使用したテーブル列のスキップ &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e8d53-240">[Use a Format File to Skip a Table Column &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span></span>  
 <span data-ttu-id="e8d53-241">[フォーマット ファイルを使用したデータ フィールドのスキップ &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e8d53-241">[Use a Format File to Skip a Data Field &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span></span>  
 <span data-ttu-id="e8d53-242">[XML 以外のフォーマット ファイル &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="e8d53-242">[Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span></span>  
 [<span data-ttu-id="e8d53-243">XML フォーマット ファイル &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="e8d53-243">XML Format Files &#40;SQL Server&#41;</span></span>](xml-format-files-sql-server.md)  
  
  
